import{a as ae}from"./chunk-Z5ROTYBJ.js";import{b as ce,d as me,f as ue,g as pe,h as de}from"./chunk-XATFGO5Y.js";import"./chunk-UNBL3DJE.js";import"./chunk-5Z7DXNIK.js";import"./chunk-7XFZKU6W.js";import{o as ie,q as ne}from"./chunk-IHPHPUUG.js";import"./chunk-ZEWK7OGU.js";import"./chunk-QVA4WXOQ.js";import"./chunk-EX22SDGB.js";import"./chunk-7R67VE77.js";import"./chunk-NHGZUGLZ.js";import"./chunk-G5LEAVCY.js";import"./chunk-ACHWU2H6.js";import{d as re}from"./chunk-ZPFBKNRM.js";import"./chunk-7DP5LYUM.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import"./chunk-5TLQ2D7N.js";import"./chunk-2E742IIC.js";import{l as le,p as se}from"./chunk-S6N4IJX7.js";import"./chunk-ZD4EJWX6.js";import{e as $,f as E}from"./chunk-WGCZSWYA.js";import"./chunk-DY2YURLY.js";import"./chunk-KXZSXP3G.js";import{d as X}from"./chunk-6HXVFU7V.js";import"./chunk-D5FMQLJG.js";import{d as B}from"./chunk-3I7UBQEQ.js";import"./chunk-FQWGOLDH.js";import"./chunk-QEPBNPHF.js";import"./chunk-3JLS3TGD.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import{b as ee}from"./chunk-DDO6HXRN.js";import"./chunk-CLWWTOKP.js";import{a as oe}from"./chunk-KZ2PCELG.js";import"./chunk-C7ZG4INB.js";import{a as te}from"./chunk-J5ANWCEO.js";import{s as U}from"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import"./chunk-6FOZGMAL.js";import"./chunk-2MV3WEYP.js";import{y as Fe}from"./chunk-HPXM6RSK.js";import"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import{a as Re}from"./chunk-NJ5CWPUY.js";import"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import"./chunk-MAIAJ7GD.js";import"./chunk-4PGNX6E2.js";import"./chunk-RIMU4JTV.js";import"./chunk-MGLVPWSV.js";import"./chunk-TXKWPME2.js";import"./chunk-4D3M2I6W.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import{c as s}from"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{Gc as Q,Hc as Y,m as Ke}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import{b as J,c as O,q as v}from"./chunk-SOHTSUTI.js";import{I as Pe,w as M}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-E24EBHFY.js";import{Y as W,c as G}from"./chunk-V4F2JFTP.js";import{a as T,g as Z}from"./chunk-6DDC4Y2S.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-YUXYCITH.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as a,m as t,o}from"./chunk-EQYVU4XP.js";t();o();var e=a(T()),q=a(Fe()),Ie=a(Re());Pe();t();o();var fe=a(T());var _e=(f={})=>{let m=ie(f);return(0,fe.useMemo)(()=>m.map(i=>{let{walletIdentities:r,marketValueSymbol:u,marketValue:h}=i;return{...i,walletAsset:`${U(h)} ${u||""}`,walletIdentities:r.map(p=>{let{balance:l="--",symbol:n}=p;return{...p,walletAsset:`${U(l)} ${n||""}`}})}}),[m])};t();o();var be=a(G()),k=a(Z());var c=a(T());t();o();var ye=a(G()),S=a(Z());var C=a(T());t();o();var w=a(T());var he=a(G()),ge=a(Ke());t();o();var j={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Ce=({selected:f,disabled:m,onClick:i})=>w.default.createElement(s.FlexBox,{onClick:i,className:(0,he.default)(j.root,{[j.disabled]:m}),align:s.ALIGN.center,justify:s.ALIGN.center},m?w.default.createElement(v.Circle,{disabled:!0,checked:!1}):w.default.createElement(v.Circle,{checked:f}));Ce.defaultProps={onClick:ge.noop,selected:!1,disabled:!1};var P=Ce;t();o();var K={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Ae=({selected:f,createdId:m,isRpcMode:i,hiddenAssets:r,walletIdentity:u,handleClickWallet:h,requestChain:p,disabled:l=!1})=>{let{walletId:n=""}=u,g=(0,C.useMemo)(()=>f.includes(n),[f,n]),I=(0,C.useMemo)(()=>!!(!p||u?.account?.[p]),[p,u]);l=l||!I;let y=(0,C.useCallback)(()=>{l||h(n)},[h,n,l]);return C.default.createElement(s.FlexBox,{className:(0,ye.default)(K.root,{[K.highlight]:n===m,[K.disabled]:l}),align:s.ALIGN.center,onClick:y},C.default.createElement(me,{disabled:l,isRpcMode:i,hiddenAssets:r,walletIdentity:u}),C.default.createElement(P,{selected:g,disabled:l}))};Ae.propTypes={selected:S.default.array.isRequired,createdId:S.default.string.isRequired,isRpcMode:S.default.bool.isRequired,walletIdentity:S.default.object.isRequired,hiddenAssets:S.default.bool.isRequired,handleClickWallet:S.default.func.isRequired};var xe=Ae;t();o();var b={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Se=({selected:f,isRpcMode:m,hiddenAssets:i,keyringIdentity:r,handleClickWallet:u,requestChain:h})=>{let[p,l]=de(),[n,g]=(0,c.useState)(!0),I=()=>{g(d=>!d)},y=(0,c.useMemo)(()=>r?.keyringIdentityType===Y.MPC,[r]),_=(0,c.useMemo)(()=>{let{mpcStatus:d,accountStatus:L}=r?.status||{};return y&&(d===E.ESCAPE||d===E.RECOVER||L===$.DELETE||L===$.FROZEN)},[y,r?.status]);return c.default.createElement(s.Box,{className:b.root},c.default.createElement(J,{onToggle:I,expanded:n,titleClass:b.title,className:b.keyring,headerClassName:b.header,contentClassName:b.content,iconClassName:(0,be.default)(b.icon),title:c.default.createElement(ce,{isRpcMode:m,hiddenAssets:i,keyringIdentity:r})},y&&c.default.createElement(pe,{keyringIdentity:r,className:b.mpcStatusAlertWrapper}),c.default.createElement(B,{dataSource:r?.walletIdentities||[],renderItem:d=>c.default.createElement(xe,{selected:f,isRpcMode:m,createdId:p,hiddenAssets:i,walletIdentity:d,handleClickWallet:u,requestChain:h,disabled:_})}),r.keyringIdentityType===Y.MNEMONIC?c.default.createElement(ue,{createdCb:l,keyringIdentity:r}):null))};Se.propTypes={selected:k.default.array.isRequired,isRpcMode:k.default.bool.isRequired,hiddenAssets:k.default.bool.isRequired,keyringIdentity:k.default.object.isRequired,handleClickWallet:k.default.func.isRequired};var ke=Se;t();o();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var Ve=({request:f})=>{let{origin:m}=f?.metadata||{},{baseChain:i,chainName:r,allChain:u}=ae(m);(0,e.useEffect)(()=>{ee()},[]);let[,h]=ne({hasBackup:!0}),p=_e({hasBackup:!0}),{isRpcMode:l}=(0,q.useSelector)(X),n=(0,e.useMemo)(()=>l?p:h,[l,h,p]),{backupedWallets:g,showTip:I}=(0,e.useMemo)(()=>{let A=!1;return{backupedWallets:n.reduce((V,H)=>{let qe=H?.walletIdentities?.map(Le=>{let{initialType:Ne,walletId:Be,account:we}=Le;return Ne===Q.MPC_KEYRING&&H?.status?.mpcStatus===E.ESCAPE?"":!u&&!we?.[i]?(A=!0,""):Be})?.filter(Boolean);return V.concat(qe)},[]),showTip:A}},[n,u,i]),y=(0,q.useSelector)(le),[_,d]=(0,e.useState)(y?.length>0?y:[]),L=g.length>1,R=(0,e.useMemo)(()=>g.length===_.length,[g,_]),Te=(0,e.useCallback)(()=>{d(R?[]:g)},[R,g]),Me=(0,e.useCallback)(A=>{_.includes(A)?d(N=>N.filter(V=>V!==A)):d(N=>[...N,A])},[_]),z=(0,q.useDispatch)(),D=(0,Ie.useHistory)(),We=(0,e.useCallback)(()=>{z(se.setSelectAccounts(_)),D.goBack()},[_,D,z]),[Ee]=re();return e.default.createElement(s.Container,{className:F.root},e.default.createElement(oe,{closeable:!1,bordered:!1,title:M("wallet_dapp_conncetion_subtitle_select_accounts")}),I&&e.default.createElement(O,{desc:M("wallet_extension_connect_notification_text_dont_select_wallets",{network:r}),type:O.TYPE.warn,closable:!1}),L?e.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:F.selectAll},e.default.createElement(s.Box,{className:F.text},M("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:R,onClick:Te})):null,e.default.createElement(B,{dataSource:n,renderItem:A=>e.default.createElement(ke,{selected:_,isRpcMode:l,hiddenAssets:Ee,keyringIdentity:A,handleClickWallet:Me,requestChain:u?"":i})}),e.default.createElement(te.FooterActions,null,e.default.createElement(W,{block:!0,disabled:!_.length,category:W.CATEGORY.fill,type:W.TYPE.highlight,size:W.SIZE.lg,onClick:We},M("wallet_set_password_btn_confirm"))))},io=Ve;export{io as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=Comp-5AKL3NYS.js.map
