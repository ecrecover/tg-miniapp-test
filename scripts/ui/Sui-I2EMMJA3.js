import{a as Y}from"./chunk-XQL7T4TZ.js";import{a as V}from"./chunk-3MQBDBY2.js";import{a as D}from"./chunk-G2V3XEUQ.js";import{a as b,b as U}from"./chunk-QR2WOQMM.js";import{a as O}from"./chunk-2P6KMQ6R.js";import"./chunk-PVE3B4RU.js";import{b as W,k as K}from"./chunk-LLA56EXY.js";import"./chunk-636MHS2Q.js";import"./chunk-XJ4IKVPR.js";import"./chunk-XE2F6LDQ.js";import"./chunk-REIQGNZB.js";import"./chunk-Q4CU3DV4.js";import"./chunk-DSYZP5KR.js";import{a as h}from"./chunk-B553FNEQ.js";import"./chunk-6QKWDR6X.js";import{a as C}from"./chunk-7XFZKU6W.js";import"./chunk-WCH23YYN.js";import"./chunk-NZZFB6IS.js";import"./chunk-35PGDXR7.js";import"./chunk-PUO23DIP.js";import"./chunk-O2J764NL.js";import"./chunk-CDLW656Z.js";import"./chunk-3K3KMGWB.js";import"./chunk-5EZVDCYS.js";import"./chunk-475E6NBR.js";import"./chunk-RC5IAFKK.js";import"./chunk-4VLUHY4K.js";import"./chunk-IHPHPUUG.js";import"./chunk-ZEWK7OGU.js";import"./chunk-QVA4WXOQ.js";import"./chunk-EX22SDGB.js";import"./chunk-4RARGC4D.js";import"./chunk-OQOFXHGC.js";import"./chunk-3QA2SYRR.js";import"./chunk-3SC55VQ2.js";import{e as R,g as k}from"./chunk-VTLNAOHG.js";import"./chunk-Y7YPG2EJ.js";import"./chunk-7R67VE77.js";import"./chunk-NHGZUGLZ.js";import"./chunk-G5LEAVCY.js";import"./chunk-ACHWU2H6.js";import"./chunk-ZPFBKNRM.js";import"./chunk-7DP5LYUM.js";import"./chunk-BVXKJJ4A.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import{a as q}from"./chunk-CABO2JBZ.js";import"./chunk-ADKEXOTG.js";import"./chunk-H7DITLB3.js";import"./chunk-VQBK6IHT.js";import"./chunk-CTT7GD4C.js";import"./chunk-LQAOHG2H.js";import"./chunk-WNQ6F6VV.js";import"./chunk-LEADLFDQ.js";import"./chunk-DGK7TBBE.js";import"./chunk-6Y7ULJF6.js";import"./chunk-3YH3AGVS.js";import"./chunk-3LB7TUPB.js";import"./chunk-TK6JYPIW.js";import"./chunk-OS6E6KVM.js";import"./chunk-GZRBUDXF.js";import"./chunk-WY46TT4P.js";import"./chunk-MTMUCMTY.js";import"./chunk-S6N4IJX7.js";import"./chunk-ZD4EJWX6.js";import"./chunk-WGCZSWYA.js";import"./chunk-IINHHLHP.js";import"./chunk-DY2YURLY.js";import"./chunk-KXZSXP3G.js";import"./chunk-6HXVFU7V.js";import"./chunk-D5FMQLJG.js";import"./chunk-3I7UBQEQ.js";import"./chunk-DXRBY5MU.js";import"./chunk-6FR2UIE7.js";import"./chunk-5GMHHIH5.js";import"./chunk-7KCWBFQ2.js";import"./chunk-QLUP7GYN.js";import"./chunk-7Y44NCE5.js";import"./chunk-BKPOG6ZD.js";import"./chunk-OZMVWMFO.js";import"./chunk-KTO7CPX7.js";import"./chunk-P3XTPXPO.js";import"./chunk-S6TPD26J.js";import"./chunk-4IY6P5HR.js";import"./chunk-FQWGOLDH.js";import"./chunk-QEPBNPHF.js";import"./chunk-3JLS3TGD.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import"./chunk-DDO6HXRN.js";import"./chunk-CLWWTOKP.js";import"./chunk-KZ2PCELG.js";import"./chunk-C7ZG4INB.js";import"./chunk-J5ANWCEO.js";import"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import"./chunk-6FOZGMAL.js";import"./chunk-2MV3WEYP.js";import"./chunk-HPXM6RSK.js";import{L as A,aa as G,ba as N}from"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import"./chunk-NJ5CWPUY.js";import"./chunk-UH5YBH76.js";import"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import"./chunk-MAIAJ7GD.js";import"./chunk-4PGNX6E2.js";import"./chunk-DBHB6SUD.js";import"./chunk-I56VJWE4.js";import"./chunk-PS3S6BG3.js";import"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import"./chunk-MGLVPWSV.js";import"./chunk-TXKWPME2.js";import"./chunk-4D3M2I6W.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{Kb as ee,ja as B,m as Z,qb as I,za as $}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import"./chunk-SOHTSUTI.js";import{I as Q,w as L}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-E24EBHFY.js";import"./chunk-V4F2JFTP.js";import{a as y}from"./chunk-6DDC4Y2S.js";import"./chunk-TEY24VZN.js";import"./chunk-RKHQOOTU.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-F4JTGWJH.js";import"./chunk-YUXYCITH.js";import"./chunk-RMV3AS5X.js";import"./chunk-2WNGMZUB.js";import"./chunk-SF2LTPAC.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as S,m as n,o as i}from"./chunk-EQYVU4XP.js";n();i();var P=S(y());n();i();var T=S(y());$();n();i();ee();n();i();var x=S(y());var v=(e,t)=>{let{from:a,transaction:r,provider:l}=e,[o,s]=(0,x.useState)(!1),[p,c]=(0,x.useState)(null),[m,u]=(0,x.useState)(!1),[g,d]=(0,x.useState)("");return(0,x.useEffect)(()=>{(async()=>{if(!!r){s(!0);try{let f=K.from(r);f.setSenderIfNotSet(a);let M="";l&&(M=W(await f.build({client:l}))),t&&await t(M),c({fee:f?.blockData?.gasConfig?.budget||"0",tx:f,txBytes:M}),u(!1),d("")}catch(f){u(!0),d(f?.message||"")}finally{s(!1)}}})()},[r]),{loading:o,error:m,errorMsg:g,result:p}};var w=S(Z());Q();var te=({coinId:e,unapproved:t})=>{let a=C(t),{address:r,walletId:l}=a,o=k(e,l)?.coinAmountInt,{loading:s,result:p={},error:c,errorMsg:m}=v({from:r,transaction:t?.params?.transaction,provider:V}),u=p?.fee,g=(0,w.isNil)(o)||I(o,u),d=(0,w.isNil)(o)||I(o,0),F={coinId:e,loading:s,estimateFailed:c,networkFee:u},f;return c&&m&&(f=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:m})),{loading:s,networkFee:p,networkFeeProps:F,isSufficientGas:g,estimateFailed:c,estimateFailedMsg:f,isSufficientBalance:d}},X=te;n();i();var E=S(y()),re=({coinId:e,unapproved:t})=>{let a=h(),[r,l]=(0,E.useState)(!0),{address:o}=C(t),[s,p]=(0,E.useState)({}),c=(0,E.useMemo)(()=>({checkTypes:[G.VERIFY_GAS_LIMIT],coinId:e,from:o,to:"",amount:0,txType:N.CALL_CONTRACT}),[o,e]),m=async g=>{let d=await a({...c,inputData:g});p(d),l(!1)},u=(0,E.useMemo)(()=>s[G.VERIFY_GAS_LIMIT]||{},[s]);return{loading:r,preExecuteRet:s,firePreExecute:m,verifyGasLimitRet:u}},j=re;var oe=(0,T.memo)(({unapproved:e})=>{let t=R(B)||{},a=t?.coinId||B,{networkFee:r,networkFeeProps:l,isSufficientGas:o,estimateFailed:s,estimateFailedMsg:p,loading:c,isSufficientBalance:m}=X({coinId:a,unapproved:e}),{firePreExecute:u,verifyGasLimitRet:g}=j({unapproved:e,coinId:a});(0,T.useEffect)(()=>{r?.txBytes&&u(r?.txBytes)},[r?.txBytes]);let d=U({baseCoin:t,estimateFailed:s,estimateFailedMsg:p,isSufficientGas:o,verifyGasLimitRet:g,isSufficientBalance:m}),{buttonGroup:F}=D({coinId:a,unapproved:e,feeLoading:c,estimateFailed:s,isSufficientGas:o,isSufficientBalance:m,extParams:{txBytes:r?.txBytes,fee:r?.fee},chainConfirmDisabled:O(g)});return T.default.createElement(b,{unapproved:e,tipMessage:d,buttonGroup:F,networkFee:l})}),z=oe;n();i();var H=S(y());function se(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var J=({unapproved:e})=>{let t=se(q(e.params?.message));return H.default.createElement(Y,{message:t,unapproved:e})};var qe=({unapproved:e})=>{switch(e.method){case A.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case A.SIGN_TRANSACTION_BLOCK:return P.default.createElement(z,{unapproved:e});case A.SIGN_MESSAGE:case A.SIGN_PERSONAL_MESSAGE:return P.default.createElement(J,{unapproved:e});default:return""}};export{qe as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=Sui-I2EMMJA3.js.map
