import{a as Ho}from"./chunk-6Q5IIHLM.js";import{a as zo}from"./chunk-5TSSPPXG.js";import{a as Oo}from"./chunk-GRLVWTBK.js";import{c as Bo}from"./chunk-TH64D43G.js";import{a as pt}from"./chunk-2XG4UAIK.js";import{c as Fo,d as ct,e as Le}from"./chunk-2K7DYI6B.js";import{a as So}from"./chunk-NZPUYPHL.js";import{c as ko}from"./chunk-I3U7CKFC.js";import{f as Go}from"./chunk-3K3KMGWB.js";import{b as _t}from"./chunk-5EZVDCYS.js";import{a as Lo}from"./chunk-RC5IAFKK.js";import{e as wo,h as mt}from"./chunk-VTLNAOHG.js";import{d as rt}from"./chunk-LEADLFDQ.js";import{c as Kt}from"./chunk-3I7UBQEQ.js";import{a as lt}from"./chunk-5GMHHIH5.js";import{a as Do}from"./chunk-J5ANWCEO.js";import{w as xe}from"./chunk-VMO2INN3.js";import{o as nt}from"./chunk-6FOZGMAL.js";import{q as tt,y as Eo}from"./chunk-HPXM6RSK.js";import{a as it,b as K,c as Vt,d as be,e as se,f as Pe,m as st}from"./chunk-IUIJ46C3.js";import{d as et,f as Po}from"./chunk-MAIAJ7GD.js";import{b as Hi}from"./chunk-6UYK5TIR.js";import{a as v,b as F}from"./chunk-RIMU4JTV.js";import{c as zi}from"./chunk-TXKWPME2.js";import{g as Ao}from"./chunk-AMVK42SC.js";import{a as at}from"./chunk-XCAARJ7Q.js";import{c as $t}from"./chunk-JXCCIV3J.js";import{b as bo,c as Oi}from"./chunk-AOA7NX2Y.js";import{g as To,m as Bi}from"./chunk-HXZH2DHB.js";import{Ca as Xe,Db as Re,Jc as ot,Kb as Wt,Kc as V,Xa as yo,ha as xo,hb as vo,ia as ho,ib as H,jb as Qe,kb as No,lb as Ie,m as lo,nb as ge,pb as Co,qb as Io,za as Gi}from"./chunk-X7YMANPZ.js";import{A as qe,F as Je,G as je,M as we,N as _o,Q as uo,R as fo,S as go,n as Ce,s as co,x as po}from"./chunk-SOHTSUTI.js";import{I as A,n as Ke,w as m}from"./chunk-RPZQDAIQ.js";import{M as $,S as mo,Y as g,c as C}from"./chunk-V4F2JFTP.js";import{a as x,g as Ne}from"./chunk-6DDC4Y2S.js";import{f as a,m as t,n as c,o}from"./chunk-EQYVU4XP.js";t();o();t();o();var ne=a(x());t();o();var ye=a(x()),Zo=a(Eo()),Mo=a(lo());A();vo();Wt();Po();t();o();var qt=a(C()),ut=a(x());t();o();var Se={value:"_value_1hw8x_1",feeDisplay:"_feeDisplay_1hw8x_4",feeDetailDisplay:"_feeDetailDisplay_1hw8x_10",feeDisplayHighlight:"_feeDisplayHighlight_1hw8x_17"};var Zi=({className:e,fee:i,feeDetail:n,highlight:s})=>ut.default.createElement("div",{className:(0,qt.default)(Se.value,e)},ut.default.createElement("div",{className:(0,qt.default)(Se.feeDisplay,{[Se.feeDisplayHighlight]:s})},i),ut.default.createElement("div",{className:Se.feeDetailDisplay},n)),Fe=Zi;t();o();var Q=a(x());A();t();o();var he={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Mi=({showLoading:e,title:i,content:n,visible:s,error:r,onClose:l,onConfirm:p,confirmText:_=m("wallet_extension_btn_general_confirm"),confirmLoading:d,errContent:h,headerTitle:y})=>{let I=(0,Q.useCallback)(()=>{p&&p()},[p,s]);return Q.default.createElement(Ce.Confirmation,{showLoading:e,title:Q.default.createElement("p",{className:he.dialogTitle},i),topClassName:he.dialogHeader,visible:s,noMargin:!1,alignBottom:!1,closeIconClassName:he.closeIcon,confirmLoading:d,onConfirm:I,onClose:()=>{l&&l()},confirmText:_,confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg,block:!0},renderContent:()=>Q.default.createElement("div",{className:he.transactionAccelerationContainer},Q.default.createElement("div",{className:he.transactionAccelerationHeader},Q.default.createElement("p",{className:he.transactionAccelerationTitle},y)),r?h:n),renderFooter:D=>r?null:Q.default.createElement(D,null)})},dt=Mi;t();o();Wt();var ft=({gasLimit:e,gasPrice:i,baseCoin:n,L1FEE:s})=>{let r=Go(),{coinAmountInt:l}=r(n?.coinId);return _=>{let d=Ie(l,_);return!Co(No(H(i,e),s),d)}};t();o();var gt=a(x());var Ui=({signInfo:e={},txParams:i,coinId:n})=>{let[s,{setTrue:r,setFalse:l}]=nt(!0),[p,_]=(0,gt.useState)(""),d=Bo();return(0,gt.useEffect)(()=>{try{e.needExtFee?(r(),(async()=>{let y=await d({...i,coinId:n});_(y),l()})()):(_(0),l())}catch{_(0),l()}},[e?.needExtFee]),[s,p]},xt=Ui;t();o();var Jt={root:"_root_1a9wr_1",value:"_value_1a9wr_4"};var Yi=({feeDisplay:e,feeDetailDisplay:i})=>ye.default.createElement("div",{className:Jt.root},ye.default.createElement(Fe,{className:Jt.value,highlight:!0,fee:e,feeDetail:i}));function ht({tx:e={},visible:i=!1,onConfirm:n,onClose:s,repeatTxType:r,signInfo:l}){let p=(0,Zo.useDispatch)(),[_,d]=(0,ye.useState)(!1),h=lt(),{from:y,nonce:I,coinId:D,gasPrice:U,priorityFee:b,gasLimit:G,txHash:j,txhash:ue}=e,[Te,ie]=mt(D),kt=l?.gasPrice||{},[De,Gt]=pt({address:y,tokenAddress:y,coinId:ie?.coinId,value:"0"},{wait:200,disabled:!ie||!i}),Y=De?.gasLimit||G,{normal:Bt,max:Ot,supportEip1559:X,proposePriorityFee:zt,fastPriorityFee:w}=kt,Ue=(u,T=U)=>ge(Ie(Qe(u,T),"1"),"0.1"),Ye=(u,T,W)=>{let N=u;return ge(u,T)?(N=T,Ue(T,u)&&(N=H(u,"1.1"))):Io(u,T)&&ge(u,W)?(N=W,Ue(W,u)&&(N=H(u,"1.1"))):N=H(u,"1.2"),N=Re(N,0),N},S=Ye(U,Bt,Ot),We=Ye(b,zt,w),de=()=>{let u=yo(Te.localType)?.realChainIdHex,T={from:y,to:y,nonce:F(I),gasLimit:F(Y),chainId:u,value:F(0)};X?(T.maxFeePerGas=F(S),T.maxPriorityFeePerGas=F(We),T.type=st.FEE_MARKET):T.gasPrice=F(S);let N={...tt(T)};return N.walletId=h,N},Ht=u=>{let T=v(u.value),W=v(u.gasLimit),N=v(X?u.maxFeePerGas:u.gasPrice),f={...u,value:T,from:u.from,to:u.to,gas:W,gasPrice:N,priorityFee:v(X?u.maxPriorityFeePerGas:0),nonce:v(u.nonce),repeatTxType:r||be.CANCELING,oldTxHash:j||ue};return{coinId:Te.coinId,coinAmount:T,fromAdr:u.from,toAdr:u.to,serviceCharge:H(W,N),extJson:JSON.stringify(f),txSource:ot.NORMAL,inputData:u.data?u.data:""}},B=de(),Zt=()=>{if(X)return{...B,gasLimit:Y,maxFeePerGas:v(B.maxFeePerGas),maxPriorityFeePerGas:v(B.maxPriorityFeePerGas),value:v(B.value)};let u={...B};return delete u.maxFeePerGas,delete u.maxPriorityFeePerGas,{...u,gasLimit:Y,gasPrice:v(u.gasPrice),value:v(u.value)}},[O,$e]=xt({signInfo:l,txParams:Zt(),coinId:D}),Mt=ct(S,Y,ie,$e),Ve=Le(S,Y),Ut=ft({gasLimit:Y,gasPrice:S,baseCoin:ie,L1Fee:$e}),Yt=async()=>{try{d(!0);let u=Ht(B);if(!Ut(u.coinAmount)){Notification.error({title:m("extension_toast_text_insufficient_balance")}),d(!1);return}if(!await _t({callback:s})){d(!1);return}await p(rt({txParams:B,walletId:h}));let N=await et().signAndPublishTransferTransaction({signParams:B,from:B.from,baseChain:Xe,publishParams:u});n&&n(N)}catch(u){if(u.message!==at){let T=u?.data?.originalError?.msg||m("wallet_home_toast_network_error");je.error({title:T})}}finally{d(!1)}};return ye.default.createElement(dt,{title:m("wallet_extension_popup_title_cancle_transaction"),headerTitle:m("extension_defi_toast_desc_cancel_txn"),showLoading:O,visible:!(0,Mo.isEmpty)(l)&&i,content:ye.default.createElement(Yi,{feeDisplay:Mt,feeDetailDisplay:Ve}),confirmLoading:_||Gt,onConfirm:Yt,onClose:()=>{s&&s()}})}t();o();var P=a(x()),Vo=a(Eo()),Ko=a(lo());Wt();vo();Po();A();t();o();var yt=a(x());Bi();Oi();var Wi=e=>{let[i,{setTrue:n,setFalse:s}]=nt(!0),[r,l]=(0,yt.useState)("");return(0,yt.useEffect)(()=>{typeof e=="string"&&!!e&&(n(),(async()=>{let{data:_}=await To(bo.getRawTxWithTxId,{txId:e}),{signInfo:d}=_;l(d),s()})())},[e]),[i,r]},Uo=Wi;t();o();var Yo=a(x()),Wo=a(Hi()),vt=a(zi()),$i=()=>(0,Yo.useCallback)(e=>{if(typeof e!="string"||!e)return{to:"",inputData:"",chainId:"",value:"",nonce:""};let i=c.Buffer.from((0,vt.stripHexPrefix)(e),"hex"),n=Wo.TransactionFactory.fromSerializedData(i),s=n.toJSON(),r=n.common.chainIdBN().toString("hex");return{to:s.to,inputData:s.data,chainId:(0,vt.addHexPrefix)(r),value:s.value,nonce:s.nonce}},[]),$o=$i;t();o();var ke={lineWrapper:"_lineWrapper_17srx_1",line:"_line_17srx_1",tip:"_tip_17srx_10"};var Vi=({oldFee:e,oldFeeDetail:i,newFee:n,newFeeDetail:s})=>P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:ke.lineWrapper},P.default.createElement(Kt,{className:ke.line,align:$t.ALIGN.start,size:xe.SIZE.sm,label:m("wallet_extension_popup_speedup_transaction_before"),value:P.default.createElement(Fe,{fee:e,feeDetail:i})}),P.default.createElement(Kt,{className:ke.line,align:$t.ALIGN.start,size:xe.SIZE.sm,label:m("wallet_extension_popup_speedup_transaction_after"),value:P.default.createElement(Fe,{highlight:!0,fee:n,feeDetail:s})})),P.default.createElement("div",{className:ke.tip},m("extension_defi_toast_desc_0service_fee")));function jt({tx:e={},visible:i=!1,onConfirm:n,onClose:s,signInfo:r,repeatTxType:l,loading:p}){let _=(0,Vo.useDispatch)(),[d,h]=(0,P.useState)(!1),y=lt(),{from:I,coinId:D,gasPrice:U,priorityFee:b,gasLimit:G,txHash:j,txhash:ue,txId:Te}=e,ie=$o(),[kt,De]=mt(D),[Gt,Y]=Uo(Te),Bt=r?.gasPrice||{},{max:Ot,supportEip1559:X,fastPriorityFee:zt}=Bt,w=(0,P.useMemo)(()=>ie(Y),[Y]),[Ue,Ye]=pt({address:I,inputData:w.inputData&&w.inputData!=="0x"?w.inputData:void 0,tokenAddress:w?.to,coinId:D,value:w?.value?v(w.value):"0"},{wait:200,disabled:!Y||!i}),S=Ue.gasLimit||G,We=(f,E)=>{let z=f;return ge(f,E)?(z=E,ge(Ie(Qe(E,f),"1"),"0.1")&&(z=H(f,"1.1"))):z=H(f,"1.2"),z=Re(z,0),z},de=We(U,Ot),Ht=We(b,zt),B=()=>{let f={from:I,to:w.to,nonce:w.nonce,gasLimit:F(S),chainId:w.chainId,value:w.value},{inputData:E}=w;E&&E!=="0x"&&(f.data=E),X?(f.maxFeePerGas=F(de),f.maxPriorityFeePerGas=F(Ht),f.type=st.FEE_MARKET):f.gasPrice=F(de);let fe={...tt(f)};return fe.walletId=y,fe},Zt=f=>{let E=v(f.value),z=v(f.gasLimit),fe=v(X?f.maxFeePerGas:f.gasPrice),ki={...f,value:E,from:f.from,to:f.to,gas:z,gasPrice:fe,priorityFee:v(X?f.maxPriorityFeePerGas:0),nonce:v(f.nonce),repeatTxType:l||be.SPEEDING,oldTxHash:j||ue};return{coinId:kt.coinId,coinAmount:E,fromAdr:f.from,toAdr:f.to,serviceCharge:H(z,fe),extJson:JSON.stringify(ki),txSource:ot.NORMAL,inputData:f.data?f.data:""}},O=B(),$e=()=>{if(X)return{...O,gasLimit:S,maxFeePerGas:v(O.maxFeePerGas),maxPriorityFeePerGas:v(O.maxPriorityFeePerGas),value:v(O.value)};let f={...O};return delete f.maxFeePerGas,delete f.maxPriorityFeePerGas,{...f,gasLimit:S,gasPrice:v(f.gasPrice),value:v(f.value)}},[Mt,Ve]=xt({signInfo:r,txParams:$e(),coinId:D}),Ut=Fo(U,G,De),Yt=Le(U,G),u=ct(de,S,De,Ve),T=Le(de,S),W=ft({gasLimit:S,gasPrice:de,baseCoin:De,L1Fee:Ve}),N=async()=>{try{h(!0);let f=Zt(O);if(!W(f.coinAmount)){Je.error({title:m("extension_toast_text_insufficient_balance")}),h(!1);return}if(!await _t({callback:s})){h(!1);return}await _(rt({txParams:O,walletId:y}));let fe=await et().signAndPublishTransferTransaction({signParams:O,from:O.from,baseChain:Xe,publishParams:f});n&&n(fe)}catch(f){if(f.message!==at){let E=f?.data?.originalError?.msg||m("wallet_home_toast_network_error");je.error({title:E})}}finally{h(!1)}};return P.default.createElement(dt,{title:m("wallet_extension_popup_title_speedup_transaction"),headerTitle:m("wallet_extension_popup_speedup_transaction_desc"),showLoading:p||Gt||Mt,visible:!(0,Ko.isEmpty)(r)&&i,content:P.default.createElement(Vi,{oldFee:Ut,oldFeeDetail:Yt,newFee:u,newFeeDetail:T}),confirmLoading:d||Ye,onConfirm:N,onClose:()=>{s&&s()}})}var Ki=({data:e={},type:i,onConfirm:n,onCancel:s})=>{let{from:r,coinId:l,isShowSpeedUp:p,isShowCancel:_,isShowSpeedupCancel:d}=e,h=wo(l),[y,I]=So({coinId:l,address:r,chainId:h?.chainId});return!p&&!_&&!d||i===0?null:ne.default.createElement(ne.default.Fragment,null,_&&ne.default.createElement(ht,{tx:e,visible:i===1,onConfirm:n,onClose:s,signInfo:I}),p&&ne.default.createElement(jt,{tx:e,loading:y,visible:i===2,onConfirm:n,onClose:s,signInfo:I}),d&&ne.default.createElement(ht,{tx:e,visible:i===3,onConfirm:n,onClose:s,repeatTxType:3,signInfo:I}))},qo=(0,ne.memo)(Ki);t();o();var Ge=a(x());A();var qi=({top:e=24})=>Ge.default.createElement("div",{style:{paddingTop:e}},Ge.default.createElement(po.State,{title:m("wallet_transaction_history_subtitle_no_records")})),Jo=(0,Ge.memo)(qi);t();o();var Tt=a(x()),jo=a(C()),q=a(Ne());var Xt=({children:e,assets:i,align:n})=>{let s=i.length>2?Pe.center:Pe.top,l=(n||s)===Pe.center?"tx-history-list-row-center":"",p=(0,jo.default)("tx-history-list-row",l);return Tt.default.createElement("div",{className:p},e)};Xt.propTypes={children:q.default.node,assets:q.default.arrayOf(q.default.shape({direction:q.default.number,coinAmount:q.default.oneOfType([q.default.number,q.default.string]),symbol:q.default.string})),align:q.default.string};Xt.defaultProps={children:null,assets:[],align:""};var Xo=(0,Tt.memo)(Xt);t();o();var Z=a(x()),ae=a(Ne()),Qo=a(C());var Qt=({className:e,icons:i,title:n,details:s,label:r,data:l})=>{let p=(0,Qo.default)(e,"tx-history__info"),_=(0,Z.useMemo)(()=>l?.txStatus===it.PENDING&&l?.isShowPending,[l]);return Z.default.createElement("div",{className:p},Z.default.createElement(ko,{srcset:i}),Z.default.createElement("div",{className:"tx-history__info-main"},Z.default.createElement("div",{className:"tx-history__info-main-top"},Z.default.createElement("div",{className:_?"tx-history__info-main-top-pending":"tx-history__info-main-top-title"},n),r),Z.default.createElement("div",{className:"tx-history__info-main-details"},s.map((d,h)=>Z.default.createElement("div",{className:"tx-history__info-main-details-detail",key:h},d)))))};Qt.propTypes={className:ae.default.string,icons:ae.default.array,title:ae.default.string,details:ae.default.arrayOf(ae.default.string),label:ae.default.node,data:ae.default.object};Qt.defaultProps={className:"",icons:[],title:"",details:[],label:null,data:{}};var Ro=Z.default.memo(Qt);t();o();var Ee=a(x()),R=a(Ne()),Nt=a(C());A();t();o();var re=a(x()),M=a(Ne()),ei=(0,re.memo)(({className:e,prefix:i,coinAmount:n,symbol:s})=>{let r=`${i}${n} ${s}`;return re.default.createElement("div",{className:e},r," ")}),le=(0,re.memo)(e=>re.default.createElement(ei,{...e,prefix:e.coinAmount===""?"":"+"}));le.propTypes={className:M.default.string,coinAmount:M.default.oneOfType([M.default.number,M.default.string]),symbol:M.default.string};le.defaultProps={className:"",coinAmount:"",symbol:""};var me=(0,re.memo)(e=>re.default.createElement(ei,{...e,prefix:e.coinAmount===""?"":"-"}));me.propTypes={className:M.default.string,coinAmount:M.default.oneOfType([M.default.number,M.default.string]),symbol:M.default.string};me.defaultProps={className:"",coinAmount:"",symbol:""};t();o();var Ji=({className:e})=>Ee.default.createElement("div",{type:xe.TYPE.danger,size:xe.SIZE.xs,className:(0,Nt.default)("tx-history__valueless-nft",e),align:xe.ALIGN.right},m("wallet_extension_history_text_risky_transfer")),Rt=({className:e,assets:i,isValuelessNftTxType:n=!1})=>{let s=(0,Nt.default)(e,"tx-history__assets"),r="tx-history__assets-asset-sm",l="tx-history__assets-asset-md",p="tx-history__assets-asset-green800",_="tx-history__assets-asset-gray900",d="tx-history__assets-asset-gray400",h=i.length===1?i.map(b=>{let G=b.direction===V.IN?p:_,j=b.direction===V.IN?le:me;return{...b,className:`${l} ${G}`,Comp:j}}):i.map(b=>{let G=b.direction===V.IN?l:r,j=b.direction===V.IN?p:d,ue=b.direction===V.IN?le:me;return{...b,className:`${G} ${j}`,Comp:ue}}),[y,...I]=h.filter(b=>b.coinAmount!==null),U=[y,n?{Comp:Ji}:void 0,...I].filter(Boolean);return Ee.default.createElement("div",{className:s},U.map((b,G)=>{let{Comp:j,className:ue,...Te}=b,ie=(0,Nt.default)("tx-history__assets-asset",ue);return Ee.default.createElement(j,{key:G,className:ie,...Te})}))};Rt.propTypes={className:R.default.string,assets:R.default.arrayOf(R.default.shape({direction:R.default.number,coinAmount:R.default.oneOfType([R.default.number,R.default.string]),symbol:R.default.string}))};Rt.defaultProps={className:"",assets:[]};var ti=(0,Ee.memo)(Rt);t();o();var Ct=a(x()),ji=({children:e})=>Ct.default.createElement("div",{className:"tx-history__date"},e),oi=(0,Ct.memo)(ji);t();o();var ce=a(x());var ii=a(C());var Xi=({type:e,text:i,isPurePending:n})=>e===se.FAILED?ce.default.createElement(uo,{iconName:"okx-wallet-plugin-failed",size:we.SIZE.sm,className:"status-tag"},i):e===se.PENDING&&n?ce.default.createElement($,{className:"okx-wallet-plugin-pending tx-history-label-image-purepending"}):e===se.PENDING?ce.default.createElement(go,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-image",className:"status-tag",size:we.SIZE.sm},i):e===se.WAITING?ce.default.createElement(fo,{iconName:"okx-wallet-plugin-clock",size:we.SIZE.sm,className:"status-tag"},i):e===se.CANCELED?ce.default.createElement(_o,{iconName:"okx-wallet-plugin-failed",size:we.SIZE.sm,className:"status-tag"},i):"",si=({className:e,type:i=se.PENDING,text:n,data:s})=>{let r="tx-history-label",l=s?.txStatus===it.PENDING&&s?.isShowPending&&(s?.repeatTxType===be.CONFIRMING||s.txType===K.GAS_STATION||s.txType===K.DEX_CROSS_CHAIN_SWAP),p=(0,ii.default)(r,l?`${r}-purePending`:`${r}-${i}`,e);return ce.default.createElement("div",{className:p},ce.default.createElement(Xi,{type:i,text:n,isPurePending:l}))};si.TYPE=se;var ni=si;t();o();var ve=a(x()),It=a(C());A();var Qi=(e=[])=>e.length===1||e.length===2?"tx-history-nfts__image-container-size136":"tx-history-nfts__image-container-size86",Ri=({className:e,data:i})=>{let{nftImageUrls:n}=i,s=(n||[]).slice(0,6),r=Ao({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});if(s.length===0)return null;let l=(0,It.default)("tx-history-nfts__container",e),p=Qi(s),_=(0,It.default)("tx-history-nfts__image-container",p),d=h=>(0,It.default)("tx-history-nfts__image",{"tx-history-nfts__image-border":h===5});return ve.default.createElement("div",{className:l},s.map((h,y)=>ve.default.createElement("div",{key:y,className:_},ve.default.createElement(Oo,{startStatus:!0,src:h,backupImage:r,classnames:d(y)}),y===5?ve.default.createElement("div",{className:"tx-history-nfts__image-shade"},m("wallet_extension_history_list_text_more")):null)))},ai=(0,ve.memo)(Ri);t();o();var J=a(x());A();var eo=({onClick:e,children:i})=>J.default.createElement(g,{className:"tx-history-actions-button",category:g.CATEGORY.outline,type:g.TYPE.primary,size:g.SIZE.xs,onClick:e},i),es=({data:e={},onRepeat:i})=>{let{coinId:n}=e,{baseCoin:s}=Lo(n,!0),{pendingToastInfo:r,isShowSpeedUp:l,isShowCancel:p,isShowSpeedupCancel:_}=e;if(s.coinId===1||!r&&!l&&!p&&!_)return null;let d=()=>!l&&!p&&!_?null:J.default.createElement("div",{className:"tx-history-actions-buttons-container"},p&&J.default.createElement(eo,{onClick:h=>{h.stopPropagation(),i(1)}},m("wallet_extension_history_list_status_btn_cancel_transaction")),l&&J.default.createElement(eo,{onClick:h=>{h.stopPropagation(),i(2)}},m("wallet_extension_history_list_status_btn_speed_up")),_&&J.default.createElement(eo,{onClick:h=>{h.stopPropagation(),i(3)}},m("wallet_extension_history_list_status_btn_speed_up_cancellation")));return J.default.createElement("div",{className:"tx-history-actions"},r?J.default.createElement("div",{className:"tx-history-actions-pending"},m("wallet_extension_card_toast_pending_transaction_speedup",{pendingTips:1})):null,d())},ri=(0,J.memo)(es);t();o();var bt=a(x()),li=a(C()),ts=({children:e,className:i,onClick:n})=>{let s=(0,li.default)("tx-history-item-container",i);return bt.default.createElement("div",{className:s,onClick:n},e)},mi=(0,bt.memo)(ts);t();o();var Pt=a(x()),os=({children:e})=>Pt.default.createElement("div",{className:"tx-history-list"},e),ci=(0,Pt.memo)(os);t();o();var Et=a(x()),pi=a(C()),is=({className:e,style:i,children:n,onContainer:s})=>{let r=(0,pi.default)("tx-history-list-container",e);return Et.default.createElement("div",{className:r,style:i,ref:s},n)},_i=(0,Et.memo)(is);t();o();var k=a(x());A();t();o();var ss=(0,k.memo)(e=>{let{showPopup:i}=e;return k.default.createElement("div",{className:"date-range-selection__time"},m("wallet_extension_history_dropdown_time"),k.default.createElement(zo,{flip:i}))});function ns({className:e,dates:i,onChange:n,customMinDate:s,mainCoinId:r,setDate:l}){let[p,_]=(0,k.useState)(Ke.subtract(3,"M")),[d,h]=(0,k.useState)(""),[y,I]=(0,k.useState)(new Date);return(0,k.useEffect)(()=>{s&&_(s),h(r?s?"":m("extension_trade_sliderborrowingdata_filter_dates"):m("extension_wallet_history_text_full_history_available"))},[s,r]),k.default.createElement(co.RangePicker,{className:e,inputClassNames:["date-range-selection__input","date-range-selection__input"],customReference:ss,value:i,min:p,max:y,dialogProps:{maskClosable:!0,subTitle:d},onOpenChange:D=>{D&&(_(s||Ke.subtract(3,"M")),I(new Date))},onChange:(D,U)=>{n(D,U)},onReset:()=>{l([s||Ke.subtract(3,"M"),new Date])}})}var ui=ns;t();o();var to=a(x()),oo=a(C());function as({className:e,tabs:i,value:n,onSelect:s}){return to.default.createElement("div",{className:(0,oo.default)("tx-history__tabs",e)},i.map(({text:r,value:l})=>to.default.createElement("div",{className:(0,oo.default)("tx-history__tabs-option",{"tx-history__tabs-option--selected":n===l}),key:l,onClick:()=>{s(l)}},r)))}var di=as;t();o();var L=a(x());A();function rs({initLoading:e,visible:i,onConfirm:n,loading:s,onClose:r,oldGasFeeDisplay:l,oldGasDetailDisplay:p,newGasFeeDisplay:_,newGasDetailDisplay:d}){return L.default.createElement(Ce.Prompt,{showLoading:e,visible:i,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:n,confirmLoading:s,onClose:()=>{r&&r()},confirmText:m("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:h=>L.default.createElement(h,null,L.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},m("wallet_extension_popup_title_speedup_transaction")),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},m("wallet_extension_popup_speedup_transaction_desc")),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},m("wallet_extension_popup_speedup_transaction_before")),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail"},l),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},p)),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},m("wallet_extension_popup_speedup_transaction_after")),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail--speed"},_),L.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},d)))})}var fi=rs;t();o();var ee=a(x());A();function ls({visible:e,onConfirm:i,loading:n,onClose:s,chainSymbol:r,newGasFeeDisplay:l,newGasDetailDisplay:p}){return ee.default.createElement(Ce.Prompt,{visible:e,className:"ethereum-tx-cancel-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:i,confirmLoading:n,onClose:()=>{s&&s()},confirmText:m("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:g.TYPE.highlight,size:g.SIZE.lg},renderContent:_=>ee.default.createElement(_,null,ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__title"},m("wallet_extension_popup_title_cancle_transaction")),ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__subtitle"},m("wallet_extension_popup_cancle_transaction_desc",{symbol:r})),ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__description"},m("wallet_extension_popup_cancle_transaction_desc2")),ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee"},ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__fee-detail"},l),ee.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__gas-detail"},p)))})}var gi=ls;t();o();var xi=a(x()),hi=a(C());t();o();function ms({className:e,children:i}){return xi.default.createElement("div",{className:(0,hi.default)("tx-page-container",e)},i)}var yi=ms;t();o();var vi=a(x()),Ti=a(C());function cs({className:e,children:i}){return vi.default.createElement("div",{className:(0,Ti.default)("tx-filter-container",e)},i)}var Ni=cs;t();o();var At=a(x());t();o();A();var ps=()=>At.default.createElement("div",{className:"tx-pending__text"},m("wallet_extension_history_tab_pending")),Ci=(0,At.memo)(ps);t();o();var Be=a(x()),io=a(C()),oe=a(Ne());t();o();var te={assetContainer:"_assetContainer_1uvgf_1",baseAsset:"_baseAsset_1uvgf_5",mt2:"_mt2_1uvgf_11",titleSize:"_titleSize_1uvgf_14",titleColorIn:"_titleColorIn_1uvgf_19",titleColorOut:"_titleColorOut_1uvgf_22",subtitleSize:"_subtitleSize_1uvgf_25",subtitleColor:"_subtitleColor_1uvgf_29"};var so=({className:e,assets:i})=>{let n=i.map((s,r)=>{if(r===0){let d=te.titleSize,h=s.direction===V.IN?te.titleColorIn:te.titleColorOut,y=s.direction===V.IN?le:me;return{...s,className:`${d} ${h}`,Comp:y}}let l=te.subtitleSize,p=te.subtitleColor,_=s.direction===V.IN?le:me;return{...s,className:`${te.mt2} ${l} ${p}`,Comp:_}});return Be.default.createElement("div",{className:(0,io.default)(e,te.assetContainer)},n.map((s,r)=>{let{Comp:l,className:p,..._}=s,d=(0,io.default)(te.baseAsset,p);return s.coinAmount===null?null:Be.default.createElement(l,{key:r,className:d,..._})}))};so.propTypes={className:oe.default.string,assets:oe.default.arrayOf(oe.default.shape({direction:oe.default.number,coinAmount:oe.default.oneOfType([oe.default.number,oe.default.string]),symbol:oe.default.string}))};so.defaultProps={className:"",assets:[]};var Ii=(0,Be.memo)(so);t();o();var Oe=a(x()),Pi=a(C());t();o();var bi={"tx-history-loading":"_tx-history-loading_ca289_1",txHistoryLoading:"_tx-history-loading_ca289_1"};var _s=({top:e=24,className:i})=>Oe.default.createElement("div",{className:(0,Pi.default)(bi.txHistoryLoading,i),style:{paddingTop:e}},Oe.default.createElement(mo,null)),Ei=(0,Oe.memo)(_s);var Tm={Dialogs:qo,Empty:Jo,Row:Xo,Info:Ro,Assets:ti,Date:oi,Label:ni,NFTs:ai,Actions:ri,ItemContainer:mi,List:ci,ListContainer:_i,DateRangeSelection:ui,FilterTabs:di,EthereumTxSpeedDialogBase:fi,EthereumTxCancelDialogBase:gi,PageContainer:yi,FilterContainer:Ni,PendingTag:Ci,CoinAssets:Ii,Loading:Ei};t();o();var Di=a(x());t();o();var Ai={root:"_root_1fewt_1"};function us({message:e}){return e?Di.default.createElement("div",{className:Ai.root},e):null}var ds=us;t();o();t();o();var Dt=a(x()),Gm=a(C());function fs({label:e,value:i,style:n}){return Dt.default.createElement("div",{className:"tx-detail-info__one",style:n},Dt.default.createElement("div",{className:"tx-detail-info__label"},e),Dt.default.createElement("div",{className:"tx-detail-info__value"},i))}var ze=fs;t();o();var pe=a(x()),wi=a(C()),He=a(Ne());A();function no({className:e,label:i,value:n,message:s,tag:r,addressStyle:l}){let[p,_]=Ho(),d=()=>{p||(_(n),Je.success({title:s||m("wallet_receive_toast_address_copied"),desc:pe.default.createElement("div",{className:"tx-clipboard__message"},n)}))};return pe.default.createElement("div",{className:(0,wi.default)("tx-clipboard",e)},pe.default.createElement("div",{className:"tx-clipboard__inner"},pe.default.createElement("div",{className:"tx-clipboard__inner-wrap",style:l},i,r&&pe.default.createElement("div",{className:"tx-clipboard__tag"},r)),pe.default.createElement("div",{className:"tx-clipboard__icon",onClick:d},pe.default.createElement($,{className:"okx-wallet-plugin-copy-1"}))))}var gs=no;no.propTypes={label:He.default.any,value:He.default.string,message:He.default.string,className:He.default.string};no.defaultProps={label:"",value:"",className:"",message:""};t();o();var Li=a(C()),Ze=a(x());t();o();var wt={"tx-detail-info__status":"_tx-detail-info__status_y51gk_1",txDetailInfoStatus:"_tx-detail-info__status_y51gk_1","tx-detail-info__status__icon":"_tx-detail-info__status__icon_y51gk_8",txDetailInfoStatusIcon:"_tx-detail-info__status__icon_y51gk_8","tx-detail-info__status__icon--loading":"_tx-detail-info__status__icon--loading_y51gk_11",txDetailInfoStatusIconLoading:"_tx-detail-info__status__icon--loading_y51gk_11",spin:"_spin_y51gk_1"};var Lt={SUCCESS:1,PENDING:2,WAITING:3,FAILED:4};function Si({label:e,status:i,statusText:n}){let s,r,l=!1;return i===Lt.SUCCESS?(s="okx-wallet-plugin-completed",r="var(--okd-color-semantic-positive)"):i===Lt.PENDING?(s="okx-wallet-plugin-pending",r="var(--okd-color-semantic-notice)",l=!0):i===Lt.WAITING?(s="okx-wallet-plugin-clock",r="var(--okd-color-content-disabled)"):(s="okx-wallet-plugin-failed",r="var(--okd-color-semantic-negative)"),Ze.default.createElement(ze,{label:e,value:Ze.default.createElement("div",{className:wt["tx-detail-info__status"],style:{color:r}},Ze.default.createElement($,{className:(0,Li.default)(s,wt["tx-detail-info__status__icon"],{[wt["tx-detail-info__status__icon--loading"]]:l})}),Ze.default.createElement("span",null,n))})}Si.TxStatusInfoEnum=Lt;var xs=Si;t();o();var Me=a(x());function hs({label:e,value:i,tip:n}){return Me.default.createElement(Me.default.Fragment,null,Me.default.createElement(ze,{label:e,value:i}),n&&Me.default.createElement("div",{className:"tx-detail-info__gas-fee"},n))}var ys=hs;t();o();var St=a(x()),Fi=a(C());function vs({url:e,text:i}){return e?St.default.createElement("div",{className:"tx-detail-action__link",onClick:()=>{globalThis.platform.openTab({url:e})}},St.default.createElement("span",{className:"tx-detail-action__link-text"},i,St.default.createElement($,{className:(0,Fi.default)("okx-wallet-plugin-open-link","tx-detail-action__link-icon")}))):null}var Ts=vs;t();o();var _e=a(x());A();t();o();var ao={"cancel-btn":"_cancel-btn_wmkbd_1",cancelBtn:"_cancel-btn_wmkbd_1","speed-up-btn":"_speed-up-btn_wmkbd_7",speedUpBtn:"_speed-up-btn_wmkbd_7"};function Ns({isShowCancel:e,isShowSpeedUp:i,isShowSpeedupCancel:n,showCloseTransaction:s,showTxRepeatBroadcast:r,canAccelerateBtcTx:l,onCancel:p,onSpeedUp:_,onClose:d,onRepeat:h,onBtcSpeedUp:y,isLoading:I}){return!e&&!i&&!n&&!s&&!r&&!l?null:_e.default.createElement(Do.FooterActions,null,e&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,className:ao.cancelBtn,onClick:p},m("wallet_extension_history_list_status_btn_cancel_transaction")),i&&_e.default.createElement(g,{className:ao.speedUpBtn,category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:_},m("wallet_extension_history_list_status_btn_speed_up")),n&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:p},m("wallet_extension_history_list_status_btn_speed_up_cancellation")),s&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.gray,size:g.SIZE.md,block:!0,onClick:d},m("extension_defi_bot_btn_release_utxo")),r&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,onClick:h},m("extension_defi_bot_btn_rebroadcast")),l&&_e.default.createElement(g,{category:g.CATEGORY.fill,type:g.TYPE.highlight,size:g.SIZE.md,block:!0,loading:I,onClick:y},m("wallet_extension_history_list_status_btn_speed_up")))}var Cs=Ns;t();o();var Ae=a(x());t();o();var Ft={"tx-detail-info":"_tx-detail-info_1qa9v_1",txDetailInfo:"_tx-detail-info_1qa9v_1","tx-detail-item":"_tx-detail-item_1qa9v_8",txDetailItem:"_tx-detail-item_1qa9v_8","tx-detail-item__label":"_tx-detail-item__label_1qa9v_24",txDetailItemLabel:"_tx-detail-item__label_1qa9v_24","tx-detail-item__value":"_tx-detail-item__value_1qa9v_29",txDetailItemValue:"_tx-detail-item__value_1qa9v_29"};function Is({label:e,value:i,style:n,tips:s}){return Ae.default.createElement("div",{className:Ft["tx-detail-item"],style:n},Ae.default.createElement("div",{className:Ft["tx-detail-item__label"]},e,s&&Ae.default.createElement(qe,{title:s,placement:qe.DIRECTION.top,trigger:qe.TRIGGER_TYPES.hover},Ae.default.createElement($,{className:"okds-information-circle",style:{fontSize:"14px",color:"var(--okd-color-content-contrast)"}}))),Ae.default.createElement("div",{className:Ft["tx-detail-item__value"]},i))}var bs=Is;t();o();var ro=a(x());A();Gi();function jc(e,i){return(0,ro.useMemo)(()=>e.filter(Boolean).length===0&&i.length===1?Pe.center:"",[e,i])}var Xc=(e,i,n={})=>(0,ro.useMemo)(()=>{if(!e)return"";let s=Vt[e]||Vt[K.CONTRACTCALL],{symbol:r,collection:l}=i;if(e===K.AUTHORIZATION||e===K.CANCEL_AUTHORIZATION)return m(s,{symbol:r});if(e===K.ZK_REGISTER){let{mainCoinId:p}=n,d={[xo]:"wallet_extension_history_text_register_tab",[ho]:"wallet_history_text_register_zksync_lite"}[p];return d?m(d):""}else{if(e===K.NFT_AUTHORIZATION&&l)return m("wallet_extension_toast_approve_collection",{collection:l});if(e===K.NFT_CANCEL_AUTHORIZATION&&l)return m("wallet_extension_history_list_revoke_asset",{approvedasset:l})}return m(s)},[m,e,i,n]);export{dt as a,ht as b,jt as c,Tm as d,jc as e,Xc as f,ze as g,gs as h,xs as i,ys as j,Ts as k,Cs as l,ds as m,bs as n};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-TIUK4KJW.js.map
