import{b as D}from"./chunk-2CQDB45Y.js";import{a as b}from"./chunk-RQ4URFJV.js";import{h as R}from"./chunk-RAK5MQVM.js";import{s as F}from"./chunk-MJYAUOKI.js";import{o as O}from"./chunk-FCCCJLF6.js";import{db as A,y as z}from"./chunk-FK3ETA6I.js";import{q}from"./chunk-QZDHFNHK.js";import{d as I,f as j}from"./chunk-MNNY2ODL.js";import{b as y,c as W}from"./chunk-OXVQDEZW.js";import{j as h,m as V}from"./chunk-X3G52GGX.js";import{ba as g,ca as k,za as v}from"./chunk-QG673PNL.js";import{I as P,m as T}from"./chunk-ZQQ7HNWV.js";import{a as H}from"./chunk-ADZWCU3Q.js";import{f as S,m as L,o as M}from"./chunk-REC7XVZY.js";L();M();var a=S(H()),x=S(z());P();j();v();W();V();function G(t={},e,m=!1){let s=(0,x.useSelector)(A),u=R(t?.localType)[e],i=b(t?.localType),c=e?u:i;return async()=>{let o=await I().getRequestHeaders({walletId:s,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:r=[]}=await h(y.getBTCUTXO,n,{headers:o});return m?r?.map(d=>({...d,utxoList:d?.utxoList?.filter(p=>p.utxoStatusType===2)})):r}catch{return[]}}}function ct(t={},e,m=!1){let s=G(t,e,m),{coinAmountInt:f=0}=D(t?.coinId,e),[u,{setTrue:i,setFalse:c}]=O(!1),[o,{setTrue:n}]=O(!1),[r,d]=(0,a.useState)(""),{coinId:p,decimals:w}=t||{};return(0,a.useEffect)(()=>{p===g?s().then((C=[])=>{C.some((l={})=>l.utxoList?.length>0)?i():c();let U=C?.reduce((l,E)=>{let N=E?.utxoList?.reduce((X,B)=>B?.utxoStatusType===2?T.add(X,B?.coinAmount):X,0);return T.add(l,N)},0);if(U){let l=F(U,{decimals:w});d(l)}n()}).catch(()=>{n(),c()}):(n(),c())},[p,w,f,n,i]),{showManageUTXO:u,NFTAmountDisplay:r,isCheckFinished:o}}function at(t,e){let[m,s]=(0,a.useState)(0),[f,u]=(0,a.useState)([]),i=(0,x.useSelector)(A),c=async()=>{let o=await I().getRequestHeaders({walletId:i,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:q.Occupy}]};try{let{data:r}=await h(y.getBTCUTXO,n,{headers:o});return r[0]||null}catch{return null}};return(0,a.useEffect)(()=>{e.coinId===g||e.coinId===k?c().then(o=>{s(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{s(0),u([])}):(s(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:f}}export{ct as a,at as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-OBBTCULP.js.map
