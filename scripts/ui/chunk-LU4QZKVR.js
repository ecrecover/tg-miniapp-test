import{a as z}from"./chunk-GXKWMF2A.js";import{d as se,p as le}from"./chunk-JZYFGUUR.js";import{c as ie,e as H,f as L}from"./chunk-NZFRZUU7.js";import{a as re}from"./chunk-QYGNKIL6.js";import{g as X,w as u}from"./chunk-MJYAUOKI.js";import{_a as te}from"./chunk-4Z4GXCHB.js";import{y as _e}from"./chunk-FK3ETA6I.js";import{a as fe}from"./chunk-EJQOS3F4.js";import{e as oe}from"./chunk-VCAWL4NW.js";import{c as i}from"./chunk-4QSQKIBZ.js";import{Hc as ee,m as de}from"./chunk-QG673PNL.js";import{A as G,F as Q,c as q}from"./chunk-6MTHEPGF.js";import{I as C,w as _}from"./chunk-ZQQ7HNWV.js";import{M as k,S as j,c as J}from"./chunk-ZOQTSYT4.js";import{a as x,g as M}from"./chunk-ADZWCU3Q.js";import{f as p,m as r,o as s}from"./chunk-REC7XVZY.js";r();s();var S=p(x()),he=(e,o=e.showMe)=>(0,S.memo)(l=>o(l)?S.default.createElement(e,{...l}):null),ae=he;r();s();var F=p(x()),E=p(M());C();r();s();var T=p(x()),A=p(M());C();r();s();var B={walletAsset:"_walletAsset_1rhpe_1",unsupport:"_unsupport_1rhpe_8"};var D=(0,T.memo)(e=>{let{isRpcMode:o,currentRpcNetwork:l,hiddenAssets:t,walletAsset:a,hiddenText:d,unsopportCurrentNetwork:c}=e,n=()=>c?_("extension_wallet_list_not_support",{network:l?.chainName}):t?d:a||`0 ${l?.symbol}`;return T.default.createElement(T.default.Fragment,null,o?T.default.createElement(u.Text,{ellipsis:!0,className:{[B.walletAsset]:!0,[B.unsupport]:c}},n()):T.default.createElement(u.DisplayAmount,{ellipsis:!0,mode:u.LEGAL,useApproximate:!1,hidden:t?d:!1,className:B.walletAsset},a))});D.defaultProps={hiddenText:"***"};D.propTypes={isRpcMode:A.default.bool.isRequired,hiddenAssets:A.default.bool.isRequired,walletAsset:A.default.oneOfType([A.default.string,A.default.number]).isRequired,hiddenText:A.default.string};var P=D;r();s();var R={root:"_root_18r9p_1",keyringName:"_keyringName_18r9p_4",highlight:"_highlight_18r9p_12"};var Z=e=>{let{keyword:o,keyringIdentity:l,isRpcMode:t,hiddenAssets:a,currentRpcNetwork:d,isMpcWallet:c}=e,n=c?_("wallet_extension_tools_tab_keyless"):"";return F.default.createElement(i.FlexBox,{className:R.root},F.default.createElement(u.HighlightKeyword,{keyword:o,className:R.keyringName,text:l?.keyringName,highlightClassName:R.highlight,badge:n,ellipsis:{tooltip:!0}}),F.default.createElement(P,{isRpcMode:t,currentRpcNetwork:d,hiddenAssets:a,walletAsset:l?.walletAsset}))};Z.defaultProps={keyword:""};Z.propTypes={keyword:E.default.string,keyringIdentity:E.default.object.isRequired,isRpcMode:E.default.bool.isRequired,hiddenAssets:E.default.bool.isRequired};var Ue=Z;r();s();var w=p(x()),I=(e,o)=>{let l=e?.toLowerCase()||"";return(o?.toLowerCase()||"").includes(l)},ye=(e=[])=>{let[o,l]=(0,w.useState)(""),[t,a]=(0,w.useState)(""),d=(0,w.useCallback)(n=>{let m=n?.target?.value||"";m=m?.trimStart()||"",l(m)},[]);(0,w.useEffect)(()=>{a(o?.trim()||"")},[o]);let c=(0,w.useMemo)(()=>t?e.map((n={})=>{if(I(t,n?.keyringName))return n;let m=n?.walletIdentities?.filter(O=>I(t,O?.walletName))||[];if(m.length)return{...n,walletIdentities:m};let W=n?.walletIdentities?.filter(O=>Object.values(O.account).some(ce=>I(t,ce)))||[];return W.length?{...n,walletIdentities:W}:null}).filter(Boolean):e||[],[e,t]);return{keyword:o,trimedKeyWord:t,onKeyWordChange:d,filteredKeyringIdentities:c}},Je=ye;r();s();var U=p(J()),ne=p(de()),V=p(M());C();var me=p(_e());var f=p(x());r();s();var N={root:"_root_nt14b_1",main:"_main_nt14b_4",notAllowed:"_notAllowed_nt14b_9",iconWrap:"_iconWrap_nt14b_18",loader:"_loader_nt14b_24",icon:"_icon_nt14b_18",btnText:"_btnText_nt14b_34"};var Y=({keyringIdentity:e,createdCb:o})=>{let l=le(),t=(0,me.useSelector)(X),[a,d]=(0,f.useState)(!1),c=(0,f.useCallback)(async()=>{t||a||(d(!0),l(e?.keyringId).then(m=>{d(!1),m&&o(m)}).catch(m=>{m.message===se&&Q.error({title:_("wallet_extension_error_reminder_system_busy")}),d(!1)}))},[a,o,l,e,t]),n=(0,f.useMemo)(()=>{if(t)return _("wallet_extension_addaccount_text_feature_unavailable")},[t]);return f.default.createElement(G,{title:n,className:N.root,placement:G.DIRECTION.top,maxWidth:328},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:c,className:(0,U.default)(N.main,{[N.notAllowed]:t})},f.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:i.ALIGN.center,className:N.iconWrap},a?f.default.createElement(j.Circle,{className:N.loader,size:j.SIZE.md}):f.default.createElement(k,{className:(0,U.default)("okx-wallet-plugin-plus",N.icon)})),f.default.createElement(i.Box,{className:N.btnText},_("wallet_manage_wallet_btn_add_acoount"))))},ge=e=>{let{keyringIdentity:o,keyword:l,isRpcMode:t}=e;return l?!1:o?.keyringIdentityType===ee.MNEMONIC&&!(0,ne.get)(o,"walletIdentities.0.backupData",[]).length?!0:oe(o?.initialType)?!t:(re(o?.keyringIdentityType),!1)};Y.propTypes={keyringIdentity:V.default.object.isRequired,createdCb:V.default.func.isRequired};var yt=ae(Y,ge),gt=Y;r();s();var v=p(x()),pe=p(fe());C();var Lt=({keyringIdentity:e,className:o})=>{let l=(0,pe.useHistory)(),{accountStatus:t,mpcStatus:a}=e?.status||{},d=(0,v.useMemo)(()=>{switch(!0){case a===L.RECOVER:return _("wallet_extension_mpc_alert_scanqr_sync");case a===L.ESCAPE:return _("wallet_extension_mpc_alert_keyless_escaped");case t===H.FROZEN:return _("wallet_extension_mpc_alert_account_frozen");case t===H.DELETE:return _("wallet_extension_mpc_alert_account_closed");default:return""}},[t,a]),c=()=>{switch(!0){case a===L.RECOVER:return v.default.createElement(k,{className:"okx-wallet-plugin-right"});default:return null}},n=()=>{switch(!0){case a===L.RECOVER:{let m=e?.walletIdentities?.[0]?.walletId;l.push(`${te}?action=${ie.RECOVER}&walletId=${m}`);break}default:break}};return d?v.default.createElement(i.Box,{className:o},v.default.createElement(q,{title:d,type:q.TYPE.warn,closable:!1,rightActionText:c(),onRightAction:n})):null};r();s();var K=p(x()),we=3e3,xe=()=>{let[e,o]=(0,K.useState)(),l=(0,K.useCallback)(t=>{o(t),setTimeout(()=>{o("")},we)},[]);return[e,l]},Mt=xe;r();s();var y=p(x()),ue=p(J()),b=p(M());C();r();s();var h={root:"_root_vo6vv_1",detail:"_detail_vo6vv_5",avatar:"_avatar_vo6vv_5",main:"_main_vo6vv_9",walletNameWrap:"_walletNameWrap_vo6vv_13",walletName:"_walletName_vo6vv_13",subWalletName:"_subWalletName_vo6vv_24",badge:"_badge_vo6vv_29",highlight:"_highlight_vo6vv_32",inline:"_inline_vo6vv_35",disabled:"_disabled_vo6vv_38"};var $=({keyword:e,children:o,disabled:l,isRpcMode:t,currentRpcNetwork:a,hiddenAssets:d,walletIdentity:c})=>{let m=Object.values(c?.account||{}).filter(W=>e&&I(e,W));return y.default.createElement(i.Box,{className:(0,ue.default)(h.root,{[h.disabled]:l})},y.default.createElement(i.FlexBox,{className:h.detail,align:i.ALIGN.center},y.default.createElement(z,{size:z.SIZE.sm,className:h.avatar,walletIdentity:c}),y.default.createElement(i.FlexBox,{justify:i.ALIGN.center,direction:i.DIRECTION.vertical,className:h.main},y.default.createElement(i.FlexBox,{className:h.walletNameWrap},y.default.createElement(u.HighlightKeyword,{keyword:e,text:c?.walletName,className:h.walletName,highlightClassName:h.highlight,ellipsis:{tooltip:!0}})),m.length>0?y.default.createElement(i.Box,null,y.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm,className:h.inline},_("extension_wallet_search_text_account_include")),m.length===1?y.default.createElement(u.HighlightKeyword,{type:u.TYPE.secondary,size:u.SIZE.sm,keyword:e,text:m[0],className:h.inline,forceWrap:!0,highlightClassName:h.highlight}):y.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm,className:h.highlight,forceWrap:!0},e)):y.default.createElement(P,{isRpcMode:t,currentRpcNetwork:a,hiddenAssets:d,walletAsset:c?.walletAsset,unsopportCurrentNetwork:c?.unsupported}))),o)};$.defaultProps={children:null};$.propTypes={keyword:b.default.string.isRequired,isRpcMode:b.default.bool.isRequired,disabled:b.default.bool.isRequired,children:b.default.node,hiddenAssets:b.default.bool.isRequired,walletIdentity:b.default.object.isRequired};var Vt=$;export{ae as a,Ue as b,Je as c,Vt as d,yt as e,gt as f,Lt as g,Mt as h};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-LU4QZKVR.js.map
