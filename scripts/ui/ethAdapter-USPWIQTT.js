import{a as L,g as u,h as T}from"./chunk-4DKEIQZR.js";import"./chunk-LKYWOOF5.js";import"./chunk-XTGUBST2.js";import{a as w}from"./chunk-5CHBWRLU.js";import{m as l}from"./chunk-IUIJ46C3.js";import"./chunk-2RF4WEQ2.js";import"./chunk-XRXUVH6X.js";import"./chunk-KZ3ZU675.js";import"./chunk-NJ5CWPUY.js";import"./chunk-UH5YBH76.js";import"./chunk-CGQV4V24.js";import"./chunk-4PGNX6E2.js";import{a as D,b as E}from"./chunk-3Z22DWGV.js";import"./chunk-6UYK5TIR.js";import"./chunk-I56VJWE4.js";import"./chunk-PS3S6BG3.js";import"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import"./chunk-MGLVPWSV.js";import{c as I}from"./chunk-TXKWPME2.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{cc as c,jc as F,o as a,za as A}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import"./chunk-SOHTSUTI.js";import"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-ZAMSVR5I.js";import"./chunk-FJEX4Z7I.js";import"./chunk-V4F2JFTP.js";import"./chunk-6DDC4Y2S.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-YUXYCITH.js";import"./chunk-QMAXXJCA.js";import"./chunk-HFBVRVPB.js";import"./chunk-SF2LTPAC.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as y,h as f,m as M,n as g,o as S}from"./chunk-EQYVU4XP.js";M();S();var m=y(I());F();var i=y(L());A();var h=class{constructor(){f(this,"signTransaction",async(t,e,n)=>{e=w(e);let o=D(e),s=o.getMessageToSign(!1),p=g.Buffer.isBuffer(s)?s.toString("hex"):m.rlp.encode(s).toString("hex"),{type:r,chainId:P}=e,q={path:t.hdPathMap[a],chainId:P,requestId:c().toLowerCase(),signData:p,dataType:r===l.FEE_MARKET?i.KeystoneEthereumSDK.DataType.typedTransaction:i.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await T.openModal(u.showTxParams,{signRequest:q,baseChain:a}),d=g.Buffer.from(C,"hex"),R=d.slice(0,32),b=d.slice(32,64),N=d.slice(64),x=E(o,{r:R,s:b,v:N});return n?x:{rawTxResult:x}});f(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[a];if(!["V4","V3"].includes(e.version)){e.uiSignErrorMessage="this version of typed data signing is no't supported";return}let s=g.Buffer.from(e.data,"utf-8"),p={path:n,requestId:c().toLowerCase(),signData:s,dataType:i.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint},r=await T.openModal(u.showTxParams,{signRequest:p,baseChain:a});e.rawSig=`0x${r}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[a],o=(0,m.stripHexPrefix)(e.data),s={path:n,requestId:c().toLowerCase(),signData:o,dataType:i.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint},r=`0x${await T.openModal(u.showTxParams,{signRequest:s,baseChain:a})}`;e.result=r}},$=new h;export{$ as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=ethAdapter-USPWIQTT.js.map
