import{b as G,c as M}from"./chunk-KZUQM6PE.js";import{a as D}from"./chunk-EKXTRWYR.js";import{a as F}from"./chunk-FC47KHHQ.js";import{e as m}from"./chunk-JFCE4WMN.js";import{b as R}from"./chunk-TCY2QN26.js";import{g}from"./chunk-Z7MVEL6Q.js";import{q as x,r as O}from"./chunk-OL5PZGTP.js";import{y as Z}from"./chunk-FK3ETA6I.js";import{k as d,o as $}from"./chunk-LHHZ5TAA.js";import{m as X}from"./chunk-QG673PNL.js";import{I as V,w as b}from"./chunk-ZQQ7HNWV.js";import{a as S}from"./chunk-ADZWCU3Q.js";import{f as _,m as L,o as N}from"./chunk-REC7XVZY.js";L();N();var t=_(S()),U=_(Z()),Y=_(X());V();$();var tt=({coinId:u,unapproved:T,networkFee:B,feeLoading:q,estimateFailed:v=!1,preExecuteRet:W={},isSufficientGas:f,isSufficientBalance:j=!0,extParams:C,needCheckMpc:E=!1,chainConfirmDisabled:z=!1,onCancel:e,onConfirm:a})=>{let{id:o,origin:c,localType:i}=T,r=(0,U.useDispatch)(),{address:w,walletId:n}=F(T),{loading:H=!1,verifyGasLimitRet:A={}}=W,P=!f||!j||G(A),s=D(n),l=(0,t.useCallback)(async()=>{e&&typeof e=="function"?e():(s({trade:"contract_interaction",all_confirmation:"cancel",network:i,dapp_url:c}),await r(x(o)),await d(r))},[s,r,o,c,i,e]),J={onClick:l,actionType:m.ACTION_TYPE.CANCEL,btnText:b("wallet_dapp_connection_btn_reject")},K=g(u,n)?.coinAmountInt,p=(0,Y.isNil)(K)||q||v||H||M(A)||z,h=(0,t.useCallback)(async()=>{try{if(E&&!await R({walletId:n,callback:l}))return;a&&typeof a=="function"?a({networkFee:B}):(s({page_type:"contract_interaction",all_confirmation:"confirm",network:i,dapp_url:c}),await r(O(o,C)),await d(r))}catch(I){console.log("error",I)}},[c,E,a,n,l,B,s,i,r,o,C]),y=(0,t.useMemo)(()=>({disabled:p,onClick:h,actionType:m.ACTION_TYPE.CONFIRM}),[p,h]),k=(0,t.useMemo)(()=>({actionType:m.ACTION_TYPE.FILL_UP,txId:o,coinId:u,walletId:n,address:w,receiveOnly:f}),[w,u,o,f,n]),Q=(0,t.useMemo)(()=>p?y:P?k:y,[y,p,k,P]);return{buttonGroup:[J,Q],handleCancel:l}},mt=tt;export{mt as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-NTDPB2D3.js.map
