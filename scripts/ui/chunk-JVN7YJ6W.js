import{j as s,k as h,o as T}from"./chunk-LHHZ5TAA.js";import{c as v,d as k,e as S,f as b,g as m,h as d,l as O}from"./chunk-PI6QLVMS.js";import{X as N,d as A,l as x}from"./chunk-QY4HIIR3.js";import{a as K}from"./chunk-XFWUEPSK.js";import{c as a,d as w,f as F}from"./chunk-MNNY2ODL.js";import{f as I,m as p,o as y}from"./chunk-REC7XVZY.js";p();y();var f=I(K());F();O();T();N();async function H(){return await w().getAllWalletsBalance()}async function D(){return await w().getCurrentWalletBalance()}function P(e,...o){return t=>{let r;return new Promise((n,u)=>{e(...o,(i,l)=>{if(i){u(i);return}r=l,n()})}).then(async()=>(await s(t),r)).catch(async n=>(await s(t),t(d(n.message)),Promise.reject(n)))}}function M(e=!0){return{type:A,value:e}}function g(){return e=>new Promise(o=>{a().unMarkPasswordForgotten(()=>{e(M(!1)),o()})}).then(()=>s(e))}function X(){return async e=>{try{await new Promise((o,t)=>a().markPasswordForgotten(r=>{if(r){t(r);return}o()}))}finally{e(m()),e(M()),await s(e)}}}function q(){return P(a().createWallet)}function z(...e){return o=>new Promise((t,r)=>{a().importWalletWithMnemonic(...e,(n,u)=>{if(n){r(n);return}t(u)})}).then(async t=>(await s(o),t)).catch(t=>Promise.reject(t))}function J(...e){return P(a().importWalletWithPrivateKey,...e)}function Q(...e){return P(a().removeWallet,...e)}function V(...e){return P(a().removeWallets,...e)}function Y(...e){return P(a().updateWalletAddress,...e)}function Z(e,o){return t=>{let r;return new Promise((n,u)=>{a().setSelectedWallet(e,(i,l)=>{if(i){u(i);return}r=l,n()})}).then(async()=>(await h(t),r)).catch(async n=>(await s(t),t(d(n.message)),Promise.reject(n)))}}function $(e){return o=>(o(v()),new Promise((t,r)=>{a().submitPassword(e,n=>{if(n){r(n);return}t()})}).then(()=>(o(S()),s(o))).catch(t=>(o(k(t.message)),Promise.reject(t))))}function ee(e){return o=>{f.default.debug("background.createWalletAndRestore");let t;return new Promise((r,n)=>{a().createWalletAndRestore(e,(u,i)=>{if(u){n(u);return}t=i,r()})}).then(()=>o(g())).then(()=>(o(R()),t)).catch(r=>(o(d(r.message)),Promise.reject(r)))}}function te(e,o,t={}){return r=>{f.default.debug("background.importWalletWithMnemonicAndRestore");let n;return new Promise((u,i)=>{a().importWalletWithMnemonicAndRestore(e,o,t,(l,c)=>{if(l){i(l);return}n=c,u()})}).then(()=>r(g())).then(()=>(r(R()),n)).catch(u=>(r(d(u.message)),Promise.reject(u)))}}function re(e,o,t,r=!1){return n=>{f.default.debug("background.importWalletWithPrivateKeyAndRestore");let u;return new Promise((i,l)=>{a().importWalletWithPrivateKeyAndRestore(e,o,t,r,(c,W)=>{if(c){l(c);return}u=W,i()})}).then(()=>n(g())).then(()=>(n(m()),u)).catch(i=>(n(m()),Promise.reject(i)))}}function ne(e,{cipherText:o,privateKey:t},r,n){return u=>{!n&&u(b()),f.default.debug("background.importWalletWithMpcAndRestore");let i;return new Promise((l,c)=>{a().importWalletWithMpcAndRestore(e,{cipherText:o,privateKey:t},r,(W,j)=>{if(W){c(W);return}i=j,l()})}).then(()=>u(g())).then(()=>(u(m()),i)).catch(l=>(u(m()),Promise.reject(l)))}}function oe(e){return new Promise((o,t)=>{a().verifyPassword(e,r=>{if(r){t(r);return}o(!0)})})}function ue(e,o){return async t=>{await new Promise((r,n)=>{a().addPermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function ae(e,o){return async t=>{await new Promise((r,n)=>{a().removePermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function R(){return{type:x}}export{H as a,D as b,X as c,q as d,z as e,J as f,Q as g,V as h,Y as i,Z as j,$ as k,ee as l,te as m,re as n,ne as o,oe as p,ue as q,ae as r};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-JVN7YJ6W.js.map
