import{a as _e,b as We,c as Eo,d as Ao,e as vo}from"./chunk-KTS3LTDM.js";import{i as Co}from"./chunk-YOTOBB67.js";import{a as bo}from"./chunk-GUR7WW2Z.js";import{a as ko}from"./chunk-JZPJQZZP.js";import{b as Bo}from"./chunk-NT3Q2I7C.js";import{b as De,c as Pe}from"./chunk-WJ5RUTYA.js";import{a as Oe,f as Io}from"./chunk-PMN2TB4L.js";import{a as Fe}from"./chunk-LMWASGSB.js";import{a as te}from"./chunk-ZH3DHMKC.js";import{a as So}from"./chunk-BYAP3GYR.js";import{a as No}from"./chunk-LEKCTZRC.js";import{a as Je}from"./chunk-GXKWMF2A.js";import{a as Me}from"./chunk-PCT6WF3F.js";import{a as To}from"./chunk-WAOH7NV4.js";import{a as ho}from"./chunk-BSJ5U7SB.js";import{b as go}from"./chunk-PCN4TJH3.js";import{h as de,i as Le}from"./chunk-JZYFGUUR.js";import{a as Re}from"./chunk-MF3SQYN7.js";import{i as wo}from"./chunk-PSXFVNX7.js";import{a as uo}from"./chunk-LM5IFABF.js";import{a as lo}from"./chunk-4QGZMEGU.js";import{d as eo,j as to,k as oo,l as ro,m as no}from"./chunk-JGVOOQUI.js";import{b as _o,c as fo}from"./chunk-KWEOQTFQ.js";import{C as xo,K as ue,b as yo}from"./chunk-WWF4GAYE.js";import{j as co,q as po}from"./chunk-JVN7YJ6W.js";import{g as Be}from"./chunk-VSX7BSN7.js";import{b as k}from"./chunk-ZQ5A3KPQ.js";import{a as mo}from"./chunk-BGUY7SH3.js";import{g as Tt,h as Ot,p as Dt,r as Pt,t as Wt,w as o}from"./chunk-MJYAUOKI.js";import{a as Ft}from"./chunk-LI3NFLG3.js";import{q as ve}from"./chunk-FCCCJLF6.js";import{$ as Yt,I as $t,Ja as qt,Oa as Xt,Qa as Rt,S as Kt,Ta as Jt,a as jt,cb as Qt,i as Se}from"./chunk-4Z4GXCHB.js";import{Bb as ee,Ub as Vt,db as Ee,jb as Ae,n as xt,sb as Ut,wb as Gt,y as ie}from"./chunk-FK3ETA6I.js";import{a as Te}from"./chunk-EJQOS3F4.js";import{i as so,k as io,o as ao}from"./chunk-LHHZ5TAA.js";import{c as ht,d as Ce,f as yt}from"./chunk-MNNY2ODL.js";import{b as Xe,f as Mt,j as ae}from"./chunk-C3FJ2D4V.js";import{A as kt,D as Et,J as At,Y as vt,ca as St,f as ke,fa as Bt,i as wt,ia as Lt,l as It,o as bt,r as Nt,x as Ct}from"./chunk-C5ZJZEPI.js";import{h as Zt}from"./chunk-2FULUWWG.js";import{c as i}from"./chunk-4QSQKIBZ.js";import{Hc as le,Sb as ft,Wb as mr,Xb as gt,Yb as dr,hc as qe,jc as ur,m as lr,q as _t,uc as zt,xc as Ht,za as pr}from"./chunk-QG673PNL.js";import{A as pe,D as Ne,F as K,G as me,b as mt,d as Ke,f as se,n as be,w as xe,x as Ye}from"./chunk-6MTHEPGF.js";import{C as je,I as j,m as ct,w as l}from"./chunk-ZQQ7HNWV.js";import{M as pt,R as dt,S as ut,Y as R,c as $e}from"./chunk-ZOQTSYT4.js";import{a as L,g as cr}from"./chunk-ADZWCU3Q.js";import{f,m as e,o as t}from"./chunk-REC7XVZY.js";e();t();var Lo=f(L()),Qe=f(ie()),Fr=r=>{let n=(0,Qe.useSelector)(Ee),s=(0,Qe.useSelector)(Ae)[r||n];return(0,Lo.useMemo)(()=>s?.keyringIdentityType===le.MPC,[s])};e();t();var h=f(L()),ze=f(ie()),Mo=f(Te());j();ao();yt();e();t();var z={main:"_main_17c8w_1",connectManage:"_connectManage_17c8w_11",button:"_button_17c8w_14",left:"_left_17c8w_22",imgWrapper:"_imgWrapper_17c8w_29",icon:"_icon_17c8w_35",chainIcon:"_chainIcon_17c8w_38",status:"_status_17c8w_41",origin:"_origin_17c8w_49",arrowIcon:"_arrowIcon_17c8w_53",disconnectIcon:"_disconnectIcon_17c8w_58",divider:"_divider_17c8w_67"};var _r=({disconnectCallback:r})=>{let n=(0,Mo.useHistory)(),a=(0,ze.useDispatch)(),s=_e(),p=De({dappUrl:s?.origin}),m=de(),{walletInfo:d}=Pe({dappUrl:s?.origin,walletId:m}),{imageUrl:T,icon:c}=We({origin:s?.origin}),g=(0,ze.useSelector)(ee),C=(0,h.useMemo)(()=>{let{provider:I,method:D}=p||{};return s?.isOkx||I===ke&&(D===Re.requestWallets||D===Re.walletRequestWallets)},[p,s]),E=(0,h.useMemo)(()=>{if(p?.provider===Nt)return h.default.createElement(h.default.Fragment,null,h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-border-primary)"}},"\uFF5C"),h.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},l("wallet_extension_cosmos_text_cosmos_network")));if(!d?.address&&!s.isOkx)return null;let I=null;switch(!0){case C:I=h.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},l("wallet_extension_card_text_all_network"));break;case!!d?.address:I=h.default.createElement(h.default.Fragment,null,h.default.createElement(Ke,{width:14,height:14,alt:"chain",src:T||c||ae,errorImg:ae,pictureClassName:z.chainIcon}),h.default.createElement(o.Text,{size:o.SIZE.xs,ellipsis:!0,strong:500},xt(d?.address)));break;default:break}return h.default.createElement(h.default.Fragment,null,h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary},"\uFF5C"),I)},[p?.provider,c,s.isOkx,d?.address,T]);if(!s.originNoPrefix||g)return"";let u=()=>{n.push(Se)},y=async()=>{Ce().clearCookie(s.origin),await Ce().removePermittedAllAccount(s.origin),await Ce().removeSilencePermission(s.origin),r(),await io(a)};return h.default.createElement(mo,{offsetBottom:0},h.default.createElement("div",{className:z.main},h.default.createElement("div",{className:z.left},h.default.createElement("div",{className:z.imgWrapper},h.default.createElement(Ke,{width:44,height:44,alt:"dapp-icon",src:s.icon||ae,errorImg:ae,className:z.icon})),h.default.createElement("div",{className:z.status},h.default.createElement(o.Text,{strong:700,ellipsis:!0,className:z.origin},s.originNoPrefix),h.default.createElement(i.FlexBox,null,h.default.createElement(i.FlexBox,{align:i.ALIGN.center,onClick:u,className:z.connectManage},h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-content-disabled)"},ellipsis:!0},l("extension_defi_bot_text_connected")),E,h.default.createElement(pt,{className:`okds-arrow-chevron-right-centered-sm ${z.arrowIcon}`}))))),h.default.createElement("div",{className:z.divider}),h.default.createElement(pe,{title:l("wallet_extension_footer_textbtn_disconnect"),placement:pe.DIRECTION.topLeft},h.default.createElement(k.IconButton,{icon:"okds-unlink",className:z.disconnectIcon,onClick:y}))))},mn=_r;e();t();var Y=f(L());var Oo=f(ie());e();t();var we={balanceWrapper:"_balanceWrapper_1j1uf_1",refreshIcon:"_refreshIcon_1j1uf_9",balance:"_balance_1j1uf_1",refreshAnimation:"_refreshAnimation_1j1uf_26",refresh:"_refresh_1j1uf_9"};var vn=({balance:r,className:n="",symbol:a,hiddenAssets:s,onToggleHiddenAssets:p})=>{let[m,d]=Y.default.useState("hidden"),T=(0,Oo.useSelector)(Ut),c=(0,Y.useMemo)(()=>a?`${r} ${a}`:Pt(r,{symbol:T,useApproximate:!1}),[a,r,T]),g=()=>{d("hidden")},C=(0,Y.useCallback)(()=>{m!=="loading"&&d("show")},[m]),E=(0,Y.useCallback)(()=>{m!=="loading"&&d("hidden")},[m]);return Y.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${we.balanceWrapper} ${n}`,onClick:p,onMouseEnter:C,onMouseLeave:E},Y.default.createElement(o.AdaptiveText,{strong:!0,autoSize:!0,ellipsis:{tooltip:!0},text:c,onAnimationEnd:g,className:`${we.balance} ${m==="success"&&we.refreshAnimation}`},s?"*****":""),!s&&Y.default.createElement(Io,{className:we.refreshIcon,status:m,handleRefresh:d}))};e();t();var B=f(L());j();e();t();var Fo=f(L());var fr={"MNEMONIC WALLET":"seed_phrase","PRIVATE KEY WALLET":"private_key","MPC WALLET":"mpc","HARDWARE WALLET":"hardware"},gr=r=>{let n=de(),a=Le(n),s=fr[a?.keyringIdentityType];return(0,Fo.useCallback)(m=>{r({...m,wallet_type:s})},[r,s])},fe=gr;e();t();ur();var hr=207,yr=!(qe&&qe<=hr);function xr(){let{data:r,set:n}=_o(fo.isNewMenu,yr);return{onReadNewFeature:async()=>{r&&n(!1)},hasNewFeature:r}}var He=xr;e();t();var Ie=f(L()),tt=f($e());e();t();var et={root:"_root_c5avj_1",dot:"_dot_c5avj_4"};e();t();function Tr(r){let{children:n,offset:a={},dot:s=!1,dotStyle:p={},className:m,dotClassName:d}=r,T=(0,Ie.useMemo)(()=>{if(Array.isArray(a)){let[C=0,E=0]=a;return{...p,top:C,right:E}}let{top:c=0,right:g=0}=a;return{...p,top:c,right:g}},[p,a]);return s?Ie.default.createElement(i.Box,{className:(0,tt.default)(et.root,m)},Ie.default.createElement(i.Box,{className:(0,tt.default)(et.dot,d),style:T}),n):n}var Do=Tr;e();t();var $=f(L());e();t();var Go=f(Te());j();e();t();j();e();t();var wr=go(Tt),Po=wr;var Ir=(r=[])=>r.filter(n=>[le.MNEMONIC,le.MPC].includes(n.keyringIdentityType)).every(n=>n.walletIdentities.some(a=>(a.backupData??[]).length>0));function br(){let{canAddAccount:r,keyringIdentities:n}=No(),a=Po(),s=Oe();return{openBatchAddAccount:()=>{if(!n.some(d=>[le.MNEMONIC,le.MPC].includes(d.keyringIdentityType))){me.warn(l("wallet_extension_tools_alert_add_seedphrase_wallet"));return}if(Ir(n)){s();return}if(a){me.warn(l("wallet_extension_addaccount_text_feature_unavailable"));return}if(!r){me.warn(l("wallet_extension_addaccount_text_max_accounts"));return}te(Xt)}}}var Wo=br;e();t();function Nr(){return{openBatchImportPrivateKey:()=>{te(Rt)}}}var zo=Nr;e();t();j();function Cr(){let{hasBackUpWallet:r,batchTransferAvailable:n}=Co(),a=Oe();return{openBatchTransfer:()=>{if(!r){a();return}if(!n){me.warn(l("wallet_extension_sending_text_multisender_unsupported"));return}te(qt)}}}var Ho=Cr;e();t();function kr(){return{openBulkRename:()=>{te(Jt)}}}var Uo=kr;e();t();dr();mr();var H={gasTracker:{title:"wallet_extension_home_text_gas_tracker",img:{light:"/cdn/assets/imgs/241/A80AEDB730957F83.png",dark:"/cdn/assets/imgs/245/BC8F036AFA9943CA.png"},monitor:"gas_tracker"},faucetCenter:{title:"wallet_extension_toolkit_tab_title_testnet_faucets",subtitle:"wallet_extension_toolkit_tab_desc_obtain_test_tokens",img:{light:"/cdn/assets/imgs/247/8A4A0E77D847F957.png",dark:"/cdn/assets/imgs/247/0E8D59E03D443348.png"},monitor:"faucet_center",tag:"wallet_extension_tag_expand_new"},batchTransfer:{title:"wallet_extension_home_title_crypto_multisender",subtitle:"wallet_extension_home_text_crypto_multisender",button:"batch_transfer",img:{light:"/cdn/assets/imgs/241/4F4A83D1A999297F.png",dark:"/cdn/assets/imgs/245/5F5376B72110257C.png"},monitor:"mutisender"},batchAddAccount:{title:"wallet_extension_home_title_add_multiple",subtitle:"wallet_extension_home_text_add_multiple",button:"batch_add_account",img:{light:"/cdn/assets/imgs/241/559B6DED0D42D247.png",dark:"/cdn/assets/imgs/245/A9C36C4334132F5E.png"},monitor:"add_account"},bulkRename:{title:"wallet_extension_account_tab_title_bulk_edit_name",subtitle:"wallet_extension_account_tab_subtitle_bulk_edit_name",button:"bulk_rename",img:{light:"/cdn/assets/imgs/247/D3E1142CAE248091.png",dark:"/cdn/assets/imgs/247/920B783D6E3F3393.png"},monitor:"bulk_rename"},downloadAddress:{title:"wallet_extension_home_title_download_addresses",subtitle:"wallet_extension_home_text_download_addresses",button:"download_address",hideFn:()=>gt()===ft,img:{light:"/cdn/assets/imgs/241/3485F4D090FC934B.png",dark:"/cdn/assets/imgs/245/F63CA4BB0CA9A69B.png"},monitor:"download_address"},batchImportPrivateKey:{title:"wallet_extension_home_title_bulk_private",subtitle:"wallet_extension_home_text_bulk_private",button:"batch_import_private_key",img:{light:"/cdn/assets/imgs/241/0537CCEC20A2C6FD.png",dark:"/cdn/assets/imgs/245/0C18EB89C20D59EE.png"},monitor:"import_private"},runeSplit:{title:"wallet_extension_runes_header_title_split_merge",subtitle:"wallet_extension_runes_desc_split_merge",button:"batch_import_private_key",img:{light:"/cdn/assets/imgs/247/95736E81C61BDE7B.png",dark:"/cdn/assets/imgs/247/516588A192F5E988.png"},monitor:"Split_Runes"}};function Er(r){let n=(0,Go.useHistory)(),{openBatchTransfer:a}=Ho(),{downloadAddress:s}=ko(),{openBatchAddAccount:p}=Wo(),{openBatchImportPrivateKey:m}=zo(),{openBulkRename:d}=Uo(),{isRpcMode:T}=Fe(),c=uo(),g=Me(),{hasNewFeature:C}=He();return H.batchAddAccount.func=p,H.batchTransfer.func=a,H.downloadAddress.func=s,H.batchImportPrivateKey.func=m,H.bulkRename.func=d,H.gasTracker.func=()=>{n.push(Qt)},H.runeSplit.func=()=>{globalThis.platform.openTab({url:`https://${c}/web3/toolkit/runes-split`})},H.gasTracker.hideFn=()=>T,H.gasTracker.customSubtitle=r(),H.faucetCenter.func=()=>{globalThis.platform.openTab({url:g.faucetCenter})},{subMenus:Object.entries(H).map(([y,I])=>({key:y,title:l(I.title)||I.title,subtitle:I.customSubtitle||l(I.subtitle),hideFn:I.hideFn,tag:I.tag,img:Zt(I.img),onClick:bo(xo,{tools:I.monitor})(I.func)})).filter(y=>y.hideFn?!y.hideFn():!0),hasNewFeature:C}}var Vo=Er;j();var $o=f(lr());e();t();var oe=f(L());j();e();t();var ge={wrapper:"_wrapper_1k679_1",img:"_img_1k679_7",title:"_title_1k679_12",right:"_right_1k679_16",tag:"_tag_1k679_19"};var Zo=({onClick:r,img:n,title:a,subtitle:s,tag:p})=>oe.default.createElement(i.FlexBox,{className:ge.wrapper,onClick:r,align:i.ALIGN.center},oe.default.createElement(Ne,{src:n,className:ge.img}),oe.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,className:ge.right},oe.default.createElement(o.Text,{className:ge.title,strong:700},a),oe.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,ellipsis:{rows:2}},s)),p&&oe.default.createElement(i.FlexBox,{className:ge.tag,align:i.ALIGN.center},oe.default.createElement(o.Text,{strong:700,size:o.SIZE.xs,style:{color:"var(--okx-wallet-color-black)"}},l(p))));e();t();var jo={wrapper:"_wrapper_17e30_1"};var Ko=()=>{let{isRpcMode:r}=Fe(),n=ho(),a=_e(),{chainName:s,coinId:p}=We({origin:a?.origin}),m=n.find(y=>y.coinId===p)?.chainId,d=a.originNoPrefix?m:1,{supportChain:T}=Ao(),c=vo(d,T),{gasData:g,gasDataFn:C}=Eo(c?.chainId);(0,$.useEffect)(()=>{!r&&!(0,$o.isUndefined)(c?.chainId)&&C()},[C,r,c?.chainId]);let E=(0,$.useCallback)(()=>{if(!T.length)return"--";let{baseFee:y,priorityFee:I,feeUnit:D}=g,q=y?ct.add(y,I):"--",X=Wt(q,{type:Dt});return c?.chainId===1?je("wallet_extension_home_text_eth_current_gas",{gwei:$.default.createElement(o.Text,{size:o.SIZE.xs},`${X} ${D}`)}):je("wallet_extension_home_text_current_network_fee",{network:s,amount:$.default.createElement(o.Text,{size:o.SIZE.xs},`${X} ${D}`)})},[s,g,c?.chainId,T]),{subMenus:u}=Vo(E);return $.default.createElement($.default.Fragment,null,u.map((y,I)=>$.default.createElement("div",{className:jo.wrapper,key:I},$.default.createElement(Zo,{...y}))))};e();t();e();t();var re={main:"_main_1b5nv_1",iconWrapper:"_iconWrapper_1b5nv_9",iconItem:"_iconItem_1b5nv_12",dialogHeader:"_dialogHeader_1b5nv_19",headerIcon:"_headerIcon_1b5nv_25",toolkitWrapper:"_toolkitWrapper_1b5nv_29",iconAniWrapper:"_iconAniWrapper_1b5nv_51",text:"_text_1b5nv_66",moveOutAnimation:"_moveOutAnimation_1b5nv_69",moveOut:"_moveOut_1b5nv_69",moveInAnimation:"_moveInAnimation_1b5nv_73",moveIn:"_moveIn_1b5nv_73",iconTitle:"_iconTitle_1b5nv_85"};var Ar=46,_a=({clickHandle:r,iconOptions:n,customMore:a})=>{let[s,p]=(0,B.useState)(!1),{onReadNewFeature:m}=He(),[d,T]=(0,B.useState)(""),c=(0,B.useRef)(),g=fe(ue),C=async u=>{u.type==="MORE"&&(g({homepage:"toolkit"}),p(!0),await m()),r(u)};(0,B.useLayoutEffect)(()=>{let u=Ar;for(let y of c?.current?.children)u=Math.max(u,y.getBoundingClientRect().width||0);c.current?.children?.length>0&&T(Math.ceil(u))},[n]);let E=u=>{let y=u.type==="MORE";return y&&a?B.default.createElement("div",{onClick:()=>{C(u)}},a(d)):B.default.createElement(k.IconButtonWithLabel,{style:{width:d},className:re.iconWrapper,iconClassName:`${re.iconItem} ${y?re.moveOutAnimation:""}`,strong:!1,disabled:u.disabled,space:13,ellipsis:!0,text:l(u.text),icon:u.icon,onClick:()=>{C(u)}})};return B.default.createElement("div",{className:re.main,ref:c},n.map(u=>u.hasNewFeature?B.default.createElement(Do,{dot:!0,offset:{right:2,top:2},className:re.iconWrapper},E(u)):u.disabled&&u.disabledText?B.default.createElement(pe,{title:l(u.disabledText),placement:pe.DIRECTION.bottom},E(u)):E(u)),B.default.createElement(be,{footer:null,alignBottom:!0,maskClosable:!0,noContentPadding:!0,noMargin:!0,title:B.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:i.ALIGN.center},l("wallet_extension_home_text_toolkit")),topClassName:re.dialogHeader,visible:s,onClose:()=>p(!1)},B.default.createElement("div",{className:re.toolkitWrapper},B.default.createElement(Ko,null))))};e();t();var x=f(L()),Ue=f(ie()),er=f(Te());var tr=f(Ft());j();ao();e();t();var he=f(L());var Yo=f(Te());e();t();var ot={container:"_container_1eikt_1",arrowIcon:"_arrowIcon_1eikt_13"};var qo=()=>{let r=So(),n=(0,Yo.useHistory)(),a=fe(ue),s=(0,he.useCallback)(()=>{a({homepage:"network"}),n.push(`${Kt}?tab=${r?.networkType}`)},[n,r]);if(!r)return null;let{chainName:p,icon:m}=r;return he.default.createElement("div",{className:ot.container,onClick:s},he.default.createElement(k,{size:"18px",fontSize:"12px",src:m,text:p,textTheme:k.TEXT_THEME.black,defaultIcon:ae}),he.default.createElement(k,{size:"18px",fontSize:"12px",className:`okx-wallet-plugin-select-unfold ${ot.arrowIcon}`}))};e();t();var v=f(L()),Ro=f(ie());var Jo=f(Ft());j();pr();e();t();var M=f(L()),J=f(cr());j();var rt=f($e());e();t();var S={container:"_container_1uj01_1",contentContainer:"_contentContainer_1uj01_4",firstInMore:"_firstInMore_1uj01_15",expanded:"_expanded_1uj01_18",isGroup:"_isGroup_1uj01_22",left:"_left_1uj01_25",main:"_main_1uj01_33",name:"_name_1uj01_40",addr:"_addr_1uj01_44",right:"_right_1uj01_50",copyIcon:"_copyIcon_1uj01_50",moreOrLessContainer:"_moreOrLessContainer_1uj01_53",text:"_text_1uj01_57",accordion:"_accordion_1uj01_66",accordionContent:"_accordionContent_1uj01_70",accordionHeader:"_accordionHeader_1uj01_73"};var nt=({image:r,chainName:n,addressType:a,address:s,isGroup:p,expanded:m,lastInMore:d,onToggle:T})=>{let c=()=>m?l("extension_defi_popup_textbtn_show_less"):l("extension_defi_popup_textbtn_show_all_address_types");return M.default.createElement("div",{className:(0,rt.default)(S.container,m?S.expanded:"")},M.default.createElement("div",{className:(0,rt.default)(S.contentContainer,m?S.expanded:"",p?S.isGroup:"",p&&!m?S.firstInMore:"")},M.default.createElement("div",{className:S.left},M.default.createElement(k,{src:r,size:Ot.lg,className:"new-home__address-copy-chain-item-left",defaultIcon:Mt})),M.default.createElement("div",{className:S.main},M.default.createElement(o.Text,{ellipsis:!0,className:S.name,size:o.SIZE.md},n),a&&M.default.createElement(se,{className:"address-copy-badge",type:se.TYPE.rounded},l(zt[a])),M.default.createElement("div",{className:S.addr},s)),M.default.createElement("div",{className:S.right},M.default.createElement(k,{icon:"okx-wallet-plugin-copy-1",className:S.copyIcon}))),p&&!m||d?M.default.createElement("div",{className:S.moreOrLessContainer},M.default.createElement("div",{onClick:g=>{g.stopPropagation()}},M.default.createElement(mt,{expanded:m,className:S.accordion,contentClassName:S.accordionContent,headerClassName:S.accordionHeader,onToggle:T,title:M.default.createElement("div",{className:S.text},c())}))):null)};nt.propTypes={image:J.default.string,chainName:J.default.string,addressType:J.default.string,address:J.default.string,expanded:J.default.bool,isGroup:J.default.bool,lastInMore:J.default.bool,onToggle:J.default.func};nt.defaultProps={image:"",chainName:"",addressType:"",address:"",expanded:!1,isGroup:!1,lastInMore:!1,onToggle:()=>{}};var Xo=nt;e();t();var ce={addressIcon:"_addressIcon_14nnq_1",close:"_close_14nnq_7",underlineWrapper:"_underlineWrapper_14nnq_10",tag:"_tag_14nnq_13",empty:"_empty_14nnq_16"};var vr=(r,n,a,s)=>{if(!r)return[];let p=Object.keys(s),m={},d=[...r].sort((c,g)=>{let C=c?.chainName?.charAt(0).toUpperCase(),E=g?.chainName?.charAt(0).toUpperCase();return C?.localeCompare(E)});if(r.length<=4||a)return d;for(let c=0;c<d.length;c++){let g=d[c]?.chainName?.charAt(0).toUpperCase();g&&!m[g]&&(d.splice(c,0,{isTag:!0,tagName:g}),c!==0&&d.splice(c,0,{isTag:!0,tagName:"",isUnderLine:!0}),m[g]=!0,c++)}let T=n.length?[{isTag:!0,tagName:l("extension_wallet_switchnetwork_subtitle_popular_networks")},...n.map(c=>{let g=p.find(C=>C===`${c.address}${c.chainId}`);return g?{...c,showMore:s[g]}:c}),{isTag:!0,tagName:"",isUnderLine:!0},...d]:d;return a?[[],""]:T},Sr=({addresses:r,hotAddresses:n,CopyButton:a,visible:s,setVisible:p})=>{let[m,d]=(0,v.useState)({}),T=(0,Ro.useSelector)(ee),{run:c}=ve(()=>{T&&K.warn({title:l("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:K.DIRECTION.top})},{leading:!0,wait:300}),{isSm:g}=dt(),[C,E]=(0,v.useState)(!1),u=(0,v.useRef)(null),y=({value:A},P)=>{if(A==="disable")return!1;let W=P.toLowerCase()||"",F=A?.chainName.toLowerCase()||"",b=A?.symbol.toLowerCase()||"";return F.indexOf(W)>-1||b.indexOf(W)>-1},I=vr(r,n,C,m),q=(A=>{let P=[],W=(F,b,{lastInMore:V=!1}={})=>{P.push({value:{address:b.address,chainName:b.chainName,symbol:b.symbol,addressType:b.addressType},label:v.default.createElement(Xo,{image:b.image,chainName:b.chainName,address:b.address,addressType:b.addressType,expanded:F.showMore,isGroup:b.moreAddress&&b.moreAddress.length>0,lastInMore:V,onToggle:ne=>{d({...m,[`${F.address}${F.chainId}`]:ne})}})})};return A.forEach(F=>{let{isTag:b,tagName:V,isUnderLine:ne,moreAddress:Q,showMore:Ge}=F;if(ne){P.push({value:"disable",label:v.default.createElement("div",{className:ce.underlineWrapper},v.default.createElement("div",{className:"new-home__address-copy-underline"}))});return}if(b){P.push({value:"disable",label:v.default.createElement("div",{className:ce.underlineWrapper},v.default.createElement(o.Text,{size:o.SIZE.sm,type:o.TYPE.secondary,className:ce.tag},V)),className:"title-tag"});return}W(F,F),Ge&&Q.map((Ve,Ze)=>W(F,Ve,{lastInMore:Ze===Q.length-1}))}),P})(I),X=A=>{if((0,Jo.default)(A.value.address),A.value==="disable")return;let P=A.value.addressType,W=P?To(l,Ht[_t][P],A.value.symbol):l("wallet_extension_transaction_toast_network_address_copied",{network:A.value.chainName});K.success({title:W,desc:A.value.address,duration:1.5,placement:K.DIRECTION.top,containerClassName:"address-copy-notification"})};return(0,v.useEffect)(()=>{u.current?.setVisible(s)},[s]),v.default.createElement("div",{className:"new-home__address-copy",onClick:c,"data-testid":"address"},v.default.createElement(xe,{ref:u,disabled:T,onSearch:A=>{E(!!A)},options:q,onChange:X,dialogMode:!0,dropMode:!1,dialogProps:{titleCenter:!0,isFull:!g,noContentPadding:!0,noTopRadius:!1,windowStyle:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},closeClassName:ce.close},optionTitle:l("extension_wallet_address_title_wallet_address"),searchable:q.length>10,searchFilter:y,scrollStyle:{maxHeight:"398px",height:"auto"},searchEmpty:v.default.createElement(Ye.State,{className:ce.empty,type:Ye.State.TYPE.noRecord,title:l("wallet_toast_address_input_noresults")}),searchPlaceholder:l("wallet_toast_address_input_search"),displayArea:a,popupProps:{zIndex:10001,offset:[-150,0]},optionContClassName:"new-home__address-copy-drop-container",optionItemClassName:"new-home__address-copy-drop-option",onToggleShow:A=>{p(A)}}))},Br=({visible:r,addresses:n,hotAddresses:a,setVisible:s})=>v.default.createElement(v.default.Fragment,null,v.default.createElement(k.IconButton,{size:k.SIZE.md,icon:"okx-wallet-plugin-copy-3",className:ce.addressIcon}),v.default.createElement(Sr,{visible:r,setVisible:s,CopyButton:()=>v.default.createElement("div",null),addresses:n,hotAddresses:a})),Qo=Br;e();t();var U={main:"_main_1czhn_1",avatar:"_avatar_1czhn_10",topTitle:"_topTitle_1czhn_19",content:"_content_1czhn_22",address:"_address_1czhn_28",copyWrapper:"_copyWrapper_1czhn_31",title:"_title_1czhn_36",maxWitdh:"_maxWitdh_1czhn_40",divider:"_divider_1czhn_43",locking:"_locking_1czhn_47",optionIcon:"_optionIcon_1czhn_52",network:"_network_1czhn_56",setting:"_setting_1czhn_63",chainIcon:"_chainIcon_1czhn_70",unfoldIcon:"_unfoldIcon_1czhn_75"};var jl=x.default.memo(({titleLeft:r,titleRight:n,subTitle:a,address:s,chainName:p,filterAddress:m,filterHotAddress:d,isNotBackupWallet:T,isFactionPKAccount:c})=>{let g=de(),[C,E]=x.default.useState(!1),u=Me(),y=(0,Ue.useDispatch)(),I=Le(g),{sidepanelAvailable:D,sidepanelMode:q}=(0,Ue.useSelector)(Gt),[X,A]=x.default.useState([{type:"url",to:$t,label:l("wallet_extension_top_hover_settings"),icon:"okx-wallet-plugin-settings-2",monitor:"setting"},{type:"url",to:Se,label:l("wallet_extension_home_title_dapps_connection"),icon:"okds-language",monitor:"connect_dapp"},{name:"link-to-web3",type:"url",href:`${u.web3}`,label:l("extension_wallet_home_dropdown_expanded_view"),icon:"okx-wallet-plugin-official-website",monitor:"go_to_dashboard"},{type:"sidepanel",hide:!D,label:q?l("wallet_extension_home_title_popup_mode"):l("wallet_extension_home_title_sidebar_mode"),icon:"okx-wallet-plugin-home-swap"},{type:"lock",label:l("wallet_settings_btn_lock_wallet"),icon:"okx-wallet-plugin-lock-1",monitor:"lock_wallet"}]),P=X.filter(w=>!w.hide),W=c?l("wallet_extension_popup_title_receiving_address_copied"):l("wallet_extension_transaction_toast_network_address_copied",{network:p});x.default.useEffect(()=>{A(w=>{let Z=w.findIndex(ye=>ye.name==="link-to-web3");if(Z!==-1){let ye=[...w];return ye[Z]={...ye[Z],href:`${u.web3}`},ye}return w})},[u.web3]);let F=async()=>{A(w=>w.map(Z=>Z.type==="lock"?{...Z,type:"locking"}:Z)),wo(),await y(so()),A(w=>w.map(Z=>Z.type==="locking"?{...Z,type:"lock"}:Z))},b=async()=>{try{q?(await globalThis.platform.setPanelBehavior(!1),await y(Be(!1)),window.close()):(yo(),await globalThis.platform.setPanelBehavior(!0),await y(Be(!0)),await globalThis.platform.openSidepanel(),window.close())}catch{await globalThis.platform.setPanelBehavior(!1),await y(Be(!1))}},V=(0,er.useHistory)(),ne=`${Yt}?fromHome=1`,Q=fe(ue),Ge=async w=>{if(w.monitor&&Q({homepage:w.monitor}),w.type==="lock"&&F(),w.type!=="locking")return w.type==="sidepanel"&&b(),w?.to&&V.push(w.to),w?.href&&globalThis.open(w.href),!0},{run:Ve}=ve(()=>{if(T){K.warn({title:l("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:K.DIRECTION.top});return}s?(K.success({title:W,desc:s,duration:1.5,placement:K.DIRECTION.top,containerClassName:"address-copy-notification"}),(0,tr.default)(s)):m.length>0&&E(!0)},{leading:!0,wait:300}),Ze=()=>{Q({homepage:"manage_wallet"})},lt=()=>{Ze(),V.push(ne)};return x.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:U.main},x.default.createElement(i.Box,{onClick:lt,className:U.avatar},x.default.createElement(Je,{size:Je?.SIZE.sm,walletIdentity:I})),x.default.createElement(i.FlexBox,{className:U.content,gutter:6,align:i.ALIGN.center},x.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,className:U.copyWrapper,onClick:lt},x.default.createElement(i.FlexBox,{align:i.ALIGN.center,gutter:6,className:U.title},x.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:n?U.maxWitdh:""},r,"\xA0"),n&&x.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:U.maxWitdh},`- ${n}`)),x.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:U.address},x.default.createElement(o.Text,{strong:500,ellipsis:!0,size:o.SIZE.sm},a),x.default.createElement(k,{size:"16px",fontSize:"16px",className:"okx-wallet-plugin-down-1"})))),x.default.createElement(i.FlexBox,{align:i.ALIGN.center},x.default.createElement(i.FlexBox,{onClick:w=>{w.stopPropagation(),Q({homepage:"copy_address"}),Ve()}},x.default.createElement(Qo,{visible:C,setVisible:E,addresses:m,hotAddresses:d})),x.default.createElement(xe,{displayArea:()=>x.default.createElement(k.IconButton,{size:k.SIZE.md,icon:"okx-wallet-plugin-settings-2",className:U.setting}),renderOption:({option:w})=>w?.type==="locking"?x.default.createElement(i.FlexBox,{align:i.ALIGN.center},x.default.createElement(ut,{className:U.locking,loaderStyle:{height:16,width:16}}),x.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},w.label)):x.default.createElement(i.FlexBox,{align:i.ALIGN.center},x.default.createElement(k,{size:k.SIZE.xs,icon:w.icon,className:U.optionIcon}),x.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},w.label)),hoverMode:!0,options:P,onChange:Ge,align:xe.DIRECTION.right}),x.default.createElement(i.FlexBox,{align:i.ALIGN.center},x.default.createElement(qo,null))))});e();t();var N=f(L()),G=f(ie()),sr=f(Te()),ir=f($e());j();yt();e();t();var O={main:"_main_bin2h_1",header:"_header_bin2h_5",logo:"_logo_bin2h_5",dappName:"_dappName_bin2h_11",currentAccount:"_currentAccount_bin2h_15",title:"_title_bin2h_18",connectItem:"_connectItem_bin2h_21",connectItemTitle:"_connectItemTitle_bin2h_27",badge:"_badge_bin2h_30",disabled:"_disabled_bin2h_33","disable-message":"_disable-message_bin2h_42",disableMessage:"_disable-message_bin2h_42"};e();t();var rr=f(L());e();t();var or=[ke,Et,bt,wt,It,Ct,At,vt,St,Bt,Xe["ethereum-provider"],Xe["okx6963-provider"],Lt,kt];var nr=r=>{let n=De({dappUrl:r});return{allowChangeAccount:(0,rr.useMemo)(()=>or.includes(n?.provider),[n])}};var st=null,Lr=({showBackup:r})=>{let n=(0,G.useDispatch)(),[a,s]=(0,N.useState)(!1),p=(0,G.useSelector)(no),m=(0,G.useSelector)(Ae),d=(0,sr.useHistory)(),T=(0,G.useSelector)(eo),c=(0,G.useSelector)(to),g=(0,G.useSelector)(ro),C=(0,G.useSelector)(Vt),E=lo(c.origin,C),u=(0,G.useSelector)(oo),y=(0,G.useSelector)(Ee),I=(0,G.useSelector)(ee),{connectable:D,chainName:q}=Pe({dappUrl:c.origin,walletId:y}),X=Bo(y),{allowChangeAccount:A}=nr(c.origin);if((0,N.useEffect)(()=>{if(!st||st!==p){if(st=p,!c||!u||!X)return;if(I){r();return}s(!T.find(b=>b.host===c?.host))}},[c,u,T,p,I,X,r]),!a||!A||!D)return null;let P=()=>{n(po(c?.origin,y)),s(!1)},W=({title:b,right:V,active:ne=!1,disabled:Q})=>N.default.createElement(i.FlexBox,{justify:"space-between",className:(0,ir.default)({[O.connectItem]:!0,[O.disabled]:Q}),align:i.ALIGN.center},N.default.createElement(i.FlexBox,{justify:"center",align:i.ALIGN.center},N.default.createElement(o.Text,{strong:700,ellipsis:{tooltip:!0,rows:2},size:o.SIZE.md,className:O.connectItemTitle},b),ne&&N.default.createElement(se,{color:se.COLOR.green,type:se.TYPE.rounded,className:O.badge},l("wallet_extension_mid_tag_active"))),V),F=b=>{n(co(b)),ht().getChainFromServer(),d.push(jt)};return N.default.createElement(be.Action,{onClose:()=>{s(!1)},visible:!0,noTopRadius:!1,topStyle:{border:"none"},windowStyle:{overflow:"hidden",background:"var(--okd-color-container-primary)",height:"540px"},title:N.default.createElement(N.default.Fragment,null)},N.default.createElement("div",{className:O.main},N.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:O.header,direction:i.DIRECTION.vertical},N.default.createElement(Ne,{alt:"dapp-logo",className:O.logo,src:c.icon}),N.default.createElement(o.Text,{strong:700,size:o.SIZE.md,className:O.dappName},l("wallet_extension_top_title_current_unconnected",{dapp:c?.name||""}))),N.default.createElement("div",{className:O.currentAccount},N.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:O.title},l("wallet_extension_header_subtitle_current_account")),W({title:p,disabled:!D,right:N.default.createElement(R,{category:R.CATEGORY.fill,type:R.TYPE.highlight,size:R.SIZE.xs,onClick:P,disabled:!D},l("wallet_extension_mid_btn_connect"))}),!D&&N.default.createElement(i.Space,{align:i.ALIGN.center,space:8,className:O["disable-message"]},N.default.createElement(k,{size:k.SIZE.sm,icon:"okds-fail-circle-fill"}),N.default.createElement(o.Text,{size:o.SIZE.sm,className:O["disable-message"]},l("wallet_connect_alert_text_account_doesnt_support",{network:q})))),g.length>0&&N.default.createElement("div",{className:O.connectedAccount},N.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:O.title},l("wallet_extension_header_subtitle_connected_account2",{wallet_extension_header_subtitle_connected_account2:g.length,num:g.length})),g.map(b=>{let V=m[b]||{};return W({title:`${V.keyringName} - ${V.walletName}`,active:E===b,right:N.default.createElement(R,{category:R.CATEGORY.outline,type:R.TYPE.primary,size:R.SIZE.xs,onClick:()=>F(b)},l("wallet_extension_mid_btn_switch"))})}))))},kc=Lr;e();t();var at=f(L());var ar=f(ie()),it=64,Lc=({isButtonAbsolute:r=!1,backupHeight:n=0})=>{let a=(0,ar.useSelector)(ee),p=_e().originNoPrefix&&!a,m=(0,at.useMemo)(()=>r?n+80+(p?it:0):16,[r,p,n]),d=(0,at.useMemo)(()=>r?0:n+24+(p?it:0),[r,p,n]);return{paddingBottom:m,buttonPaddingBottom:d,absoluteBottom:n+24+(p?it:0)}};export{Fr as a,mn as b,vn as c,fe as d,He as e,_a as f,Lc as g,jl as h,kc as i};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-MDTLTLR5.js.map
