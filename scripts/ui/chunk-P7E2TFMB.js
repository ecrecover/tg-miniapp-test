import{a as ju}from"./chunk-A77VZBWT.js";import{d as Re}from"./chunk-IYL2DA3V.js";import{c as y,m as a,n as p,o as c}from"./chunk-EQYVU4XP.js";var Zr=y(Yn=>{"use strict";a();c();Object.defineProperty(Yn,"__esModule",{value:!0});Yn.config=void 0;var Gu={network:{layer1:"placeholder"},logLevel:"debug"};Yn.config=Gu});var uo=y(T=>{"use strict";a();c();Object.defineProperty(T,"__esModule",{value:!0});T.PreconditionFailedError=T.PayloadTooLargeError=T.ValidationError=T.BadPathError=T.NotEnoughProofError=T.ConflictError=T.DoesNotExist=T.GaiaHubError=T.NoSessionDataError=T.InvalidStateError=T.FailedDecryptionError=T.SignatureVerificationError=T.LoginFailedError=T.InvalidAmountError=T.NotEnoughFundsError=T.InvalidDIDError=T.MissingParameterError=T.InvalidParameterError=T.BlockstackError=T.ERROR_CODES=void 0;T.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(T.ERROR_CODES);var Ee=class extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,i=this.stack;if(i)r+=`Stack Trace:
${i}`;else try{throw new Error}catch(s){i=s.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};T.BlockstackError=Ee;var Qr=class extends Ee{constructor(t,n=""){super({code:T.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};T.InvalidParameterError=Qr;var ei=class extends Ee{constructor(t,n=""){super({code:T.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};T.MissingParameterError=ei;var ti=class extends Ee{constructor(t=""){super({code:T.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};T.InvalidDIDError=ti;var ni=class extends Ee{constructor(t){let n=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:T.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:n}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=n}};T.NotEnoughFundsError=ni;var ri=class extends Ee{constructor(t,n){let r=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${n}`;super({code:T.ERROR_CODES.INVALID_AMOUNT_ERROR,message:r}),this.specifiedAmount=n,this.fees=t,this.name="InvalidAmountError",this.message=r}};T.InvalidAmountError=ri;var ii=class extends Ee{constructor(t){let n=`Failed to login: ${t}`;super({code:T.ERROR_CODES.LOGIN_FAILED_ERROR,message:n}),this.message=n,this.name="LoginFailedError"}};T.LoginFailedError=ii;var si=class extends Ee{constructor(t){let n=`Failed to verify signature: ${t}`;super({code:T.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:n}),this.message=n,this.name="SignatureVerificationError"}};T.SignatureVerificationError=si;var oi=class extends Ee{constructor(t="Unable to decrypt cipher object."){super({code:T.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};T.FailedDecryptionError=oi;var ai=class extends Ee{constructor(t){super({code:T.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};T.InvalidStateError=ai;var ci=class extends Ee{constructor(t){super({code:T.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};T.NoSessionDataError=ci;var je=class extends Ee{constructor(t,n){super(t),n&&(this.hubError={statusCode:n.status,statusText:n.statusText},typeof n.body=="string"?this.hubError.message=n.body:typeof n.body=="object"&&Object.assign(this.hubError,n.body))}};T.GaiaHubError=je;var ui=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.DOES_NOT_EXIST},n),this.name="DoesNotExist"}};T.DoesNotExist=ui;var di=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.CONFLICT_ERROR},n),this.name="ConflictError"}};T.ConflictError=di;var li=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},n),this.name="NotEnoughProofError"}};T.NotEnoughProofError=li;var fi=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.BAD_PATH_ERROR},n),this.name="BadPathError"}};T.BadPathError=fi;var yi=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.VALIDATION_ERROR},n),this.name="ValidationError"}};T.ValidationError=yi;var pi=class extends je{constructor(t,n,r){super({message:t,code:T.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},n),this.name="PayloadTooLargeError",this.maxUploadByteSize=r}};T.PayloadTooLargeError=pi;var gi=class extends je{constructor(t,n){super({message:t,code:T.ERROR_CODES.PRECONDITION_FAILED_ERROR},n),this.name="PreconditionFailedError"}};T.PreconditionFailedError=gi});var fo=y(Jn=>{"use strict";a();c();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Logger=void 0;var Wu=Zr(),lo=["debug","info","warn","error","none"],hi={},Xu={};for(let e=0;e<lo.length;e++){let t=lo[e];hi[t]=e,Xu[e]=t}var Ci=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,n){return`[${t.toUpperCase()}] ${n}`}static shouldLog(t){return hi[Wu.config.logLevel]<=hi[t]}};Jn.Logger=Ci});var Zn=y(w=>{"use strict";a();c();Object.defineProperty(w,"__esModule",{value:!0});w.isInstance=w.concatArray=w.concatBytes=w.toBytes=w.octetsToBytes=w.bytesToAscii=w.asciiToBytes=w.bytesToUtf8=w.utf8ToBytes=w.hexToBytes=w.bytesToHex=w.fromTwos=w.toTwos=w.bigIntToBytes=w.hexToInt=w.intToHex=w.hexToBigInt=w.with0x=w.intToBigInt=w.intToBytes=void 0;function Yu(e,t,n){return po(_i(e,t),n)}w.intToBytes=Yu;function _i(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=Pi(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)if(t){let r=go(BigInt(`0x${Si(n)}`),BigInt(n.byteLength*8));return BigInt(r.toString())}else return BigInt(`0x${Si(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}w.intToBigInt=_i;function Ju(e){return e.startsWith("0x")?e:`0x${e}`}w.with0x=Ju;function Zu(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}w.hexToBigInt=Zu;function yo(e,t=8){return(typeof e=="bigint"?e:_i(e,!1)).toString(16).padStart(t*2,"0")}w.intToHex=yo;function Qu(e){return parseInt(e,16)}w.hexToInt=Qu;function po(e,t=16){let n=yo(e,t);return Pi(n)}w.bigIntToBytes=po;function ed(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}w.toTwos=ed;function td(e,t){return e&BigInt(1)<<t}function go(e,t){return td(e,t-BigInt(1))?e-(BigInt(1)<<t):e}w.fromTwos=go;var nd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Si(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n of e)t+=nd[n];return t}w.bytesToHex=Si;function Pi(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){let i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}w.hexToBytes=Pi;function ho(e){return new TextEncoder().encode(e)}w.utf8ToBytes=ho;function rd(e){return new TextDecoder().decode(e)}w.bytesToUtf8=rd;function id(e){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}w.asciiToBytes=id;function sd(e){return String.fromCharCode.apply(null,e)}w.bytesToAscii=sd;function od(e){return!Number.isInteger(e)||e<0||e>255}function Ti(e){if(e.some(od))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}w.octetsToBytes=Ti;function ad(e){if(typeof e=="string")return ho(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}w.toBytes=ad;function Co(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){let s=e[r];n.set(s,i),i+=s.length}return n}w.concatBytes=Co;function cd(e){return Co(...e.map(t=>typeof t=="number"?Ti([t]):t instanceof Array?Ti(t):t))}w.concatArray=cd;function ud(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}w.isInstance=ud});var So=y(be=>{"use strict";a();c();Object.defineProperty(be,"__esModule",{value:!0});be.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=be.PRIVATE_KEY_UNCOMPRESSED_LENGTH=be.PRIVATE_KEY_COMPRESSED_LENGTH=be.TransactionVersion=be.ChainID=void 0;var dd;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(dd=be.ChainID||(be.ChainID={}));var ld;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(ld=be.TransactionVersion||(be.TransactionVersion={}));be.PRIVATE_KEY_COMPRESSED_LENGTH=33;be.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;be.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var To=y(lt=>{"use strict";a();c();Object.defineProperty(lt,"__esModule",{value:!0});lt.signatureRsvToVrs=lt.signatureVrsToRsv=lt.parseRecoverableSignatureVrs=void 0;var fd=Zn(),Ei=32;function yd(e){if(e.length<Ei*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),n=e.slice(2,2+Ei*2),r=e.slice(2+Ei*2);return{recoveryId:(0,fd.hexToInt)(t),r:n,s:r}}lt.parseRecoverableSignatureVrs=yd;function pd(e){return e.slice(2)+e.slice(0,2)}lt.signatureVrsToRsv=pd;function gd(e){return e.slice(-2)+e.slice(0,-2)}lt.signatureRsvToVrs=gd});var _o=y(Qn=>{"use strict";a();c();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.privateKeyToBytes=void 0;var hd=Zn();function Cd(e){let t=typeof e=="string"?(0,hd.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}Qn.privateKeyToBytes=Cd});var Po=y(z=>{"use strict";a();c();Object.defineProperty(z,"__esModule",{value:!0});z.writeUInt32LE=z.readUInt32LE=z.writeUInt32BE=z.readUInt32BE=z.writeUInt16LE=z.readUInt16LE=z.writeUInt8=z.readUInt8=z.writeUInt16BE=z.readUInt16BE=z.alloc=z.equals=void 0;function Sd(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}z.equals=Sd;function Td(e,t){let n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t;return n}z.alloc=Td;function _d(e,t){return(e[t+0]<<8|e[t+1])>>>0}z.readUInt16BE=_d;function Pd(e,t,n){e[n+0]=t>>>8,e[n+1]=t>>>0}z.writeUInt16BE=Pd;function Ed(e,t){return e[t]}z.readUInt8=Ed;function bd(e,t,n){e[n]=t}z.writeUInt8=bd;function md(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}z.readUInt16LE=md;function Ad(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255}z.writeUInt16LE=Ad;function Id(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}z.readUInt32BE=Id;function wd(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}z.writeUInt32BE=wd;function Od(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}z.readUInt32LE=Od;function Rd(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255,t>>>=8,e[n+2]=t&255,t>>>=8,e[n+3]=t&255}z.writeUInt32LE=Rd});var D=y(me=>{"use strict";a();c();var vd=me&&me.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ft=me&&me.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&vd(t,e,n)};Object.defineProperty(me,"__esModule",{value:!0});ft(Zr(),me);ft(uo(),me);ft(fo(),me);ft(Zn(),me);ft(So(),me);ft(To(),me);ft(_o(),me);ft(Po(),me)});var le=y(S=>{"use strict";a();c();Object.defineProperty(S,"__esModule",{value:!0});S.TxRejectedReason=S.AssetType=S.NonFungibleConditionCode=S.FungibleConditionCode=S.PubKeyEncoding=S.AddressVersion=S.AddressHashMode=S.AuthType=S.PostConditionPrincipalID=S.PostConditionType=S.PostConditionMode=S.TransactionVersion=S.anchorModeFromNameOrValue=S.AnchorModeNames=S.AnchorMode=S.ClarityVersion=S.PayloadType=S.StacksMessageType=S.ChainID=S.DEFAULT_CORE_NODE_API_URL=S.MEMO_MAX_LENGTH_BYTES=S.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=S.COMPRESSED_PUBKEY_LENGTH_BYTES=S.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=S.DEFAULT_TRANSACTION_VERSION=S.DEFAULT_CHAIN_ID=S.COINBASE_BYTES_LENGTH=S.CLARITY_INT_BYTE_SIZE=S.CLARITY_INT_SIZE=S.MAX_STRING_LENGTH_BYTES=S.whenMessageType=void 0;var er;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(er||(er={}));S.ChainID=er;var Nd=er.Mainnet;S.DEFAULT_CHAIN_ID=Nd;var Bd=128;S.MAX_STRING_LENGTH_BYTES=Bd;var Md=128;S.CLARITY_INT_SIZE=Md;var xd=16;S.CLARITY_INT_BYTE_SIZE=xd;var Vd=32;S.COINBASE_BYTES_LENGTH=Vd;var Dd=65;S.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Dd;var Ld=32;S.COMPRESSED_PUBKEY_LENGTH_BYTES=Ld;var kd=64;S.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=kd;var Hd=34;S.MEMO_MAX_LENGTH_BYTES=Hd;var Kd="https://stacks-node-api.mainnet.stacks.co";S.DEFAULT_CORE_NODE_API_URL=Kd;var bi;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(bi||(bi={}));S.StacksMessageType=bi;function Ud(e){return t=>t[e]}S.whenMessageType=Ud;var mi;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(mi||(mi={}));S.PayloadType=mi;var Ai;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(Ai||(Ai={}));S.ClarityVersion=Ai;var De;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(De||(De={}));S.AnchorMode=De;var wn=["onChainOnly","offChainOnly","any"];S.AnchorModeNames=wn;var Eo={[wn[0]]:De.OnChainOnly,[wn[1]]:De.OffChainOnly,[wn[2]]:De.Any,[De.OnChainOnly]:De.OnChainOnly,[De.OffChainOnly]:De.OffChainOnly,[De.Any]:De.Any};function Fd(e){if(e in Eo)return Eo[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${wn.join(", ")}`)}S.anchorModeFromNameOrValue=Fd;var tr;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(tr||(tr={}));S.TransactionVersion=tr;var zd=tr.Mainnet;S.DEFAULT_TRANSACTION_VERSION=zd;var Ii;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(Ii||(Ii={}));S.PostConditionMode=Ii;var wi;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(wi||(wi={}));S.PostConditionType=wi;var Oi;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(Oi||(Oi={}));S.AuthType=Oi;var Ri;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(Ri||(Ri={}));S.AddressHashMode=Ri;var vi;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(vi||(vi={}));S.AddressVersion=vi;var Ni;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Ni||(Ni={}));S.PubKeyEncoding=Ni;var Bi;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(Bi||(Bi={}));S.FungibleConditionCode=Bi;var Mi;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Mi||(Mi={}));S.NonFungibleConditionCode=Mi;var xi;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(xi||(xi={}));S.PostConditionPrincipalID=xi;var Vi;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Vi||(Vi={}));S.AssetType=Vi;var Di;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(Di||(Di={}));S.TxRejectedReason=Di});var Li=y(fe=>{"use strict";a();c();Object.defineProperty(fe,"__esModule",{value:!0});fe.c32decode=fe.c32normalize=fe.c32encode=fe.c32=void 0;var qd=D();fe.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var On="0123456789abcdef";function $d(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let n=[],r=0;for(let u=e.length-1;u>=0;u--)if(r<4){let d=On.indexOf(e[u])>>r,C=0;u!==0&&(C=On.indexOf(e[u-1]));let M=1+r,H=C%(1<<M)<<5-M,J=fe.c32[d+H];r=M,n.unshift(J)}else r=0;let i=0;for(let u=0;u<n.length&&n[u]==="0";u++)i++;n=n.slice(i);let s=new TextDecoder().decode((0,qd.hexToBytes)(e)).match(/^\u0000*/),o=s?s[0].length:0;for(let u=0;u<o;u++)n.unshift(fe.c32[0]);if(t){let u=t-n.length;for(let d=0;d<u;d++)n.unshift(fe.c32[0])}return n.join("")}fe.c32encode=$d;function bo(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}fe.c32normalize=bo;function jd(e,t){if(e=bo(e),!e.match(`^[${fe.c32}]*$`))throw new Error("Not a c32-encoded string");let n=e.match(`^${fe.c32[0]}*`),r=n?n[0].length:0,i=[],s=0,o=0;for(let C=e.length-1;C>=0;C--){o===4&&(i.unshift(On[s]),o=0,s=0);let H=(fe.c32.indexOf(e[C])<<o)+s,J=On[H%16];if(o+=1,s=H>>4,s>1<<o)throw new Error("Panic error in decoding.");i.unshift(J)}i.unshift(On[s]),i.length%2===1&&i.unshift("0");let u=0;for(let C=0;C<i.length&&i[C]==="0";C++)u++;i=i.slice(u-u%2);let d=i.join("");for(let C=0;C<r;C++)d=`00${d}`;if(t){let C=t*2-d.length;for(let M=0;M<C;M+=2)d=`00${d}`}return d}fe.c32decode=jd});var ki=y(Ut=>{"use strict";a();c();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.c32checkDecode=Ut.c32checkEncode=void 0;var mo=Re(),Ao=D(),Rn=Li();function Io(e){let t=mo.base.sha256(mo.base.sha256((0,Ao.hexToBytes)(e)));return(0,Ao.bytesToHex)(t.slice(0,4))}function Gd(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);let r=Io(`${n}${t}`),i=(0,Rn.c32encode)(`${t}${r}`);return`${Rn.c32[e]}${i}`}Ut.c32checkEncode=Gd;function Wd(e){e=(0,Rn.c32normalize)(e);let t=(0,Rn.c32decode)(e.slice(1)),n=e[0],r=Rn.c32.indexOf(n),i=t.slice(-8),s=r.toString(16);if(s.length===1&&(s=`0${s}`),Io(`${s}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}Ut.c32checkDecode=Wd});var Oo=y((qC,wo)=>{"use strict";a();c();function Xd(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=r}var o=e.length,u=e.charAt(0),d=Math.log(o)/Math.log(256),C=Math.log(256)/Math.log(o);function M(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var G=0,ee=0,te=0,de=R.length;te!==de&&R[te]===0;)te++,G++;for(var se=(de-te)*C+1>>>0,we=new Uint8Array(se);te!==de;){for(var Ve=R[te],$e=0,Oe=se-1;(Ve!==0||$e<ee)&&Oe!==-1;Oe--,$e++)Ve+=256*we[Oe]>>>0,we[Oe]=Ve%o>>>0,Ve=Ve/o>>>0;if(Ve!==0)throw new Error("Non-zero carry");ee=$e,te++}for(var tt=se-ee;tt!==se&&we[tt]===0;)tt++;for(var Xn=u.repeat(G);tt<se;++tt)Xn+=e.charAt(we[tt]);return Xn}function H(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var G=0,ee=0,te=0;R[G]===u;)ee++,G++;for(var de=(R.length-G)*d+1>>>0,se=new Uint8Array(de);R[G];){var we=t[R.charCodeAt(G)];if(we===255)return;for(var Ve=0,$e=de-1;(we!==0||Ve<te)&&$e!==-1;$e--,Ve++)we+=o*se[$e]>>>0,se[$e]=we%256>>>0,we=we/256>>>0;if(we!==0)throw new Error("Non-zero carry");te=Ve,G++}for(var Oe=de-te;Oe!==de&&se[Oe]===0;)Oe++;for(var tt=new Uint8Array(ee+(de-Oe)),Xn=ee;Oe!==de;)tt[Xn++]=se[Oe++];return tt}function J(R){var G=H(R);if(G)return G;throw new Error("Non-base"+o+" character")}return{encode:M,decodeUnsafe:H,decode:J}}wo.exports=Xd});var Bo=y(yt=>{"use strict";a();c();var Yd=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.decode=yt.encode=void 0;var nr=Re(),Ro=D(),vo=Yd(Oo()),No="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Jd(e,t="00"){let n=typeof e=="string"?(0,Ro.hexToBytes)(e):e,r=typeof t=="string"?(0,Ro.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=nr.base.sha256(nr.base.sha256(new Uint8Array([...r,...n])));return(0,vo.default)(No).encode([...r,...n,...i.slice(0,4)])}yt.encode=Jd;function Zd(e){let t=(0,vo.default)(No).decode(e),n=t.slice(0,1),r=t.slice(1,-4),i=nr.base.sha256(nr.base.sha256(new Uint8Array([...n,...r])));return t.slice(-4).forEach((s,o)=>{if(s!==i[o])throw new Error("Invalid checksum")}),{prefix:n,data:r}}yt.decode=Zd});var ko=y(q=>{"use strict";a();c();var Qd=q&&q.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),el=q&&q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tl=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Qd(t,e,n);return el(t,e),t};Object.defineProperty(q,"__esModule",{value:!0});q.c32ToB58=q.b58ToC32=q.c32addressDecode=q.c32address=q.versions=void 0;var xo=ki(),Vo=tl(Bo()),Mo=D();q.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Ft={};Ft[0]=q.versions.mainnet.p2pkh;Ft[5]=q.versions.mainnet.p2sh;Ft[111]=q.versions.testnet.p2pkh;Ft[196]=q.versions.testnet.p2sh;var zt={};zt[q.versions.mainnet.p2pkh]=0;zt[q.versions.mainnet.p2sh]=5;zt[q.versions.testnet.p2pkh]=111;zt[q.versions.testnet.p2sh]=196;function Do(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,xo.c32checkEncode)(e,t)}`}q.c32address=Do;function Lo(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,xo.c32checkDecode)(e.slice(1))}q.c32addressDecode=Lo;function nl(e,t=-1){let n=Vo.decode(e),r=(0,Mo.bytesToHex)(n.data),i=parseInt((0,Mo.bytesToHex)(n.prefix),16),s;return t<0?(s=i,Ft[i]!==void 0&&(s=Ft[i])):s=t,Do(s,r)}q.b58ToC32=nl;function rl(e,t=-1){let n=Lo(e),r=n[0],i=n[1],s;t<0?(s=r,zt[r]!==void 0&&(s=zt[r])):s=t;let o=s.toString(16);return o.length===1&&(o=`0${o}`),Vo.encode(i,o)}q.c32ToB58=rl});var qt=y(ne=>{"use strict";a();c();Object.defineProperty(ne,"__esModule",{value:!0});ne.b58ToC32=ne.c32ToB58=ne.versions=ne.c32normalize=ne.c32addressDecode=ne.c32address=ne.c32checkDecode=ne.c32checkEncode=ne.c32decode=ne.c32encode=void 0;var Hi=Li();Object.defineProperty(ne,"c32encode",{enumerable:!0,get:function(){return Hi.c32encode}});Object.defineProperty(ne,"c32decode",{enumerable:!0,get:function(){return Hi.c32decode}});Object.defineProperty(ne,"c32normalize",{enumerable:!0,get:function(){return Hi.c32normalize}});var Ho=ki();Object.defineProperty(ne,"c32checkEncode",{enumerable:!0,get:function(){return Ho.c32checkEncode}});Object.defineProperty(ne,"c32checkDecode",{enumerable:!0,get:function(){return Ho.c32checkDecode}});var vn=ko();Object.defineProperty(ne,"c32address",{enumerable:!0,get:function(){return vn.c32address}});Object.defineProperty(ne,"c32addressDecode",{enumerable:!0,get:function(){return vn.c32addressDecode}});Object.defineProperty(ne,"c32ToB58",{enumerable:!0,get:function(){return vn.c32ToB58}});Object.defineProperty(ne,"b58ToC32",{enumerable:!0,get:function(){return vn.b58ToC32}});Object.defineProperty(ne,"versions",{enumerable:!0,get:function(){return vn.versions}})});var wa=y((Nn,$t)=>{"use strict";a();c();var il=200,Jo="__lodash_hash_undefined__",Zo=9007199254740991,Gi="[object Arguments]",sl="[object Array]",Qo="[object Boolean]",ea="[object Date]",ol="[object Error]",Wi="[object Function]",ta="[object GeneratorFunction]",rr="[object Map]",na="[object Number]",Xi="[object Object]",Ko="[object Promise]",ra="[object RegExp]",ir="[object Set]",ia="[object String]",sa="[object Symbol]",Ui="[object WeakMap]",oa="[object ArrayBuffer]",sr="[object DataView]",aa="[object Float32Array]",ca="[object Float64Array]",ua="[object Int8Array]",da="[object Int16Array]",la="[object Int32Array]",fa="[object Uint8Array]",ya="[object Uint8ClampedArray]",pa="[object Uint16Array]",ga="[object Uint32Array]",al=/[\\^$.*+?()[\]{}|]/g,cl=/\w*$/,ul=/^\[object .+?Constructor\]$/,dl=/^(?:0|[1-9]\d*)$/,$={};$[Gi]=$[sl]=$[oa]=$[sr]=$[Qo]=$[ea]=$[aa]=$[ca]=$[ua]=$[da]=$[la]=$[rr]=$[na]=$[Xi]=$[ra]=$[ir]=$[ia]=$[sa]=$[fa]=$[ya]=$[pa]=$[ga]=!0;$[ol]=$[Wi]=$[Ui]=!1;var ll=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,fl=typeof self=="object"&&self&&self.Object===Object&&self,nt=ll||fl||Function("return this")(),ha=typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,Uo=ha&&typeof $t=="object"&&$t&&!$t.nodeType&&$t,yl=Uo&&Uo.exports===ha;function pl(e,t){return e.set(t[0],t[1]),e}function gl(e,t){return e.add(t),e}function hl(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Cl(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ca(e,t,n,r){var i=-1,s=e?e.length:0;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Sl(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Tl(e,t){return e?.[t]}function Sa(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Fo(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Yi(e,t){return function(n){return e(t(n))}}function zo(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _l=Array.prototype,Pl=Function.prototype,or=Object.prototype,Ki=nt["__core-js_shared__"],qo=function(){var e=/[^.]+$/.exec(Ki&&Ki.keys&&Ki.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ta=Pl.toString,pt=or.hasOwnProperty,ar=or.toString,El=RegExp("^"+Ta.call(pt).replace(al,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$o=yl?nt.Buffer:void 0,jo=nt.Symbol,Go=nt.Uint8Array,bl=Yi(Object.getPrototypeOf,Object),ml=Object.create,Al=or.propertyIsEnumerable,Il=_l.splice,Wo=Object.getOwnPropertySymbols,wl=$o?$o.isBuffer:void 0,Ol=Yi(Object.keys,Object),Fi=Wt(nt,"DataView"),Bn=Wt(nt,"Map"),zi=Wt(nt,"Promise"),qi=Wt(nt,"Set"),$i=Wt(nt,"WeakMap"),Mn=Wt(Object,"create"),Rl=Mt(Fi),vl=Mt(Bn),Nl=Mt(zi),Bl=Mt(qi),Ml=Mt($i),Xo=jo?jo.prototype:void 0,Yo=Xo?Xo.valueOf:void 0;function Bt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xl(){this.__data__=Mn?Mn(null):{}}function Vl(e){return this.has(e)&&delete this.__data__[e]}function Dl(e){var t=this.__data__;if(Mn){var n=t[e];return n===Jo?void 0:n}return pt.call(t,e)?t[e]:void 0}function Ll(e){var t=this.__data__;return Mn?t[e]!==void 0:pt.call(t,e)}function kl(e,t){var n=this.__data__;return n[e]=Mn&&t===void 0?Jo:t,this}Bt.prototype.clear=xl;Bt.prototype.delete=Vl;Bt.prototype.get=Dl;Bt.prototype.has=Ll;Bt.prototype.set=kl;function rt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hl(){this.__data__=[]}function Kl(e){var t=this.__data__,n=cr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Il.call(t,n,1),!0}function Ul(e){var t=this.__data__,n=cr(t,e);return n<0?void 0:t[n][1]}function Fl(e){return cr(this.__data__,e)>-1}function zl(e,t){var n=this.__data__,r=cr(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}rt.prototype.clear=Hl;rt.prototype.delete=Kl;rt.prototype.get=Ul;rt.prototype.has=Fl;rt.prototype.set=zl;function jt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ql(){this.__data__={hash:new Bt,map:new(Bn||rt),string:new Bt}}function $l(e){return ur(this,e).delete(e)}function jl(e){return ur(this,e).get(e)}function Gl(e){return ur(this,e).has(e)}function Wl(e,t){return ur(this,e).set(e,t),this}jt.prototype.clear=ql;jt.prototype.delete=$l;jt.prototype.get=jl;jt.prototype.has=Gl;jt.prototype.set=Wl;function Gt(e){this.__data__=new rt(e)}function Xl(){this.__data__=new rt}function Yl(e){return this.__data__.delete(e)}function Jl(e){return this.__data__.get(e)}function Zl(e){return this.__data__.has(e)}function Ql(e,t){var n=this.__data__;if(n instanceof rt){var r=n.__data__;if(!Bn||r.length<il-1)return r.push([e,t]),this;n=this.__data__=new jt(r)}return n.set(e,t),this}Gt.prototype.clear=Xl;Gt.prototype.delete=Yl;Gt.prototype.get=Jl;Gt.prototype.has=Zl;Gt.prototype.set=Ql;function ef(e,t){var n=Zi(e)||Af(e)?Sl(e.length,String):[],r=n.length,i=!!r;for(var s in e)(t||pt.call(e,s))&&!(i&&(s=="length"||Pf(s,r)))&&n.push(s);return n}function _a(e,t,n){var r=e[t];(!(pt.call(e,t)&&ma(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function cr(e,t){for(var n=e.length;n--;)if(ma(e[n][0],t))return n;return-1}function tf(e,t){return e&&Pa(t,Qi(t),e)}function ji(e,t,n,r,i,s,o){var u;if(r&&(u=s?r(e,i,s,o):r(e)),u!==void 0)return u;if(!dr(e))return e;var d=Zi(e);if(d){if(u=Sf(e),!t)return gf(e,u)}else{var C=Nt(e),M=C==Wi||C==ta;if(wf(e))return cf(e,t);if(C==Xi||C==Gi||M&&!s){if(Sa(e))return s?e:{};if(u=Tf(M?{}:e),!t)return hf(e,tf(u,e))}else{if(!$[C])return s?e:{};u=_f(e,C,ji,t)}}o||(o=new Gt);var H=o.get(e);if(H)return H;if(o.set(e,u),!d)var J=n?Cf(e):Qi(e);return hl(J||e,function(R,G){J&&(G=R,R=e[G]),_a(u,G,ji(R,t,n,r,G,e,o))}),u}function nf(e){return dr(e)?ml(e):{}}function rf(e,t,n){var r=t(e);return Zi(e)?r:Cl(r,n(e))}function sf(e){return ar.call(e)}function of(e){if(!dr(e)||bf(e))return!1;var t=Ia(e)||Sa(e)?El:ul;return t.test(Mt(e))}function af(e){if(!ba(e))return Ol(e);var t=[];for(var n in Object(e))pt.call(e,n)&&n!="constructor"&&t.push(n);return t}function cf(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Ji(e){var t=new e.constructor(e.byteLength);return new Go(t).set(new Go(e)),t}function uf(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function df(e,t,n){var r=t?n(Fo(e),!0):Fo(e);return Ca(r,pl,new e.constructor)}function lf(e){var t=new e.constructor(e.source,cl.exec(e));return t.lastIndex=e.lastIndex,t}function ff(e,t,n){var r=t?n(zo(e),!0):zo(e);return Ca(r,gl,new e.constructor)}function yf(e){return Yo?Object(Yo.call(e)):{}}function pf(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gf(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Pa(e,t,n,r){n||(n={});for(var i=-1,s=t.length;++i<s;){var o=t[i],u=r?r(n[o],e[o],o,n,e):void 0;_a(n,o,u===void 0?e[o]:u)}return n}function hf(e,t){return Pa(e,Ea(e),t)}function Cf(e){return rf(e,Qi,Ea)}function ur(e,t){var n=e.__data__;return Ef(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Wt(e,t){var n=Tl(e,t);return of(n)?n:void 0}var Ea=Wo?Yi(Wo,Object):vf,Nt=sf;(Fi&&Nt(new Fi(new ArrayBuffer(1)))!=sr||Bn&&Nt(new Bn)!=rr||zi&&Nt(zi.resolve())!=Ko||qi&&Nt(new qi)!=ir||$i&&Nt(new $i)!=Ui)&&(Nt=function(e){var t=ar.call(e),n=t==Xi?e.constructor:void 0,r=n?Mt(n):void 0;if(r)switch(r){case Rl:return sr;case vl:return rr;case Nl:return Ko;case Bl:return ir;case Ml:return Ui}return t});function Sf(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&pt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Tf(e){return typeof e.constructor=="function"&&!ba(e)?nf(bl(e)):{}}function _f(e,t,n,r){var i=e.constructor;switch(t){case oa:return Ji(e);case Qo:case ea:return new i(+e);case sr:return uf(e,r);case aa:case ca:case ua:case da:case la:case fa:case ya:case pa:case ga:return pf(e,r);case rr:return df(e,r,n);case na:case ia:return new i(e);case ra:return lf(e);case ir:return ff(e,r,n);case sa:return yf(e)}}function Pf(e,t){return t=t??Zo,!!t&&(typeof e=="number"||dl.test(e))&&e>-1&&e%1==0&&e<t}function Ef(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function bf(e){return!!qo&&qo in e}function ba(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||or;return e===n}function Mt(e){if(e!=null){try{return Ta.call(e)}catch{}try{return e+""}catch{}}return""}function mf(e){return ji(e,!0,!0)}function ma(e,t){return e===t||e!==e&&t!==t}function Af(e){return If(e)&&pt.call(e,"callee")&&(!Al.call(e,"callee")||ar.call(e)==Gi)}var Zi=Array.isArray;function Aa(e){return e!=null&&Of(e.length)&&!Ia(e)}function If(e){return Rf(e)&&Aa(e)}var wf=wl||Nf;function Ia(e){var t=dr(e)?ar.call(e):"";return t==Wi||t==ta}function Of(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zo}function dr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Rf(e){return!!e&&typeof e=="object"}function Qi(e){return Aa(e)?ef(e):af(e)}function vf(){return[]}function Nf(){return!1}$t.exports=mf});var Xt=y(Ge=>{"use strict";a();c();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.addressToString=Ge.addressFromVersionHash=Ge.addressHashModeToVersion=Ge.createMessageSignature=void 0;var Ce=le(),Bf=qt(),Mf=D();function xf(e){if((0,Mf.hexToBytes)(e).byteLength!=Ce.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:Ce.StacksMessageType.MessageSignature,data:e}}Ge.createMessageSignature=xf;function Vf(e,t){switch(e){case Ce.AddressHashMode.SerializeP2PKH:switch(t){case Ce.TransactionVersion.Mainnet:return Ce.AddressVersion.MainnetSingleSig;case Ce.TransactionVersion.Testnet:return Ce.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case Ce.AddressHashMode.SerializeP2SH:case Ce.AddressHashMode.SerializeP2WPKH:case Ce.AddressHashMode.SerializeP2WSH:switch(t){case Ce.TransactionVersion.Mainnet:return Ce.AddressVersion.MainnetMultiSig;case Ce.TransactionVersion.Testnet:return Ce.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}Ge.addressHashModeToVersion=Vf;function Df(e,t){return{type:Ce.StacksMessageType.Address,version:e,hash160:t}}Ge.addressFromVersionHash=Df;function Lf(e){return(0,Bf.c32address)(e.version,e.hash160)}Ge.addressToString=Lf});var it=y(ye=>{"use strict";a();c();Object.defineProperty(ye,"__esModule",{value:!0});ye.createStandardPrincipal=ye.createContractPrincipal=ye.parsePrincipalString=ye.createAddress=ye.createAssetInfo=ye.createLPString=ye.parseAssetInfoString=void 0;var gt=le(),kf=qt(),Hf=Ue();function Kf(e){let[t,n,r]=e.split(/\.|::/);return Oa(t,n,r)}ye.parseAssetInfoString=Kf;function lr(e,t,n){let r=t||1,i=n||gt.MAX_STRING_LENGTH_BYTES;if((0,Hf.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:gt.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:i}}ye.createLPString=lr;function Oa(e,t,n){return{type:gt.StacksMessageType.AssetInfo,address:fr(e),contractName:lr(t),assetName:lr(n)}}ye.createAssetInfo=Oa;function fr(e){let t=(0,kf.c32addressDecode)(e);return{type:gt.StacksMessageType.Address,version:t[0],hash160:t[1]}}ye.createAddress=fr;function Uf(e){if(e.includes(".")){let[t,n]=e.split(".");return Ra(t,n)}else return va(e)}ye.parsePrincipalString=Uf;function Ra(e,t){let n=fr(e),r=lr(t);return{type:gt.StacksMessageType.Principal,prefix:gt.PostConditionPrincipalID.Contract,address:n,contractName:r}}ye.createContractPrincipal=Ra;function va(e){let t=fr(e);return{type:gt.StacksMessageType.Principal,prefix:gt.PostConditionPrincipalID.Standard,address:t}}ye.createStandardPrincipal=va});var ve=y(xn=>{"use strict";a();c();Object.defineProperty(xn,"__esModule",{value:!0});xn.ClarityType=void 0;var Ff;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(Ff=xn.ClarityType||(xn.ClarityType={}))});var pr=y(pe=>{"use strict";a();c();Object.defineProperty(pe,"__esModule",{value:!0});pe.contractPrincipalCVFromStandard=pe.contractPrincipalCVFromAddress=pe.contractPrincipalCV=pe.standardPrincipalCVFromAddress=pe.standardPrincipalCV=pe.principalToString=pe.principalCV=void 0;var zf=D(),Na=Xt(),yr=it(),Yt=ve();function qf(e){if(e.type===Yt.ClarityType.PrincipalStandard)return(0,Na.addressToString)(e.address);if(e.type===Yt.ClarityType.PrincipalContract)return`${(0,Na.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}pe.principalToString=qf;function $f(e){if(e.includes(".")){let[t,n]=e.split(".");return Ma(t,n)}else return Ba(e)}pe.principalCV=$f;function Ba(e){let t=(0,yr.createAddress)(e);return{type:Yt.ClarityType.PrincipalStandard,address:t}}pe.standardPrincipalCV=Ba;function jf(e){return{type:Yt.ClarityType.PrincipalStandard,address:e}}pe.standardPrincipalCVFromAddress=jf;function Ma(e,t){let n=(0,yr.createAddress)(e),r=(0,yr.createLPString)(t);return xa(n,r)}pe.contractPrincipalCV=Ma;function xa(e,t){if((0,zf.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Yt.ClarityType.PrincipalContract,address:e,contractName:t}}pe.contractPrincipalCVFromAddress=xa;function Gf(e,t){let n=(0,yr.createLPString)(t);return{type:Yt.ClarityType.PrincipalContract,address:e.address,contractName:n}}pe.contractPrincipalCVFromStandard=Gf});var Da=y(We=>{"use strict";a();c();Object.defineProperty(We,"__esModule",{value:!0});We.getCVTypeString=We.cvToJSON=We.cvToValue=We.cvToString=void 0;var Va=pr(),m=ve(),Vn=D();function Jt(e,t="hex"){switch(e.type){case m.ClarityType.BoolTrue:return"true";case m.ClarityType.BoolFalse:return"false";case m.ClarityType.Int:return e.value.toString();case m.ClarityType.UInt:return`u${e.value.toString()}`;case m.ClarityType.Buffer:if(t==="tryAscii"){let n=(0,Vn.bytesToAscii)(e.buffer);if(/[ -~]/.test(n))return JSON.stringify(n)}return`0x${(0,Vn.bytesToHex)(e.buffer)}`;case m.ClarityType.OptionalNone:return"none";case m.ClarityType.OptionalSome:return`(some ${Jt(e.value,t)})`;case m.ClarityType.ResponseErr:return`(err ${Jt(e.value,t)})`;case m.ClarityType.ResponseOk:return`(ok ${Jt(e.value,t)})`;case m.ClarityType.PrincipalStandard:case m.ClarityType.PrincipalContract:return(0,Va.principalToString)(e);case m.ClarityType.List:return`(list ${e.list.map(n=>Jt(n,t)).join(" ")})`;case m.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(n=>`(${n} ${Jt(e.data[n],t)})`).join(" ")})`;case m.ClarityType.StringASCII:return`"${e.data}"`;case m.ClarityType.StringUTF8:return`u"${e.data}"`}}We.cvToString=Jt;function gr(e,t=!1){switch(e.type){case m.ClarityType.BoolTrue:return!0;case m.ClarityType.BoolFalse:return!1;case m.ClarityType.Int:case m.ClarityType.UInt:return t?e.value.toString():e.value;case m.ClarityType.Buffer:return`0x${(0,Vn.bytesToHex)(e.buffer)}`;case m.ClarityType.OptionalNone:return null;case m.ClarityType.OptionalSome:return Zt(e.value);case m.ClarityType.ResponseErr:return Zt(e.value);case m.ClarityType.ResponseOk:return Zt(e.value);case m.ClarityType.PrincipalStandard:case m.ClarityType.PrincipalContract:return(0,Va.principalToString)(e);case m.ClarityType.List:return e.list.map(r=>Zt(r));case m.ClarityType.Tuple:let n={};return Object.keys(e.data).forEach(r=>{n[r]=Zt(e.data[r])}),n;case m.ClarityType.StringASCII:return e.data;case m.ClarityType.StringUTF8:return e.data}}We.cvToValue=gr;function Zt(e){switch(e.type){case m.ClarityType.ResponseErr:return{type:st(e),value:gr(e,!0),success:!1};case m.ClarityType.ResponseOk:return{type:st(e),value:gr(e,!0),success:!0};default:return{type:st(e),value:gr(e,!0)}}}We.cvToJSON=Zt;function st(e){switch(e.type){case m.ClarityType.BoolTrue:case m.ClarityType.BoolFalse:return"bool";case m.ClarityType.Int:return"int";case m.ClarityType.UInt:return"uint";case m.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case m.ClarityType.OptionalNone:return"(optional none)";case m.ClarityType.OptionalSome:return`(optional ${st(e.value)})`;case m.ClarityType.ResponseErr:return`(response UnknownType ${st(e.value)})`;case m.ClarityType.ResponseOk:return`(response ${st(e.value)} UnknownType)`;case m.ClarityType.PrincipalStandard:case m.ClarityType.PrincipalContract:return"principal";case m.ClarityType.List:return`(list ${e.list.length} ${e.list.length?st(e.list[0]):"UnknownType"})`;case m.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${st(e.data[t])})`).join(" ")})`;case m.ClarityType.StringASCII:return`(string-ascii ${(0,Vn.asciiToBytes)(e.data).length})`;case m.ClarityType.StringUTF8:return`(string-utf8 ${(0,Vn.utf8ToBytes)(e.data).length})`}}We.getCVTypeString=st});var Ka=y(ht=>{"use strict";a();c();Object.defineProperty(ht,"__esModule",{value:!0});ht.falseCV=ht.trueCV=ht.boolCV=void 0;var La=ve(),ka=()=>({type:La.ClarityType.BoolTrue});ht.trueCV=ka;var Ha=()=>({type:La.ClarityType.BoolFalse});ht.falseCV=Ha;var Wf=e=>e?ka():Ha();ht.boolCV=Wf});var ja=y(Qt=>{"use strict";a();c();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.uintCV=Qt.intCV=void 0;var qa=D(),$a=ve(),Ua=BigInt("0xffffffffffffffffffffffffffffffff"),Xf=BigInt(0),Fa=BigInt("0x7fffffffffffffffffffffffffffffff"),za=BigInt("-170141183460469231731687303715884105728"),Yf=e=>{let t=(0,qa.intToBigInt)(e,!0);if(t>Fa)throw new RangeError(`Cannot construct clarity integer from value greater than ${Fa}`);if(t<za)throw new RangeError(`Cannot construct clarity integer form value less than ${za}`);return{type:$a.ClarityType.Int,value:t}};Qt.intCV=Yf;var Jf=e=>{let t=(0,qa.intToBigInt)(e,!1);if(t<Xf)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Ua)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Ua}`);return{type:$a.ClarityType.UInt,value:t}};Qt.uintCV=Jf});var Wa=y(en=>{"use strict";a();c();Object.defineProperty(en,"__esModule",{value:!0});en.bufferCVFromString=en.bufferCV=void 0;var Zf=D(),Qf=ve(),Ga=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:Qf.ClarityType.Buffer,buffer:e}};en.bufferCV=Ga;var ey=e=>Ga((0,Zf.utf8ToBytes)(e));en.bufferCVFromString=ey});var Za=y(Ct=>{"use strict";a();c();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.optionalCVOf=Ct.someCV=Ct.noneCV=void 0;var Xa=ve();function Ya(){return{type:Xa.ClarityType.OptionalNone}}Ct.noneCV=Ya;function Ja(e){return{type:Xa.ClarityType.OptionalSome,value:e}}Ct.someCV=Ja;function ty(e){return e?Ja(e):Ya()}Ct.optionalCVOf=ty});var ec=y(tn=>{"use strict";a();c();Object.defineProperty(tn,"__esModule",{value:!0});tn.responseOkCV=tn.responseErrorCV=void 0;var Qa=ve();function ny(e){return{type:Qa.ClarityType.ResponseErr,value:e}}tn.responseErrorCV=ny;function ry(e){return{type:Qa.ClarityType.ResponseOk,value:e}}tn.responseOkCV=ry});var tc=y(hr=>{"use strict";a();c();Object.defineProperty(hr,"__esModule",{value:!0});hr.listCV=void 0;var iy=ve();function sy(e){return{type:iy.ClarityType.List,list:e}}hr.listCV=sy});var nc=y(Cr=>{"use strict";a();c();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.tupleCV=void 0;var oy=ve(),ay=Ue();function cy(e){for(let t in e)if(!(0,ay.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:oy.ClarityType.Tuple,data:e}}Cr.tupleCV=cy});var Sr=y(St=>{"use strict";a();c();Object.defineProperty(St,"__esModule",{value:!0});St.stringCV=St.stringUtf8CV=St.stringAsciiCV=void 0;var rc=ve(),ic=e=>({type:rc.ClarityType.StringASCII,data:e});St.stringAsciiCV=ic;var sc=e=>({type:rc.ClarityType.StringUTF8,data:e});St.stringUtf8CV=sc;var uy=(e,t)=>{switch(t){case"ascii":return ic(e);case"utf8":return sc(e)}};St.stringCV=uy});var Tt=y(v=>{"use strict";a();c();Object.defineProperty(v,"__esModule",{value:!0});v.publicKeyToAddress=v.privateKeyToString=v.getPublicKey=v.signMessageHashRsv=v.signWithKey=v.makeRandomPrivKey=v.createStacksPrivateKey=v.deserializePublicKey=v.compressPublicKey=v.pubKeyfromPrivKey=v.serializePublicKey=v.publicKeyToString=v.isCompressed=v.publicKeyFromBytes=v.publicKeyFromSignatureRsv=v.publicKeyFromSignatureVrs=v.createStacksPublicKey=v.getAddressFromPublicKey=v.getAddressFromPrivateKey=void 0;var xt=Re(),dy=xt.secp256k1.getPublicKey,oc=xt.secp256k1.Point,ac=xt.secp256k1.Signature,ly=xt.secp256k1.signSync,cc=xt.secp256k1.utils,ce=D(),fy=qt(),Tr=Xt(),Xe=le(),uc=Ue();cc.hmacSha256Sync=(e,...t)=>{let n=xt.base.hmac.create(xt.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function yy(e,t=Xe.TransactionVersion.Mainnet){let n=ts(e);return dc(n.data,t)}v.getAddressFromPrivateKey=yy;function dc(e,t=Xe.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,ce.bytesToHex)(e);let n=(0,Tr.addressHashModeToVersion)(Xe.AddressHashMode.SerializeP2PKH,t),r=(0,Tr.addressFromVersionHash)(n,(0,uc.hashP2PKH)((0,ce.hexToBytes)(e)));return(0,Tr.addressToString)(r)}v.getAddressFromPublicKey=dc;function es(e){return{type:Xe.StacksMessageType.PublicKey,data:(0,ce.hexToBytes)(e)}}v.createStacksPublicKey=es;function lc(e,t,n=Xe.PubKeyEncoding.Compressed){let r=(0,ce.parseRecoverableSignatureVrs)(t.data),i=new ac((0,ce.hexToBigInt)(r.r),(0,ce.hexToBigInt)(r.s)),s=oc.fromSignature(e,i,r.recoveryId),o=n===Xe.PubKeyEncoding.Compressed;return s.toHex(o)}v.publicKeyFromSignatureVrs=lc;function py(e,t,n=Xe.PubKeyEncoding.Compressed){return lc(e,{...t,data:(0,ce.signatureRsvToVrs)(t.data)},n)}v.publicKeyFromSignatureRsv=py;function fc(e){return{type:Xe.StacksMessageType.PublicKey,data:e}}v.publicKeyFromBytes=fc;function gy(e){return!(0,ce.bytesToHex)(e.data).startsWith("04")}v.isCompressed=gy;function hy(e){return(0,ce.bytesToHex)(e.data)}v.publicKeyToString=hy;function Cy(e){return e.data.slice()}v.serializePublicKey=Cy;function ts(e){let t=ns(e),n=dy(t.data.slice(0,32),t.compressed);return es((0,ce.bytesToHex)(n))}v.pubKeyfromPrivKey=ts;function Sy(e){let t=typeof e=="string"?e:(0,ce.bytesToHex)(e),n=oc.fromHex(t).toHex(!0);return es(n)}v.compressPublicKey=Sy;function Ty(e){let t=e.readUInt8(),n=t!==4?Xe.COMPRESSED_PUBKEY_LENGTH_BYTES:Xe.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return fc((0,ce.concatArray)([t,e.readBytes(n)]))}v.deserializePublicKey=Ty;function ns(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,ce.privateKeyToBytes)(e),n=t.length==ce.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:n}}v.createStacksPrivateKey=ns;function _y(){return ns(cc.randomPrivateKey())}v.makeRandomPrivKey=_y;function yc(e,t){let[n,r]=ly(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");let s=(0,ce.intToHex)(r,1)+ac.fromHex(n).toCompactHex();return(0,Tr.createMessageSignature)(s)}v.signWithKey=yc;function Py({messageHash:e,privateKey:t}){let n=yc(t,e);return{...n,data:(0,ce.signatureVrsToRsv)(n.data)}}v.signMessageHashRsv=Py;function Ey(e){return ts(e.data)}v.getPublicKey=Ey;function by(e){return(0,ce.bytesToHex)(e.data)}v.privateKeyToString=by;function my(e,t){return(0,fy.c32address)(e,(0,ce.bytesToHex)((0,uc.hash160)(t.data)))}v.publicKeyToAddress=my});var rn=y(j=>{"use strict";a();c();Object.defineProperty(j,"__esModule",{value:!0});j.deserializePayload=j.serializePayload=j.createCoinbasePayload=j.createPoisonPayload=j.createSmartContractPayload=j.createContractCallPayload=j.createTokenTransferPayload=j.isCoinbasePayload=j.isPoisonPayload=j.isSmartContractPayload=j.isContractCallPayload=j.isTokenTransferPayload=void 0;var Dn=D(),B=le(),nn=ot(),Ay=pr(),_r=it(),oe=_t();function Iy(e){return e.payloadType===B.PayloadType.TokenTransfer}j.isTokenTransferPayload=Iy;function wy(e){return e.payloadType===B.PayloadType.ContractCall}j.isContractCallPayload=wy;function Oy(e){return e.payloadType===B.PayloadType.SmartContract}j.isSmartContractPayload=Oy;function Ry(e){return e.payloadType===B.PayloadType.PoisonMicroblock}j.isPoisonPayload=Ry;function vy(e){return e.payloadType===B.PayloadType.Coinbase}j.isCoinbasePayload=vy;function pc(e,t,n){return typeof e=="string"&&(e=(0,Ay.principalCV)(e)),typeof n=="string"&&(n=(0,oe.createMemoString)(n)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.TokenTransfer,recipient:e,amount:(0,Dn.intToBigInt)(t,!1),memo:n??(0,oe.createMemoString)("")}}j.createTokenTransferPayload=pc;function gc(e,t,n,r){return typeof e=="string"&&(e=(0,_r.createAddress)(e)),typeof t=="string"&&(t=(0,_r.createLPString)(t)),typeof n=="string"&&(n=(0,_r.createLPString)(n)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:n,functionArgs:r}}j.createContractCallPayload=gc;function rs(e,t,n){return typeof e=="string"&&(e=(0,_r.createLPString)(e)),typeof t=="string"&&(t=(0,oe.codeBodyString)(t)),typeof n=="number"?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.SmartContract,contractName:e,codeBody:t}}j.createSmartContractPayload=rs;function hc(){return{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.PoisonMicroblock}}j.createPoisonPayload=hc;function is(e,t){if(e.byteLength!=B.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${B.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.Coinbase,coinbaseBytes:e}}j.createCoinbasePayload=is;function Ny(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case B.PayloadType.TokenTransfer:t.push((0,nn.serializeCV)(e.recipient)),t.push((0,Dn.intToBytes)(e.amount,!1,8)),t.push((0,oe.serializeStacksMessage)(e.memo));break;case B.PayloadType.ContractCall:t.push((0,oe.serializeStacksMessage)(e.contractAddress)),t.push((0,oe.serializeStacksMessage)(e.contractName)),t.push((0,oe.serializeStacksMessage)(e.functionName));let n=new Uint8Array(4);(0,Dn.writeUInt32BE)(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push((0,nn.serializeCV)(r))});break;case B.PayloadType.SmartContract:t.push((0,oe.serializeStacksMessage)(e.contractName)),t.push((0,oe.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,oe.serializeStacksMessage)(e.contractName)),t.push((0,oe.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.PoisonMicroblock:break;case B.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case B.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,nn.serializeCV)(e.recipient));break}return(0,Dn.concatArray)(t)}j.serializePayload=Ny;function By(e){switch(e.readUInt8Enum(B.PayloadType,n=>{throw new Error(`Cannot recognize PayloadType: ${n}`)})){case B.PayloadType.TokenTransfer:let n=(0,nn.deserializeCV)(e),r=(0,Dn.intToBigInt)(e.readBytes(8),!1),i=(0,oe.deserializeMemoString)(e);return pc(n,r,i);case B.PayloadType.ContractCall:let s=(0,oe.deserializeAddress)(e),o=(0,oe.deserializeLPString)(e),u=(0,oe.deserializeLPString)(e),d=[],C=e.readUInt32BE();for(let ee=0;ee<C;ee++){let te=(0,nn.deserializeCV)(e);d.push(te)}return gc(s,o,u,d);case B.PayloadType.SmartContract:let M=(0,oe.deserializeLPString)(e),H=(0,oe.deserializeLPString)(e,4,1e5);return rs(M,H);case B.PayloadType.VersionedSmartContract:{let ee=e.readUInt8Enum(B.ClarityVersion,se=>{throw new Error(`Cannot recognize ClarityVersion: ${se}`)}),te=(0,oe.deserializeLPString)(e),de=(0,oe.deserializeLPString)(e,4,1e5);return rs(te,de,ee)}case B.PayloadType.PoisonMicroblock:return hc();case B.PayloadType.Coinbase:let J=e.readBytes(B.COINBASE_BYTES_LENGTH);return is(J);case B.PayloadType.CoinbaseToAltRecipient:let R=e.readBytes(B.COINBASE_BYTES_LENGTH),G=(0,nn.deserializeCV)(e);return is(R,G)}}j.deserializePayload=By});var at=y(Ae=>{"use strict";a();c();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.VerificationError=Ae.SigningError=Ae.NotImplementedError=Ae.NoEstimateAvailableError=Ae.DeserializationError=Ae.SerializationError=void 0;var Pt=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ss=class extends Pt{constructor(t){super(t)}};Ae.SerializationError=ss;var os=class extends Pt{constructor(t){super(t)}};Ae.DeserializationError=os;var as=class extends Pt{constructor(t){super(t)}};Ae.NoEstimateAvailableError=as;var cs=class extends Pt{constructor(t){super(t)}};Ae.NotImplementedError=cs;var us=class extends Pt{constructor(t){super(t)}};Ae.SigningError=us;var ds=class extends Pt{constructor(t){super(t)}};Ae.VerificationError=ds});var Hn=y(Se=>{"use strict";a();c();Object.defineProperty(Se,"__esModule",{value:!0});Se.serializeTransactionAuthField=Se.serializeMessageSignature=Se.deserializeTransactionAuthField=Se.createTransactionAuthField=Se.deserializeMessageSignature=Se.AuthFieldType=void 0;var My=at(),Je=le(),kn=Tt(),xy=Xt(),fs=D(),Ye;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(Ye=Se.AuthFieldType||(Se.AuthFieldType={}));function ls(e){return(0,xy.createMessageSignature)((0,fs.bytesToHex)(e.readBytes(Je.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}Se.deserializeMessageSignature=ls;function Ln(e,t){return{pubKeyEncoding:e,type:Je.StacksMessageType.TransactionAuthField,contents:t}}Se.createTransactionAuthField=Ln;function Vy(e){let t=e.readUInt8Enum(Ye,n=>{throw new My.DeserializationError(`Could not read ${n} as AuthFieldType`)});switch(t){case Ye.PublicKeyCompressed:return Ln(Je.PubKeyEncoding.Compressed,(0,kn.deserializePublicKey)(e));case Ye.PublicKeyUncompressed:return Ln(Je.PubKeyEncoding.Uncompressed,(0,kn.deserializePublicKey)(e));case Ye.SignatureCompressed:return Ln(Je.PubKeyEncoding.Compressed,ls(e));case Ye.SignatureUncompressed:return Ln(Je.PubKeyEncoding.Uncompressed,ls(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}Se.deserializeTransactionAuthField=Vy;function Cc(e){return(0,fs.hexToBytes)(e.data)}Se.serializeMessageSignature=Cc;function Dy(e){let t=[];switch(e.contents.type){case Je.StacksMessageType.PublicKey:e.pubKeyEncoding==Je.PubKeyEncoding.Compressed?(t.push(Ye.PublicKeyCompressed),t.push((0,kn.serializePublicKey)(e.contents))):(t.push(Ye.PublicKeyUncompressed),t.push((0,kn.serializePublicKey)((0,kn.compressPublicKey)(e.contents.data))));break;case Je.StacksMessageType.MessageSignature:e.pubKeyEncoding==Je.PubKeyEncoding.Compressed?t.push(Ye.SignatureCompressed):t.push(Ye.SignatureUncompressed),t.push(Cc(e.contents));break}return(0,fs.concatArray)(t)}Se.serializeTransactionAuthField=Dy});var _t=y(A=>{"use strict";a();c();Object.defineProperty(A,"__esModule",{value:!0});A.deserializePostCondition=A.serializePostCondition=A.deserializeLPList=A.serializeLPList=A.createLPList=A.deserializeAssetInfo=A.serializeAssetInfo=A.deserializeMemoString=A.serializeMemoString=A.createMemoString=A.codeBodyString=A.deserializeLPString=A.serializeLPString=A.deserializePrincipal=A.serializePrincipal=A.deserializeAddress=A.serializeAddress=A.addressFromPublicKeys=A.addressFromHashMode=A.createEmptyAddress=A.deserializeStacksMessage=A.serializeStacksMessage=void 0;var K=D(),f=le(),cn=Tt(),sn=Ue(),Sc=it(),Tc=rn(),on=at(),Pr=Hn(),an=Xt(),_c=ot();function Pc(e){switch(e.type){case f.StacksMessageType.Address:return Er(e);case f.StacksMessageType.Principal:return ys(e);case f.StacksMessageType.LengthPrefixedString:return Kn(e);case f.StacksMessageType.MemoString:return Ec(e);case f.StacksMessageType.AssetInfo:return hs(e);case f.StacksMessageType.PostCondition:return Ic(e);case f.StacksMessageType.PublicKey:return(0,cn.serializePublicKey)(e);case f.StacksMessageType.LengthPrefixedList:return mc(e);case f.StacksMessageType.Payload:return(0,Tc.serializePayload)(e);case f.StacksMessageType.TransactionAuthField:return(0,Pr.serializeTransactionAuthField)(e);case f.StacksMessageType.MessageSignature:return(0,Pr.serializeMessageSignature)(e)}}A.serializeStacksMessage=Pc;function Ly(e,t,n){switch(t){case f.StacksMessageType.Address:return Fn(e);case f.StacksMessageType.Principal:return ps(e);case f.StacksMessageType.LengthPrefixedString:return un(e);case f.StacksMessageType.MemoString:return gs(e);case f.StacksMessageType.AssetInfo:return Un(e);case f.StacksMessageType.PostCondition:return Cs(e);case f.StacksMessageType.PublicKey:return(0,cn.deserializePublicKey)(e);case f.StacksMessageType.Payload:return(0,Tc.deserializePayload)(e);case f.StacksMessageType.LengthPrefixedList:if(!n)throw new on.DeserializationError("No List Type specified");return Ac(e,n);case f.StacksMessageType.MessageSignature:return(0,Pr.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}A.deserializeStacksMessage=Ly;function ky(){return{type:f.StacksMessageType.Address,version:f.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}A.createEmptyAddress=ky;function Hy(e,t,n){let r=(0,an.addressHashModeToVersion)(e,t);return(0,an.addressFromVersionHash)(r,n)}A.addressFromHashMode=Hy;function Ky(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===f.AddressHashMode.SerializeP2PKH||t===f.AddressHashMode.SerializeP2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if(t===f.AddressHashMode.SerializeP2WPKH||t===f.AddressHashMode.SerializeP2WSH){for(let i=0;i<r.length;i++)if(!(0,cn.isCompressed)(r[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case f.AddressHashMode.SerializeP2PKH:return(0,an.addressFromVersionHash)(e,(0,sn.hashP2PKH)(r[0].data));case f.AddressHashMode.SerializeP2WPKH:return(0,an.addressFromVersionHash)(e,(0,sn.hashP2WPKH)(r[0].data));case f.AddressHashMode.SerializeP2SH:return(0,an.addressFromVersionHash)(e,(0,sn.hashP2SH)(n,r.map(cn.serializePublicKey)));case f.AddressHashMode.SerializeP2WSH:return(0,an.addressFromVersionHash)(e,(0,sn.hashP2WSH)(n,r.map(cn.serializePublicKey)))}}A.addressFromPublicKeys=Ky;function Er(e){let t=[];return t.push((0,K.hexToBytes)((0,K.intToHex)(e.version,1))),t.push((0,K.hexToBytes)(e.hash160)),(0,K.concatArray)(t)}A.serializeAddress=Er;function Fn(e){let t=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(1))),n=(0,K.bytesToHex)(e.readBytes(20));return{type:f.StacksMessageType.Address,version:t,hash160:n}}A.deserializeAddress=Fn;function ys(e){let t=[];return t.push(e.prefix),t.push(Er(e.address)),e.prefix===f.PostConditionPrincipalID.Contract&&t.push(Kn(e.contractName)),(0,K.concatArray)(t)}A.serializePrincipal=ys;function ps(e){let t=e.readUInt8Enum(f.PostConditionPrincipalID,i=>{throw new on.DeserializationError(`Unexpected Principal payload type: ${i}`)}),n=Fn(e);if(t===f.PostConditionPrincipalID.Standard)return{type:f.StacksMessageType.Principal,prefix:t,address:n};let r=un(e);return{type:f.StacksMessageType.Principal,prefix:t,address:n,contractName:r}}A.deserializePrincipal=ps;function Kn(e){let t=[],n=(0,K.utf8ToBytes)(e.content),r=n.byteLength;return t.push((0,K.hexToBytes)((0,K.intToHex)(r,e.lengthPrefixBytes))),t.push(n),(0,K.concatArray)(t)}A.serializeLPString=Kn;function un(e,t,n){t=t||1;let r=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(t))),i=(0,K.bytesToUtf8)(e.readBytes(r));return(0,Sc.createLPString)(i,t,n??128)}A.deserializeLPString=un;function Uy(e){return(0,Sc.createLPString)(e,4,1e5)}A.codeBodyString=Uy;function Fy(e){if(e&&(0,sn.exceedsMaxLengthBytes)(e,f.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${f.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:f.StacksMessageType.MemoString,content:e}}A.createMemoString=Fy;function Ec(e){let t=[],n=(0,K.utf8ToBytes)(e.content),r=(0,sn.rightPadHexToLength)((0,K.bytesToHex)(n),f.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,K.hexToBytes)(r)),(0,K.concatArray)(t)}A.serializeMemoString=Ec;function gs(e){let t=(0,K.bytesToUtf8)(e.readBytes(f.MEMO_MAX_LENGTH_BYTES));return{type:f.StacksMessageType.MemoString,content:t}}A.deserializeMemoString=gs;function hs(e){let t=[];return t.push(Er(e.address)),t.push(Kn(e.contractName)),t.push(Kn(e.assetName)),(0,K.concatArray)(t)}A.serializeAssetInfo=hs;function Un(e){return{type:f.StacksMessageType.AssetInfo,address:Fn(e),contractName:un(e),assetName:un(e)}}A.deserializeAssetInfo=Un;function bc(e,t){return{type:f.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}A.createLPList=bc;function mc(e){let t=e.values,n=[];n.push((0,K.hexToBytes)((0,K.intToHex)(t.length,e.lengthPrefixBytes)));for(let r of t)n.push(Pc(r));return(0,K.concatArray)(n)}A.serializeLPList=mc;function Ac(e,t,n){let r=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(n||4))),i=[];for(let s=0;s<r;s++)switch(t){case f.StacksMessageType.Address:i.push(Fn(e));break;case f.StacksMessageType.LengthPrefixedString:i.push(un(e));break;case f.StacksMessageType.MemoString:i.push(gs(e));break;case f.StacksMessageType.AssetInfo:i.push(Un(e));break;case f.StacksMessageType.PostCondition:i.push(Cs(e));break;case f.StacksMessageType.PublicKey:i.push((0,cn.deserializePublicKey)(e));break;case f.StacksMessageType.TransactionAuthField:i.push((0,Pr.deserializeTransactionAuthField)(e));break}return bc(i,n)}A.deserializeLPList=Ac;function Ic(e){let t=[];return t.push(e.conditionType),t.push(ys(e.principal)),(e.conditionType===f.PostConditionType.Fungible||e.conditionType===f.PostConditionType.NonFungible)&&t.push(hs(e.assetInfo)),e.conditionType===f.PostConditionType.NonFungible&&t.push((0,_c.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===f.PostConditionType.STX||e.conditionType===f.PostConditionType.Fungible)&&t.push((0,K.intToBytes)(e.amount,!1,8)),(0,K.concatArray)(t)}A.serializePostCondition=Ic;function Cs(e){let t=e.readUInt8Enum(f.PostConditionType,o=>{throw new on.DeserializationError(`Could not read ${o} as PostConditionType`)}),n=ps(e),r,i,s;switch(t){case f.PostConditionType.STX:return r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),s=BigInt(`0x${(0,K.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.STX,principal:n,conditionCode:r,amount:s};case f.PostConditionType.Fungible:return i=Un(e),r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),s=BigInt(`0x${(0,K.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.Fungible,principal:n,conditionCode:r,amount:s,assetInfo:i};case f.PostConditionType.NonFungible:i=Un(e);let o=(0,_c.deserializeCV)(e);return r=e.readUInt8Enum(f.NonFungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.NonFungible,principal:n,conditionCode:r,assetInfo:i,assetName:o}}}A.deserializePostCondition=Cs});var Oc=y(mr=>{"use strict";a();c();Object.defineProperty(mr,"__esModule",{value:!0});mr.serializeCV=void 0;var Te=D(),br=_t(),zy=it(),ge=ve(),qy=at(),Ss=le();function Ze(e,t){return(0,Te.concatArray)([e,t])}function $y(e){return new Uint8Array([e.type])}function jy(e){return e.type===ge.ClarityType.OptionalNone?new Uint8Array([e.type]):Ze(e.type,zn(e.value))}function Gy(e){let t=new Uint8Array(4);return(0,Te.writeUInt32BE)(t,e.buffer.length,0),Ze(e.type,(0,Te.concatBytes)(t,e.buffer))}function Wy(e){let t=(0,Te.bigIntToBytes)((0,Te.toTwos)(e.value,BigInt(Ss.CLARITY_INT_SIZE)),Ss.CLARITY_INT_BYTE_SIZE);return Ze(e.type,t)}function Xy(e){let t=(0,Te.bigIntToBytes)(e.value,Ss.CLARITY_INT_BYTE_SIZE);return Ze(e.type,t)}function Yy(e){return Ze(e.type,(0,br.serializeAddress)(e.address))}function Jy(e){return Ze(e.type,(0,Te.concatBytes)((0,br.serializeAddress)(e.address),(0,br.serializeLPString)(e.contractName)))}function Zy(e){return Ze(e.type,zn(e.value))}function Qy(e){let t=[],n=new Uint8Array(4);(0,Te.writeUInt32BE)(n,e.list.length,0),t.push(n);for(let r of e.list){let i=zn(r);t.push(i)}return Ze(e.type,(0,Te.concatArray)(t))}function ep(e){let t=[],n=new Uint8Array(4);(0,Te.writeUInt32BE)(n,Object.keys(e.data).length,0),t.push(n);let r=Object.keys(e.data).sort((i,s)=>i.localeCompare(s));for(let i of r){let s=(0,zy.createLPString)(i);t.push((0,br.serializeLPString)(s));let o=zn(e.data[i]);t.push(o)}return Ze(e.type,(0,Te.concatArray)(t))}function wc(e,t){let n=[],r=t=="ascii"?(0,Te.asciiToBytes)(e.data):(0,Te.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,Te.writeUInt32BE)(i,r.length,0),n.push(i),n.push(r),Ze(e.type,(0,Te.concatArray)(n))}function tp(e){return wc(e,"ascii")}function np(e){return wc(e,"utf8")}function zn(e){switch(e.type){case ge.ClarityType.BoolTrue:case ge.ClarityType.BoolFalse:return $y(e);case ge.ClarityType.OptionalNone:case ge.ClarityType.OptionalSome:return jy(e);case ge.ClarityType.Buffer:return Gy(e);case ge.ClarityType.UInt:return Xy(e);case ge.ClarityType.Int:return Wy(e);case ge.ClarityType.PrincipalStandard:return Yy(e);case ge.ClarityType.PrincipalContract:return Jy(e);case ge.ClarityType.ResponseOk:case ge.ClarityType.ResponseErr:return Zy(e);case ge.ClarityType.List:return Qy(e);case ge.ClarityType.Tuple:return ep(e);case ge.ClarityType.StringASCII:return tp(e);case ge.ClarityType.StringUTF8:return np(e);default:throw new qy.SerializationError("Unable to serialize. Invalid Clarity Value.")}}mr.serializeCV=zn});var Ar=y(dn=>{"use strict";a();c();Object.defineProperty(dn,"__esModule",{value:!0});dn.BytesReader=dn.isEnum=void 0;var qn=D();function rp(e){let t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}var Rc=new Map;function _s(e,t){let n=Rc.get(e);if(n!==void 0)return n(t);let r=rp(e);return Rc.set(e,r),_s(e,t)}dn.isEnum=_s;var Ts=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return(0,qn.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,qn.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,qn.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let n=this.readBytes(t).slice().reverse(),r=(0,qn.bytesToHex)(n);return BigInt(`0x${r}`)}readBigUIntBE(t){let n=this.readBytes(t),r=(0,qn.bytesToHex)(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){let r=this.readUInt8();if(_s(t,r))return r;throw n(r)}};dn.BytesReader=Ts});var Bc=y(bs=>{"use strict";a();c();Object.defineProperty(bs,"__esModule",{value:!0});var U=ot(),vc=Ar(),Ir=_t(),Ps=at(),Nc=Sr(),Es=D();function ln(e){let t;if(typeof e=="string"){let r=e.slice(0,2).toLowerCase()==="0x";t=new vc.BytesReader((0,Es.hexToBytes)(r?e.slice(2):e))}else e instanceof Uint8Array?t=new vc.BytesReader(e):t=e;switch(t.readUInt8Enum(U.ClarityType,r=>{throw new Ps.DeserializationError(`Cannot recognize Clarity Type: ${r}`)})){case U.ClarityType.Int:return(0,U.intCV)(t.readBytes(16));case U.ClarityType.UInt:return(0,U.uintCV)(t.readBytes(16));case U.ClarityType.Buffer:let r=t.readUInt32BE();return(0,U.bufferCV)(t.readBytes(r));case U.ClarityType.BoolTrue:return(0,U.trueCV)();case U.ClarityType.BoolFalse:return(0,U.falseCV)();case U.ClarityType.PrincipalStandard:let i=(0,Ir.deserializeAddress)(t);return(0,U.standardPrincipalCVFromAddress)(i);case U.ClarityType.PrincipalContract:let s=(0,Ir.deserializeAddress)(t),o=(0,Ir.deserializeLPString)(t);return(0,U.contractPrincipalCVFromAddress)(s,o);case U.ClarityType.ResponseOk:return(0,U.responseOkCV)(ln(t));case U.ClarityType.ResponseErr:return(0,U.responseErrorCV)(ln(t));case U.ClarityType.OptionalNone:return(0,U.noneCV)();case U.ClarityType.OptionalSome:return(0,U.someCV)(ln(t));case U.ClarityType.List:let u=t.readUInt32BE(),d=[];for(let ee=0;ee<u;ee++)d.push(ln(t));return(0,U.listCV)(d);case U.ClarityType.Tuple:let C=t.readUInt32BE(),M={};for(let ee=0;ee<C;ee++){let te=(0,Ir.deserializeLPString)(t).content;if(te===void 0)throw new Ps.DeserializationError('"content" is undefined');M[te]=ln(t)}return(0,U.tupleCV)(M);case U.ClarityType.StringASCII:let H=t.readUInt32BE(),J=(0,Es.bytesToAscii)(t.readBytes(H));return(0,Nc.stringAsciiCV)(J);case U.ClarityType.StringUTF8:let R=t.readUInt32BE(),G=(0,Es.bytesToUtf8)(t.readBytes(R));return(0,Nc.stringUtf8CV)(G);default:throw new Ps.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}bs.default=ln});var ot=y(g=>{"use strict";a();c();var ip=g&&g.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(g,"__esModule",{value:!0});g.principalToString=g.cvToValue=g.cvToJSON=g.cvToString=g.deserializeCV=g.serializeCV=g.getCVTypeString=g.stringUtf8CV=g.stringAsciiCV=g.stringCV=g.tupleCV=g.listCV=g.contractPrincipalCVFromStandard=g.contractPrincipalCVFromAddress=g.contractPrincipalCV=g.standardPrincipalCVFromAddress=g.standardPrincipalCV=g.principalCV=g.responseErrorCV=g.responseOkCV=g.optionalCVOf=g.someCV=g.noneCV=g.bufferCVFromString=g.bufferCV=g.uintCV=g.intCV=g.falseCV=g.trueCV=g.boolCV=g.ClarityType=void 0;var wr=Da();Object.defineProperty(g,"getCVTypeString",{enumerable:!0,get:function(){return wr.getCVTypeString}});Object.defineProperty(g,"cvToString",{enumerable:!0,get:function(){return wr.cvToString}});Object.defineProperty(g,"cvToJSON",{enumerable:!0,get:function(){return wr.cvToJSON}});Object.defineProperty(g,"cvToValue",{enumerable:!0,get:function(){return wr.cvToValue}});var sp=ve();Object.defineProperty(g,"ClarityType",{enumerable:!0,get:function(){return sp.ClarityType}});var ms=Ka();Object.defineProperty(g,"trueCV",{enumerable:!0,get:function(){return ms.trueCV}});Object.defineProperty(g,"falseCV",{enumerable:!0,get:function(){return ms.falseCV}});Object.defineProperty(g,"boolCV",{enumerable:!0,get:function(){return ms.boolCV}});var Mc=ja();Object.defineProperty(g,"intCV",{enumerable:!0,get:function(){return Mc.intCV}});Object.defineProperty(g,"uintCV",{enumerable:!0,get:function(){return Mc.uintCV}});var xc=Wa();Object.defineProperty(g,"bufferCV",{enumerable:!0,get:function(){return xc.bufferCV}});Object.defineProperty(g,"bufferCVFromString",{enumerable:!0,get:function(){return xc.bufferCVFromString}});var As=Za();Object.defineProperty(g,"noneCV",{enumerable:!0,get:function(){return As.noneCV}});Object.defineProperty(g,"someCV",{enumerable:!0,get:function(){return As.someCV}});Object.defineProperty(g,"optionalCVOf",{enumerable:!0,get:function(){return As.optionalCVOf}});var Vc=ec();Object.defineProperty(g,"responseOkCV",{enumerable:!0,get:function(){return Vc.responseOkCV}});Object.defineProperty(g,"responseErrorCV",{enumerable:!0,get:function(){return Vc.responseErrorCV}});var Vt=pr();Object.defineProperty(g,"standardPrincipalCV",{enumerable:!0,get:function(){return Vt.standardPrincipalCV}});Object.defineProperty(g,"contractPrincipalCV",{enumerable:!0,get:function(){return Vt.contractPrincipalCV}});Object.defineProperty(g,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return Vt.standardPrincipalCVFromAddress}});Object.defineProperty(g,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return Vt.contractPrincipalCVFromAddress}});Object.defineProperty(g,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return Vt.contractPrincipalCVFromStandard}});Object.defineProperty(g,"principalCV",{enumerable:!0,get:function(){return Vt.principalCV}});Object.defineProperty(g,"principalToString",{enumerable:!0,get:function(){return Vt.principalToString}});var op=tc();Object.defineProperty(g,"listCV",{enumerable:!0,get:function(){return op.listCV}});var ap=nc();Object.defineProperty(g,"tupleCV",{enumerable:!0,get:function(){return ap.tupleCV}});var Is=Sr();Object.defineProperty(g,"stringUtf8CV",{enumerable:!0,get:function(){return Is.stringUtf8CV}});Object.defineProperty(g,"stringAsciiCV",{enumerable:!0,get:function(){return Is.stringAsciiCV}});Object.defineProperty(g,"stringCV",{enumerable:!0,get:function(){return Is.stringCV}});var cp=Oc();Object.defineProperty(g,"serializeCV",{enumerable:!0,get:function(){return cp.serializeCV}});var up=ip(Bc());g.deserializeCV=up.default});var Ue=y(E=>{"use strict";a();c();var dp=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});E.addHex=E.postConditionFromString=E.hexToBuff=E.validateTxId=E.validateStacksAddress=E.parseReadOnlyResponse=E.hexToCV=E.cvToHex=E.isClarityName=E.hashP2WSH=E.hashP2SH=E.hashP2WPKH=E.hashP2PKH=E.hash160=E.txidFromData=E.omit=E.cloneDeep=E.exceedsMaxLengthBytes=E.rightPadHexToLength=E.leftPadHexToLength=E.leftPadHex=E.randomBytes=void 0;var $n=Re(),Ie=D(),lp=qt(),fp=dp(wa()),Lc=ot(),Dc=fn(),yp=e=>$n.base.randomBytes(Number(e));E.randomBytes=yp;var pp=e=>e.length%2==0?e:`0${e}`;E.leftPadHex=pp;var gp=(e,t)=>e.padStart(t,"0");E.leftPadHexToLength=gp;var hp=(e,t)=>e.padEnd(t,"0");E.rightPadHexToLength=hp;var Cp=(e,t)=>e?(0,Ie.utf8ToBytes)(e).length>t:!1;E.exceedsMaxLengthBytes=Cp;function kc(e){return(0,fp.default)(e)}E.cloneDeep=kc;function Sp(e,t){let n=kc(e);return delete n[t],n}E.omit=Sp;var Tp=e=>(0,Ie.bytesToHex)($n.base.sha512_256(e));E.txidFromData=Tp;var _p=e=>$n.base.ripemd160($n.base.sha256(e));E.hash160=_p;var Pp=e=>(0,Ie.bytesToHex)((0,E.hash160)(e));E.hashP2PKH=Pp;var Ep=e=>{let t=(0,E.hash160)(e),n=(0,Ie.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),r=(0,E.hash160)(n);return(0,Ie.bytesToHex)(r)};E.hashP2WPKH=Ep;var bp=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(s=>{n.push(s.length),n.push(s)}),n.push(80+t.length),n.push(174);let r=(0,Ie.concatArray)(n),i=(0,E.hash160)(r);return(0,Ie.bytesToHex)(i)};E.hashP2SH=bp;var mp=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(d=>{n.push(d.length),n.push(d)}),n.push(80+t.length),n.push(174);let r=(0,Ie.concatArray)(n),i=$n.base.sha256(r),s=[];s.push(0),s.push(i.length),s.push(i);let o=(0,Ie.concatArray)(s),u=(0,E.hash160)(o);return(0,Ie.bytesToHex)(u)};E.hashP2WSH=mp;function Ap(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}E.isClarityName=Ap;function Ip(e){let t=(0,Lc.serializeCV)(e);return`0x${(0,Ie.bytesToHex)(t)}`}E.cvToHex=Ip;function Hc(e){return(0,Lc.deserializeCV)(e)}E.hexToCV=Hc;var wp=e=>{if(e.okay)return Hc(e.result);throw new Error(e.cause)};E.parseReadOnlyResponse=wp;var Op=e=>{try{return(0,lp.c32addressDecode)(e),!0}catch{return!1}};E.validateStacksAddress=Op;var Rp=e=>{if(e==="success")return!0;let t=(0,Ie.with0x)(e).toLowerCase();return t.length!==66?!1:(0,Ie.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};E.validateTxId=Rp;function vp(e){return p.Buffer.from(Np(e),"hex")}E.hexToBuff=vp;function Np(e){return e.startsWith("0x")?e.replace("0x",""):e}function Bp(e){let t=new Dc.BytesReader((0,Ie.hexToBytes)(e));return(0,Dc.deserializePostCondition)(t)}E.postConditionFromString=Bp;function Mp(e){return e.startsWith("0x")?e:`0x${e}`}E.addHex=Mp});var yn=y(b=>{"use strict";a();c();Object.defineProperty(b,"__esModule",{value:!0});b.deserializeAuthorization=b.serializeAuthorization=b.setSponsor=b.setSponsorNonce=b.setNonce=b.getFee=b.setFee=b.verifyOrigin=b.intoInitialSighashAuth=b.createSponsoredAuth=b.createStandardAuth=b.nextVerification=b.nextSignature=b.makeSigHashPreSign=b.deserializeSpendingCondition=b.serializeSpendingCondition=b.deserializeMultiSigSpendingCondition=b.deserializeSingleSigSpendingCondition=b.serializeMultiSigSpendingCondition=b.serializeSingleSigSpendingCondition=b.isSingleSig=b.createMultiSigSpendingCondition=b.createSingleSigSpendingCondition=b.emptyMessageSignature=void 0;var x=D(),O=le(),vr=Ue(),Fc=Hn(),Et=_t(),Fe=Tt(),Ne=at();function Nr(){return{type:O.StacksMessageType.MessageSignature,data:(0,x.bytesToHex)(new Uint8Array(O.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}b.emptyMessageSignature=Nr;function ws(e,t,n,r){let i=(0,Et.addressFromPublicKeys)(0,e,1,[(0,Fe.createStacksPublicKey)(t)]).hash160,s=(0,Fe.isCompressed)((0,Fe.createStacksPublicKey)(t))?O.PubKeyEncoding.Compressed:O.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,x.intToBigInt)(n,!1),fee:(0,x.intToBigInt)(r,!1),keyEncoding:s,signature:Nr()}}b.createSingleSigSpendingCondition=ws;function xp(e,t,n,r,i){let s=n.map(Fe.createStacksPublicKey),o=(0,Et.addressFromPublicKeys)(0,e,t,s).hash160;return{hashMode:e,signer:o,nonce:(0,x.intToBigInt)(r,!1),fee:(0,x.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}b.createMultiSigSpendingCondition=xp;function Br(e){return"signature"in e}b.isSingleSig=Br;function Kc(e){let t=(0,vr.cloneDeep)(e);return t.nonce=0,t.fee=0,Br(t)?t.signature=Nr():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function zc(e){let t=[e.hashMode,(0,x.hexToBytes)(e.signer),(0,x.intToBytes)(e.nonce,!1,8),(0,x.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,Fc.serializeMessageSignature)(e.signature)];return(0,x.concatArray)(t)}b.serializeSingleSigSpendingCondition=zc;function qc(e){let t=[e.hashMode,(0,x.hexToBytes)(e.signer),(0,x.intToBytes)(e.nonce,!1,8),(0,x.intToBytes)(e.fee,!1,8)],n=(0,Et.createLPList)(e.fields);t.push((0,Et.serializeLPList)(n));let r=new Uint8Array(2);return(0,x.writeUInt16BE)(r,e.signaturesRequired,0),t.push(r),(0,x.concatArray)(t)}b.serializeMultiSigSpendingCondition=qc;function $c(e,t){let n=(0,x.bytesToHex)(t.readBytes(20)),r=BigInt(`0x${(0,x.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,x.bytesToHex)(t.readBytes(8))}`),s=t.readUInt8Enum(O.PubKeyEncoding,u=>{throw new Ne.DeserializationError(`Could not parse ${u} as PubKeyEncoding`)});if(e===O.AddressHashMode.SerializeP2WPKH&&s!=O.PubKeyEncoding.Compressed)throw new Ne.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let o=(0,Fc.deserializeMessageSignature)(t);return{hashMode:e,signer:n,nonce:r,fee:i,keyEncoding:s,signature:o}}b.deserializeSingleSigSpendingCondition=$c;function jc(e,t){let n=(0,x.bytesToHex)(t.readBytes(20)),r=BigInt("0x"+(0,x.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,x.bytesToHex)(t.readBytes(8))),s=(0,Et.deserializeLPList)(t,O.StacksMessageType.TransactionAuthField).values,o=!1,u=0;for(let C of s)switch(C.contents.type){case O.StacksMessageType.PublicKey:(0,Fe.isCompressed)(C.contents)||(o=!0);break;case O.StacksMessageType.MessageSignature:if(C.pubKeyEncoding===O.PubKeyEncoding.Uncompressed&&(o=!0),u+=1,u===65536)throw new Ne.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let d=t.readUInt16BE();if(o&&e===O.AddressHashMode.SerializeP2SH)throw new Ne.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:i,fields:s,signaturesRequired:d}}b.deserializeMultiSigSpendingCondition=jc;function Or(e){return Br(e)?zc(e):qc(e)}b.serializeSpendingCondition=Or;function Rr(e){let t=e.readUInt8Enum(O.AddressHashMode,n=>{throw new Ne.DeserializationError(`Could not parse ${n} as AddressHashMode`)});return t===O.AddressHashMode.SerializeP2PKH||t===O.AddressHashMode.SerializeP2WPKH?$c(t,e):jc(t,e)}b.deserializeSpendingCondition=Rr;function Os(e,t,n,r){let s=e+(0,x.bytesToHex)(new Uint8Array([t]))+(0,x.bytesToHex)((0,x.intToBytes)(n,!1,8))+(0,x.bytesToHex)((0,x.intToBytes)(r,!1,8));if((0,x.hexToBytes)(s).byteLength!==49)throw Error("Invalid signature hash length");return(0,vr.txidFromData)((0,x.hexToBytes)(s))}b.makeSigHashPreSign=Os;function Gc(e,t,n){let r=33+O.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,Fe.isCompressed)(t)?O.PubKeyEncoding.Compressed:O.PubKeyEncoding.Uncompressed,s=e+(0,vr.leftPadHex)(i.toString(16))+n.data,o=(0,x.hexToBytes)(s);if(o.byteLength>r)throw Error("Invalid signature hash length");return(0,vr.txidFromData)(o)}function Vp(e,t,n,r,i){let s=Os(e,t,n,r),o=(0,Fe.signWithKey)(i,s),u=(0,Fe.getPublicKey)(i),d=Gc(s,u,o);return{nextSig:o,nextSigHash:d}}b.nextSignature=Vp;function Rs(e,t,n,r,i,s){let o=Os(e,t,n,r),u=(0,Fe.createStacksPublicKey)((0,Fe.publicKeyFromSignatureVrs)(o,s,i)),d=Gc(o,u,s);return{pubKey:u,nextSigHash:d}}b.nextVerification=Rs;function Dp(){let e=ws(O.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,Et.createEmptyAddress)().hash160,e.keyEncoding=O.PubKeyEncoding.Compressed,e.signature=Nr(),e}function Uc(e,t,n){return Br(e)?Lp(e,t,n):kp(e,t,n)}function Lp(e,t,n){let{pubKey:r,nextSigHash:i}=Rs(t,n,e.fee,e.nonce,e.keyEncoding,e.signature),s=(0,Et.addressFromPublicKeys)(0,e.hashMode,1,[r]).hash160;if(s!==e.signer)throw new Ne.VerificationError(`Signer hash does not equal hash of public key(s): ${s} != ${e.signer}`);return i}function kp(e,t,n){let r=[],i=t,s=!1,o=0;for(let d of e.fields){let C;switch(d.contents.type){case O.StacksMessageType.PublicKey:(0,Fe.isCompressed)(d.contents)||(s=!0),C=d.contents;break;case O.StacksMessageType.MessageSignature:d.pubKeyEncoding===O.PubKeyEncoding.Uncompressed&&(s=!0);let{pubKey:M,nextSigHash:H}=Rs(i,n,e.fee,e.nonce,d.pubKeyEncoding,d.contents);if(i=H,C=M,o+=1,o===65536)throw new Ne.VerificationError("Too many signatures");break}r.push(C)}if(o!==e.signaturesRequired)throw new Ne.VerificationError("Incorrect number of signatures");if(s&&e.hashMode===O.AddressHashMode.SerializeP2SH)throw new Ne.VerificationError("Uncompressed keys are not allowed in this hash mode");let u=(0,Et.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,r).hash160;if(u!==e.signer)throw new Ne.VerificationError(`Signer hash does not equal hash of public key(s): ${u} != ${e.signer}`);return i}function vs(e){return{authType:O.AuthType.Standard,spendingCondition:e}}b.createStandardAuth=vs;function Ns(e,t){return{authType:O.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||ws(O.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}b.createSponsoredAuth=Ns;function Hp(e){if(e.spendingCondition)switch(e.authType){case O.AuthType.Standard:return vs(Kc(e.spendingCondition));case O.AuthType.Sponsored:return Ns(Kc(e.spendingCondition),Dp());default:throw new Ne.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}b.intoInitialSighashAuth=Hp;function Kp(e,t){switch(e.authType){case O.AuthType.Standard:return Uc(e.spendingCondition,t,O.AuthType.Standard);case O.AuthType.Sponsored:return Uc(e.spendingCondition,t,O.AuthType.Standard);default:throw new Ne.SigningError("Invalid origin auth type")}}b.verifyOrigin=Kp;function Up(e,t){switch(e.authType){case O.AuthType.Standard:let n={...e.spendingCondition,fee:(0,x.intToBigInt)(t,!1)};return{...e,spendingCondition:n};case O.AuthType.Sponsored:let r={...e.sponsorSpendingCondition,fee:(0,x.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}}b.setFee=Up;function Fp(e){switch(e.authType){case O.AuthType.Standard:return e.spendingCondition.fee;case O.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}b.getFee=Fp;function zp(e,t){let n={...e.spendingCondition,nonce:(0,x.intToBigInt)(t,!1)};return{...e,spendingCondition:n}}b.setNonce=zp;function qp(e,t){let n={...e.sponsorSpendingCondition,nonce:(0,x.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}b.setSponsorNonce=qp;function $p(e,t){let n={...t,nonce:(0,x.intToBigInt)(t.nonce,!1),fee:(0,x.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:n}}b.setSponsor=$p;function jp(e){let t=[];switch(t.push(e.authType),e.authType){case O.AuthType.Standard:t.push(Or(e.spendingCondition));break;case O.AuthType.Sponsored:t.push(Or(e.spendingCondition)),t.push(Or(e.sponsorSpendingCondition));break}return(0,x.concatArray)(t)}b.serializeAuthorization=jp;function Gp(e){let t=e.readUInt8Enum(O.AuthType,r=>{throw new Ne.DeserializationError(`Could not parse ${r} as AuthType`)}),n;switch(t){case O.AuthType.Standard:return n=Rr(e),vs(n);case O.AuthType.Sponsored:n=Rr(e);let r=Rr(e);return Ns(n,r)}}b.deserializeAuthorization=Gp});var Wc=y(W=>{"use strict";a();c();Object.defineProperty(W,"__esModule",{value:!0});W.StacksDevnet=W.StacksMocknet=W.StacksTestnet=W.StacksMainnet=W.StacksNetwork=W.StacksNetworks=W.HIRO_MOCKNET_DEFAULT=W.HIRO_TESTNET_DEFAULT=W.HIRO_MAINNET_DEFAULT=void 0;var ct=D();W.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";W.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";W.HIRO_MOCKNET_DEFAULT="http://localhost:3999";W.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var ut=class{constructor(t){this.version=ct.TransactionVersion.Mainnet,this.chainId=ct.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===ct.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,i)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${i}?proof=0`,this.getMapEntryUrl=(n,r,i)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${i}?proof=0`,this.coreApiUrl=t.url}};W.StacksNetwork=ut;ut.fromName=e=>{switch(e){case"mainnet":return new Mr;case"testnet":return new xr;case"devnet":return new W.StacksDevnet;case"mocknet":return new jn;default:throw new Error(`Invalid network name provided. Must be one of the following: ${W.StacksNetworks.join(", ")}`)}};ut.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:ut.fromName(e);var Mr=class extends ut{constructor(t){super({url:t?.url??W.HIRO_MAINNET_DEFAULT}),this.version=ct.TransactionVersion.Mainnet,this.chainId=ct.ChainID.Mainnet}};W.StacksMainnet=Mr;var xr=class extends ut{constructor(t){super({url:t?.url??W.HIRO_TESTNET_DEFAULT}),this.version=ct.TransactionVersion.Testnet,this.chainId=ct.ChainID.Testnet}};W.StacksTestnet=xr;var jn=class extends ut{constructor(t){super({url:t?.url??W.HIRO_MOCKNET_DEFAULT}),this.version=ct.TransactionVersion.Testnet,this.chainId=ct.ChainID.Testnet}};W.StacksMocknet=jn;W.StacksDevnet=jn});var Gn=y(Dt=>{"use strict";a();c();var Wp=Dt&&Dt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xp=Dt&&Dt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Wp(t,e,n)};Object.defineProperty(Dt,"__esModule",{value:!0});Xp(Wc(),Dt)});var Bs=y(bt=>{"use strict";a();c();Object.defineProperty(bt,"__esModule",{value:!0});bt.createNonFungiblePostCondition=bt.createFungiblePostCondition=bt.createSTXPostCondition=void 0;var Xc=D(),pn=le(),Wn=it();function Yp(e,t,n){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),{type:pn.StacksMessageType.PostCondition,conditionType:pn.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,Xc.intToBigInt)(n,!1)}}bt.createSTXPostCondition=Yp;function Jp(e,t,n,r){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,Wn.parseAssetInfoString)(r)),{type:pn.StacksMessageType.PostCondition,conditionType:pn.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,Xc.intToBigInt)(n,!1),assetInfo:r}}bt.createFungiblePostCondition=Jp;function Zp(e,t,n,r){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,Wn.parseAssetInfoString)(n)),{type:pn.StacksMessageType.PostCondition,conditionType:pn.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:n,assetName:r}}bt.createNonFungiblePostCondition=Zp});var Ds=y(Vr=>{"use strict";a();c();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.TransactionSigner=void 0;var Ms=yn(),xs=Ue(),gn=le(),hn=at(),Vs=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let n=t.auth.spendingCondition;if(n&&!(0,Ms.isSingleSig)(n)){if(n.fields.filter(r=>r.contents.type===gn.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");n.fields.forEach(r=>{if(r.contents.type===gn.StacksMessageType.MessageSignature){let i=r.contents,s=(0,Ms.nextVerification)(this.sigHash,t.auth.authType,n.fee,n.nonce,gn.PubKeyEncoding.Compressed,i);this.sigHash=s.nextSigHash}})}}static createSponsorSigner(t,n){if(t.auth.authType!=gn.AuthType.Sponsored)throw new hn.SigningError("Cannot add sponsor to non-sponsored transaction");let r=(0,xs.cloneDeep)(t);r.setSponsor(n);let i=r.verifyOrigin(),s=new this(r);return s.originDone=!0,s.sigHash=i,s.checkOversign=!0,s.checkOverlap=!0,s}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new hn.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new hn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new hn.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,Ms.isSingleSig)(this.transaction.auth.spendingCondition)){let r=this.transaction.auth.spendingCondition;if(this.checkOversign&&r.fields.filter(i=>i.contents.type===gn.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("Origin would have too many signatures")}let n=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=n}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new hn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==gn.AuthType.Sponsored)throw new hn.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let n=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=n,this.originDone=!0}getTxInComplete(){return(0,xs.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,xs.cloneDeep)(t),this.sigHash=t.signBegin()}};Vr.TransactionSigner=Vs});var Ks=y(Sn=>{"use strict";a();c();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.deserializeTransaction=Sn.StacksTransaction=void 0;var Cn=D(),X=le(),Le=yn(),Yc=Hn(),Ls=Ue(),Jc=rn(),Hs=_t(),Qp=Tt(),ks=Ar(),Lt=at(),Dr=class{constructor(t,n,r,i,s,o,u){if(this.version=t,this.auth=n,"amount"in r?this.payload={...r,amount:(0,Cn.intToBigInt)(r.amount,!1)}:this.payload=r,this.chainId=u??X.DEFAULT_CHAIN_ID,this.postConditionMode=s??X.PostConditionMode.Deny,this.postConditions=i??(0,Hs.createLPList)([]),o)this.anchorMode=(0,X.anchorModeFromNameOrValue)(o);else switch(r.payloadType){case X.PayloadType.Coinbase:case X.PayloadType.CoinbaseToAltRecipient:case X.PayloadType.PoisonMicroblock:{this.anchorMode=X.AnchorMode.OnChainOnly;break}case X.PayloadType.ContractCall:case X.PayloadType.SmartContract:case X.PayloadType.VersionedSmartContract:case X.PayloadType.TokenTransfer:{this.anchorMode=X.AnchorMode.Any;break}}}signBegin(){let t=(0,Ls.cloneDeep)(this);return t.auth=(0,Le.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,Ls.cloneDeep)(this);return t.auth=(0,Le.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,Le.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,X.AuthType.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===X.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,X.AuthType.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let n=this.auth.spendingCondition;if(n&&!(0,Le.isSingleSig)(n)){let r=(0,Qp.isCompressed)(t);n.fields.push((0,Yc.createTransactionAuthField)(r?X.PubKeyEncoding.Compressed:X.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,i){let{nextSig:s,nextSigHash:o}=(0,Le.nextSignature)(n,r,t.fee,t.nonce,i);if((0,Le.isSingleSig)(t))t.signature=s;else{let u=(0,Cn.bytesToHex)(i.data).endsWith("01");t.fields.push((0,Yc.createTransactionAuthField)(u?X.PubKeyEncoding.Compressed:X.PubKeyEncoding.Uncompressed,s))}return o}txid(){let t=this.serialize();return(0,Ls.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=X.AuthType.Sponsored)throw new Lt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Le.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,Le.setFee)(this.auth,t)}setNonce(t){this.auth=(0,Le.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=X.AuthType.Sponsored)throw new Lt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Le.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new Lt.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new Lt.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new Lt.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new Lt.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new Lt.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let n=new Uint8Array(4);return(0,Cn.writeUInt32BE)(n,this.chainId,0),t.push(n),t.push((0,Le.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,Hs.serializeLPList)(this.postConditions)),t.push((0,Jc.serializePayload)(this.payload)),(0,Cn.concatArray)(t)}};Sn.StacksTransaction=Dr;function eg(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new ks.BytesReader((0,Cn.hexToBytes)(e.slice(2))):t=new ks.BytesReader((0,Cn.hexToBytes)(e)):e instanceof Uint8Array?t=new ks.BytesReader(e):t=e;let n=t.readUInt8Enum(X.TransactionVersion,C=>{throw new Error(`Could not parse ${C} as TransactionVersion`)}),r=t.readUInt32BE(),i=(0,Le.deserializeAuthorization)(t),s=t.readUInt8Enum(X.AnchorMode,C=>{throw new Error(`Could not parse ${C} as AnchorMode`)}),o=t.readUInt8Enum(X.PostConditionMode,C=>{throw new Error(`Could not parse ${C} as PostConditionMode`)}),u=(0,Hs.deserializeLPList)(t,X.StacksMessageType.PostCondition),d=(0,Jc.deserializePayload)(t);return new Dr(n,i,d,u,o,s,r)}Sn.deserializeTransaction=eg});var zs=y(Z=>{"use strict";a();c();Object.defineProperty(Z,"__esModule",{value:!0});Z.makeContractDeploy=Z.makeUnsignedContractDeploy=Z.estimateTransactionByteLength=Z.makeContractNonFungiblePostCondition=Z.makeStandardNonFungiblePostCondition=Z.makeContractFungiblePostCondition=Z.makeStandardFungiblePostCondition=Z.makeContractSTXPostCondition=Z.makeStandardSTXPostCondition=Z.makeContractCall=Z.makeUnsignedContractCall=void 0;var Zc=D(),Lr=Gn(),kt=yn(),Qe=le(),ke=Tt(),eu=rn(),Tn=Bs(),_n=it(),Us=Ds(),tu=Ks(),nu=_t(),Qc=Ue();async function Fs(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Lr.StacksMainnet,postConditionMode:Qe.PostConditionMode.Deny,sponsored:!1},n=Object.assign(t,e),r=(0,eu.createContractCallPayload)(n.contractAddress,n.contractName,n.functionName,n.functionArgs),i=null,s=null;"publicKey"in n?i=(0,kt.createSingleSigSpendingCondition)(Qe.AddressHashMode.SerializeP2PKH,n.publicKey,n.nonce,n.fee):i=(0,kt.createMultiSigSpendingCondition)(Qe.AddressHashMode.SerializeP2SH,n.numSignatures,n.publicKeys,n.nonce,n.fee),n.sponsored?s=(0,kt.createSponsoredAuth)(i):s=(0,kt.createStandardAuth)(i);let o=Lr.StacksNetwork.fromNameOrNetwork(n.network),u=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(M=>{u.push(M)});let d=(0,nu.createLPList)(u);return new tu.StacksTransaction(o.version,s,r,d,n.postConditionMode,n.anchorMode,o.chainId)}Z.makeUnsignedContractCall=Fs;async function tg(e){if("senderKey"in e){let t=(0,ke.publicKeyToString)((0,ke.getPublicKey)((0,ke.createStacksPrivateKey)(e.senderKey))),n=(0,Qc.omit)(e,"senderKey"),r=await Fs({publicKey:t,...n}),i=(0,ke.createStacksPrivateKey)(e.senderKey);return new Us.TransactionSigner(r).signOrigin(i),r}else{let t=(0,Qc.omit)(e,"signerKeys"),n=await Fs(t),r=new Us.TransactionSigner(n),i=e.publicKeys;for(let s of e.signerKeys){let o=(0,ke.pubKeyfromPrivKey)(s);i=i.filter(u=>u!==(0,Zc.bytesToHex)(o.data)),r.signOrigin((0,ke.createStacksPrivateKey)(s))}for(let s of i)r.appendOrigin((0,ke.publicKeyFromBytes)((0,Zc.hexToBytes)(s)));return n}}Z.makeContractCall=tg;function ng(e,t,n){return(0,Tn.createSTXPostCondition)((0,_n.createStandardPrincipal)(e),t,n)}Z.makeStandardSTXPostCondition=ng;function rg(e,t,n,r){return(0,Tn.createSTXPostCondition)((0,_n.createContractPrincipal)(e,t),n,r)}Z.makeContractSTXPostCondition=rg;function ig(e,t,n,r){return(0,Tn.createFungiblePostCondition)((0,_n.createStandardPrincipal)(e),t,n,r)}Z.makeStandardFungiblePostCondition=ig;function sg(e,t,n,r,i){return(0,Tn.createFungiblePostCondition)((0,_n.createContractPrincipal)(e,t),n,r,i)}Z.makeContractFungiblePostCondition=sg;function og(e,t,n,r){return(0,Tn.createNonFungiblePostCondition)((0,_n.createStandardPrincipal)(e),t,n,r)}Z.makeStandardNonFungiblePostCondition=og;function ag(e,t,n,r,i){return(0,Tn.createNonFungiblePostCondition)((0,_n.createContractPrincipal)(e,t),n,r,i)}Z.makeContractNonFungiblePostCondition=ag;function cg(e){let t=e.auth.spendingCondition.hashMode;if([Qe.AddressHashMode.SerializeP2SH,Qe.AddressHashMode.SerializeP2WSH].includes(t)){let r=e.auth.spendingCondition,i=r.fields.filter(o=>o.contents.type===Qe.StacksMessageType.MessageSignature).length,s=(r.signaturesRequired-i)*(Qe.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+s}else return e.serialize().byteLength}Z.estimateTransactionByteLength=cg;async function ru(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Lr.StacksMainnet,postConditionMode:Qe.PostConditionMode.Deny,sponsored:!1,clarityVersion:Qe.ClarityVersion.Clarity2},n=Object.assign(t,e),r=(0,eu.createSmartContractPayload)(n.contractName,n.codeBody,n.clarityVersion),i=Qe.AddressHashMode.SerializeP2PKH,s=(0,ke.createStacksPublicKey)(n.publicKey),o=null,u=(0,kt.createSingleSigSpendingCondition)(i,(0,ke.publicKeyToString)(s),n.nonce,n.fee);n.sponsored?o=(0,kt.createSponsoredAuth)(u):o=(0,kt.createStandardAuth)(u);let d=Lr.StacksNetwork.fromNameOrNetwork(n.network),C=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(J=>{C.push(J)});let M=(0,nu.createLPList)(C);return new tu.StacksTransaction(d.version,o,r,M,n.postConditionMode,n.anchorMode,d.chainId)}Z.makeUnsignedContractDeploy=ru;async function ug(e){let t=(0,ke.createStacksPrivateKey)(e.senderKey),n=(0,ke.getPublicKey)(t),r=(0,ke.publicKeyToString)(n),i={...e,publicKey:r},s=await ru(i);return e.senderKey&&new Us.TransactionSigner(s).signOrigin(t),s}Z.makeContractDeploy=ug});var iu=y(N=>{"use strict";a();c();Object.defineProperty(N,"__esModule",{value:!0});N.deserialize=N.serialize=N.tuple=N.error=N.ok=N.some=N.none=N.bufferFromUtf8=N.bufferFromAscii=N.bufferFromHex=N.buffer=N.stringUtf8=N.stringAscii=N.list=N.standardPrincipal=N.contractPrincipal=N.uint=N.int=N.bool=void 0;var qs=D(),ae=ot();N.bool=ae.boolCV;N.int=ae.intCV;N.uint=ae.uintCV;N.contractPrincipal=ae.contractPrincipalCV;N.standardPrincipal=ae.standardPrincipalCV;N.list=ae.listCV;N.stringAscii=ae.stringAsciiCV;N.stringUtf8=ae.stringUtf8CV;N.buffer=ae.bufferCV;var dg=e=>(0,ae.bufferCV)((0,qs.hexToBytes)(e));N.bufferFromHex=dg;var lg=e=>(0,ae.bufferCV)((0,qs.asciiToBytes)(e));N.bufferFromAscii=lg;var fg=e=>(0,ae.bufferCV)((0,qs.utf8ToBytes)(e));N.bufferFromUtf8=fg;N.none=ae.noneCV;N.some=ae.someCV;N.ok=ae.responseOkCV;N.error=ae.responseErrorCV;N.tuple=ae.tupleCV;N.serialize=ae.serializeCV;N.deserialize=ae.deserializeCV});var au=y(_=>{"use strict";a();c();Object.defineProperty(_,"__esModule",{value:!0});_.parseToCV=_.validateContractCall=_.abiFunctionToString=_.getTypeString=_.encodeClarityValue=_.getTypeUnion=_.isClarityAbiList=_.isClarityAbiTuple=_.isClarityAbiOptional=_.isClarityAbiResponse=_.isClarityAbiStringUtf8=_.isClarityAbiStringAscii=_.isClarityAbiBuffer=_.isClarityAbiPrimitive=_.ClarityAbiTypeId=void 0;var yg=Ue(),L=ot(),kr=at(),su=Sr(),ou=D(),I;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(I=_.ClarityAbiTypeId||(_.ClarityAbiTypeId={}));var pg=e=>typeof e=="string";_.isClarityAbiPrimitive=pg;var gg=e=>e.buffer!==void 0;_.isClarityAbiBuffer=gg;var hg=e=>e["string-ascii"]!==void 0;_.isClarityAbiStringAscii=hg;var Cg=e=>e["string-utf8"]!==void 0;_.isClarityAbiStringUtf8=Cg;var Sg=e=>e.response!==void 0;_.isClarityAbiResponse=Sg;var Tg=e=>e.optional!==void 0;_.isClarityAbiOptional=Tg;var _g=e=>e.tuple!==void 0;_.isClarityAbiTuple=_g;var Pg=e=>e.list!==void 0;_.isClarityAbiList=Pg;function $s(e){if((0,_.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:I.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:I.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:I.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:I.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:I.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:I.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,_.isClarityAbiBuffer)(e))return{id:I.ClarityAbiTypeBuffer,type:e};if((0,_.isClarityAbiResponse)(e))return{id:I.ClarityAbiTypeResponse,type:e};if((0,_.isClarityAbiOptional)(e))return{id:I.ClarityAbiTypeOptional,type:e};if((0,_.isClarityAbiTuple)(e))return{id:I.ClarityAbiTypeTuple,type:e};if((0,_.isClarityAbiList)(e))return{id:I.ClarityAbiTypeList,type:e};if((0,_.isClarityAbiStringAscii)(e))return{id:I.ClarityAbiTypeStringAscii,type:e};if((0,_.isClarityAbiStringUtf8)(e))return{id:I.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}_.getTypeUnion=$s;function Eg(e,t){let n;switch(e.id!==void 0?n=e:n=$s(e),n.id){case I.ClarityAbiTypeUInt128:return(0,L.uintCV)(t);case I.ClarityAbiTypeInt128:return(0,L.intCV)(t);case I.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,L.falseCV)();if(t==="true"||t==="1")return(0,L.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case I.ClarityAbiTypePrincipal:if(t.includes(".")){let[s,o]=t.split(".");return(0,L.contractPrincipalCV)(s,o)}else return(0,L.standardPrincipalCV)(t);case I.ClarityAbiTypeTraitReference:let[r,i]=t.split(".");return(0,L.contractPrincipalCV)(r,i);case I.ClarityAbiTypeNone:return(0,L.noneCV)();case I.ClarityAbiTypeBuffer:return(0,L.bufferCV)((0,ou.utf8ToBytes)(t));case I.ClarityAbiTypeStringAscii:return(0,su.stringAsciiCV)(t);case I.ClarityAbiTypeStringUtf8:return(0,su.stringUtf8CV)(t);case I.ClarityAbiTypeResponse:throw new kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeOptional:throw new kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeTuple:throw new kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeList:throw new kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(n)}`)}}_.encodeClarityValue=Eg;function dt(e){if((0,_.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,_.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,_.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,_.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,_.isClarityAbiResponse)(e))return`(response ${dt(e.response.ok)} ${dt(e.response.error)})`;if((0,_.isClarityAbiOptional)(e))return`(optional ${dt(e.optional)})`;if((0,_.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${dt(t.type)})`).join(" ")})`;if((0,_.isClarityAbiList)(e))return`(list ${e.list.length} ${dt(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}_.getTypeString=dt;function bg(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(n=>`(${n.name} ${dt(n.type)})`).join(" ")}))`}_.abiFunctionToString=bg;function Pn(e,t){let n=$s(t);switch(e.type){case L.ClarityType.BoolTrue:case L.ClarityType.BoolFalse:return n.id===I.ClarityAbiTypeBool;case L.ClarityType.Int:return n.id===I.ClarityAbiTypeInt128;case L.ClarityType.UInt:return n.id===I.ClarityAbiTypeUInt128;case L.ClarityType.Buffer:return n.id===I.ClarityAbiTypeBuffer&&n.type.buffer.length>=e.buffer.length;case L.ClarityType.StringASCII:return n.id===I.ClarityAbiTypeStringAscii&&n.type["string-ascii"].length>=e.data.length;case L.ClarityType.StringUTF8:return n.id===I.ClarityAbiTypeStringUtf8&&n.type["string-utf8"].length>=e.data.length;case L.ClarityType.OptionalNone:return n.id===I.ClarityAbiTypeNone||n.id===I.ClarityAbiTypeOptional;case L.ClarityType.OptionalSome:return n.id===I.ClarityAbiTypeOptional&&Pn(e.value,n.type.optional);case L.ClarityType.ResponseErr:return n.id===I.ClarityAbiTypeResponse&&Pn(e.value,n.type.response.error);case L.ClarityType.ResponseOk:return n.id===I.ClarityAbiTypeResponse&&Pn(e.value,n.type.response.ok);case L.ClarityType.PrincipalContract:return n.id===I.ClarityAbiTypePrincipal||n.id===I.ClarityAbiTypeTraitReference;case L.ClarityType.PrincipalStandard:return n.id===I.ClarityAbiTypePrincipal;case L.ClarityType.List:return n.id==I.ClarityAbiTypeList&&n.type.list.length>=e.list.length&&e.list.every(r=>Pn(r,n.type.list.type));case L.ClarityType.Tuple:if(n.id==I.ClarityAbiTypeTuple){let r=(0,yg.cloneDeep)(e.data);for(let i=0;i<n.type.tuple.length;i++){let s=n.type.tuple[i],o=s.name,u=r[o];if(u){if(!Pn(u,s.type))return!1;delete r[o]}else return!1}return!0}else return!1;default:return!1}}function mg(e,t){let n=t.functions.filter(r=>r.name===e.functionName.content);if(n.length===1){let i=n[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let s=0;s<e.functionArgs.length;s++){let o=e.functionArgs[s],u=i[s];if(!Pn(o,u.type)){let d=s+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${d} to be of type ${dt(u.type)}, not ${(0,L.getCVTypeString)(o)}`)}}return!0}else throw n.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}_.validateContractCall=mg;function Ag(e,t){let n=dt(t);if((0,_.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,L.uintCV)(e);if(t==="int128")return(0,L.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,L.trueCV)();if(e.toLowerCase()==="false")return(0,L.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[r,i]=e.split(".");return(0,L.contractPrincipalCV)(r,i)}else return(0,L.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}else if((0,_.isClarityAbiBuffer)(t)){if((0,ou.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,L.bufferCVFromString)(e)}else throw(0,_.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,_.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,_.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,_.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}_.parseToCV=Ag});var cu=y(zr=>{"use strict";a();c();Object.defineProperty(zr,"__esModule",{value:!0});zr.principal=void 0;var En=zs(),Ht=le(),Hr=it();function Ig(e){if(Og(e)){let[t,n]=Fr(e);return new Kr(t,n)}return new Kr(e,void 0)}zr.principal=Ig;var Kr=class{constructor(t,n){this.address=t,this.contractName=n}willSendEq(t){return new Kt(this.address,t,Ht.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Kt(this.address,t,Ht.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Kt(this.address,t,Ht.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Kt(this.address,t,Ht.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Kt(this.address,t,Ht.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new Ur(this.address,Ht.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new Ur(this.address,Ht.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Kt=class{constructor(t,n,r,i){this.address=t,this.amount=n,this.code=r,this.contractName=i}ustx(){return this.contractName?(0,En.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,En.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,n){let[r,i]=Fr(t);return this.contractName?(0,En.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Hr.createAssetInfo)(r,i,n)):(0,En.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Hr.createAssetInfo)(r,i,n))}},Ur=class{constructor(t,n,r){this.principal=t,this.code=n,this.contractName=r}nft(...t){let{contractAddress:n,contractName:r,tokenName:i,assetId:s}=Rg(...t);return this.contractName?(0,En.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Hr.createAssetInfo)(n,r,i),s):(0,En.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Hr.createAssetInfo)(n,r,i),s)}};function Fr(e){let[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}function wg(e){let[t,n]=e.split("::");if(!t||!n)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[r,i]=Fr(t);return{contractAddress:r,contractName:i,tokenName:n}}function Og(e){return e.includes(".")}function Rg(...e){if(e.length===2){let[o,u]=e;return{...wg(o),assetId:u}}let[t,n,r]=e,[i,s]=Fr(t);return{contractAddress:i,contractName:s,tokenName:n,assetId:r}}});var fu=y(he=>{"use strict";a();c();Object.defineProperty(he,"__esModule",{value:!0});he.signStructuredData=he.decodeStructuredDataSignature=he.encodeStructuredData=he.hashStructuredData=he.STRUCTURED_DATA_PREFIX=void 0;var du=Re(),Gs=D(),qr=ot(),vg=le(),Ng=Tt();he.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function js(e){return du.base.sha256((0,qr.serializeCV)(e))}he.hashStructuredData=js;var uu=32;function Bg(e){return!(e.type!==qr.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===qr.ClarityType.StringASCII)||e.data["chain-id"].type!==qr.ClarityType.UInt)}function lu({message:e,domain:t}){let n=js(e);if(!Bg(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let r=js(t);return(0,Gs.concatBytes)(he.STRUCTURED_DATA_PREFIX,r,n)}he.encodeStructuredData=lu;function Mg(e){let t=typeof e=="string"?(0,Gs.utf8ToBytes)(e):e,n=t.slice(he.STRUCTURED_DATA_PREFIX.length,he.STRUCTURED_DATA_PREFIX.length+uu),r=t.slice(he.STRUCTURED_DATA_PREFIX.length+uu);return{domainHash:n,messageHash:r}}he.decodeStructuredDataSignature=Mg;function xg({message:e,domain:t,privateKey:n}){let r=(0,Gs.bytesToHex)(du.base.sha256(lu({message:e,domain:t}))),{data:i}=(0,Ng.signMessageHashRsv)({messageHash:r,privateKey:n});return{data:i,type:vg.StacksMessageType.StructuredDataSignature}}he.signStructuredData=xg});var fn=y(P=>{"use strict";a();c();var yu=P&&P.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Vg=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Be=P&&P.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&yu(t,e,n)},pu=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&yu(t,e,n);return Vg(t,e),t};Object.defineProperty(P,"__esModule",{value:!0});P.deserializeTransaction=P.StacksTransaction=P.createSTXPostCondition=P.createNonFungiblePostCondition=P.createFungiblePostCondition=P.Pc=P.serializePayload=P.isTokenTransferPayload=P.isSmartContractPayload=P.isPoisonPayload=P.isContractCallPayload=P.isCoinbasePayload=P.Cl=P.BytesReader=P.isSingleSig=P.emptyMessageSignature=void 0;Be(yn(),P);var gu=yn();Object.defineProperty(P,"emptyMessageSignature",{enumerable:!0,get:function(){return gu.emptyMessageSignature}});Object.defineProperty(P,"isSingleSig",{enumerable:!0,get:function(){return gu.isSingleSig}});Be(zs(),P);var Dg=Ar();Object.defineProperty(P,"BytesReader",{enumerable:!0,get:function(){return Dg.BytesReader}});P.Cl=pu(iu());Be(ot(),P);Be(Xt(),P);Be(le(),P);Be(au(),P);Be(Tt(),P);var bn=rn();Object.defineProperty(P,"isCoinbasePayload",{enumerable:!0,get:function(){return bn.isCoinbasePayload}});Object.defineProperty(P,"isContractCallPayload",{enumerable:!0,get:function(){return bn.isContractCallPayload}});Object.defineProperty(P,"isPoisonPayload",{enumerable:!0,get:function(){return bn.isPoisonPayload}});Object.defineProperty(P,"isSmartContractPayload",{enumerable:!0,get:function(){return bn.isSmartContractPayload}});Object.defineProperty(P,"isTokenTransferPayload",{enumerable:!0,get:function(){return bn.isTokenTransferPayload}});Object.defineProperty(P,"serializePayload",{enumerable:!0,get:function(){return bn.serializePayload}});P.Pc=pu(cu());var Ws=Bs();Object.defineProperty(P,"createFungiblePostCondition",{enumerable:!0,get:function(){return Ws.createFungiblePostCondition}});Object.defineProperty(P,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return Ws.createNonFungiblePostCondition}});Object.defineProperty(P,"createSTXPostCondition",{enumerable:!0,get:function(){return Ws.createSTXPostCondition}});Be(it(),P);Be(Hn(),P);Be(Ds(),P);Be(fu(),P);var hu=Ks();Object.defineProperty(P,"StacksTransaction",{enumerable:!0,get:function(){return hu.StacksTransaction}});Object.defineProperty(P,"deserializeTransaction",{enumerable:!0,get:function(){return hu.deserializeTransaction}});Be(_t(),P);Be(Ue(),P)});var Cu=y($r=>{"use strict";a();c();Object.defineProperty($r,"__esModule",{value:!0});$r.hashRipemd160=void 0;var Lg=Re();function kg(e){return Lg.base.ripemd160(e)}$r.hashRipemd160=kg});var jr=y(mt=>{"use strict";a();c();Object.defineProperty(mt,"__esModule",{value:!0});mt.hashSha512Sync=mt.hashSha256Sync=mt.NodeCryptoSha2Hash=void 0;var Su=Re(),Xs=class{constructor(t){this.createHash=t}async digest(t,n="sha256"){try{let r=this.createHash(n).update(t).digest();return Promise.resolve(r)}catch(r){return console.log(r),console.log(`Error performing ${n} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(n==="sha256"?Tu(t):_u(t))}}};mt.NodeCryptoSha2Hash=Xs;function Tu(e){return Su.base.sha256(e)}mt.hashSha256Sync=Tu;function _u(e){return Su.base.sha512(e)}mt.hashSha512Sync=_u});var Js=y(ie=>{"use strict";a();c();Object.defineProperty(ie,"__esModule",{value:!0});ie.compressPrivateKey=ie.isValidPrivateKey=ie.ecSign=ie.getPublicKeyFromPrivate=ie.publicKeyToBtcAddress=ie.base58CheckEncode=ie.base58Encode=ie.base58CheckDecode=ie.makeECPrivateKey=void 0;var ze=Re(),Hg=ze.secp256k1.getPublicKey,Kg=ze.secp256k1.signSync,Ys=ze.secp256k1.utils,He=D(),Ug=Cu(),Fg=jr(),zg=0;Ys.hmacSha256Sync=(e,...t)=>{let n=ze.base.hmac.create(ze.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function qg(){return(0,He.bytesToHex)(Ys.randomPrivateKey())}ie.makeECPrivateKey=qg;function $g(e){let t=ze.base.base58.decode(e),n=t.slice(0,-4),r=t.slice(-4),i=ze.base.sha256(ze.base.sha256(n));if(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3])throw new Error("Invalid checksum");if(n.length!==21)throw new TypeError("Invalid address length");let s=(0,He.readUInt8)(n,0),o=n.slice(1);return{version:s,hash:o}}ie.base58CheckDecode=$g;function Pu(e){let t=ze.base.sha256(ze.base.sha256(e));return ze.base.base58.encode((0,He.concatBytes)(e,t).slice(0,e.length+4))}ie.base58Encode=Pu;function Eu(e,t){return Pu((0,He.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}ie.base58CheckEncode=Eu;function jg(e,t=zg){let n=typeof e=="string"?(0,He.hexToBytes)(e):e,r=(0,Ug.hashRipemd160)((0,Fg.hashSha256Sync)(n));return Eu(t,r)}ie.publicKeyToBtcAddress=jg;function Gg(e){let t=(0,He.privateKeyToBytes)(e);return(0,He.bytesToHex)(Hg(t.slice(0,32),!0))}ie.getPublicKeyFromPrivate=Gg;function Wg(e,t){return Kg(e,(0,He.privateKeyToBytes)(t).slice(0,32),{der:!1})}ie.ecSign=Wg;function Xg(e){return Ys.isValidPrivateKey((0,He.privateKeyToBytes)(e))}ie.isValidPrivateKey=Xg;function Yg(e){let t=(0,He.privateKeyToBytes)(e);return t.length==He.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,He.concatBytes)(t,new Uint8Array([1]))}ie.compressPrivateKey=Yg});var bu=y(Gr=>{"use strict";a();c();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.randomBytes=void 0;var Jg=Re(),Zg=(e=32)=>Jg.base.randomBytes(e);Gr.randomBytes=Zg});var Zs=y(At=>{"use strict";a();c();Object.defineProperty(At,"__esModule",{value:!0});At.hashCode=At.getBase64OutputLength=At.getAesCbcOutputLength=void 0;function Qg(e){return(Math.floor(e/16)+1)*16}At.getAesCbcOutputLength=Qg;function eh(e){return Math.ceil(e/3)*4}At.getBase64OutputLength=eh;function th(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t&2147483647}At.hashCode=th});var Au=y(It=>{"use strict";a();c();Object.defineProperty(It,"__esModule",{value:!0});It.encodingLength=It.decode=It.encode=void 0;var Me=D(),nh=9007199254740991;function Qs(e){if(e<0||e>nh||e%1!==0)throw new RangeError("value out of range")}function rh(e,t,n=0){return Qs(e),t||(t=new Uint8Array(mu(e))),e<253?(0,Me.writeUInt8)(t,e,n):e<=65535?((0,Me.writeUInt8)(t,253,n),(0,Me.writeUInt16LE)(t,e,n+1)):e<=4294967295?((0,Me.writeUInt8)(t,254,n),(0,Me.writeUInt32LE)(t,e,n+1)):((0,Me.writeUInt8)(t,255,n),(0,Me.writeUInt32LE)(t,e>>>0,n+1),(0,Me.writeUInt32LE)(t,e/4294967296|0,n+5)),t}It.encode=rh;function ih(e,t=0){let n=(0,Me.readUInt8)(e,t);if(n<253)return n;if(n===253)return(0,Me.readUInt16LE)(e,t+1);if(n===254)return(0,Me.readUInt32LE)(e,t+1);{let r=(0,Me.readUInt32LE)(e,t+1),s=(0,Me.readUInt32LE)(e,t+5)*4294967296+r;return Qs(s),s}}It.decode=ih;function mu(e){return Qs(e),e<253?1:e<=65535?3:e<=4294967295?5:9}It.encodingLength=mu});var no=y(wt=>{"use strict";a();c();Object.defineProperty(wt,"__esModule",{value:!0});wt.decodeMessage=wt.encodeMessage=wt.hashMessage=void 0;var sh=Re(),Wr=D(),eo=Au(),to=`Stacks Signed Message:
`;function oh(e,t=to){return sh.base.sha256(Iu(e,t))}wt.hashMessage=oh;function Iu(e,t=to){let n=typeof e=="string"?(0,Wr.utf8ToBytes)(e):e,r=(0,eo.encode)(n.length);return(0,Wr.concatBytes)((0,Wr.utf8ToBytes)(t),r,n)}wt.encodeMessage=Iu;function ah(e,t=to){let n=(0,Wr.utf8ToBytes)(t).byteLength,r=e.subarray(n),i=(0,eo.decode)(r),s=(0,eo.encodingLength)(i);return r.slice(s)}wt.decodeMessage=ah});var Mu=y(Y=>{"use strict";a();c();Object.defineProperty(Y,"__esModule",{value:!0});Y.verifyMessageSignatureRsv=Y.verifyMessageSignature=Y.verifyECDSA=Y.signECDSA=Y.eciesGetJsonStringLength=Y.getSignedCipherObjectWrapper=Y.getCipherObjectWrapper=Y.getBytesFromBN=Y.getHexFromBN=Y.hmacSha256=Y.InvalidPublicKeyReason=void 0;var qe=Re(),ch=qe.secp256k1.signSync,uh=qe.secp256k1.utils,Ot=D(),dh=Js(),wu=no(),Ru=jr(),Ou=Zs();uh.hmacSha256Sync=(e,...t)=>{let n=qe.base.hmac.create(qe.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};var lh;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(lh=Y.InvalidPublicKeyReason||(Y.InvalidPublicKeyReason={}));function fh(e,t){return qe.base.hmac(qe.base.sha256,e,t)}Y.hmacSha256=fh;function yh(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Y.getHexFromBN=yh;function ph(e){let t=(0,Ot.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Y.getBytesFromBN=ph;function vu(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,i=64;return{payloadValuesLength:n+r+i,payloadShell:JSON.stringify(t)}}Y.getCipherObjectWrapper=vu;function Nu(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Y.getSignedCipherObjectWrapper=Nu;function gh(e){let{payloadShell:t,payloadValuesLength:n}=vu(e),r=(0,Ou.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=r*2;else if(e.cipherTextEncoding==="base64")i=(0,Ou.getBase64OutputLength)(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:s,signedPayloadValuesLength:o}=Nu(t);return s.length+o+n+i}else return t.length+n+i}Y.eciesGetJsonStringLength=gh;function hh(e,t){let n=typeof t=="string"?(0,Ot.utf8ToBytes)(t):t,r=(0,dh.getPublicKeyFromPrivate)(e),i=(0,Ru.hashSha256Sync)(n),s=ch(i,e);return{signature:(0,Ot.bytesToHex)(s),publicKey:r}}Y.signECDSA=hh;function Ch(e,t,n){let r=typeof e=="string"?(0,Ot.utf8ToBytes)(e):e,i=(0,Ru.hashSha256Sync)(r);return qe.secp256k1.verify(n,i,t,{strict:!1})}Y.verifyECDSA=Ch;function Bu({signature:e,message:t,publicKey:n}){let{r,s:i}=(0,Ot.parseRecoverableSignatureVrs)(e),s=new qe.secp256k1.Signature((0,Ot.hexToBigInt)(r),(0,Ot.hexToBigInt)(i)),o=typeof t=="string"?(0,wu.hashMessage)(t):t,u=qe.secp256k1.verify(s,o,n,{strict:!1});if(u||typeof t!="string")return u;let d=`Stacks Message Signing:
`,C=qe.base.sha256((0,wu.encodeMessage)(t,d));return qe.secp256k1.verify(s,C,n,{strict:!1})}Y.verifyMessageSignature=Bu;function Sh({signature:e,message:t,publicKey:n}){return Bu({signature:(0,Ot.signatureRsvToVrs)(e),message:t,publicKey:n})}Y.verifyMessageSignatureRsv=Sh});var ro=y(Ke=>{"use strict";a();c();var Th=Ke&&Ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),mn=Ke&&Ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Th(t,e,n)};Object.defineProperty(Ke,"__esModule",{value:!0});mn(Js(),Ke);mn(bu(),Ke);mn(jr(),Ke);mn(Zs(),Ke);mn(no(),Ke);mn(Mu(),Ke)});var xu=y(F=>{"use strict";a();c();Object.defineProperty(F,"__esModule",{value:!0});F.StackingErrors=F.PoxOperationPeriod=F.SEGWIT_V1=F.SEGWIT_V0=F.SEGWIT_ADDR_PREFIXES=F.SegwitPrefix=F.SEGWIT_V1_ADDR_PREFIX=F.SEGWIT_V0_ADDR_PREFIX=F.B58_ADDR_PREFIXES=F.BitcoinNetworkVersion=F.PoXAddressVersion=void 0;var _h;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(_h=F.PoXAddressVersion||(F.PoXAddressVersion={}));F.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};F.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;F.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;F.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;F.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};F.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;F.SEGWIT_V0=0;F.SEGWIT_V1=1;var Ph;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(Ph=F.PoxOperationPeriod||(F.PoxOperationPeriod={}));var Eh;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(Eh=F.StackingErrors||(F.StackingErrors={}))});var io=y(Q=>{"use strict";a();c();Object.defineProperty(Q,"__esModule",{value:!0});Q.ensureLegacyBtcAddressForPox1=Q.ensurePox2Activated=Q.unwrapMap=Q.unwrap=Q.poxAddressToBtcAddress=Q.poxAddressToTuple=Q.getErrorString=Q.extractPoxAddressFromClarityValue=Q.decodeBtcAddress=Q.btcAddressVersionToLegacyHashMode=Q.InvalidAddressError=void 0;var Rt=Re(),bh=D(),Vu=ro(),et=fn(),h=xu(),Xr=class extends Error{constructor(t,n){let r=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(r),this.message=r,this.name=this.constructor.name,this.innerError=n,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};Q.InvalidAddressError=Xr;function Du(e){switch(e){case h.BitcoinNetworkVersion.mainnet.P2PKH:return h.PoXAddressVersion.P2PKH;case h.BitcoinNetworkVersion.testnet.P2PKH:return h.PoXAddressVersion.P2PKH;case h.BitcoinNetworkVersion.mainnet.P2SH:return h.PoXAddressVersion.P2SH;case h.BitcoinNetworkVersion.testnet.P2SH:return h.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}Q.btcAddressVersionToLegacyHashMode=Du;function mh(e,t){if(e===h.SEGWIT_V0&&t===20)return h.PoXAddressVersion.P2WPKH;if(e===h.SEGWIT_V0&&t===32)return h.PoXAddressVersion.P2WSH;if(e===h.SEGWIT_V1&&t===32)return h.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function Ah(e){let{words:t}=Rt.base.bech32.decode(e),n=t[0];if(n>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:n,data:Rt.base.bech32.fromWords(t.slice(1))}}function Ih(e){let{words:t}=Rt.base.bech32m.decode(e),n=t[0];if(n==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:n,data:Rt.base.bech32m.fromWords(t.slice(1))}}function wh(e){if(h.SEGWIT_V0_ADDR_PREFIX.test(e))return Ah(e);if(h.SEGWIT_V1_ADDR_PREFIX.test(e))return Ih(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${h.SEGWIT_V0_ADDR_PREFIX} or ${h.SEGWIT_V1_ADDR_PREFIX}`)}function Lu(e){try{if(h.B58_ADDR_PREFIXES.test(e)){let t=(0,Vu.base58CheckDecode)(e);return{version:Du(t.version),data:t.hash}}else if(h.SEGWIT_ADDR_PREFIXES.test(e)){let t=wh(e);return{version:mh(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new Xr(e,t)}}Q.decodeBtcAddress=Lu;function ku(e){let t=e;if(t.type!==et.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let n=t.data.version,r=t.data.hashbytes;if(n.type!==et.ClarityType.Buffer||r.type!==et.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:n.buffer[0],hashBytes:r.buffer}}Q.extractPoxAddressFromClarityValue=ku;function Oh(e){switch(e){case h.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case h.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case h.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case h.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case h.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case h.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case h.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case h.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case h.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case h.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case h.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case h.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case h.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case h.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case h.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case h.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case h.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case h.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case h.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case h.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case h.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case h.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case h.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case h.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case h.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case h.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case h.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}Q.getErrorString=Oh;function Rh(e){let{version:t,data:n}=Lu(e),r=(0,et.bufferCV)((0,bh.bigIntToBytes)(BigInt(t),1)),i=(0,et.bufferCV)(n);return(0,et.tupleCV)({version:r,hashbytes:i})}Q.poxAddressToTuple=Rh;function vh(e,t){switch(e){case h.PoXAddressVersion.P2PKH:return h.BitcoinNetworkVersion[t].P2PKH;case h.PoXAddressVersion.P2SH:case h.PoXAddressVersion.P2SHP2WPKH:case h.PoXAddressVersion.P2SHP2WSH:return h.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function Hu(e,t,n){if(!["mainnet","testnet","regtest"].includes(n))throw new Error("Invalid network.");switch(e){case h.PoXAddressVersion.P2PKH:case h.PoXAddressVersion.P2SH:case h.PoXAddressVersion.P2SHP2WPKH:case h.PoXAddressVersion.P2SHP2WSH:{let r=vh(e,n);return(0,Vu.base58CheckEncode)(r,t)}case h.PoXAddressVersion.P2WPKH:case h.PoXAddressVersion.P2WSH:{let r=Rt.base.bech32.toWords(t);return Rt.base.bech32.encode(h.SegwitPrefix[n],[h.SEGWIT_V0,...r])}case h.PoXAddressVersion.P2TR:{let r=Rt.base.bech32m.toWords(t);return Rt.base.bech32m.encode(h.SegwitPrefix[n],[h.SEGWIT_V1,...r])}}throw new Error(`Unexpected address version: ${e}`)}function Nh(e,t){let n=ku(e);return Hu(n.version,n.hashBytes,t)}function Bh(...e){return typeof e[0]=="number"?Hu(e[0],e[1],e[2]):Nh(e[0],e[1])}Q.poxAddressToBtcAddress=Bh;function Mh(e){if(e.type===et.ClarityType.OptionalSome)return e.value;if(e.type!==et.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Q.unwrap=Mh;function xh(e,t){if(e.type===et.ClarityType.OptionalSome)return t(e.value);if(e.type!==et.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}Q.unwrapMap=xh;function Vh(e){if(e.period===h.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}Q.ensurePox2Activated=Vh;function Dh({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!h.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}Q.ensureLegacyBtcAddressForPox1=Dh});var oo=y(xe=>{"use strict";a();c();var Lh=xe&&xe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),kh=xe&&xe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Lh(t,e,n)};Object.defineProperty(xe,"__esModule",{value:!0});xe.getDelegateOptions=xe.renamePrivateKey=xe.stack=void 0;var Hh=D(),Ku=Gn(),_e=fn(),so=io();kh(io(),xe);async function Kh({contract:e,amountMicroStx:t,poxAddress:n,cycles:r,burnBlockHeight:i,...s}){(0,so.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:n});let o=Uh({amountMicroStx:t,cycles:r,poxAddress:n,contract:e,burnBlockHeight:i}),u=await(0,_e.makeContractCall)({...o,...Uu(s)}),d=(0,_e.addHex)(u.txid()),C=(0,Hh.bytesToHex)(u.serialize());return{txId:d,txSerializedHexString:C}}xe.stack=Kh;function Uh({amountMicroStx:e,poxAddress:t,cycles:n,contract:r,burnBlockHeight:i}){let s=(0,so.poxAddressToTuple)(t),[o,u]=Fh(r);return{contractAddress:o,contractName:u,functionName:"stack-stx",functionArgs:[(0,_e.uintCV)(e),s,(0,_e.uintCV)(i),(0,_e.uintCV)(n)],validateWithAbi:!0,network:new Ku.StacksMainnet,anchorMode:_e.AnchorMode.Any}}function Fh(e){let t=e.split(".");if(t.length===2&&(0,_e.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function Uu(e){return e.senderKey=e.privateKey,delete e.privateKey,e}xe.renamePrivateKey=Uu;function zh(e,t,n,r,i,s,o){let u=o?(0,_e.someCV)((0,so.poxAddressToTuple)(o)):(0,_e.noneCV)();return{contractAddress:e,contractName:t,functionName:n,functionArgs:[(0,_e.uintCV)(r),(0,_e.principalCV)(i),s?(0,_e.someCV)((0,_e.uintCV)(s)):(0,_e.noneCV)(),u],validateWithAbi:!0,network:new Ku.StacksMainnet,anchorMode:_e.AnchorMode.Any}}xe.getDelegateOptions=zh});var Fu=y(V=>{"use strict";a();c();Object.defineProperty(V,"__esModule",{value:!0});V.getDeployPayload=V.getContractCallPayload=V.getRevokeDelegateStxPayload=V.getDelegateStxPayload=V.getAllowContractCallerPayload=V.getTokenTransferPayload=V.getTransferPayload=V.revokeDelegateStx=V.delegateStx=V.ContractDeployTx=V.makeContractCallTx=V.TransactionTypes=V.allowContractCaller=V.tokenTransfer=V.stacks=V.transfer=void 0;var l=fn(),vt=rn(),Pe=D(),Yr=Gn(),ao=oo();function qh(e,t,n,r,i,s,o){let u=l.TransactionVersion.Mainnet,d=t,C=(0,l.createStandardPrincipal)(d),M=(0,l.standardPrincipalCV)(d),H=(0,vt.createTokenTransferPayload)(M,n,r),J=l.AddressHashMode.SerializeP2PKH,R=(0,l.createStacksPrivateKey)(e),G=(0,Pe.bytesToHex)((0,l.getPublicKey)(R).data),ee=(0,l.createSingleSigSpendingCondition)(J,G,i,s),te=(0,l.createStandardAuth)(ee),de=(0,l.createLPList)([]),se=new l.StacksTransaction(u,te,H,de,void 0,o);new l.TransactionSigner(se).signOrigin((0,l.createStacksPrivateKey)(e)),se.verifyOrigin();let Ve=(0,l.addHex)(se.txid()),$e=se.serialize(),Oe=(0,Pe.bytesToHex)($e);return{txId:Ve,txSerializedHexString:Oe}}V.transfer=qh;async function $h(e,t,n,r,i,s,o,u,d){let C=new Yr.StacksMainnet;return await(0,ao.stack)({contract:o,amountMicroStx:r,poxAddress:n,cycles:i,privateKey:e,burnBlockHeight:s,fee:u,nonce:d})}V.stacks=$h;async function jh(e,t,n,r,i,s,o,u,d,C,M){let H=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:s,contractName:o,fee:M,functionArgs:[(0,l.uintCV)(i),(0,l.standardPrincipalCV)(t),(0,l.standardPrincipalCV)(n),(0,l.someCV)((0,l.bufferCVFromString)(r))],functionName:d,nonce:C,postConditionMode:l.PostConditionMode.Deny,postConditions:[(0,l.makeStandardFungiblePostCondition)(t,l.FungibleConditionCode.Equal,i,(0,l.createAssetInfo)(s,o,u))],senderKey:e,network:new Yr.StacksMainnet}),J=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:J,txSerializedHexString:R}}V.tokenTransfer=jh;async function Gh(e,t,n,r,i,s,o,u){let d=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:n,contractName:r,fee:u,functionArgs:[(0,l.principalCV)(t),s?(0,l.someCV)((0,l.uintCV)(s)):(0,l.noneCV)()],functionName:i,nonce:o,senderKey:e,network:new Yr.StacksMainnet}),C=(0,l.addHex)(d.txid()),M=(0,Pe.bytesToHex)(d.serialize());return{txId:C,txSerializedHexString:M}}V.allowContractCaller=Gh;var Wh;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(Wh=V.TransactionTypes||(V.TransactionTypes={}));async function Xh(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:s,contractAddress:o,functionName:u,functionArgs:d,sponsored:C,postConditionMode:M,postConditions:H,anchorMode:J}=n,R=d.map(se=>(0,l.deserializeCV)((0,l.hexToBuff)(se))),G={senderKey:t,contractName:s,contractAddress:o,functionName:u,anchorMode:J??l.AnchorMode.Any,functionArgs:R,nonce:r,fee:i,postConditionMode:M,postConditions:H?.map(l.postConditionFromString),sponsored:C},ee=await(0,l.makeContractCall)(G),te=(0,l.addHex)(ee.txid()),de=(0,Pe.bytesToHex)(ee.serialize());return{txId:te,txSerializedHexString:de}}V.makeContractCallTx=Xh;async function Yh(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:s,codeBody:o,postConditions:u,postConditionMode:d,anchorMode:C}=n,M={senderKey:t,contractName:s,codeBody:o,nonce:r,fee:i,anchorMode:C??l.AnchorMode.Any,postConditionMode:d,postConditions:u?.map(l.postConditionFromString)},H=await(0,l.makeContractDeploy)(M),J=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:J,txSerializedHexString:R}}V.ContractDeployTx=Yh;async function Jh(e,t,n,r,i,s,o,u,d,C){let M=(0,ao.getDelegateOptions)(t,n,r,o,i,u,s),H=await(0,l.makeContractCall)({...M,senderKey:e,nonce:d,fee:C}),J=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:J,txSerializedHexString:R}}V.delegateStx=Jh;async function Zh(e,t,n,r,i,s){let o=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:t,contractName:n,fee:s,functionArgs:[],functionName:r,nonce:i,senderKey:e,network:new Yr.StacksMainnet}),u=(0,l.addHex)(o.txid()),d=(0,Pe.bytesToHex)(o.serialize());return{txId:u,txSerializedHexString:d}}V.revokeDelegateStx=Zh;function Qh(e,t,n){let r=e,i=(0,l.standardPrincipalCV)(r),s=(0,vt.createTokenTransferPayload)(i,t,n),o=(0,l.serializePayload)(s);return(0,Pe.bytesToHex)(o)}V.getTransferPayload=Qh;function eC(e,t,n,r,i,s,o){let u=(0,vt.createContractCallPayload)(i,s,o,[(0,l.uintCV)(r),(0,l.standardPrincipalCV)(e),(0,l.standardPrincipalCV)(t),(0,l.someCV)((0,l.bufferCVFromString)(n))]),d=(0,l.serializePayload)(u);return(0,Pe.bytesToHex)(d)}V.getTokenTransferPayload=eC;function tC(e,t,n,r,i){let s=(0,vt.createContractCallPayload)(t,n,r,[(0,l.principalCV)(e),i?(0,l.someCV)((0,l.uintCV)(i)):(0,l.noneCV)()]),o=(0,l.serializePayload)(s);return(0,Pe.bytesToHex)(o)}V.getAllowContractCallerPayload=tC;function nC(e,t,n,r,i,s,o){let u=i?(0,l.someCV)((0,ao.poxAddressToTuple)(i)):(0,l.noneCV)(),d=[(0,l.uintCV)(s),(0,l.principalCV)(r),o?(0,l.someCV)((0,l.uintCV)(o)):(0,l.noneCV)(),u],C=(0,vt.createContractCallPayload)(e,t,n,d),M=(0,l.serializePayload)(C);return(0,Pe.bytesToHex)(M)}V.getDelegateStxPayload=nC;function rC(e,t,n){let r=(0,vt.createContractCallPayload)(e,t,n,[]),i=(0,l.serializePayload)(r);return(0,Pe.bytesToHex)(i)}V.getRevokeDelegateStxPayload=rC;function iC(e,t,n,r){let i=r.map(u=>(0,l.deserializeCV)((0,l.hexToBuff)(u))),s=(0,vt.createContractCallPayload)(e,t,n,i),o=(0,l.serializePayload)(s);return(0,Pe.bytesToHex)(o)}V.getContractCallPayload=iC;function sC(e,t){let n=(0,vt.createSmartContractPayload)(e,t,l.ClarityVersion.Clarity2),r=(0,l.serializePayload)(n);return(0,Pe.bytesToHex)(r)}V.getDeployPayload=sC});var zu=y(Jr=>{"use strict";a();c();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.StxWallet=void 0;var An=Re(),re=ju(),k=qu(),co=class extends re.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return An.bip39.mnemonicToSeed(t.mnemonic).then(n=>{let r=An.bip32.fromSeed(n).derivePath(t.hdPath);return r.privateKey?Promise.resolve(An.base.toHex(r.privateKey)+"01"):Promise.reject(re.GenPrivateKeyError)}).catch(n=>Promise.reject(re.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=An.base.randomBytes(32);if((0,re.secp256k1SignTest)(t))return Promise.resolve(An.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(re.GenPrivateKeyError)}getNewAddress(t){try{let n=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,r=(0,k.createStacksPrivateKey)(n.toLowerCase()),i=An.base.toHex((0,k.getPublicKey)(r).data),s;t.version&&t.version==="Testnet"?s=(0,k.getAddressFromPublicKey)(i,k.TransactionVersion.Testnet):s=(0,k.getAddressFromPublicKey)(i);let o={address:s,publicKey:i};return Promise.resolve(o)}catch{return Promise.reject(re.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,k.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let r={isValid:this.checkPrivateKey(t.privateKey),privateKey:t.privateKey};return Promise.resolve(r)}async signTransaction(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null||r.nonce==null||r.fee==null)return Promise.reject(re.SignTxError);let i=(0,k.transfer)(t.privateKey,r.to,r.amount,r.memo,r.nonce,r.fee,r.anchorMode);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.SignTxError);let i=await(0,k.tokenTransfer)(t.privateKey,r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.tokenName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.SignTxError);let i=await(0,k.allowContractCaller)(t.privateKey,r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(re.SignTxError);let i=await(0,k.delegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.SignTxError);let i=await(0,k.revokeDelegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=await(0,k.makeContractCallTx)(r,t.privateKey);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=await(0,k.ContractDeployTx)(r,t.privateKey);return Promise.resolve(i)}return Promise.reject(re.SignTxError)}catch(n){return Promise.reject(n)}}async signMessage(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=(0,k.createStacksPrivateKey)(t.privateKey);if(t.data.type=="signMessage"){let r=(0,k.hashMessage)(t.data.message),i=(0,k.signMessageHashRsv)({messageHash:(0,k.bytesToHex)(r),privateKey:n});return Promise.resolve({signature:i.data,publicKey:(0,k.publicKeyToString)((0,k.getPublicKey)(n))})}else if(t.data.type=="signStructuredData"){let r=t.data.message,i=t.data.domain,s=(0,k.signStructuredData)({message:r,domain:i,privateKey:n}).data;return Promise.resolve({signature:s,publicKey:(0,k.publicKeyToString)((0,k.getPublicKey)(n))})}}catch{return Promise.reject(re.SignMsgError)}}async verifyMessage(t){try{let n=t.data;if(n.publicKey===void 0)return Promise.reject(re.SignMsgError);let r=t.signature,i=(0,k.hashMessage)(t.data.message),s=n.publicKey;return Promise.resolve((0,k.verifyMessageSignatureRsv)({signature:r,message:i,publicKey:s}))}catch(n){return Promise.reject(n)}}validAddress(t){let n;try{n=(0,k.validateStacksAddress)(t.address)}catch{n=!1}let r={isValid:n,address:t.address};return Promise.resolve(r)}getRawTransaction(t){try{let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null)return Promise.reject(re.GetPayLoadError);let i=(0,k.getTransferPayload)(r.to,r.amount,r.memo);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.GetPayLoadError);let i=(0,k.getTokenTransferPayload)(r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.GetPayLoadError);let i=(0,k.getAllowContractCallerPayload)(r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(re.GetPayLoadError);let i=(0,k.getDelegateStxPayload)(r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(re.GetPayLoadError);let i=(0,k.getRevokeDelegateStxPayload)(r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=(0,k.getContractCallPayload)(r.contract,r.contractName,r.functionName,r.functionArgs);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=(0,k.getDeployPayload)(r.contractName,r.codeBody);return Promise.resolve(i)}return Promise.reject(re.GetPayLoadError)}catch{return Promise.reject(re.GetPayLoadError)}}};Jr.StxWallet=co});var qu=y(ue=>{a();c();var oC=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),In=ue&&ue.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&oC(t,e,n)};Object.defineProperty(ue,"__esModule",{value:!0});ue.verifyMessageSignatureRsv=ue.hashMessage=ue.bytesToHex=void 0;In(fn(),ue);In(oo(),ue);In(Gn(),ue);In(qt(),ue);In(Fu(),ue);var aC=D();Object.defineProperty(ue,"bytesToHex",{enumerable:!0,get:function(){return aC.bytesToHex}});var $u=ro();Object.defineProperty(ue,"hashMessage",{enumerable:!0,get:function(){return $u.hashMessage}});Object.defineProperty(ue,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return $u.verifyMessageSignatureRsv}});In(zu(),ue)});export{qu as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-P7E2TFMB.js.map
