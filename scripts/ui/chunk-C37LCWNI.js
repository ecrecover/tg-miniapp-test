import{b as H}from"./chunk-GEIVS32O.js";import{a as K}from"./chunk-HSXLZU4O.js";import{a as Y}from"./chunk-XZRYRRSY.js";import{a as R}from"./chunk-FWLIR37N.js";import{k as Z,w as q}from"./chunk-GLID42E7.js";import{c as F}from"./chunk-DY54SY5O.js";import{a as O}from"./chunk-5GMHHIH5.js";import{b as v}from"./chunk-DDO6HXRN.js";import{b as _}from"./chunk-C7ZG4INB.js";import{a as G}from"./chunk-J5ANWCEO.js";import{w as k}from"./chunk-VMO2INN3.js";import{a as b,l as j}from"./chunk-6FOZGMAL.js";import{ga as y}from"./chunk-2MV3WEYP.js";import{Bb as $,y as M}from"./chunk-HPXM6RSK.js";import{a as U}from"./chunk-NJ5CWPUY.js";import{c as m}from"./chunk-JXCCIV3J.js";import{b as A,c as mt}from"./chunk-AOA7NX2Y.js";import{g as z,m as ft}from"./chunk-HXZH2DHB.js";import{Sa as P,hb as ct,m as lt}from"./chunk-X7YMANPZ.js";import{n as S}from"./chunk-SOHTSUTI.js";import{I as x,o as w,w as n}from"./chunk-RPZQDAIQ.js";import{Y as h,c as nt}from"./chunk-V4F2JFTP.js";import{a as g}from"./chunk-6DDC4Y2S.js";import{f as i,m as t,o as e}from"./chunk-EQYVU4XP.js";t();e();var I=i(M()),J=i(U());x();var Q=()=>(0,I.useSelector)($),xt=()=>{let o=(0,I.useDispatch)(),r={alignBottom:!1,title:n("wallet_dapp_conncetion_modal_backup_your_wallet"),text:n("wallet_home_receive_modal_backup_wallet"),cancelText:n("wallet_transfer_btn_cancel_transaction"),confirmText:n("wallet_home_backup_warning_btn_backup_now")},a=(0,J.useHistory)();return b((s={},c)=>{let f=S.warn({...r,onConfirm:()=>{f.destroy(),a.push(`${y}?fromHome=1`)},onCancel:async()=>{c&&await o(H(c)),f.destroy()},...s})},[])};t();e();t();e();var l=i(g()),V=i(U()),X=i(nt());x();t();e();var N={"backup-wallet-float":"_backup-wallet-float_ac1rz_1",backupWalletFloat:"_backup-wallet-float_ac1rz_1","backup-wallet-float-icon":"_backup-wallet-float-icon_ac1rz_10",backupWalletFloatIcon:"_backup-wallet-float-icon_ac1rz_10","backup-wallet-float-desc":"_backup-wallet-float-desc_ac1rz_13",backupWalletFloatDesc:"_backup-wallet-float-desc_ac1rz_13"};var pt=({className:o,style:r,offsetBottom:a="24px"})=>Q()?l.default.createElement(G,{offsetBottom:a,style:{zIndex:1e3}},l.default.createElement(m.FlexBox,{style:r,className:(0,X.default)(N["backup-wallet-float"],o)},l.default.createElement(_,{size:_.SIZE.md,icon:"okx-wallet-plugin-security-1",className:N["backup-wallet-float-icon"]}),l.default.createElement(m.FlexBox,{direction:m.DIRECTION.vertical},l.default.createElement(k.Text,{strong:700},n("wallet_home_backup_warning_maintitle_not_backup")),l.default.createElement(k.Text,{size:k.SIZE.xs,type:k.TYPE.secondary,className:N["backup-wallet-float-desc"]},n("wallet_home_backup_warning_subtitle_not_backup_risk")),l.default.createElement(V.Link,{to:y},l.default.createElement(h,{size:h.SIZE.sm,type:h.TYPE.highlight,category:h.CATEGORY.fill,style:{minWidth:"130px"}},n("wallet_home_backup_warning_btn_backup_now")))))):null,tt=l.default.memo(pt);var Ot=tt;t();e();var E=i(g()),at=i(lt());x();t();e();var et=i(g());x();ct();mt();ft();var W="update_defi_list",oe=()=>{let o=P(),r=O(),s=j(async()=>{let{data:f=[]}=await z(A.getDefiListUrl,{accountIds:[r]});return f.filter(u=>{let{platform:B,address:D,network:st}=u;return u.id=`${B}${D}${st}`,o.find(it=>Number(it.netWorkId)===u.chainId)})}),c=F("invest-DeFi",{onError:s.refresh});return(0,et.useEffect)(()=>{c&&s.refresh()},[c]),w.listen(W,s.refresh,!1),s};t();e();var rt=i(g()),L=i(M());t();e();var ot=o=>({projects:o.collectionFilter.join(","),saleStatus:o.saleStatusFilter.join(",")});var C=()=>{let o=(0,L.useDispatch)(),{filterInfo:r}=R(),{currentNetworkUniqueId:a}=Y(),s=K();return b((f={},d)=>{let u=d??a,B={...ot(r),...f},D=s(u).join(",");o(q({address:D,chain:u,...B}))})},ke=()=>{let o=C(),r=(0,L.useSelector)(Z),a=F("wallet-nft");return(0,rt.useEffect)(()=>{o()},[a,o]),r};t();e();var T={refreshWrapper:"_refreshWrapper_ec3nw_1",refresh:"_refresh_ec3nw_1",loading:"_loading_ec3nw_27",rotate:"_rotate_ec3nw_1"};var ze=({className:o="",handleRefresh:r,status:a})=>{let s=C(),c=()=>{w.trigger(W)},f=(0,at.debounce)(async()=>{r("loading");try{await Promise.all([v(),s(),c()]),r("success")}catch{r("error")}},800,{leading:!0});return a==="hidden"?null:E.default.createElement(m.FlexBox,{align:m.ALIGN.center,justify:m.ALIGN.center,className:`${T.refreshWrapper} ${o}`,onClick:d=>{d.stopPropagation(),a!=="loading"&&f()}},E.default.createElement(_,{size:_.SIZE.xs,icon:"okx-wallet-plugin-refresh",className:`${T.refresh} ${a==="loading"&&T.loading}`}))};export{xt as a,Ot as b,oe as c,C as d,ke as e,ze as f};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-C37LCWNI.js.map
