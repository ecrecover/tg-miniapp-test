import{a as P,b as B,e as x}from"./chunk-6QKWDR6X.js";import{f as h}from"./chunk-7KCWBFQ2.js";import{A as E,e as k}from"./chunk-QEPBNPHF.js";import{a as _,l as C}from"./chunk-6FOZGMAL.js";import{n as y}from"./chunk-HPXM6RSK.js";import{aa as g,da as m}from"./chunk-IUIJ46C3.js";import{m as W}from"./chunk-X7YMANPZ.js";import{n as u}from"./chunk-SOHTSUTI.js";import{I as M,w as t}from"./chunk-RPZQDAIQ.js";import{Y as l}from"./chunk-V4F2JFTP.js";import{a as O}from"./chunk-6DDC4Y2S.js";import{f,m as T,o as w}from"./chunk-EQYVU4XP.js";T();w();var b=f(O());var A=f(W());M();var F=()=>_(async r=>{try{let{data:e}=await h(r);return x(e,r?.checkTypes,r)}catch{return x([],r?.checkTypes,{preExecuteFailed:!0})}},[]),J=({to:r,coinId:e,chainId:a,...n},o)=>{let i=F(),{ready:s=!0,refreshDeps:c=[],...p}=o||{},d={ready:s&&e!==void 0&&a!==void 0,refreshDeps:[e,...c],...p},{error:S,loading:D,data:R}=C(async()=>await i({to:r,coinId:e,chainId:a,...n}),d);return[D,R,S]},K=()=>{let{getStrongBlackAddressModalParams:r}=P();return _(async(e,a)=>{let n=e;if(n?.similarType!==m.EXACT&&!n?.isDefraud)return Promise.resolve();let o=e?.address||a?.address||"";n?.similarType===m.EXACT&&k({resource:"extension",black_address:o});let i=e?.rawAddress||y(o),s={};if(n?.tagExt)s=r(n.address);else{let c=n?.isDefraud?n.msg:t("wallet_extension_modaldesc_riskaddress",{accountAddress:i});s={screenOne:{title:t("wallet_extension_protocol_popup_risk_warning"),desc:c,mainBtnText:t("wallet_extension_function_btn_cancel"),subBtnText:t("wallet_extension_function_btn_advanced")},screenTwo:{title:t("wallet_extension_protocol_popup_risk_warning"),desc:t("wallet_extension_function_desc_developer_continue"),mainBtnText:t("wallet_extension_mid_dialog_btn_cancel"),subBtnText:t("wallet_extension_function_btn_continue_transaction")}}}return new Promise((c,p)=>{let d=u.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:b.default.createElement(B,{modalParams:s,handleCancel:()=>{E(),p(),d.destroy()},closeModal:()=>{c(),d.destroy()}})})})},[])},Q=()=>{let r=F();return _(async(e,a)=>{let n=e;return(0,A.isEmpty)(e)&&(n=(await r(a))[g.CONTRACT_ADDRESS]||{}),new Promise((o,i)=>{if(n?.isContract){let s=u.prompt({alignBottom:!1,hideCloseBtn:!0,infoType:u.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:l.TYPE.highlight,size:l.SIZE.lg},cancelBtnProps:{category:l.CATEGORY.outline,size:l.SIZE.lg},title:t("wallet_extension_address_popup_security_alert"),confirmText:t("wallet_extension_address_popup_btn_cancel"),cancelText:t("wallet_extension_address_popup_btn_continue"),text:t("wallet_extension_address_popup_security_alert_desc"),onConfirm:()=>{s.destroy(),i()},onCancel:()=>{s.destroy(),o()}})}else o()})},[])};export{F as a,J as b,K as c,Q as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-B553FNEQ.js.map
