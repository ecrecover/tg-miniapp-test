import{a as q}from"./chunk-5Z7DXNIK.js";import{a as T}from"./chunk-2E742IIC.js";import{y as Q}from"./chunk-HPXM6RSK.js";import{b}from"./chunk-TXKWPME2.js";import{c as E}from"./chunk-JXCCIV3J.js";import{Ca as p,Ea as g,hb as D,tc as M}from"./chunk-X7YMANPZ.js";import{c as j}from"./chunk-V4F2JFTP.js";import{a as Z}from"./chunk-6DDC4Y2S.js";import{f as _,m as r,o as e}from"./chunk-EQYVU4XP.js";r();e();var a=_(Z()),C=_(Q()),y=_(j()),L=_(q());D();r();e();async function N(s){try{await(await b.wallet_avatar).set(s)}catch{console.log("set data failed")}}r();e();var x={xl:"xl",lg:"lg",md:"md",sm:"sm"};r();e();var w={"wallet-avatar":"_wallet-avatar_1g29v_1",walletAvatar:"_wallet-avatar_1g29v_1","wallet-avatar-core":"_wallet-avatar-core_1g29v_4",walletAvatarCore:"_wallet-avatar-core_1g29v_4","wallet-avatar-xl":"_wallet-avatar-xl_1g29v_11",walletAvatarXl:"_wallet-avatar-xl_1g29v_11","wallet-avatar-lg":"_wallet-avatar-lg_1g29v_15",walletAvatarLg:"_wallet-avatar-lg_1g29v_15","wallet-avatar-md":"_wallet-avatar-md_1g29v_19",walletAvatarMd:"_wallet-avatar-md_1g29v_19","wallet-avatar-sm":"_wallet-avatar-sm_1g29v_23",walletAvatarSm:"_wallet-avatar-sm_1g29v_23"};var W=a.default.memo(({size:s=x.md,className:u,walletIdentity:B={}})=>{let{account:l,addressType:n,walletId:t,accountsMap:I}=B,f=(0,C.useSelector)(T),[h,O]=(0,a.useState)(null),v=(0,a.useRef)(null),S=(0,a.useMemo)(()=>{if(!l)return t||"0x";if(l?.[p])return l?.[p];try{let o=Object.values(l);if(o.length===1&&l?.[g]){let c=I?.bitcoin?.segwit_native?.address;if(c)return c;if(n&&Object.values(n).length>=1){let{address:m}=n?.[g]?.find(i=>i?.addressType===M.SEGWIT_NATIVE)||{};return m||t}}return o[0]||t}catch{return t}},[l,t,n,I]);return(0,a.useEffect)(()=>{let o={root:null,rootMargin:"0px",threshold:0},c=k=>{k.forEach(U=>{if(U.isIntersecting){let d=(0,L.default)(S.toLowerCase());N([{walletId:t,walletAvatar:d}]),d&&O(d)}})},m=new IntersectionObserver(c,o);v.current&&!f[t]&&m.observe(v.current);let i=v.current;return()=>{i&&m.unobserve(i)}},[h,S,t,f]),a.default.createElement(E.Box,{ref:v,className:(0,y.default)(w["wallet-avatar"],{[w[`wallet-avatar-${s}`]]:!!s},u)},a.default.createElement("img",{src:f[t]||h,className:(0,y.default)(w["wallet-avatar-core"]),alt:"wallet-avatar"}))});W.SIZE=x;var va=W;export{va as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-UNBL3DJE.js.map
