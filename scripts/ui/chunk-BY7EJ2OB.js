import{a as br}from"./chunk-F2C2DYTN.js";import{a as Te}from"./chunk-KNDZEUJE.js";import{f as ue,m,o as g}from"./chunk-REC7XVZY.js";m();g();m();g();m();g();var Ze=ue(br(),1),P=e=>Ze.default.encode(e),W=e=>Ze.default.decode(e);m();g();function $(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}var Qe=8192;function L(e){if(e.length<Qe)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=Qe){let n=e.slice(r,r+Qe);t+=String.fromCharCode(...n)}return btoa(t)}m();g();m();g();function F(e){let t=e.startsWith("0x")?e.slice(2):e,n=(t.length%2===0?t:`0${t}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}function V(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}m();g();m();g();function le(e){let t=[],r=0;if(e===0)return[0];for(;e>0;)t[r]=e&127,(e>>=7)&&(t[r]|=128),r+=1;return t}function $t(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(i&127)<<r,(i&128)===0)break;r+=7}return{value:t,length:n}}var fe=class{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer)}shift(t){return this.bytePosition+=t,this}read8(){let t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){let t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){let t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){let t=this.read32(),n=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let t=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let t=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+t.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(t){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,t);return this.shift(t),n}readULEB(){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t),{value:n,length:i}=$t(r);return this.shift(i),n}readVec(t){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(t(this,i,r));return n}};m();g();m();g();function et(e,t){switch(t){case"base58":return P(e);case"base64":return L(e);case"hex":return V(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function tt(e,t){switch(t){case"base58":return W(e);case"base64":return $(e);case"hex":return F(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function de(e,t=["<",">"]){let[r,n]=t,i=[],s="",o=0;for(let c=0;c<e.length;c++){let u=e[c];if(u===r&&o++,u===n&&o--,o===0&&u===","){i.push(s.trim()),s="";continue}s+=u}return i.push(s.trim()),i}var he=class{constructor({size:t=1024,maxSize:r,allocateSize:n=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=r||t,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){let r=this.bytePosition+t;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return rt(BigInt(t),8).forEach(r=>this.write8(r)),this}write128(t){return rt(BigInt(t),16).forEach(r=>this.write8(r)),this}write256(t){return rt(BigInt(t),32).forEach(r=>this.write8(r)),this}writeULEB(t){return le(t).forEach(r=>this.write8(r)),this}writeVec(t,r){return this.writeULEB(t.length),Array.from(t).forEach((n,i)=>r(this,n,i,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return et(this.toBytes(),t)}};function rt(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e=e/BigInt(256),n+=1;return r}var Nt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},G=(e,t,r)=>(Nt(e,t,"read from private field"),r?r.call(e):t.get(e)),ke=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ce=(e,t,r,n)=>(Nt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pe,xe,Ue,Z,Dt=class{constructor(e){ke(this,pe,void 0),ke(this,xe,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),Ce(this,pe,e.write),Ce(this,xe,e.serialize??((t,r)=>{let n=new he({size:this.serializedSize(t)??void 0,...r});return G(this,pe).call(this,t,n),n.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),G(this,pe).call(this,e,t)}serialize(e,t){return this.validate(e),new Re(this,G(this,xe).call(this,e,t))}parse(e){let t=new fe(e);return this.read(t)}transform({name:e,input:t,output:r}){return new Dt({name:e??this.name,read:n=>r(this.read(n)),write:(n,i)=>G(this,pe).call(this,t(n),i),serializedSize:n=>this.serializedSize(t(n)),serialize:(n,i)=>G(this,xe).call(this,t(n),i),validate:n=>this.validate(t(n))})}},D=Dt;pe=new WeakMap;xe=new WeakMap;var Mt=Symbol.for("@mysten/serialized-bcs");function me(e){return!!e&&typeof e=="object"&&e[Mt]===!0}var Re=class{constructor(t,r){ke(this,Ue,void 0),ke(this,Z,void 0),Ce(this,Ue,t),Ce(this,Z,r)}get[Mt](){return!0}toBytes(){return G(this,Z)}toHex(){return V(G(this,Z))}toBase64(){return L(G(this,Z))}toBase58(){return P(G(this,Z))}parse(){return G(this,Ue).parse(G(this,Z))}};Ue=new WeakMap;Z=new WeakMap;function Ee({size:e,...t}){return new D({...t,serializedSize:()=>e})}function $e({readMethod:e,writeMethod:t,...r}){return Ee({...r,read:n=>n[e](),write:(n,i)=>i[t](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function Ne({readMethod:e,writeMethod:t,...r}){return Ee({...r,read:n=>n[e](),write:(n,i)=>i[t](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function zt({serialize:e,...t}){let r=new D({...t,serialize:e,write:(n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)}});return r}function Pt({toBytes:e,fromBytes:t,...r}){return new D({...r,read:n=>{let i=n.readULEB(),s=n.readBytes(i);return t(s)},write:(n,i)=>{let s=e(n);i.writeULEB(s.length);for(let o=0;o<s.length;o++)i.write8(s[o])},serialize:n=>{let i=e(n),s=le(i.length),o=new Uint8Array(s.length+i.length);return o.set(s,0),o.set(i,s.length),o},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function Lt(e){let t=null;function r(){return t||(t=e()),t}return new D({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}m();g();var a={u8(e){return $e({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...e})},u16(e){return $e({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...e})},u32(e){return $e({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e})},u64(e){return Ne({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e})},u128(e){return Ne({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e})},u256(e){return Ne({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e})},bool(e){return Ee({name:"bool",size:1,read:t=>t.read8()===1,write:(t,r)=>r.write8(t?1:0),...e,validate:t=>{if(e?.validate?.(t),typeof t!="boolean")throw new TypeError(`Expected boolean, found ${typeof t}`)}})},uleb128(e){return zt({name:"uleb128",read:t=>t.readULEB(),serialize:t=>Uint8Array.from(le(t)),...e})},bytes(e,t){return Ee({name:`bytes[${e}]`,size:e,read:r=>r.readBytes(e),write:(r,n)=>{for(let i=0;i<e;i++)n.write8(r[i]??0)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}})},string(e){return Pt({name:"string",toBytes:t=>new TextEncoder().encode(t),fromBytes:t=>new TextDecoder().decode(t),...e})},fixedArray(e,t,r){return new D({name:`${t.name}[${e}]`,read:n=>{let i=new Array(e);for(let s=0;s<e;s++)i[s]=t.read(n);return i},write:(n,i)=>{for(let s of n)t.write(s,i)},...r,validate:n=>{if(r?.validate?.(n),!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==e)throw new TypeError(`Expected array of length ${e}, found ${n.length}`)}})},option(e){return a.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:t=>t==null?{None:!0}:{Some:t},output:t=>"Some"in t?t.Some:null})},vector(e,t){return new D({name:`vector<${e.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=e.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)e.write(i,n)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(e,t){return new D({name:`(${e.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<e.length;i++){let s=e[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},read:r=>{let n=[];for(let i of e)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<e.length;i++)e[i].write(r[i],n)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}})},struct(e,t,r){let n=Object.entries(t);return new D({name:e,serializedSize:i=>{let s=0;for(let[o,c]of n){let u=c.serializedSize(i[o]);if(u==null)return null;s+=u}return s},read:i=>{let s={};for(let[o,c]of n)s[o]=c.read(i);return s},write:(i,s)=>{for(let[o,c]of n)c.write(i[o],s)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(e,t,r){let n=Object.entries(t);return new D({name:e,read:i=>{let s=i.readULEB(),[o,c]=n[s];return{[o]:c?.read(i)??!0}},write:(i,s)=>{let[o,c]=Object.entries(i)[0];for(let u=0;u<n.length;u++){let[p,h]=n[u];if(p===o){s.writeULEB(u),h?.write(c,s);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i);if(s.length!==1)throw new TypeError(`Expected object with one key, found ${s.length}`);let[o]=s;if(!Object.hasOwn(t,o))throw new TypeError(`Invalid enum variant ${o}`)}})},map(e,t){return a.vector(a.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n}})},generic(e,t){return(...r)=>t(...r).transform({name:`${t.name}<${r.map(n=>n.name).join(", ")}>`,input:n=>n,output:n=>n})},lazy(e){return Lt(e)}};m();g();var Sr=32,ve=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof ve){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(ve.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);e.withPrimitives!==!1&&Tr(this)}tempKey(){return`bcs-struct-${++this.counter}`}ser(e,t,r){if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).encode(this,t,r,i)}if(typeof e=="object"){let n=this.tempKey();return new ve(this).registerStructType(n,e).ser(n,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,r){if(typeof t=="string")if(r)t=tt(t,r);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).decode(this,t,i)}if(typeof e=="object"){let n=new ve(this),i=this.tempKey();return n.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=()=>!0){let{name:i,params:s}=this.parseTypeName(e);return this.types.set(i,{encode(o,c,u,p){let h=s.reduce((d,y,T)=>Object.assign(d,{[y]:p[T]}),{});return this._encodeRaw.call(o,new he(u),c,p,h)},decode(o,c,u){let p=s.reduce((h,d,y)=>Object.assign(h,{[d]:u[y]}),{});return this._decodeRaw.call(o,new fe(c),u,p)},_encodeRaw(o,c,u,p){if(n(c))return t.call(this,o,c,u,p);throw new Error(`Validation failed for type ${i}, data: ${c}`)},_decodeRaw(o,c,u){return r.call(this,o,c,u)}}),this}registerBcsType(e,t){return this.registerType(e,(r,n,i)=>{let s=i.map(o=>new D({name:String(o),write:(c,u)=>{let{name:p,params:h}=this.parseTypeName(o),d=this.getTypeInterface(p),y=h.reduce((T,b,w)=>Object.assign(T,{[b]:i[w]}),{});return d._encodeRaw.call(this,u,c,h,y)},read:()=>{throw new Error("Not implemented")}}));return t(...s).write(n,r),r},(r,n)=>{let i=n.map(s=>new D({name:String(s),write:(o,c)=>{throw new Error("Not implemented")},read:o=>{let{name:c,params:u}=this.parseTypeName(s),p=this.getTypeInterface(c),h=u.reduce((d,y,T)=>Object.assign(d,{[y]:n[T]}),{});return p._decodeRaw.call(this,o,u,h)}}));return t(...i).read(r)}),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(i,s){return $(s).reduce((o,c)=>o.write8(c),i)},function(i){return L(i.readBytes(t))});case"hex":return this.registerType(e,function(i,s){return F(s).reduce((o,c)=>o.write8(c),i)},function(i){return V(i.readBytes(t))});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(i,s,o,c){return i.writeVec(s,(u,p)=>{let h=o[0];if(!h)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:d,params:y}=this.parseTypeName(h);if(this.hasType(d))return this.getTypeInterface(d)._encodeRaw.call(this,u,p,y,c);if(!(d in c))throw new Error(`Unable to find a matching type definition for ${d} in vector; make sure you passed a generic`);let{name:T,params:b}=this.parseTypeName(c[d]);return this.getTypeInterface(T)._encodeRaw.call(this,u,p,b,c)})},function(i,s,o){return i.readVec(c=>{let u=s[0];if(!u)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:p,params:h}=this.parseTypeName(u);if(this.hasType(p))return this.getTypeInterface(p)._decodeRaw.call(this,c,h,o);if(!(p in o))throw new Error(`Unable to find a matching type definition for ${p} in vector; make sure you passed a generic`);let{name:d,params:y}=this.parseTypeName(o[p]);return this.getTypeInterface(d)._decodeRaw.call(this,c,y,o)})})}registerStructType(e,t){for(let o in t){let c=this.tempKey(),u=t[o];!Array.isArray(u)&&typeof u!="string"&&(t[o]=c,this.registerStructType(c,u))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(e);return this.registerType(e,function(c,u,p,h){if(!u||u.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${u}`);if(p.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${p.length}`);for(let d of n){if(!(d in u))throw new Error(`Struct ${i} requires field ${d}:${r[d]}`);let{name:y,params:T}=this.parseTypeName(r[d]);if(!s.includes(y))this.getTypeInterface(y)._encodeRaw.call(this,c,u[d],T,h);else{let b=s.indexOf(y),{name:w,params:B}=this.parseTypeName(p[b]);if(this.hasType(w)){this.getTypeInterface(w)._encodeRaw.call(this,c,u[d],B,h);continue}if(!(w in h))throw new Error(`Unable to find a matching type definition for ${w} in ${i}; make sure you passed a generic`);let{name:X,params:ce}=this.parseTypeName(h[w]);this.getTypeInterface(X)._encodeRaw.call(this,c,u[d],ce,h)}}return c},function(c,u,p){if(u.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${u.length}`);let h={};for(let d of n){let{name:y,params:T}=this.parseTypeName(r[d]);if(!s.includes(y))h[d]=this.getTypeInterface(y)._decodeRaw.call(this,c,T,p);else{let b=s.indexOf(y),{name:w,params:B}=this.parseTypeName(u[b]);if(this.hasType(w)){h[d]=this.getTypeInterface(w)._decodeRaw.call(this,c,B,p);continue}if(!(w in p))throw new Error(`Unable to find a matching type definition for ${w} in ${i}; make sure you passed a generic`);let{name:X,params:ce}=this.parseTypeName(p[w]);h[d]=this.getTypeInterface(X)._decodeRaw.call(this,c,ce,p)}}return h})}registerEnumType(e,t){for(let o in t){let c=this.tempKey(),u=t[o];u!==null&&!Array.isArray(u)&&typeof u!="string"&&(t[o]=c,this.registerStructType(c,u))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(e);return this.registerType(e,function(c,u,p,h){if(!u)throw new Error(`Unable to write enum "${i}", missing data.
Received: "${u}"`);if(typeof u!="object")throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".
Received: "${JSON.stringify(u)}"`);let d=Object.keys(u)[0];if(d===void 0)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let y=n.indexOf(d);if(y===-1)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${d}"`);let T=n[y],b=r[T];if(c.write8(y),b===null)return c;let w=s.indexOf(b),B=w===-1?b:p[w];{let{name:X,params:ce}=this.parseTypeName(B);return this.getTypeInterface(X)._encodeRaw.call(this,c,u[d],ce,h)}},function(c,u,p){let h=c.readULEB(),d=n[h],y=r[d];if(h===-1)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${h}"`);if(y===null)return{[d]:!0};let T=s.indexOf(y),b=T===-1?y:u[T];{let{name:w,params:B}=this.parseTypeName(b);return{[d]:this.getTypeInterface(w)._decodeRaw.call(this,c,B,p)}}})}getTypeInterface(e){let t=this.types.get(e);if(typeof t=="string"){let r=[];for(;typeof t=="string";){if(r.includes(t))throw new Error(`Recursive definition found: ${r.join(" -> ")} -> ${t}`);r.push(t),t=this.types.get(t)}}if(t===void 0)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[c,...u]=e;return{name:c,params:u}}if(typeof e!="string")throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(n===-1&&i===-1)return{name:e,params:[]};if(n===-1||i===-1)throw new Error(`Unclosed generic in name '${e}'`);let s=e.slice(0,n),o=de(e.slice(n+1,e.length-i-1),this.schema.genericSeparators);return{name:s,params:o}}},O=ve;O.U8="u8";O.U16="u16";O.U32="u32";O.U64="u64";O.U128="u128";O.U256="u256";O.BOOL="bool";O.VECTOR="vector";O.ADDRESS="address";O.STRING="string";O.HEX="hex-string";O.BASE58="base58-string";O.BASE64="base64-string";function Tr(e){e.registerType(O.U8,function(t,r){return t.write8(r)},function(t){return t.read8()},t=>t<256),e.registerType(O.U16,function(t,r){return t.write16(r)},function(t){return t.read16()},t=>t<65536),e.registerType(O.U32,function(t,r){return t.write32(r)},function(t){return t.read32()},t=>t<=4294967296n),e.registerType(O.U64,function(t,r){return t.write64(r)},function(t){return t.read64()}),e.registerType(O.U128,function(t,r){return t.write128(r)},function(t){return t.read128()}),e.registerType(O.U256,function(t,r){return t.write256(r)},function(t){return t.read256()}),e.registerType(O.BOOL,function(t,r){return t.write8(r)},function(t){return t.read8().toString(10)==="1"}),e.registerType(O.STRING,function(t,r){return t.writeVec(Array.from(r),(n,i)=>n.write8(i.charCodeAt(0)))},function(t){return t.readVec(r=>r.read8()).map(r=>String.fromCharCode(Number(r))).join("")},t=>!0),e.registerType(O.HEX,function(t,r){return t.writeVec(Array.from(F(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return V(new Uint8Array(r))}),e.registerType(O.BASE58,function(t,r){return t.writeVec(Array.from(W(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return P(new Uint8Array(r))}),e.registerType(O.BASE64,function(t,r){return t.writeVec(Array.from($(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return L(new Uint8Array(r))})}function Vt(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:Sr,addressEncoding:"hex"}}var q=ue(Te(),1);m();g();m();g();var xr=32;function Er(e){try{return W(e).length===xr}catch{return!1}}var Ie=32;function De(e){return Ir(e)&&Ar(e)===Ie}function vr(e){return De(e)}function j(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Ie*2,"0")}`}function Q(e,t=!1){return j(e,t)}function Ir(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function Ar(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}m();g();var Br=/^vector<(.+)>$/,Or=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,M=class{static parseFromStr(t,r=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};let n=t.match(Br);if(n)return{vector:M.parseFromStr(n[1],r)};let i=t.match(Or);if(i)return{struct:{address:r?j(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:M.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,r=!1){return de(t).map(n=>M.parseFromStr(n,r))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${M.tagToString(t.vector)}>`;if("struct"in t){let r=t.struct,n=r.typeParams.map(M.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};var A=new O({...Vt(),types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function Gt(e){return a.u64({name:"unsafe_u64",...e}).transform({input:t=>t,output:t=>Number(t)})}function _r(e){return a.enum("Option",{None:null,Some:e})}function nt(e){return e.transform({input:t=>({[t.kind]:t}),output:t=>{let r=Object.keys(t)[0];return{kind:r,...t[r]}}})}var K=a.bytes(Ie).transform({input:e=>typeof e=="string"?F(j(e)):e,output:e=>j(V(e))}),it=a.vector(a.u8()).transform({name:"ObjectDigest",input:e=>W(e),output:e=>P(new Uint8Array(e))}),Ae=a.struct("SuiObjectRef",{objectId:K,version:a.u64(),digest:it}),st=a.struct("SharedObjectRef",{objectId:K,initialSharedVersion:a.u64(),mutable:a.bool()}),Me=a.enum("ObjectArg",{ImmOrOwned:Ae,Shared:st,Receiving:Ae}),ot=a.enum("CallArg",{Pure:a.vector(a.u8()),Object:Me,ObjVec:a.vector(Me)}),ge=a.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:a.lazy(()=>ge),struct:a.lazy(()=>dt),u16:null,u32:null,u256:null}),H=nt(a.enum("Argument",{GasCoin:null,Input:a.struct("Input",{index:a.u16()}),Result:a.struct("Result",{index:a.u16()}),NestedResult:a.struct("NestedResult",{index:a.u16(),resultIndex:a.u16()})})),at=a.struct("ProgrammableMoveCall",{package:K,module:a.string(),function:a.string(),type_arguments:a.vector(ge),arguments:a.vector(H)}).transform({input:e=>{let[t,r,n]=e.target.split("::"),i=e.typeArguments.map(s=>M.parseFromStr(s,!0));return{package:j(t),module:r,function:n,type_arguments:i,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(M.tagToString)})}),ct=nt(a.enum("Transaction",{MoveCall:at,TransferObjects:a.struct("TransferObjects",{objects:a.vector(H),address:H}),SplitCoins:a.struct("SplitCoins",{coin:H,amounts:a.vector(H)}),MergeCoins:a.struct("MergeCoins",{destination:H,sources:a.vector(H)}),Publish:a.struct("Publish",{modules:a.vector(a.vector(a.u8())),dependencies:a.vector(K)}),MakeMoveVec:a.struct("MakeMoveVec",{type:_r(ge),objects:a.vector(H)}),Upgrade:a.struct("Upgrade",{modules:a.vector(a.vector(a.u8())),dependencies:a.vector(K),packageId:K,ticket:H})})),ut=a.struct("ProgrammableTransaction",{inputs:a.vector(ot),transactions:a.vector(ct)}),lt=a.enum("TransactionKind",{ProgrammableTransaction:ut,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),ft=a.enum("TransactionExpiration",{None:null,Epoch:Gt()}),dt=a.struct("StructTag",{address:K,module:a.string(),name:a.string(),typeParams:a.vector(ge)}),ht=a.struct("GasData",{payment:a.vector(Ae),owner:K,price:a.u64(),budget:a.u64()}),pt=a.struct("TransactionDataV1",{kind:lt,sender:K,gasData:ht,expiration:ft}),mt=a.enum("TransactionData",{V1:pt}),jr=a.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Ur=a.enum("IntentVersion",{V0:null}),kr=a.enum("AppId",{Sui:null}),Cr=a.struct("Intent",{scope:jr,version:Ur,appId:kr}),Rr=a.generic(["T"],e=>a.struct("IntentMessage<T>",{intent:Cr,value:e})),gt=a.enum("CompressedSignature",{ED25519:a.fixedArray(64,a.u8()),Secp256k1:a.fixedArray(64,a.u8()),Secp256r1:a.fixedArray(64,a.u8()),ZkLogin:a.vector(a.u8())}),yt=a.enum("PublicKey",{ED25519:a.fixedArray(32,a.u8()),Secp256k1:a.fixedArray(33,a.u8()),Secp256r1:a.fixedArray(33,a.u8()),ZkLogin:a.vector(a.u8())}),wt=a.struct("MultiSigPkMap",{pubKey:yt,weight:a.u8()}),bt=a.struct("MultiSigPublicKey",{pk_map:a.vector(wt),threshold:a.u16()}),Ht=a.struct("MultiSig",{sigs:a.vector(gt),bitmap:a.u16(),multisig_pk:bt}),$r=a.vector(a.u8()).transform({input:e=>typeof e=="string"?$(e):e,output:e=>L(new Uint8Array(e))}),Kt=a.struct("SenderSignedTransaction",{intentMessage:Rr(mt),txSignatures:a.vector($r)}),Xt=a.vector(Kt,{name:"SenderSignedData"}),_={...a,U8:a.u8(),U16:a.u16(),U32:a.u32(),U64:a.u64(),U128:a.u128(),U256:a.u256(),ULEB128:a.uleb128(),Bool:a.bool(),String:a.string(),Address:K,Argument:H,CallArg:ot,CompressedSignature:gt,GasData:ht,MultiSig:Ht,MultiSigPkMap:wt,MultiSigPublicKey:bt,ObjectArg:Me,ObjectDigest:it,ProgrammableMoveCall:at,ProgrammableTransaction:ut,PublicKey:yt,SenderSignedData:Xt,SenderSignedTransaction:Kt,SharedObjectRef:st,StructTag:dt,SuiObjectRef:Ae,Transaction:ct,TransactionData:mt,TransactionDataV1:pt,TransactionExpiration:ft,TransactionKind:lt,TypeTag:ge,ser:A.ser.bind(A),de:A.de.bind(A),getTypeInterface:A.getTypeInterface.bind(A),hasType:A.hasType.bind(A),parseTypeName:A.parseTypeName.bind(A),registerAddressType:A.registerAddressType.bind(A),registerAlias:A.registerAlias.bind(A),registerBcsType:A.registerBcsType.bind(A),registerEnumType:A.registerEnumType.bind(A),registerStructType:A.registerStructType.bind(A),registerType:A.registerType.bind(A),types:A.types};A.registerBcsType("utf8string",()=>a.string({name:"utf8string"}));A.registerBcsType("unsafe_u64",()=>Gt());A.registerBcsType("enumKind",e=>nt(e));[K,H,ot,gt,ht,Ht,wt,bt,Me,it,at,ut,yt,Xt,st,dt,Ae,ct,mt,pt,ft,lt,ge].forEach(e=>{A.registerBcsType(e.name,()=>e)});m();g();m();g();var Nr=/^(?:[a-z0-9][a-z0-9-]{0,62}(?:\.[a-z0-9][a-z0-9-]{0,62})*)?@[a-z0-9][a-z0-9-]{0,62}$/i,Dr=/^(?:[a-z0-9][a-z0-9-]{0,62}\.)+sui$/i;function ms(e,t="at"){let r=e.toLowerCase(),n;if(r.includes("@")){if(!Nr.test(r))throw new Error(`Invalid SuiNS name ${e}`);let[i,s]=r.split("@");n=[...i?i.split("."):[],s]}else{if(!Dr.test(r))throw new Error(`Invalid SuiNS name ${e}`);n=r.split(".").slice(0,-1)}return t==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}var Es=BigInt(1e9),ze="0x1",St="0x2";var vs=Q("0x6");var Wt=`${St}::sui::SUI`,Is=Q("0x5");m();g();var v=ue(Te(),1);var ye=(0,v.object)({digest:(0,v.string)(),objectId:(0,v.string)(),version:(0,v.union)([(0,v.number)(),(0,v.string)(),(0,v.bigint)()])}),Mr=(0,v.union)([(0,v.object)({ImmOrOwned:ye}),(0,v.object)({Shared:(0,v.object)({objectId:(0,v.string)(),initialSharedVersion:(0,v.union)([(0,v.integer)(),(0,v.string)()]),mutable:(0,v.boolean)()})}),(0,v.object)({Receiving:ye})]),we=(0,v.object)({Pure:(0,v.array)((0,v.integer)())}),Pe=(0,v.object)({Object:Mr}),be=(0,v.union)([we,Pe]);function zr(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:me(e)?e.toBytes():_.ser(t,e,{maxSize:1/0}).toBytes())}}var N={Pure:zr,ObjectRef({objectId:e,digest:t,version:r}){return{Object:{ImmOrOwned:{digest:t,version:r,objectId:j(e)}}}},SharedObjectRef({objectId:e,mutable:t,initialSharedVersion:r}){return{Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:j(e)}}}},ReceivingRef({objectId:e,digest:t,version:r}){return{Object:{Receiving:{digest:t,version:r,objectId:j(e)}}}}};function Tt(e){return typeof e=="string"?j(e):"ImmOrOwned"in e.Object?j(e.Object.ImmOrOwned.objectId):"Receiving"in e.Object?j(e.Object.Receiving.objectId):j(e.Object.Shared.objectId)}function Pr(e){return typeof e=="object"&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function Ft(e){return Pr(e)?.mutable??!1}m();g();function Jt(e){function t(r,n){return e(r,n)}return t.u8=r=>e(_.U8.serialize(r)),t.u16=r=>e(_.U16.serialize(r)),t.u32=r=>e(_.U32.serialize(r)),t.u64=r=>e(_.U64.serialize(r)),t.u128=r=>e(_.U128.serialize(r)),t.u256=r=>e(_.U256.serialize(r)),t.bool=r=>e(_.Bool.serialize(r)),t.string=r=>e(_.String.serialize(r)),t.address=r=>e(_.Address.serialize(r)),t.id=t.address,t}m();g();m();g();var Yt=ue(Te(),1);function C(e,t){return(0,Yt.create)(e,t)}function Le(e){return typeof e=="object"&&"MutableReference"in e?e.MutableReference:void 0}function xt(e){return typeof e=="object"&&"Reference"in e?e.Reference:void 0}function Be(e){if(typeof e=="object"&&"Struct"in e)return e;let t=xt(e),r=Le(e);if(typeof t=="object"&&"Struct"in t)return t;if(typeof r=="object"&&"Struct"in r)return r}var Lr="object",Vr="ID",Gr="ascii",Hr="String",Kr="string",Xr="String",Wr="option",Fr="Option",Jr={address:St,module:Lr,name:Vr},Yr={address:ze,module:Gr,name:Hr},qr={address:ze,module:Kr,name:Xr},Zr={address:ze,module:Wr,name:Fr},Ve=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function qt(e){let t=Be(e)?.Struct;return t?.address==="0x2"&&t?.module==="tx_context"&&t?.name==="TxContext"}function Et(e,t){if(!(typeof t>"u")&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}var Qr=["Address","Bool","U8","U16","U32","U64","U128","U256"];function Ge(e,t){if(typeof e=="string"&&Qr.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])Et("number",t);else if(e==="Bool")Et("boolean",t);else if(e==="Address"&&(Et("string",t),t&&!De(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}else if(typeof e=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((t===void 0||typeof t=="string")&&e.Vector==="U8")return"string";if(t!==void 0&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);let r=Ge(e.Vector,t?t[0]:void 0);return r===void 0?void 0:`vector<${r}>`}if("Struct"in e){if(Ve(e.Struct,Yr))return"string";if(Ve(e.Struct,qr))return"utf8string";if(Ve(e.Struct,Jr))return"address";if(Ve(e.Struct,Zr)){let r={Vector:e.Struct.typeArguments[0]};return Ge(r,t)}}}m();g();var S=ue(Te(),1);m();g();m();g();m();g();m();g();function vt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function en(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Zt(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tn(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vt(e.outputLen),vt(e.blockLen)}function rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function nn(e,t){Zt(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var sn={number:vt,bool:en,bytes:Zt,hash:tn,exists:rn,output:nn},ie=sn;m();g();m();g();var on=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var an=e=>e instanceof Uint8Array;var Se=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));var cn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cn)throw new Error("Non little-endian hardware is not supported");var to=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function un(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function se(e){if(typeof e=="string"&&(e=un(e)),!an(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}var He=class{clone(){return this._cloneInto()}};function Qt(e){let t=(n,i)=>e(i).update(se(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var er=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),Ke=class extends He{constructor(t,r,n={},i,s,o){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,ie.number(t),ie.number(r),ie.number(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Se(this.buffer=new Uint8Array(t))}update(t){ie.exists(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=se(t);let s=t.length,o=t.byteOffset,c=t.buffer;for(let u=0;u<s;){this.pos===r&&(this.compress(i,0,!1),this.pos=0);let p=Math.min(r-this.pos,s-u),h=o+u;if(p===r&&!(h%4)&&u+p<s){let d=new Uint32Array(c,h,Math.floor((s-u)/4));for(let y=0;u+r<s;y+=i.length,u+=r)this.length+=r,this.compress(d,y,!1);continue}n.set(t.subarray(u,u+p),this.pos),this.pos+=p,this.length+=p,u+=p}return this}digestInto(t){ie.exists(this),ie.output(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),this.compress(n,0,!0);let i=Se(t);this.get().forEach((s,o)=>i[o]=s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:c}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=s,t.outputLen=o,t.buffer.set(r),t.pos=c,t}};m();g();var Xe=BigInt(4294967295),It=BigInt(32);function tr(e,t=!1){return t?{h:Number(e&Xe),l:Number(e>>It&Xe)}:{h:Number(e>>It&Xe)|0,l:Number(e&Xe)|0}}function ln(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=tr(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}var fn=(e,t)=>BigInt(e>>>0)<<It|BigInt(t>>>0),dn=(e,t,r)=>e>>>r,hn=(e,t,r)=>e<<32-r|t>>>r,pn=(e,t,r)=>e>>>r|t<<32-r,mn=(e,t,r)=>e<<32-r|t>>>r,gn=(e,t,r)=>e<<64-r|t>>>r-32,yn=(e,t,r)=>e>>>r-32|t<<64-r,wn=(e,t)=>t,bn=(e,t)=>e,Sn=(e,t,r)=>e<<r|t>>>32-r,Tn=(e,t,r)=>t<<r|e>>>32-r,xn=(e,t,r)=>t<<r-32|e>>>64-r,En=(e,t,r)=>e<<r-32|t>>>64-r;function vn(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var In=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),An=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Bn=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),On=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,_n=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),jn=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Un={fromBig:tr,split:ln,toBig:fn,shrSH:dn,shrSL:hn,rotrSH:pn,rotrSL:mn,rotrBH:gn,rotrBL:yn,rotr32H:wn,rotr32L:bn,rotlSH:Sn,rotlSL:Tn,rotlBH:xn,rotlBL:En,add:vn,add3L:In,add3H:An,add4L:Bn,add4H:On,add5H:jn,add5L:_n},R=Un;var U=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=new Uint32Array(32);function ee(e,t,r,n,i,s){let o=i[s],c=i[s+1],u=f[2*e],p=f[2*e+1],h=f[2*t],d=f[2*t+1],y=f[2*r],T=f[2*r+1],b=f[2*n],w=f[2*n+1],B=R.add3L(u,h,o);p=R.add3H(B,p,d,c),u=B|0,{Dh:w,Dl:b}={Dh:w^p,Dl:b^u},{Dh:w,Dl:b}={Dh:R.rotr32H(w,b),Dl:R.rotr32L(w,b)},{h:T,l:y}=R.add(T,y,w,b),{Bh:d,Bl:h}={Bh:d^T,Bl:h^y},{Bh:d,Bl:h}={Bh:R.rotrSH(d,h,24),Bl:R.rotrSL(d,h,24)},f[2*e]=u,f[2*e+1]=p,f[2*t]=h,f[2*t+1]=d,f[2*r]=y,f[2*r+1]=T,f[2*n]=b,f[2*n+1]=w}function te(e,t,r,n,i,s){let o=i[s],c=i[s+1],u=f[2*e],p=f[2*e+1],h=f[2*t],d=f[2*t+1],y=f[2*r],T=f[2*r+1],b=f[2*n],w=f[2*n+1],B=R.add3L(u,h,o);p=R.add3H(B,p,d,c),u=B|0,{Dh:w,Dl:b}={Dh:w^p,Dl:b^u},{Dh:w,Dl:b}={Dh:R.rotrSH(w,b,16),Dl:R.rotrSL(w,b,16)},{h:T,l:y}=R.add(T,y,w,b),{Bh:d,Bl:h}={Bh:d^T,Bl:h^y},{Bh:d,Bl:h}={Bh:R.rotrBH(d,h,63),Bl:R.rotrBL(d,h,63)},f[2*e]=u,f[2*e+1]=p,f[2*t]=h,f[2*t+1]=d,f[2*r]=y,f[2*r+1]=T,f[2*n]=b,f[2*n+1]=w}var At=class extends Ke{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=U[0]|0,this.v0h=U[1]|0,this.v1l=U[2]|0,this.v1h=U[3]|0,this.v2l=U[4]|0,this.v2h=U[5]|0,this.v3l=U[6]|0,this.v3h=U[7]|0,this.v4l=U[8]|0,this.v4h=U[9]|0,this.v5l=U[10]|0,this.v5h=U[11]|0,this.v6l=U[12]|0,this.v6h=U[13]|0,this.v7l=U[14]|0,this.v7h=U[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=Se(se(t.salt));this.v4l^=n[0],this.v4h^=n[1],this.v5l^=n[2],this.v5h^=n[3]}if(t.personalization){let n=Se(se(t.personalization));this.v6l^=n[0],this.v6h^=n[1],this.v7l^=n[2],this.v7h^=n[3]}if(t.key){let n=new Uint8Array(this.blockLen);n.set(se(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:c,v3h:u,v4l:p,v4h:h,v5l:d,v5h:y,v6l:T,v6h:b,v7l:w,v7h:B}=this;return[t,r,n,i,s,o,c,u,p,h,d,y,T,b,w,B]}set(t,r,n,i,s,o,c,u,p,h,d,y,T,b,w,B){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=c|0,this.v3h=u|0,this.v4l=p|0,this.v4h=h|0,this.v5l=d|0,this.v5h=y|0,this.v6l=T|0,this.v6h=b|0,this.v7l=w|0,this.v7h=B|0}compress(t,r,n){this.get().forEach((u,p)=>f[p]=u),f.set(U,16);let{h:i,l:s}=R.fromBig(BigInt(this.length));f[24]=U[8]^s,f[25]=U[9]^i,n&&(f[28]=~f[28],f[29]=~f[29]);let o=0,c=er;for(let u=0;u<12;u++)ee(0,4,8,12,t,r+2*c[o++]),te(0,4,8,12,t,r+2*c[o++]),ee(1,5,9,13,t,r+2*c[o++]),te(1,5,9,13,t,r+2*c[o++]),ee(2,6,10,14,t,r+2*c[o++]),te(2,6,10,14,t,r+2*c[o++]),ee(3,7,11,15,t,r+2*c[o++]),te(3,7,11,15,t,r+2*c[o++]),ee(0,5,10,15,t,r+2*c[o++]),te(0,5,10,15,t,r+2*c[o++]),ee(1,6,11,12,t,r+2*c[o++]),te(1,6,11,12,t,r+2*c[o++]),ee(2,7,8,13,t,r+2*c[o++]),te(2,7,8,13,t,r+2*c[o++]),ee(3,4,9,14,t,r+2*c[o++]),te(3,4,9,14,t,r+2*c[o++]);this.v0l^=f[0]^f[16],this.v0h^=f[1]^f[17],this.v1l^=f[2]^f[18],this.v1h^=f[3]^f[19],this.v2l^=f[4]^f[20],this.v2h^=f[5]^f[21],this.v3l^=f[6]^f[22],this.v3h^=f[7]^f[23],this.v4l^=f[8]^f[24],this.v4h^=f[9]^f[25],this.v5l^=f[10]^f[26],this.v5h^=f[11]^f[27],this.v6l^=f[12]^f[28],this.v6h^=f[13]^f[29],this.v7l^=f[14]^f[30],this.v7h^=f[15]^f[31],f.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},rr=Qt(e=>new At(e));function nr(e,t){let r=Array.from(`${e}::`).map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),rr(n,{dkLen:32})}m();g();var l=ue(Te(),1);var kn=e=>(0,l.union)([(0,l.object)({None:(0,l.union)([(0,l.literal)(!0),(0,l.literal)(null)])}),(0,l.object)({Some:e})]),oe=(0,l.union)([(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.integer)(),value:(0,l.optional)((0,l.any)()),type:(0,l.optional)((0,l.literal)("object"))}),(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.integer)(),value:(0,l.optional)((0,l.any)()),type:(0,l.literal)("pure")})]),Cn=[oe,(0,l.object)({kind:(0,l.literal)("GasCoin")}),(0,l.object)({kind:(0,l.literal)("Result"),index:(0,l.integer)()}),(0,l.object)({kind:(0,l.literal)("NestedResult"),index:(0,l.integer)(),resultIndex:(0,l.integer)()})],J=(0,l.union)([...Cn]),ir=(0,l.object)({kind:(0,l.literal)("MoveCall"),target:(0,l.define)("target",(0,l.string)().validator),typeArguments:(0,l.array)((0,l.string)()),arguments:(0,l.array)(J)}),sr=(0,l.object)({kind:(0,l.literal)("TransferObjects"),objects:(0,l.array)(J),address:J}),or=(0,l.object)({kind:(0,l.literal)("SplitCoins"),coin:J,amounts:(0,l.array)(J)}),ar=(0,l.object)({kind:(0,l.literal)("MergeCoins"),destination:J,sources:(0,l.array)(J)}),cr=(0,l.object)({kind:(0,l.literal)("MakeMoveVec"),type:(0,l.optional)(kn((0,l.record)((0,l.string)(),(0,l.unknown)()))),objects:(0,l.array)(J)}),ur=(0,l.object)({kind:(0,l.literal)("Publish"),modules:(0,l.array)((0,l.array)((0,l.integer)())),dependencies:(0,l.array)((0,l.string)())});var lr=(0,l.object)({kind:(0,l.literal)("Upgrade"),modules:(0,l.array)((0,l.array)((0,l.integer)())),dependencies:(0,l.array)((0,l.string)()),packageId:(0,l.string)(),ticket:J}),Rn=[ir,sr,or,ar,ur,lr,cr],fr=(0,l.union)([...Rn]);var re={MoveCall(e){return C({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},ir)},TransferObjects(e,t){return t.kind==="Input"&&t.type==="pure"&&typeof t.value!="object"&&(t.value=N.Pure(_.Address.serialize(t.value))),C({kind:"TransferObjects",objects:e,address:t},sr)},SplitCoins(e,t){return t.forEach(r=>{r.kind==="Input"&&r.type==="pure"&&typeof r.value!="object"&&(r.value=N.Pure(_.U64.serialize(r.value)))}),C({kind:"SplitCoins",coin:e,amounts:t},or)},MergeCoins(e,t){return C({kind:"MergeCoins",destination:e,sources:t},ar)},Publish({modules:e,dependencies:t}){return C({kind:"Publish",modules:e.map(r=>typeof r=="string"?Array.from($(r)):r),dependencies:t.map(r=>Q(r))},ur)},Upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return C({kind:"Upgrade",modules:e.map(i=>typeof i=="string"?Array.from($(i)):i),dependencies:t.map(i=>Q(i)),packageId:r,ticket:n},lr)},MakeMoveVec({type:e,objects:t}){return C({kind:"MakeMoveVec",type:e?{Some:M.parseFromStr(e)}:{None:null},objects:t},cr)}};var $n=(0,S.optional)((0,S.nullable)((0,S.union)([(0,S.object)({Epoch:(0,S.integer)()}),(0,S.object)({None:(0,S.union)([(0,S.literal)(!0),(0,S.literal)(null)])})]))),dr=(0,S.define)("StringEncodedBigint",e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}),Nn=(0,S.object)({budget:(0,S.optional)(dr),price:(0,S.optional)(dr),payment:(0,S.optional)((0,S.array)(ye)),owner:(0,S.optional)((0,S.string)())}),We=(0,S.object)({version:(0,S.literal)(1),sender:(0,S.optional)((0,S.string)()),expiration:$n,gasConfig:Nn,inputs:(0,S.array)(oe),transactions:(0,S.array)(fr)});function hr(e){return j(e).replace("0x","")}var z=class{constructor(t){this.version=1,this.sender=t?.sender,this.expiration=t?.expiration,this.gasConfig=t?.gasConfig??{},this.inputs=t?.inputs??[],this.transactions=t?.transactions??[]}static fromKindBytes(t){let r=_.TransactionKind.parse(t),n="ProgrammableTransaction"in r?r.ProgrammableTransaction:null;if(!n)throw new Error("Unable to deserialize from bytes.");let i=C({version:1,gasConfig:{},inputs:n.inputs.map((s,o)=>C({kind:"Input",value:s,index:o,type:(0,S.is)(s,we)?"pure":"object"},oe)),transactions:n.transactions},We);return z.restore(i)}static fromBytes(t){let n=_.TransactionData.parse(t)?.V1,i="ProgrammableTransaction"in n.kind?n?.kind?.ProgrammableTransaction:null;if(!n||!i)throw new Error("Unable to deserialize from bytes.");let s=C({version:1,sender:n.sender,expiration:n.expiration,gasConfig:n.gasData,inputs:i.inputs.map((o,c)=>C({kind:"Input",value:o,index:c,type:(0,S.is)(o,we)?"pure":"object"},oe)),transactions:i.transactions},We);return z.restore(s)}static restore(t){(0,S.assert)(t,We);let r=new z;return Object.assign(r,t),r}static getDigestFromBytes(t){let r=nr("TransactionData",t);return P(r)}build({maxSizeBytes:t=1/0,overrides:r,onlyTransactionKind:n}={}){let i=this.inputs.map(h=>((0,S.assert)(h.value,be),h.value)),s={ProgrammableTransaction:{inputs:i,transactions:this.transactions}};if(n)return _.TransactionKind.serialize(s,{maxSize:t}).toBytes();let o=r?.expiration??this.expiration,c=r?.sender??this.sender,u={...this.gasConfig,...r?.gasConfig};if(!c)throw new Error("Missing transaction sender");if(!u.budget)throw new Error("Missing gas budget");if(!u.payment)throw new Error("Missing gas payment");if(!u.price)throw new Error("Missing gas price");let p={sender:hr(c),expiration:o||{None:!0},gasData:{payment:u.payment,owner:hr(this.gasConfig.owner??c),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:i,transactions:this.transactions}}};return _.TransactionData.serialize({V1:p},{maxSize:t}).toBytes()}getDigest(){let t=this.build({onlyTransactionKind:!1});return z.getDigestFromBytes(t)}snapshot(){return C(this,We)}};var jt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},I=(e,t,r)=>(jt(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Fe=(e,t,r,n)=>(jt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),k=(e,t,r)=>(jt(e,t,"access private method"),r),x,Oe,Je,_e,Ye,ne,ae,Ut,pr,kt,mr,Ct,gr,Rt,yr,qe,Ot,Dn={maxPureArgumentSize:16*1024,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:128*1024};function Mn(e){let t={kind:"Result",index:e},r=[],n=i=>r[i]??(r[i]={kind:"NestedResult",index:e,resultIndex:i});return new Proxy(t,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,s){if(s in i)return Reflect.get(i,s);if(s===Symbol.iterator)return function*(){let c=0;for(;;)yield n(c),c++};if(typeof s=="symbol")return;let o=parseInt(s,10);if(!(Number.isNaN(o)||o<0))return n(o)}})}function zn(e){let t=Be(e);return t?t.Struct.address==="0x2"&&t.Struct.module==="transfer"&&t.Struct.name==="Receiving":!1}function je(e){if(!e.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}var wr=Symbol.for("@mysten/transaction"),Bt={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"},Pn=1000n,Ln=50,Vn=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,n)=>e.slice(n*t,n*t+t));function Gn(e){return!!e&&typeof e=="object"&&e[wr]===!0}var _t=class{constructor(e){Y(this,Oe),Y(this,_e),Y(this,ne),Y(this,Ut),Y(this,kt),Y(this,Ct),Y(this,Rt),Y(this,qe),Y(this,x,void 0),Fe(this,x,new z(e?e.blockData:void 0))}static fromKind(e){let t=new _t;return Fe(t,x,z.fromKindBytes(typeof e=="string"?$(e):e)),t}static from(e){let t=new _t;return typeof e!="string"||!e.startsWith("{")?Fe(t,x,z.fromBytes(typeof e=="string"?$(e):e)):Fe(t,x,z.restore(JSON.parse(e))),t}setSender(e){I(this,x).sender=e}setSenderIfNotSet(e){I(this,x).sender||(I(this,x).sender=e)}setExpiration(e){I(this,x).expiration=e}setGasPrice(e){I(this,x).gasConfig.price=String(e)}setGasBudget(e){I(this,x).gasConfig.budget=String(e)}setGasOwner(e){I(this,x).gasConfig.owner=e}setGasPayment(e){I(this,x).gasConfig.payment=e.map(t=>(0,q.mask)(t,ye))}get blockData(){return I(this,x).snapshot()}get[wr](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:Jt((e,t)=>me(e)?k(this,Oe,Je).call(this,"pure",{Pure:Array.from(e.toBytes())}):k(this,Oe,Je).call(this,"pure",e instanceof Uint8Array?N.Pure(e):t?N.Pure(e,t):e))}),this.pure}get gas(){return{kind:"GasCoin"}}object(e){if(typeof e=="object"&&"kind"in e)return e;let t=Tt(e),r=I(this,x).inputs.find(n=>n.type==="object"&&t===Tt(n.value));return r&&(0,q.is)(r.value,Pe)&&"Shared"in r.value.Object&&(0,q.is)(e,Pe)&&"Shared"in e.Object&&(r.value.Object.Shared.mutable=r.value.Object.Shared.mutable||e.Object.Shared.mutable),r??k(this,Oe,Je).call(this,"object",typeof e=="string"?j(e):e)}objectRef(...e){return this.object(N.ObjectRef(...e))}receivingRef(...e){return this.object(N.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(N.SharedObjectRef(...e))}add(e){let t=I(this,x).transactions.push(e);return Mn(t-1)}splitCoins(e,t){return this.add(re.SplitCoins(typeof e=="string"?this.object(e):e,t.map(r=>typeof r=="number"||typeof r=="bigint"||typeof r=="string"?this.pure.u64(r):k(this,_e,Ye).call(this,r))))}mergeCoins(e,t){return this.add(re.MergeCoins(typeof e=="string"?this.object(e):e,t.map(r=>typeof r=="string"?this.object(r):r)))}publish({modules:e,dependencies:t}){return this.add(re.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return this.add(re.Upgrade({modules:e,dependencies:t,packageId:r,ticket:typeof n=="string"?this.object(n):n}))}moveCall({arguments:e,typeArguments:t,target:r}){return this.add(re.MoveCall({arguments:e?.map(n=>k(this,_e,Ye).call(this,n)),typeArguments:t,target:r}))}transferObjects(e,t){return this.add(re.TransferObjects(e.map(r=>typeof r=="string"?this.object(r):r),typeof t=="string"?this.pure.address(t):k(this,_e,Ye).call(this,t)))}makeMoveVec({type:e,objects:t}){return this.add(re.MakeMoveVec({type:e,objects:t.map(r=>typeof r=="string"?this.object(r):r)}))}serialize(){return JSON.stringify(I(this,x).snapshot())}async sign(e){let{signer:t,...r}=e,n=await this.build(r);return t.signTransactionBlock(n)}async build(e={}){return await k(this,qe,Ot).call(this,e),I(this,x).build({maxSizeBytes:k(this,ne,ae).call(this,"maxTxSizeBytes",e),onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await k(this,qe,Ot).call(this,e),I(this,x).getDigest()}},Hn=_t;x=new WeakMap;Oe=new WeakSet;Je=function(e,t){let r=I(this,x).inputs.length,n=C({kind:"Input",value:typeof t=="bigint"?String(t):t,index:r,type:e},oe);return I(this,x).inputs.push(n),n};_e=new WeakSet;Ye=function(e){return me(e)?this.pure(e):e};ne=new WeakSet;ae=function(e,{protocolConfig:t,limits:r}){if(r&&typeof r[e]=="number")return r[e];if(!t)return Dn[e];let n=t?.attributes[Bt[e]];if(!n)throw new Error(`Missing expected protocol config: "${Bt[e]}"`);let i="u64"in n?n.u64:"u32"in n?n.u32:n.f64;if(!i)throw new Error(`Unexpected protocol config value found for: "${Bt[e]}"`);return Number(i)};Ut=new WeakSet;pr=function(e){let t=k(this,ne,ae).call(this,"maxPureArgumentSize",e);I(this,x).inputs.forEach((r,n)=>{if((0,q.is)(r.value,we)&&r.value.Pure.length>t)throw new Error(`Input at index ${n} is too large, max pure input size is ${t} bytes, got ${r.value.Pure.length} bytes`)})};kt=new WeakSet;mr=async function(e){if(I(this,x).gasConfig.payment){let i=k(this,ne,ae).call(this,"maxGasObjects",e);if(I(this,x).gasConfig.payment.length>i)throw new Error(`Payment objects exceed maximum amount: ${i}`)}if(e.onlyTransactionKind||I(this,x).gasConfig.payment)return;let t=I(this,x).gasConfig.owner??I(this,x).sender,n=(await je(e).getCoins({owner:t,coinType:Wt})).data.filter(i=>!I(this,x).inputs.find(o=>(0,q.is)(o.value,be)&&"Object"in o.value&&"ImmOrOwned"in o.value.Object?i.coinObjectId===o.value.Object.ImmOrOwned.objectId:!1)).slice(0,k(this,ne,ae).call(this,"maxGasObjects",e)-1).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(n)};Ct=new WeakSet;gr=async function(e){e.onlyTransactionKind||I(this,x).gasConfig.price||this.setGasPrice(await je(e).getReferenceGasPrice())};Rt=new WeakSet;yr=async function(e){let{inputs:t,transactions:r}=I(this,x),n=[],i=[];if(t.forEach(s=>{if(s.type==="object"&&typeof s.value=="string"){i.push({id:j(s.value),input:s});return}}),r.forEach(s=>{if(s.kind==="MoveCall"&&s.arguments.some(c=>c.kind==="Input"&&!(0,q.is)(t[c.index].value,be))&&n.push(s),s.kind==="SplitCoins"&&s.amounts.forEach(o=>{if(o.kind==="Input"){let c=t[o.index];typeof c.value!="object"&&(c.value=N.Pure(_.U64.serialize(c.value)))}}),s.kind==="TransferObjects"&&s.address.kind==="Input"){let o=t[s.address.index];typeof o.value!="object"&&(o.value=N.Pure(_.Address.serialize(o.value)))}}),n.length&&await Promise.all(n.map(async s=>{let[o,c,u]=s.target.split("::"),p=await je(e).getNormalizedMoveFunction({package:Q(o),module:c,function:u}),d=p.parameters.length>0&&qt(p.parameters.at(-1))?p.parameters.slice(0,p.parameters.length-1):p.parameters;if(d.length!==s.arguments.length)throw new Error("Incorrect number of arguments.");d.forEach((y,T)=>{let b=s.arguments[T];if(b.kind!=="Input")return;let w=t[b.index];if((0,q.is)(w.value,be))return;let B=w.value,X=Ge(y,B);if(X){w.value=N.Pure(B,X);return}if(Be(y)!=null||typeof y=="object"&&"TypeParameter"in y){if(typeof B!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(B,null,2)}`);i.push({id:B,input:w,normalizedType:y});return}throw new Error(`Unknown call arg type ${JSON.stringify(y,null,2)} for value ${JSON.stringify(B,null,2)}`)})})),i.length){let s=[...new Set(i.map(({id:h})=>h))],o=Vn(s,Ln),c=(await Promise.all(o.map(h=>je(e).multiGetObjects({ids:h,options:{showOwner:!0}})))).flat(),u=new Map(s.map((h,d)=>[h,c[d]])),p=Array.from(u).filter(([h,d])=>d.error).map(([h,d])=>h);if(p.length)throw new Error(`The following input objects are invalid: ${p.join(", ")}`);i.forEach(({id:h,input:d,normalizedType:y})=>{let T=u.get(h),b=T.data?.owner,w=b&&typeof b=="object"&&"Shared"in b?b.Shared.initial_shared_version:void 0;if(w){let B=y!=null&&Le(y)==null&&xt(y)==null,X=Ft(d.value)||B||y!=null&&Le(y)!=null;d.value=N.SharedObjectRef({objectId:h,initialSharedVersion:w,mutable:X})}else y&&zn(y)?d.value=N.ReceivingRef(T.data):d.value=N.ObjectRef(T.data)})}};qe=new WeakSet;Ot=async function(e){if(!e.onlyTransactionKind&&!I(this,x).sender)throw new Error("Missing transaction sender");if(!e.protocolConfig&&!e.limits&&e.client&&(e.protocolConfig=await e.client.getProtocolConfig()),await Promise.all([k(this,Ct,gr).call(this,e),k(this,Rt,yr).call(this,e)]),!e.onlyTransactionKind&&(await k(this,kt,mr).call(this,e),!I(this,x).gasConfig.budget)){let t=await je(e).dryRunTransactionBlock({transactionBlock:I(this,x).build({maxSizeBytes:k(this,ne,ae).call(this,"maxTxSizeBytes",e),overrides:{gasConfig:{budget:String(k(this,ne,ae).call(this,"maxTxGas",e)),payment:[]}}})});if(t.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});let r=Pn*BigInt(this.blockData.gasConfig.price||1n),n=BigInt(t.effects.gasUsed.computationCost)+r,i=n+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);this.setGasBudget(i>n?i:n)}k(this,Ut,pr).call(this,e)};m();g();export{W as a,L as b,V as c,Er as d,De as e,vr as f,j as g,Q as h,ms as i,Gn as j,Hn as k};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-BY7EJ2OB.js.map
