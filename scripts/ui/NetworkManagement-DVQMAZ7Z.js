import{a as qt,b as Rt}from"./chunk-DLBVTMBN.js";import{a as Ot}from"./chunk-XFWFNZEC.js";import{a as St}from"./chunk-XZRYRRSY.js";import{a as At}from"./chunk-XOAHEW4N.js";import{a as Ut}from"./chunk-FWLIR37N.js";import{a as Ft}from"./chunk-SCZBCO2U.js";import{a as j}from"./chunk-ZZGZKS3R.js";import{a as vt}from"./chunk-4VLUHY4K.js";import{a as Mt}from"./chunk-QVA4WXOQ.js";import"./chunk-ACHWU2H6.js";import"./chunk-7DP5LYUM.js";import{a as Dt}from"./chunk-BVXKJJ4A.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import{a as Y,c as T,d as Pt}from"./chunk-E2XQ2FKN.js";import"./chunk-GLID42E7.js";import"./chunk-VDMZHNTV.js";import"./chunk-REOQ3O2A.js";import"./chunk-GZRBUDXF.js";import"./chunk-WY46TT4P.js";import"./chunk-MTMUCMTY.js";import"./chunk-IINHHLHP.js";import"./chunk-KXZSXP3G.js";import{b as L}from"./chunk-6HXVFU7V.js";import{a as Tt,d as Lt}from"./chunk-3I7UBQEQ.js";import"./chunk-4IY6P5HR.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import{a as Et}from"./chunk-KZ2PCELG.js";import{b as g}from"./chunk-C7ZG4INB.js";import{a as It}from"./chunk-J5ANWCEO.js";import{w as k}from"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import{r as Ct,z as Nt}from"./chunk-6FOZGMAL.js";import{S as xt,T as A,a as ht,ya as it}from"./chunk-2MV3WEYP.js";import{y as kt}from"./chunk-HPXM6RSK.js";import"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import{a as $}from"./chunk-NJ5CWPUY.js";import{l as bt,p as ye}from"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import{d as yt,f as we}from"./chunk-MAIAJ7GD.js";import"./chunk-4PGNX6E2.js";import"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import{f as gt}from"./chunk-MGLVPWSV.js";import"./chunk-TXKWPME2.js";import"./chunk-4D3M2I6W.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import{c as S}from"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import{L as B,p as nt,w as Z,x as wt}from"./chunk-SOHTSUTI.js";import{I as M,w as s}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-E24EBHFY.js";import{M as W,S as rt,Y as H,c as z}from"./chunk-V4F2JFTP.js";import{a as N}from"./chunk-6DDC4Y2S.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-YUXYCITH.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as l,m as t,o as e}from"./chunk-EQYVU4XP.js";t();e();var m=l(N()),ee=l(kt()),oe=l($());var re=l(z());M();ye();we();t();e();var P=l(N());var zt=l($());t();e();var O={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Ht=({currentTab:o,onTabChange:r,tabsConfig:c})=>{let n=(0,zt.useHistory)(),a=(0,P.useCallback)(i=>{r(i),n.replace(`${xt}?tab=${String(i)}`)},[n]);return P.default.createElement(P.default.Fragment,null,P.default.createElement(B,{className:O.tabsContainer,headerClassName:O.tabs,panelListClassName:O.panelList,activeId:o,size:B.SIZE.xl,color:B.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:a,navLeftClassName:O.left,navRightClassName:O.right},c.map(i=>{let{title:d,id:_}=i;return P.default.createElement(B.TabPane,{tab:d,key:_,id:_},i.contentComponent)})))};t();e();var F=l(N());t();e();var x=l(N());t();e();var h=l(N()),Bt=l(z());t();e();var Q={root:"_root_eurf0_1",box:"_box_eurf0_4",name:"_name_eurf0_7"};var ke=({icon:o,name:r,children:c,keyword:n,className:a,onClick:i,id:d,..._})=>{let I=j(),v=d===I,D=(0,h.useMemo)(()=>{if(o&&h.default.isValidElement(o))return o;let w={size:g.SIZE.lg};return o&&typeof o=="string"?{src:o,type:g.TYPE.image,defaultIcon:gt,...w}:o&&typeof o=="object"?{...w,...o}:r&&typeof r=="string"?{text:r,type:g.TYPE.text,textTheme:g.TEXT_THEME.black,...w}:!1},[o,r]);return h.default.createElement(Tt,{icon:D,className:(0,Bt.default)(Q["wallet-list-token"],a),onClick:i,..._},h.default.createElement(S.FlexBox,{className:Q.box,direction:S.DIRECTION.vertical},h.default.createElement(S.FlexBox,{align:S.ALIGN.center,className:Q.name},h.default.createElement(k.HighlightKeyword,{strong:!0,text:r,keyword:n,ellipsis:{tooltip:!0}}))),v&&h.default.createElement(g,{icon:"okds-success-circle-fill"}),c)},Kt=h.default.memo(ke);var Gt=l(z());M();t();e();var X={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var E=({listData:o,keywords:r,onSelect:c,emptyText:n,renderCustomItem:a,isRpcMode:i,listContainerClassName:d,searchMode:_=!1})=>{let I=(0,x.useRef)(null),v=(0,x.useCallback)(f=>{let{chainName:G,icon:et}=f||{};return x.default.createElement(Kt,{id:f.id,name:G,icon:et,keyword:r,onClick:()=>{c(f,i)}},a?.(f))},[r,c,i,a]),D=(0,x.useCallback)(()=>_?null:x.default.createElement(wt.State,{className:X.emptyContainer,title:n??s("wallet_extension_cryptodetail_text_nodata_found")}),[n,_]),w=Nt(I);return x.default.createElement("div",{ref:I,className:(0,Gt.default)(X.listContainer,d,{[X.searchMode]:_})},x.default.createElement(Lt,{virtualable:!_,itemKey:"id",height:w?.height??408,searchable:!1,dataSource:o,renderItem:v,renderEmpty:D}))};var Zt=l($()),$t=l(kt());t();e();var C=l(N()),Vt=l(z());M();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var ge=({onViewDetail:o,onDelete:r})=>{let c=(0,C.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:s("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:s("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>C.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),a=({option:d})=>{let _=d;return C.default.createElement("div",{className:q.option},C.default.createElement(g,{className:(0,Vt.default)(_.icon,q.optionIcon)}),C.default.createElement("span",{className:q.optionText},_.label))},i=(0,C.useCallback)(d=>{d.preventDefault(),d.stopPropagation()},[]);return C.default.createElement("div",{onClick:i},C.default.createElement(Z,{options:c,align:Z.DIRECTION.right,optionAlign:Z.DIRECTION.left,displayArea:n,renderOption:a,onChange:d=>{d?.action()},optionItemClassName:q.optionItem}))},Wt=ge;M();var Yt=l(z());t();e();var st={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var J=({isEVMChainExisted:o,disableScroll:r=!1,...c})=>{let n=(0,Zt.useHistory)(),a=(0,$t.useDispatch)(),i=j(),d=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(A):globalThis.platform.openExtensionInBrowser(A)},_=async f=>{n.push(`${A}?id=${encodeURIComponent(f.id)}&modify=${Y.CAN}`)},I=Ot(),v=f=>{I({editRpcInfo:{uniqueId:f.id,rpcUrl:f.rpcUrl},onDeleted:()=>{i===f.id&&(a(L("currentNetworkUniqueId","")),a(L("isRpcMode",!1)))}})},D=f=>F.default.createElement(Wt,{onDelete:()=>{v(f)},onViewDetail:()=>{_(f)}}),w=o;return F.default.createElement(F.default.Fragment,null,F.default.createElement(E,{...c,listContainerClassName:(0,Yt.default)({[st.listContainer]:w,[st.unScollListContainer]:r}),renderCustomItem:D}),w&&F.default.createElement(It.FooterActions,null,F.default.createElement(H,{block:!0,size:H.SIZE.lg,type:H.TYPE.highlight,category:H.CATEGORY.fill,onClick:d},s("developer_mode_network_maintitle_add_network"))))};t();e();var Qt=l(N());M();t();e();var jt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Xt=({onSearch:o,searchKeyword:r})=>Qt.default.createElement(nt.Search,{className:jt.searchInput,placeholder:s("extension_wallet_network_input_search_network"),size:nt.SIZE.md,value:r,onChange:c=>{let n=c.target.value;o(n)}});t();e();var lt=l(N());var Jt=l($());t();e();var at={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var tt=o=>{let r=(0,Jt.useHistory)();return lt.default.createElement(E,{...o,renderCustomItem:n=>lt.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:at.moreIcon,coreClassName:at["more-icon__core"],onClick:a=>{a.preventDefault(),a.stopPropagation(),r.push(`${A}?id=${encodeURIComponent(n.id)}&modify=${Y.CANT}`)}})})};t();e();var R=l(N());M();t();e();var te=o=>{let{onClose:r,visible:c,network:n}=o;return c?R.default.createElement("div",{className:"net-loading"},R.default.createElement(W,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),R.default.createElement("div",{className:"net-loading__content"},R.default.createElement(rt,{size:rt.SIZE.xl}),R.default.createElement("div",{className:"net-loading__content-text"},s("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=l(N());M();t();e();var K={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function mt(o){let{mainnetList:r,testnetList:c,customList:n,debouncedKeywords:a,onSelect:i}=o;return u.default.createElement("div",{className:K.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(k.Text,{className:K.listTitle,size:k.SIZE.xs,type:k.TYPE.secondary},s("extension_wallet_network_tab_main_network")),u.default.createElement(E,{listData:r,keywords:a,onSelect:i,isRpcMode:!1,searchMode:!0})):null,c.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(k.Text,{className:K.listTitle,size:k.SIZE.xs,type:k.TYPE.secondary},s("developer_mode_network_title_test_network")),u.default.createElement(tt,{listData:c,keywords:a,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(k.Text,{className:K.listTitle,size:k.SIZE.xs,type:k.TYPE.secondary},s("developer_mode_network_title_editcustom")),u.default.createElement(J,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:a,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var ct={root:"_root_31k2g_1","header-gulf":"_header-gulf_31k2g_7",headerGulf:"_header-gulf_31k2g_7"};var Ce=()=>{let o=(0,oe.useHistory)(),r=(0,ee.useDispatch)(),c=Dt(),n=(0,m.useCallback)(()=>{o.replace(ht)},[o]),[a,i]=(0,m.useState)(T.init),[d,_]=(0,m.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:I}=Ft(),{extensionConfig:v,setExtensionConfig:D}=Mt("rpc_info"),w=(0,m.useRef)(!1),f=async y=>{i(T.loading),w.current=!1;try{let{rpcUrl:b,uniqueId:ot}=y;await qt(b),w.current||(await r(L("isRpcMode",!0)),await r(L("currentNetworkUniqueId",ot)),await D(y),i(T.success),o.replace(it))}catch{w.current||i(T.failed)}},[G,et]=(0,m.useState)(""),ne=y=>{et(y)},[ie,se]=(0,m.useState)(parseInt(c.get("tab")||"0",10)),ae=y=>{se(y)},U=Ct(G,{wait:300}),{resetFilterInfo:le}=Ut(),{mainnetListForUI:pt,customListForUI:dt,testnetListForUI:_t,isEVMChainExisted:ft}=At(U),{isRpcMode:me}=St(),ce=async y=>{let b=I.find(ot=>ot.uniqueId===y.id);if(me&&Pt(v,b)){o.replace(it);return}b&&(_(b),await f(b))},pe=async y=>{await r(L("isRpcMode",!1)),await r(L("currentNetworkUniqueId",y.id)),le(!0),n()},de=async()=>{await yt().clearDappData(),await bt(r)},V=async(y,b)=>{await de(),b?await ce(y):await pe(y)},_e=vt(),fe=()=>{globalThis.platform.openTab({url:_e.faucetCenter})},ut=ft?s("wallet_extension_cryptodetail_text_nodata_found"):s("extension_wallet_network_text_unused_testnet"),ue=[{title:s("extension_wallet_network_tab_main_network"),id:0,contentComponent:m.default.createElement(E,{listData:pt,keywords:U,onSelect:V,isRpcMode:!1})},{title:s("developer_mode_network_title_test_network"),id:1,contentComponent:m.default.createElement(tt,{listData:_t,keywords:U,onSelect:V,emptyText:ut,isRpcMode:!0})},{title:s("developer_mode_network_title_editcustom"),id:2,contentComponent:m.default.createElement(J,{isEVMChainExisted:ft,emptyText:ut,listData:dt,keywords:U,onSelect:V,isRpcMode:!0})}];return m.default.createElement(S.Container,{className:ct.root},m.default.createElement(Et,{title:s("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1},m.default.createElement(W,{className:(0,re.default)("okx-wallet-plugin-faucet-1",ct.headerGulf),onClick:fe})),m.default.createElement(Xt,{onSearch:ne,searchKeyword:G}),U?m.default.createElement(mt,{mainnetList:pt,testnetList:_t,customList:dt,debouncedKeywords:U,onSelect:V}):m.default.createElement(Ht,{currentTab:ie,onTabChange:ae,tabsConfig:ue}),m.default.createElement(Rt,{visible:a===T.failed,onRetry:async()=>{await f(d)},onChangeNet:()=>{i(T.init)}}),m.default.createElement(te,{visible:a===T.loading,network:d?.name,onClose:()=>{i(T.init),w.current=!0}}))},Dn=Ce;export{Ce as NetworkManagement,Dn as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=NetworkManagement-DVQMAZ7Z.js.map
