import{a as at}from"./chunk-4T2UKPH7.js";import{a as st}from"./chunk-XQL7T4TZ.js";import{b as it}from"./chunk-F77WLA7B.js";import"./chunk-G2V3XEUQ.js";import"./chunk-QR2WOQMM.js";import"./chunk-NYT3QVML.js";import"./chunk-2P6KMQ6R.js";import{a as et}from"./chunk-PVE3B4RU.js";import"./chunk-ZB7DRNAH.js";import{a as rt}from"./chunk-37OBG2P3.js";import"./chunk-636MHS2Q.js";import"./chunk-XJ4IKVPR.js";import"./chunk-XE2F6LDQ.js";import"./chunk-REIQGNZB.js";import"./chunk-Q4CU3DV4.js";import{a as M}from"./chunk-DSYZP5KR.js";import{c as R}from"./chunk-B553FNEQ.js";import"./chunk-6QKWDR6X.js";import{a as h}from"./chunk-7XFZKU6W.js";import"./chunk-WCH23YYN.js";import"./chunk-NZZFB6IS.js";import{c as L,d as w,e as ot,g as S}from"./chunk-35PGDXR7.js";import"./chunk-PUO23DIP.js";import"./chunk-O2J764NL.js";import{e as k}from"./chunk-CDLW656Z.js";import"./chunk-3K3KMGWB.js";import{b as tt}from"./chunk-5EZVDCYS.js";import"./chunk-475E6NBR.js";import"./chunk-RC5IAFKK.js";import"./chunk-4VLUHY4K.js";import"./chunk-IHPHPUUG.js";import"./chunk-ZEWK7OGU.js";import"./chunk-QVA4WXOQ.js";import"./chunk-EX22SDGB.js";import"./chunk-4RARGC4D.js";import"./chunk-OQOFXHGC.js";import"./chunk-3QA2SYRR.js";import"./chunk-3SC55VQ2.js";import{e as J}from"./chunk-VTLNAOHG.js";import"./chunk-Y7YPG2EJ.js";import"./chunk-7R67VE77.js";import"./chunk-NHGZUGLZ.js";import"./chunk-G5LEAVCY.js";import"./chunk-ACHWU2H6.js";import"./chunk-ZPFBKNRM.js";import"./chunk-7DP5LYUM.js";import"./chunk-BVXKJJ4A.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import"./chunk-IQKWUGIV.js";import{b as z}from"./chunk-ADKEXOTG.js";import"./chunk-H7DITLB3.js";import"./chunk-VQBK6IHT.js";import"./chunk-CTT7GD4C.js";import"./chunk-LQAOHG2H.js";import"./chunk-WNQ6F6VV.js";import"./chunk-LEADLFDQ.js";import"./chunk-DGK7TBBE.js";import"./chunk-6Y7ULJF6.js";import"./chunk-3YH3AGVS.js";import"./chunk-3LB7TUPB.js";import"./chunk-TK6JYPIW.js";import"./chunk-OS6E6KVM.js";import"./chunk-GZRBUDXF.js";import"./chunk-WY46TT4P.js";import"./chunk-MTMUCMTY.js";import{b as _,c as Q,q as P,r as Z}from"./chunk-S6N4IJX7.js";import"./chunk-ZD4EJWX6.js";import"./chunk-WGCZSWYA.js";import"./chunk-IINHHLHP.js";import"./chunk-DY2YURLY.js";import"./chunk-KXZSXP3G.js";import"./chunk-6HXVFU7V.js";import"./chunk-D5FMQLJG.js";import"./chunk-3I7UBQEQ.js";import"./chunk-DXRBY5MU.js";import"./chunk-6FR2UIE7.js";import"./chunk-5GMHHIH5.js";import"./chunk-7KCWBFQ2.js";import"./chunk-QLUP7GYN.js";import"./chunk-7Y44NCE5.js";import"./chunk-BKPOG6ZD.js";import"./chunk-OZMVWMFO.js";import"./chunk-KTO7CPX7.js";import"./chunk-P3XTPXPO.js";import"./chunk-S6TPD26J.js";import"./chunk-4IY6P5HR.js";import"./chunk-FQWGOLDH.js";import"./chunk-QEPBNPHF.js";import"./chunk-3JLS3TGD.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import"./chunk-DDO6HXRN.js";import"./chunk-CLWWTOKP.js";import{a as K}from"./chunk-KZ2PCELG.js";import"./chunk-C7ZG4INB.js";import{a as $}from"./chunk-J5ANWCEO.js";import"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import"./chunk-6FOZGMAL.js";import"./chunk-2MV3WEYP.js";import{y as yt}from"./chunk-HPXM6RSK.js";import{J as d,da as X}from"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import"./chunk-NJ5CWPUY.js";import{l as x,p as At}from"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import"./chunk-MAIAJ7GD.js";import{e as A}from"./chunk-4PGNX6E2.js";import"./chunk-DBHB6SUD.js";import"./chunk-I56VJWE4.js";import"./chunk-PS3S6BG3.js";import"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import{f as v,g as V,i as j}from"./chunk-MGLVPWSV.js";import"./chunk-TXKWPME2.js";import"./chunk-LF5ATXQA.js";import"./chunk-4D3M2I6W.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import{c as H}from"./chunk-JXCCIV3J.js";import{b as q,c as Ct}from"./chunk-AOA7NX2Y.js";import{j as U,m as Tt}from"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{Kb as kt,ea as O,m as F,pb as Y,za as gt}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import{c as G}from"./chunk-SOHTSUTI.js";import{I as N,w as m}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-WZLED2TE.js";import"./chunk-E24EBHFY.js";import{Y as W}from"./chunk-V4F2JFTP.js";import{a as T}from"./chunk-6DDC4Y2S.js";import"./chunk-TEY24VZN.js";import"./chunk-RKHQOOTU.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-F4JTGWJH.js";import"./chunk-YUXYCITH.js";import"./chunk-RMV3AS5X.js";import"./chunk-HFBVRVPB.js";import"./chunk-SF2LTPAC.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as u,m as a,o as n}from"./chunk-EQYVU4XP.js";a();n();var D=u(T());a();n();var I=u(T());gt();a();n();var C=u(T());Tt();Ct();var wt=({message:o,chainId:t,method:i,originUrl:r})=>{let[c,p]=(0,C.useState)(!0),[g,l]=(0,C.useState)({});return(0,C.useEffect)(()=>{(async()=>{if(t){try{let{data:s}=await U(q.signMessageDataCheck,{data:"",source:2,chainId:t,raw:o,method:i,originUrl:r});l(s)}catch(s){console.log(s)}p(!1)}})()},[t]),{loading:c,signMessageCheckRet:g}},nt=wt;a();n();var e=u(T());N();kt();var St=o=>{let{signMessageCheckRet:t,walletAccount:i,buttonGroup:r,tipMessage:c,message:p,baseCoin:g}=o,{value:l=0}=t.addtion||{},s=Y(l,Q)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):l,f=M(i.walletId);return e.default.createElement(H.Container,null,e.default.createElement(K,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),e.default.createElement(w,null,e.default.createElement(L,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:t.tokenIcon||v},title:`${s} ${t.tokenSymbol||""}`,desc:t.tokenAddress}]}),e.default.createElement(L,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.contractIcon||V},title:t.contractName||j,desc:t.contractAddress||""}]})),e.default.createElement(w,null,e.default.createElement(ot,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{f({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),e.default.createElement(w,{bordered:!1},e.default.createElement(at,{coinId:g?.coinId}),e.default.createElement(rt,{data:p,copyable:{hideDesc:!0}})),e.default.createElement($,{placeholder:!0,offsetBottom:0,borderTop:!0},e.default.createElement(S,{...c}),e.default.createElement(k,{buttonGroup:r})))},mt=St;a();n();var ct=u(F());var pt=u(T()),lt=u(yt());N();At();var Mt=({unapproved:o,walletAccount:t,signMessageCheckRet:i})=>{let r=(0,lt.useDispatch)(),c=M(t?.walletId),p=(0,pt.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:o.origin,network:o.localType}),await r(P(o.id)),await x(r)},[c,r,o.id,o.origin,o.localType]),g={btnText:m("wallet_dapp_connection_btn_reject"),actionType:k.ACTION_TYPE.CANCEL,onClick:p},l=A(t.initialType),s=async()=>{try{if(!await tt({walletId:o.walletId,callback:async()=>{await r(P(o.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:o.origin,network:o.localType}),await r(Z(o.id)),await x(r)}catch(b){console.log(b)}},f={disabled:l,actionType:k.ACTION_TYPE.CONFIRM,onClick:s},E=R(),B=(0,ct.get)(i,"risk_black_list.0");return(i.risk===_.high||B)&&(f.type=W.TYPE.red,f.onClick=async()=>{try{await E({isDefraud:!0,address:B,similarType:X.EXACT}),await s()}catch{await p()}}),[g,f]},ft=Mt;a();n();var ut=u(F());N();var ht=({unapproved:o,signMessageCheckRet:t})=>{let i=h(o);if(A(i.initialType))return{type:G.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(t?.risk===_.middle)return{type:G.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:t.contractName,asset:t.tokenSymbol})};if(t?.risk===_.high){let r=(0,ut.get)(t,"risk_black_list.0");if(r)return{type:S.TIP_TYPE.DEFRAUD,address:r}}return null},dt=ht;var It=o=>{let{unapproved:t}=o,i=t?.params?.message||"",r=et(t),c=h(t),p=J(O)||{},{chainId:g}=p||{},{loading:l,signMessageCheckRet:s}=nt({message:i,chainId:g,originUrl:r.host,method:d.SIGN_MESSAGE}),f=dt({unapproved:t,signMessageCheckRet:s}),E=ft({unapproved:t,walletAccount:c,signMessageCheckRet:s});return l?I.default.createElement(z,null):[_.middle,_.high].includes(s?.risk)?I.default.createElement(mt,{signMessageCheckRet:s,walletAccount:c,baseCoin:p,message:i,tipMessage:f,buttonGroup:E}):I.default.createElement(st,{needCheckMpc:!0,message:i,unapproved:t,tipMessage:f})},_t=It;var Oo=({unapproved:o})=>{switch(o.method){case d.SIGN_TRANSACTION:case d.RPC_SIGN_TRANSACTION:return D.default.createElement(it,{unapproved:o});case d.SIGN_MESSAGE:case d.RPC_SIGN_MESSAGE:case d.SIGN_MESSAGE_V2:return D.default.createElement(_t,{unapproved:o});default:return""}};export{Oo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=Tron-DWOFH7H2.js.map
