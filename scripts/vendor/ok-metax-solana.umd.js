(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("ok-metax-solana", [], f);
    } else if ("object" == typeof exports) {
      exports["ok-metax-solana"] = f();
    } else {
      g["ok-metax-solana"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var W0=Object.create;var ms=Object.defineProperty;var H0=Object.getOwnPropertyDescriptor;var Z0=Object.getOwnPropertyNames;var J0=Object.getPrototypeOf,X0=Object.prototype.hasOwnProperty;var ci=(r,e)=>()=>(r&&(e=r(r=0)),e);var W=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Oc=(r,e)=>{for(var t in e)ms(r,t,{get:e[t],enumerable:!0})},kc=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Z0(e))!X0.call(r,i)&&i!==t&&ms(r,i,{get:()=>e[i],enumerable:!(n=H0(e,i))||n.enumerable});return r};var Q0=(r,e,t)=>(t=r!=null?W0(J0(r)):{},kc(e||!r||!r.__esModule?ms(t,"default",{value:r,enumerable:!0}):t,r)),Uc=r=>kc(ms({},"__esModule",{value:!0}),r);function Rc(){throw new Error("setTimeout has not been defined")}function Lc(){throw new Error("clearTimeout has not been defined")}function Dc(r){if(_n===setTimeout)return setTimeout(r,0);if((_n===Rc||!_n)&&setTimeout)return _n=setTimeout,setTimeout(r,0);try{return _n(r,0)}catch{try{return _n.call(null,r,0)}catch{return _n.call(this,r,0)}}}function ep(r){if(Mn===clearTimeout)return clearTimeout(r);if((Mn===Lc||!Mn)&&clearTimeout)return Mn=clearTimeout,clearTimeout(r);try{return Mn(r)}catch{try{return Mn.call(null,r)}catch{return Mn.call(this,r)}}}function tp(){!ki||!li||(ki=!1,li.length?on=li.concat(on):vs=-1,on.length&&Fc())}function Fc(){if(!ki){var r=Dc(tp);ki=!0;for(var e=on.length;e;){for(li=on,on=[];++vs<e;)li&&li[vs].run();vs=-1,e=on.length}li=null,ki=!1,ep(r)}}function rp(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];on.push(new Kc(r,e)),on.length===1&&!ki&&Dc(Fc)}function Kc(r,e){this.fun=r,this.array=e}function hi(){}function vp(r){throw new Error("process.binding is not supported")}function wp(){return"/"}function _p(r){throw new Error("process.chdir is not supported")}function Mp(){return 0}function Ap(r){var e=Sp.call(Oi)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}function Tp(){var r=new Date,e=r-Ep;return e/1e3}var _n,Mn,on,ki,li,vs,np,ip,op,sp,ap,up,fp,cp,lp,hp,dp,pp,gp,yp,bp,mp,Oi,Sp,Ep,j,Cc,B=ci(()=>{_n=Rc,Mn=Lc;typeof globalThis.setTimeout=="function"&&(_n=setTimeout);typeof globalThis.clearTimeout=="function"&&(Mn=clearTimeout);on=[],ki=!1,vs=-1;Kc.prototype.run=function(){this.fun.apply(null,this.array)};np="browser",ip="browser",op=!0,sp={},ap=[],up="",fp={},cp={},lp={};hp=hi,dp=hi,pp=hi,gp=hi,yp=hi,bp=hi,mp=hi;Oi=globalThis.performance||{},Sp=Oi.now||Oi.mozNow||Oi.msNow||Oi.oNow||Oi.webkitNow||function(){return new Date().getTime()};Ep=new Date;j={nextTick:rp,title:np,browser:op,env:sp,argv:ap,version:up,versions:fp,on:hp,addListener:dp,once:pp,off:gp,removeListener:yp,removeAllListeners:bp,emit:mp,binding:vp,cwd:wp,chdir:_p,umask:Mp,hrtime:Ap,platform:ip,release:cp,config:lp,uptime:Tp},Cc={version:"3.12.1","env.PROJECT":"okxwallet-extension","env.NODE_ENV":"","env.SOURCEMAP":"","env.DEV_TARGET":"","env.APP_VERSION":"3.12.1","env.COMMIT_HASH":"13c1","env.REDUX_DEVTOOLS":"","env.ASSETS_BUILD_TYPE":"prepub"};Object.keys(Cc).forEach(r=>{let e=r.split("."),t=j;for(let n=0;n<e.length;n++){let i=e[n];n===e.length-1?t[i]=Cc[r]:t=t[i]||(t[i]={})}})});var zc=W((qc,pu)=>{B();I();(function(r){typeof qc=="object"&&typeof pu<"u"?pu.exports=r():typeof define=="function"&&define.amd?define([],r):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).buffer=r()})(function(){return function(){return function r(e,t,n){function i(S,w){if(!t[S]){if(!e[S]){var A=typeof require=="function"&&require;if(!w&&A)return A(S,!0);if(u)return u(S,!0);var C=new Error("Cannot find module '"+S+"'");throw C.code="MODULE_NOT_FOUND",C}var x=t[S]={exports:{}};e[S][0].call(x.exports,function(D){return i(e[S][1][D]||D)},x,x.exports,r,e,t,n)}return t[S].exports}for(var u=typeof require=="function"&&require,h=0;h<n.length;h++)i(n[h]);return i}}()({1:[function(r,e,t){"use strict";t.byteLength=function(x){var D=A(x),k=D[0],Y=D[1];return 3*(k+Y)/4-Y},t.toByteArray=function(x){var D,k,Y=A(x),N=Y[0],$=Y[1],H=new u(function(ue,Ze,ae){return 3*(Ze+ae)/4-ae}(0,N,$)),ie=0,qe=$>0?N-4:N;for(k=0;k<qe;k+=4)D=i[x.charCodeAt(k)]<<18|i[x.charCodeAt(k+1)]<<12|i[x.charCodeAt(k+2)]<<6|i[x.charCodeAt(k+3)],H[ie++]=D>>16&255,H[ie++]=D>>8&255,H[ie++]=255&D;return $===2&&(D=i[x.charCodeAt(k)]<<2|i[x.charCodeAt(k+1)]>>4,H[ie++]=255&D),$===1&&(D=i[x.charCodeAt(k)]<<10|i[x.charCodeAt(k+1)]<<4|i[x.charCodeAt(k+2)]>>2,H[ie++]=D>>8&255,H[ie++]=255&D),H},t.fromByteArray=function(x){for(var D,k=x.length,Y=k%3,N=[],$=0,H=k-Y;$<H;$+=16383)N.push(C(x,$,$+16383>H?H:$+16383));return Y===1?(D=x[k-1],N.push(n[D>>2]+n[D<<4&63]+"==")):Y===2&&(D=(x[k-2]<<8)+x[k-1],N.push(n[D>>10]+n[D>>4&63]+n[D<<2&63]+"=")),N.join("")};for(var n=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,w=h.length;S<w;++S)n[S]=h[S],i[h.charCodeAt(S)]=S;function A(x){var D=x.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=x.indexOf("=");return k===-1&&(k=D),[k,k===D?0:4-k%4]}function C(x,D,k){for(var Y,N,$=[],H=D;H<k;H+=3)Y=(x[H]<<16&16711680)+(x[H+1]<<8&65280)+(255&x[H+2]),$.push(n[(N=Y)>>18&63]+n[N>>12&63]+n[N>>6&63]+n[63&N]);return $.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(r,e,t){(function(w){"use strict";var i=r("base64-js"),u=r("ieee754");t.Buffer=w,t.SlowBuffer=function(d){return+d!=d&&(d=0),w.alloc(+d)},t.INSPECT_MAX_BYTES=50;var h=2147483647;function S(d){if(d>h)throw new RangeError('The value "'+d+'" is invalid for option "size"');var v=new Uint8Array(d);return v.__proto__=w.prototype,v}function w(d,v,T){if(typeof d=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(d)}return A(d,v,T)}function A(d,v,T){if(typeof d=="string")return function(L,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!w.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var Q=0|Y(L,ee),re=S(Q),Le=re.write(L,ee);return Le!==Q&&(re=re.slice(0,Le)),re}(d,v);if(ArrayBuffer.isView(d))return D(d);if(d==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(G(d,ArrayBuffer)||d&&G(d.buffer,ArrayBuffer))return function(L,ee,Q){if(ee<0||L.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<ee+(Q||0))throw new RangeError('"length" is outside of buffer bounds');var re;return re=ee===void 0&&Q===void 0?new Uint8Array(L):Q===void 0?new Uint8Array(L,ee):new Uint8Array(L,ee,Q),re.__proto__=w.prototype,re}(d,v,T);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=d.valueOf&&d.valueOf();if(O!=null&&O!==d)return w.from(O,v,T);var R=function(L){if(w.isBuffer(L)){var ee=0|k(L.length),Q=S(ee);return Q.length===0||L.copy(Q,0,0,ee),Q}if(L.length!==void 0)return typeof L.length!="number"||Z(L.length)?S(0):D(L);if(L.type==="Buffer"&&Array.isArray(L.data))return D(L.data)}(d);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return w.from(d[Symbol.toPrimitive]("string"),v,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}function C(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function x(d){return C(d),S(d<0?0:0|k(d))}function D(d){for(var v=d.length<0?0:0|k(d.length),T=S(v),O=0;O<v;O+=1)T[O]=255&d[O];return T}function k(d){if(d>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|d}function Y(d,v){if(w.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||G(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);var T=d.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&T===0)return 0;for(var R=!1;;)switch(v){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return s(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return y(d).length;default:if(R)return O?-1:s(d).length;v=(""+v).toLowerCase(),R=!0}}function N(d,v,T){var O=d[v];d[v]=d[T],d[T]=O}function $(d,v,T,O,R){if(d.length===0)return-1;if(typeof T=="string"?(O=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),Z(T=+T)&&(T=R?0:d.length-1),T<0&&(T=d.length+T),T>=d.length){if(R)return-1;T=d.length-1}else if(T<0){if(!R)return-1;T=0}if(typeof v=="string"&&(v=w.from(v,O)),w.isBuffer(v))return v.length===0?-1:H(d,v,T,O,R);if(typeof v=="number")return v&=255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(d,v,T):Uint8Array.prototype.lastIndexOf.call(d,v,T):H(d,[v],T,O,R);throw new TypeError("val must be string, number or Buffer")}function H(d,v,T,O,R){var L,ee=1,Q=d.length,re=v.length;if(O!==void 0&&((O=String(O).toLowerCase())==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(d.length<2||v.length<2)return-1;ee=2,Q/=2,re/=2,T/=2}function Le(M,P){return ee===1?M[P]:M.readUInt16BE(P*ee)}if(R){var te=-1;for(L=T;L<Q;L++)if(Le(d,L)===Le(v,te===-1?0:L-te)){if(te===-1&&(te=L),L-te+1===re)return te*ee}else te!==-1&&(L-=L-te),te=-1}else for(T+re>Q&&(T=Q-re),L=T;L>=0;L--){for(var c=!0,m=0;m<re;m++)if(Le(d,L+m)!==Le(v,m)){c=!1;break}if(c)return L}return-1}function ie(d,v,T,O){T=Number(T)||0;var R=d.length-T;O?(O=Number(O))>R&&(O=R):O=R;var L=v.length;O>L/2&&(O=L/2);for(var ee=0;ee<O;++ee){var Q=parseInt(v.substr(2*ee,2),16);if(Z(Q))return ee;d[T+ee]=Q}return ee}function qe(d,v,T,O){return V(s(v,d.length-T),d,T,O)}function ue(d,v,T,O){return V(function(R){for(var L=[],ee=0;ee<R.length;++ee)L.push(255&R.charCodeAt(ee));return L}(v),d,T,O)}function Ze(d,v,T,O){return ue(d,v,T,O)}function ae(d,v,T,O){return V(y(v),d,T,O)}function We(d,v,T,O){return V(function(R,L){for(var ee,Q,re,Le=[],te=0;te<R.length&&!((L-=2)<0);++te)ee=R.charCodeAt(te),Q=ee>>8,re=ee%256,Le.push(re),Le.push(Q);return Le}(v,d.length-T),d,T,O)}function gt(d,v,T){return v===0&&T===d.length?i.fromByteArray(d):i.fromByteArray(d.slice(v,T))}function fr(d,v,T){T=Math.min(d.length,T);for(var O=[],R=v;R<T;){var L,ee,Q,re,Le=d[R],te=null,c=Le>239?4:Le>223?3:Le>191?2:1;if(R+c<=T)switch(c){case 1:Le<128&&(te=Le);break;case 2:(192&(L=d[R+1]))==128&&(re=(31&Le)<<6|63&L)>127&&(te=re);break;case 3:L=d[R+1],ee=d[R+2],(192&L)==128&&(192&ee)==128&&(re=(15&Le)<<12|(63&L)<<6|63&ee)>2047&&(re<55296||re>57343)&&(te=re);break;case 4:L=d[R+1],ee=d[R+2],Q=d[R+3],(192&L)==128&&(192&ee)==128&&(192&Q)==128&&(re=(15&Le)<<18|(63&L)<<12|(63&ee)<<6|63&Q)>65535&&re<1114112&&(te=re)}te===null?(te=65533,c=1):te>65535&&(te-=65536,O.push(te>>>10&1023|55296),te=56320|1023&te),O.push(te),R+=c}return function(m){var M=m.length;if(M<=Jt)return String.fromCharCode.apply(String,m);for(var P="",F=0;F<M;)P+=String.fromCharCode.apply(String,m.slice(F,F+=Jt));return P}(O)}t.kMaxLength=h,w.TYPED_ARRAY_SUPPORT=function(){try{var d=new Uint8Array(1);return d.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},d.foo()===42}catch{return!1}}(),w.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192,w.from=function(d,v,T){return A(d,v,T)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,w.alloc=function(d,v,T){return function(O,R,L){return C(O),O<=0?S(O):R!==void 0?typeof L=="string"?S(O).fill(R,L):S(O).fill(R):S(O)}(d,v,T)},w.allocUnsafe=function(d){return x(d)},w.allocUnsafeSlow=function(d){return x(d)},w.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==w.prototype},w.compare=function(d,v){if(G(d,Uint8Array)&&(d=w.from(d,d.offset,d.byteLength)),G(v,Uint8Array)&&(v=w.from(v,v.offset,v.byteLength)),!w.isBuffer(d)||!w.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===v)return 0;for(var T=d.length,O=v.length,R=0,L=Math.min(T,O);R<L;++R)if(d[R]!==v[R]){T=d[R],O=v[R];break}return T<O?-1:O<T?1:0},w.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(d,v){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return w.alloc(0);var T;if(v===void 0)for(v=0,T=0;T<d.length;++T)v+=d[T].length;var O=w.allocUnsafe(v),R=0;for(T=0;T<d.length;++T){var L=d[T];if(G(L,Uint8Array)&&(L=w.from(L)),!w.isBuffer(L))throw new TypeError('"list" argument must be an Array of Buffers');L.copy(O,R),R+=L.length}return O},w.byteLength=Y,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<d;v+=2)N(this,v,v+1);return this},w.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<d;v+=4)N(this,v,v+3),N(this,v+1,v+2);return this},w.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<d;v+=8)N(this,v,v+7),N(this,v+1,v+6),N(this,v+2,v+5),N(this,v+3,v+4);return this},w.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?fr(this,0,d):function(v,T,O){var R=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0)<=(T>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return b(this,T,O);case"utf8":case"utf-8":return fr(this,T,O);case"ascii":return fe(this,T,O);case"latin1":case"binary":return ct(this,T,O);case"base64":return gt(this,T,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,T,O);default:if(R)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),R=!0}}.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(d){if(!w.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||w.compare(this,d)===0},w.prototype.inspect=function(){var d="",v=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(d+=" ... "),"<Buffer "+d+">"},w.prototype.compare=function(d,v,T,O,R){if(G(d,Uint8Array)&&(d=w.from(d,d.offset,d.byteLength)),!w.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(v===void 0&&(v=0),T===void 0&&(T=d?d.length:0),O===void 0&&(O=0),R===void 0&&(R=this.length),v<0||T>d.length||O<0||R>this.length)throw new RangeError("out of range index");if(O>=R&&v>=T)return 0;if(O>=R)return-1;if(v>=T)return 1;if(this===d)return 0;for(var L=(R>>>=0)-(O>>>=0),ee=(T>>>=0)-(v>>>=0),Q=Math.min(L,ee),re=this.slice(O,R),Le=d.slice(v,T),te=0;te<Q;++te)if(re[te]!==Le[te]){L=re[te],ee=Le[te];break}return L<ee?-1:ee<L?1:0},w.prototype.includes=function(d,v,T){return this.indexOf(d,v,T)!==-1},w.prototype.indexOf=function(d,v,T){return $(this,d,v,T,!0)},w.prototype.lastIndexOf=function(d,v,T){return $(this,d,v,T,!1)},w.prototype.write=function(d,v,T,O){if(v===void 0)O="utf8",T=this.length,v=0;else if(T===void 0&&typeof v=="string")O=v,T=this.length,v=0;else{if(!isFinite(v))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");v>>>=0,isFinite(T)?(T>>>=0,O===void 0&&(O="utf8")):(O=T,T=void 0)}var R=this.length-v;if((T===void 0||T>R)&&(T=R),d.length>0&&(T<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var L=!1;;)switch(O){case"hex":return ie(this,d,v,T);case"utf8":case"utf-8":return qe(this,d,v,T);case"ascii":return ue(this,d,v,T);case"latin1":case"binary":return Ze(this,d,v,T);case"base64":return ae(this,d,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We(this,d,v,T);default:if(L)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),L=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Jt=4096;function fe(d,v,T){var O="";T=Math.min(d.length,T);for(var R=v;R<T;++R)O+=String.fromCharCode(127&d[R]);return O}function ct(d,v,T){var O="";T=Math.min(d.length,T);for(var R=v;R<T;++R)O+=String.fromCharCode(d[R]);return O}function b(d,v,T){var O=d.length;(!v||v<0)&&(v=0),(!T||T<0||T>O)&&(T=O);for(var R="",L=v;L<T;++L)R+=p(d[L]);return R}function o(d,v,T){for(var O=d.slice(v,T),R="",L=0;L<O.length;L+=2)R+=String.fromCharCode(O[L]+256*O[L+1]);return R}function a(d,v,T){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+v>T)throw new RangeError("Trying to access beyond buffer length")}function f(d,v,T,O,R,L){if(!w.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>R||v<L)throw new RangeError('"value" argument is out of bounds');if(T+O>d.length)throw new RangeError("Index out of range")}function l(d,v,T,O,R,L){if(T+O>d.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function g(d,v,T,O,R){return v=+v,T>>>=0,R||l(d,0,T,4),u.write(d,v,T,O,23,4),T+4}function _(d,v,T,O,R){return v=+v,T>>>=0,R||l(d,0,T,8),u.write(d,v,T,O,52,8),T+8}w.prototype.slice=function(d,v){var T=this.length;(d=~~d)<0?(d+=T)<0&&(d=0):d>T&&(d=T),(v=v===void 0?T:~~v)<0?(v+=T)<0&&(v=0):v>T&&(v=T),v<d&&(v=d);var O=this.subarray(d,v);return O.__proto__=w.prototype,O},w.prototype.readUIntLE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d],R=1,L=0;++L<v&&(R*=256);)O+=this[d+L]*R;return O},w.prototype.readUIntBE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d+--v],R=1;v>0&&(R*=256);)O+=this[d+--v]*R;return O},w.prototype.readUInt8=function(d,v){return d>>>=0,v||a(d,1,this.length),this[d]},w.prototype.readUInt16LE=function(d,v){return d>>>=0,v||a(d,2,this.length),this[d]|this[d+1]<<8},w.prototype.readUInt16BE=function(d,v){return d>>>=0,v||a(d,2,this.length),this[d]<<8|this[d+1]},w.prototype.readUInt32LE=function(d,v){return d>>>=0,v||a(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},w.prototype.readUInt32BE=function(d,v){return d>>>=0,v||a(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},w.prototype.readIntLE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d],R=1,L=0;++L<v&&(R*=256);)O+=this[d+L]*R;return O>=(R*=128)&&(O-=Math.pow(2,8*v)),O},w.prototype.readIntBE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=v,R=1,L=this[d+--O];O>0&&(R*=256);)L+=this[d+--O]*R;return L>=(R*=128)&&(L-=Math.pow(2,8*v)),L},w.prototype.readInt8=function(d,v){return d>>>=0,v||a(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},w.prototype.readInt16LE=function(d,v){d>>>=0,v||a(d,2,this.length);var T=this[d]|this[d+1]<<8;return 32768&T?4294901760|T:T},w.prototype.readInt16BE=function(d,v){d>>>=0,v||a(d,2,this.length);var T=this[d+1]|this[d]<<8;return 32768&T?4294901760|T:T},w.prototype.readInt32LE=function(d,v){return d>>>=0,v||a(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},w.prototype.readInt32BE=function(d,v){return d>>>=0,v||a(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},w.prototype.readFloatLE=function(d,v){return d>>>=0,v||a(d,4,this.length),u.read(this,d,!0,23,4)},w.prototype.readFloatBE=function(d,v){return d>>>=0,v||a(d,4,this.length),u.read(this,d,!1,23,4)},w.prototype.readDoubleLE=function(d,v){return d>>>=0,v||a(d,8,this.length),u.read(this,d,!0,52,8)},w.prototype.readDoubleBE=function(d,v){return d>>>=0,v||a(d,8,this.length),u.read(this,d,!1,52,8)},w.prototype.writeUIntLE=function(d,v,T,O){d=+d,v>>>=0,T>>>=0,O||f(this,d,v,T,Math.pow(2,8*T)-1,0);var R=1,L=0;for(this[v]=255&d;++L<T&&(R*=256);)this[v+L]=d/R&255;return v+T},w.prototype.writeUIntBE=function(d,v,T,O){d=+d,v>>>=0,T>>>=0,O||f(this,d,v,T,Math.pow(2,8*T)-1,0);var R=T-1,L=1;for(this[v+R]=255&d;--R>=0&&(L*=256);)this[v+R]=d/L&255;return v+T},w.prototype.writeUInt8=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,1,255,0),this[v]=255&d,v+1},w.prototype.writeUInt16LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,65535,0),this[v]=255&d,this[v+1]=d>>>8,v+2},w.prototype.writeUInt16BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,65535,0),this[v]=d>>>8,this[v+1]=255&d,v+2},w.prototype.writeUInt32LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,4294967295,0),this[v+3]=d>>>24,this[v+2]=d>>>16,this[v+1]=d>>>8,this[v]=255&d,v+4},w.prototype.writeUInt32BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,4294967295,0),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=255&d,v+4},w.prototype.writeIntLE=function(d,v,T,O){if(d=+d,v>>>=0,!O){var R=Math.pow(2,8*T-1);f(this,d,v,T,R-1,-R)}var L=0,ee=1,Q=0;for(this[v]=255&d;++L<T&&(ee*=256);)d<0&&Q===0&&this[v+L-1]!==0&&(Q=1),this[v+L]=(d/ee>>0)-Q&255;return v+T},w.prototype.writeIntBE=function(d,v,T,O){if(d=+d,v>>>=0,!O){var R=Math.pow(2,8*T-1);f(this,d,v,T,R-1,-R)}var L=T-1,ee=1,Q=0;for(this[v+L]=255&d;--L>=0&&(ee*=256);)d<0&&Q===0&&this[v+L+1]!==0&&(Q=1),this[v+L]=(d/ee>>0)-Q&255;return v+T},w.prototype.writeInt8=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,1,127,-128),d<0&&(d=255+d+1),this[v]=255&d,v+1},w.prototype.writeInt16LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,32767,-32768),this[v]=255&d,this[v+1]=d>>>8,v+2},w.prototype.writeInt16BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,32767,-32768),this[v]=d>>>8,this[v+1]=255&d,v+2},w.prototype.writeInt32LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,2147483647,-2147483648),this[v]=255&d,this[v+1]=d>>>8,this[v+2]=d>>>16,this[v+3]=d>>>24,v+4},w.prototype.writeInt32BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=255&d,v+4},w.prototype.writeFloatLE=function(d,v,T){return g(this,d,v,!0,T)},w.prototype.writeFloatBE=function(d,v,T){return g(this,d,v,!1,T)},w.prototype.writeDoubleLE=function(d,v,T){return _(this,d,v,!0,T)},w.prototype.writeDoubleBE=function(d,v,T){return _(this,d,v,!1,T)},w.prototype.copy=function(d,v,T,O){if(!w.isBuffer(d))throw new TypeError("argument should be a Buffer");if(T||(T=0),O||O===0||(O=this.length),v>=d.length&&(v=d.length),v||(v=0),O>0&&O<T&&(O=T),O===T||d.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),d.length-v<O-T&&(O=d.length-v+T);var R=O-T;if(this===d&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(v,T,O);else if(this===d&&T<v&&v<O)for(var L=R-1;L>=0;--L)d[L+v]=this[L+T];else Uint8Array.prototype.set.call(d,this.subarray(T,O),v);return R},w.prototype.fill=function(d,v,T,O){if(typeof d=="string"){if(typeof v=="string"?(O=v,v=0,T=this.length):typeof T=="string"&&(O=T,T=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!w.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(d.length===1){var R=d.charCodeAt(0);(O==="utf8"&&R<128||O==="latin1")&&(d=R)}}else typeof d=="number"&&(d&=255);if(v<0||this.length<v||this.length<T)throw new RangeError("Out of range index");if(T<=v)return this;var L;if(v>>>=0,T=T===void 0?this.length:T>>>0,d||(d=0),typeof d=="number")for(L=v;L<T;++L)this[L]=d;else{var ee=w.isBuffer(d)?d:w.from(d,O),Q=ee.length;if(Q===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(L=0;L<T-v;++L)this[L+v]=ee[L%Q]}return this};var E=/[^+\/0-9A-Za-z-_]/g;function p(d){return d<16?"0"+d.toString(16):d.toString(16)}function s(d,v){var T;v=v||1/0;for(var O=d.length,R=null,L=[],ee=0;ee<O;++ee){if((T=d.charCodeAt(ee))>55295&&T<57344){if(!R){if(T>56319){(v-=3)>-1&&L.push(239,191,189);continue}if(ee+1===O){(v-=3)>-1&&L.push(239,191,189);continue}R=T;continue}if(T<56320){(v-=3)>-1&&L.push(239,191,189),R=T;continue}T=65536+(R-55296<<10|T-56320)}else R&&(v-=3)>-1&&L.push(239,191,189);if(R=null,T<128){if((v-=1)<0)break;L.push(T)}else if(T<2048){if((v-=2)<0)break;L.push(T>>6|192,63&T|128)}else if(T<65536){if((v-=3)<0)break;L.push(T>>12|224,T>>6&63|128,63&T|128)}else{if(!(T<1114112))throw new Error("Invalid code point");if((v-=4)<0)break;L.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}}return L}function y(d){return i.toByteArray(function(v){if((v=(v=v.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(d))}function V(d,v,T,O){for(var R=0;R<O&&!(R+T>=v.length||R>=d.length);++R)v[R+T]=d[R];return R}function G(d,v){return d instanceof v||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===v.name}function Z(d){return d!=d}}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(r,e,t){t.read=function(n,i,u,h,S){var w,A,C=8*S-h-1,x=(1<<C)-1,D=x>>1,k=-7,Y=u?S-1:0,N=u?-1:1,$=n[i+Y];for(Y+=N,w=$&(1<<-k)-1,$>>=-k,k+=C;k>0;w=256*w+n[i+Y],Y+=N,k-=8);for(A=w&(1<<-k)-1,w>>=-k,k+=h;k>0;A=256*A+n[i+Y],Y+=N,k-=8);if(w===0)w=1-D;else{if(w===x)return A?NaN:1/0*($?-1:1);A+=Math.pow(2,h),w-=D}return($?-1:1)*A*Math.pow(2,w-h)},t.write=function(n,i,u,h,S,w){var A,C,x,D=8*w-S-1,k=(1<<D)-1,Y=k>>1,N=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=h?0:w-1,H=h?1:-1,ie=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(C=isNaN(i)?1:0,A=k):(A=Math.floor(Math.log(i)/Math.LN2),i*(x=Math.pow(2,-A))<1&&(A--,x*=2),(i+=A+Y>=1?N/x:N*Math.pow(2,1-Y))*x>=2&&(A++,x/=2),A+Y>=k?(C=0,A=k):A+Y>=1?(C=(i*x-1)*Math.pow(2,S),A+=Y):(C=i*Math.pow(2,Y-1)*Math.pow(2,S),A=0));S>=8;n[u+$]=255&C,$+=H,C/=256,S-=8);for(A=A<<S|C,D+=S;D>0;n[u+$]=255&A,$+=H,A/=256,D-=8);n[u+$-H]|=128*ie}},{}],4:[function(r,e,t){(function(A){"use strict";let i=r("base64-js"),u=r("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=A,t.SlowBuffer=function(c){return+c!=c&&(c=0),A.alloc(+c)},t.INSPECT_MAX_BYTES=50;let S=2147483647;function w(c){if(c>S)throw new RangeError('The value "'+c+'" is invalid for option "size"');let m=new Uint8Array(c);return Object.setPrototypeOf(m,A.prototype),m}function A(c,m,M){if(typeof c=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return D(c)}return C(c,m,M)}function C(c,m,M){if(typeof c=="string")return function(U,z){if(typeof z=="string"&&z!==""||(z="utf8"),!A.isEncoding(z))throw new TypeError("Unknown encoding: "+z);let ce=0|$(U,z),ne=w(ce),oe=ne.write(U,z);return oe!==ce&&(ne=ne.slice(0,oe)),ne}(c,m);if(ArrayBuffer.isView(c))return function(U){if(ee(U,Uint8Array)){let z=new Uint8Array(U);return Y(z.buffer,z.byteOffset,z.byteLength)}return k(U)}(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ee(c,ArrayBuffer)||c&&ee(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(c,SharedArrayBuffer)||c&&ee(c.buffer,SharedArrayBuffer)))return Y(c,m,M);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let P=c.valueOf&&c.valueOf();if(P!=null&&P!==c)return A.from(P,m,M);let F=function(U){if(A.isBuffer(U)){let z=0|N(U.length),ce=w(z);return ce.length===0||U.copy(ce,0,0,z),ce}if(U.length!==void 0)return typeof U.length!="number"||Q(U.length)?w(0):k(U);if(U.type==="Buffer"&&Array.isArray(U.data))return k(U.data)}(c);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return A.from(c[Symbol.toPrimitive]("string"),m,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function D(c){return x(c),w(c<0?0:0|N(c))}function k(c){let m=c.length<0?0:0|N(c.length),M=w(m);for(let P=0;P<m;P+=1)M[P]=255&c[P];return M}function Y(c,m,M){if(m<0||c.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<m+(M||0))throw new RangeError('"length" is outside of buffer bounds');let P;return P=m===void 0&&M===void 0?new Uint8Array(c):M===void 0?new Uint8Array(c,m):new Uint8Array(c,m,M),Object.setPrototypeOf(P,A.prototype),P}function N(c){if(c>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|c}function $(c,m){if(A.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ee(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let M=c.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&M===0)return 0;let F=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return O(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return R(c).length;default:if(F)return P?-1:O(c).length;m=(""+m).toLowerCase(),F=!0}}function H(c,m,M){let P=c[m];c[m]=c[M],c[M]=P}function ie(c,m,M,P,F){if(c.length===0)return-1;if(typeof M=="string"?(P=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Q(M=+M)&&(M=F?0:c.length-1),M<0&&(M=c.length+M),M>=c.length){if(F)return-1;M=c.length-1}else if(M<0){if(!F)return-1;M=0}if(typeof m=="string"&&(m=A.from(m,P)),A.isBuffer(m))return m.length===0?-1:qe(c,m,M,P,F);if(typeof m=="number")return m&=255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(c,m,M):Uint8Array.prototype.lastIndexOf.call(c,m,M):qe(c,[m],M,P,F);throw new TypeError("val must be string, number or Buffer")}function qe(c,m,M,P,F){let U,z=1,ce=c.length,ne=m.length;if(P!==void 0&&((P=String(P).toLowerCase())==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(c.length<2||m.length<2)return-1;z=2,ce/=2,ne/=2,M/=2}function oe(Fe,se){return z===1?Fe[se]:Fe.readUInt16BE(se*z)}if(F){let Fe=-1;for(U=M;U<ce;U++)if(oe(c,U)===oe(m,Fe===-1?0:U-Fe)){if(Fe===-1&&(Fe=U),U-Fe+1===ne)return Fe*z}else Fe!==-1&&(U-=U-Fe),Fe=-1}else for(M+ne>ce&&(M=ce-ne),U=M;U>=0;U--){let Fe=!0;for(let se=0;se<ne;se++)if(oe(c,U+se)!==oe(m,se)){Fe=!1;break}if(Fe)return U}return-1}function ue(c,m,M,P){M=Number(M)||0;let F=c.length-M;P?(P=Number(P))>F&&(P=F):P=F;let U=m.length,z;for(P>U/2&&(P=U/2),z=0;z<P;++z){let ce=parseInt(m.substr(2*z,2),16);if(Q(ce))return z;c[M+z]=ce}return z}function Ze(c,m,M,P){return L(O(m,c.length-M),c,M,P)}function ae(c,m,M,P){return L(function(F){let U=[];for(let z=0;z<F.length;++z)U.push(255&F.charCodeAt(z));return U}(m),c,M,P)}function We(c,m,M,P){return L(R(m),c,M,P)}function gt(c,m,M,P){return L(function(F,U){let z,ce,ne,oe=[];for(let Fe=0;Fe<F.length&&!((U-=2)<0);++Fe)z=F.charCodeAt(Fe),ce=z>>8,ne=z%256,oe.push(ne),oe.push(ce);return oe}(m,c.length-M),c,M,P)}function fr(c,m,M){return m===0&&M===c.length?i.fromByteArray(c):i.fromByteArray(c.slice(m,M))}function Jt(c,m,M){M=Math.min(c.length,M);let P=[],F=m;for(;F<M;){let U=c[F],z=null,ce=U>239?4:U>223?3:U>191?2:1;if(F+ce<=M){let ne,oe,Fe,se;switch(ce){case 1:U<128&&(z=U);break;case 2:(192&(ne=c[F+1]))==128&&(se=(31&U)<<6|63&ne)>127&&(z=se);break;case 3:ne=c[F+1],oe=c[F+2],(192&ne)==128&&(192&oe)==128&&(se=(15&U)<<12|(63&ne)<<6|63&oe)>2047&&(se<55296||se>57343)&&(z=se);break;case 4:ne=c[F+1],oe=c[F+2],Fe=c[F+3],(192&ne)==128&&(192&oe)==128&&(192&Fe)==128&&(se=(15&U)<<18|(63&ne)<<12|(63&oe)<<6|63&Fe)>65535&&se<1114112&&(z=se)}}z===null?(z=65533,ce=1):z>65535&&(z-=65536,P.push(z>>>10&1023|55296),z=56320|1023&z),P.push(z),F+=ce}return function(U){let z=U.length;if(z<=fe)return String.fromCharCode.apply(String,U);let ce="",ne=0;for(;ne<z;)ce+=String.fromCharCode.apply(String,U.slice(ne,ne+=fe));return ce}(P)}t.kMaxLength=S,A.TYPED_ARRAY_SUPPORT=function(){try{let c=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(c,m),c.foo()===42}catch{return!1}}(),A.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(c,m,M){return C(c,m,M)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(c,m,M){return function(P,F,U){return x(P),P<=0?w(P):F!==void 0?typeof U=="string"?w(P).fill(F,U):w(P).fill(F):w(P)}(c,m,M)},A.allocUnsafe=function(c){return D(c)},A.allocUnsafeSlow=function(c){return D(c)},A.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==A.prototype},A.compare=function(c,m){if(ee(c,Uint8Array)&&(c=A.from(c,c.offset,c.byteLength)),ee(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(c)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===m)return 0;let M=c.length,P=m.length;for(let F=0,U=Math.min(M,P);F<U;++F)if(c[F]!==m[F]){M=c[F],P=m[F];break}return M<P?-1:P<M?1:0},A.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(c,m){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return A.alloc(0);let M;if(m===void 0)for(m=0,M=0;M<c.length;++M)m+=c[M].length;let P=A.allocUnsafe(m),F=0;for(M=0;M<c.length;++M){let U=c[M];if(ee(U,Uint8Array))F+U.length>P.length?(A.isBuffer(U)||(U=A.from(U)),U.copy(P,F)):Uint8Array.prototype.set.call(P,U,F);else{if(!A.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(P,F)}F+=U.length}return P},A.byteLength=$,A.prototype._isBuffer=!0,A.prototype.swap16=function(){let c=this.length;if(c%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<c;m+=2)H(this,m,m+1);return this},A.prototype.swap32=function(){let c=this.length;if(c%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<c;m+=4)H(this,m,m+3),H(this,m+1,m+2);return this},A.prototype.swap64=function(){let c=this.length;if(c%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<c;m+=8)H(this,m,m+7),H(this,m+1,m+6),H(this,m+2,m+5),H(this,m+3,m+4);return this},A.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?Jt(this,0,c):function(m,M,P){let F=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(M>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return o(this,M,P);case"utf8":case"utf-8":return Jt(this,M,P);case"ascii":return ct(this,M,P);case"latin1":case"binary":return b(this,M,P);case"base64":return fr(this,M,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,M,P);default:if(F)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),F=!0}}.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(c){if(!A.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c||A.compare(this,c)===0},A.prototype.inspect=function(){let c="",m=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(c+=" ... "),"<Buffer "+c+">"},h&&(A.prototype[h]=A.prototype.inspect),A.prototype.compare=function(c,m,M,P,F){if(ee(c,Uint8Array)&&(c=A.from(c,c.offset,c.byteLength)),!A.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(m===void 0&&(m=0),M===void 0&&(M=c?c.length:0),P===void 0&&(P=0),F===void 0&&(F=this.length),m<0||M>c.length||P<0||F>this.length)throw new RangeError("out of range index");if(P>=F&&m>=M)return 0;if(P>=F)return-1;if(m>=M)return 1;if(this===c)return 0;let U=(F>>>=0)-(P>>>=0),z=(M>>>=0)-(m>>>=0),ce=Math.min(U,z),ne=this.slice(P,F),oe=c.slice(m,M);for(let Fe=0;Fe<ce;++Fe)if(ne[Fe]!==oe[Fe]){U=ne[Fe],z=oe[Fe];break}return U<z?-1:z<U?1:0},A.prototype.includes=function(c,m,M){return this.indexOf(c,m,M)!==-1},A.prototype.indexOf=function(c,m,M){return ie(this,c,m,M,!0)},A.prototype.lastIndexOf=function(c,m,M){return ie(this,c,m,M,!1)},A.prototype.write=function(c,m,M,P){if(m===void 0)P="utf8",M=this.length,m=0;else if(M===void 0&&typeof m=="string")P=m,M=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(M)?(M>>>=0,P===void 0&&(P="utf8")):(P=M,M=void 0)}let F=this.length-m;if((M===void 0||M>F)&&(M=F),c.length>0&&(M<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let U=!1;for(;;)switch(P){case"hex":return ue(this,c,m,M);case"utf8":case"utf-8":return Ze(this,c,m,M);case"ascii":case"latin1":case"binary":return ae(this,c,m,M);case"base64":return We(this,c,m,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,c,m,M);default:if(U)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),U=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let fe=4096;function ct(c,m,M){let P="";M=Math.min(c.length,M);for(let F=m;F<M;++F)P+=String.fromCharCode(127&c[F]);return P}function b(c,m,M){let P="";M=Math.min(c.length,M);for(let F=m;F<M;++F)P+=String.fromCharCode(c[F]);return P}function o(c,m,M){let P=c.length;(!m||m<0)&&(m=0),(!M||M<0||M>P)&&(M=P);let F="";for(let U=m;U<M;++U)F+=re[c[U]];return F}function a(c,m,M){let P=c.slice(m,M),F="";for(let U=0;U<P.length-1;U+=2)F+=String.fromCharCode(P[U]+256*P[U+1]);return F}function f(c,m,M){if(c%1!=0||c<0)throw new RangeError("offset is not uint");if(c+m>M)throw new RangeError("Trying to access beyond buffer length")}function l(c,m,M,P,F,U){if(!A.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>F||m<U)throw new RangeError('"value" argument is out of bounds');if(M+P>c.length)throw new RangeError("Index out of range")}function g(c,m,M,P,F){Z(m,P,F,c,M,7);let U=Number(m&BigInt(4294967295));c[M++]=U,U>>=8,c[M++]=U,U>>=8,c[M++]=U,U>>=8,c[M++]=U;let z=Number(m>>BigInt(32)&BigInt(4294967295));return c[M++]=z,z>>=8,c[M++]=z,z>>=8,c[M++]=z,z>>=8,c[M++]=z,M}function _(c,m,M,P,F){Z(m,P,F,c,M,7);let U=Number(m&BigInt(4294967295));c[M+7]=U,U>>=8,c[M+6]=U,U>>=8,c[M+5]=U,U>>=8,c[M+4]=U;let z=Number(m>>BigInt(32)&BigInt(4294967295));return c[M+3]=z,z>>=8,c[M+2]=z,z>>=8,c[M+1]=z,z>>=8,c[M]=z,M+8}function E(c,m,M,P,F,U){if(M+P>c.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function p(c,m,M,P,F){return m=+m,M>>>=0,F||E(c,0,M,4),u.write(c,m,M,P,23,4),M+4}function s(c,m,M,P,F){return m=+m,M>>>=0,F||E(c,0,M,8),u.write(c,m,M,P,52,8),M+8}A.prototype.slice=function(c,m){let M=this.length;(c=~~c)<0?(c+=M)<0&&(c=0):c>M&&(c=M),(m=m===void 0?M:~~m)<0?(m+=M)<0&&(m=0):m>M&&(m=M),m<c&&(m=c);let P=this.subarray(c,m);return Object.setPrototypeOf(P,A.prototype),P},A.prototype.readUintLE=A.prototype.readUIntLE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c],F=1,U=0;for(;++U<m&&(F*=256);)P+=this[c+U]*F;return P},A.prototype.readUintBE=A.prototype.readUIntBE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c+--m],F=1;for(;m>0&&(F*=256);)P+=this[c+--m]*F;return P},A.prototype.readUint8=A.prototype.readUInt8=function(c,m){return c>>>=0,m||f(c,1,this.length),this[c]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(c,m){return c>>>=0,m||f(c,2,this.length),this[c]|this[c+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(c,m){return c>>>=0,m||f(c,2,this.length),this[c]<<8|this[c+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(c,m){return c>>>=0,m||f(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+16777216*this[c+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(c,m){return c>>>=0,m||f(c,4,this.length),16777216*this[c]+(this[c+1]<<16|this[c+2]<<8|this[c+3])},A.prototype.readBigUInt64LE=Le(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=m+256*this[++c]+65536*this[++c]+this[++c]*2**24,F=this[++c]+256*this[++c]+65536*this[++c]+M*2**24;return BigInt(P)+(BigInt(F)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=m*2**24+65536*this[++c]+256*this[++c]+this[++c],F=this[++c]*2**24+65536*this[++c]+256*this[++c]+M;return(BigInt(P)<<BigInt(32))+BigInt(F)}),A.prototype.readIntLE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c],F=1,U=0;for(;++U<m&&(F*=256);)P+=this[c+U]*F;return P>=(F*=128)&&(P-=Math.pow(2,8*m)),P},A.prototype.readIntBE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=m,F=1,U=this[c+--P];for(;P>0&&(F*=256);)U+=this[c+--P]*F;return U>=(F*=128)&&(U-=Math.pow(2,8*m)),U},A.prototype.readInt8=function(c,m){return c>>>=0,m||f(c,1,this.length),128&this[c]?-1*(255-this[c]+1):this[c]},A.prototype.readInt16LE=function(c,m){c>>>=0,m||f(c,2,this.length);let M=this[c]|this[c+1]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt16BE=function(c,m){c>>>=0,m||f(c,2,this.length);let M=this[c+1]|this[c]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt32LE=function(c,m){return c>>>=0,m||f(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},A.prototype.readInt32BE=function(c,m){return c>>>=0,m||f(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},A.prototype.readBigInt64LE=Le(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=this[c+4]+256*this[c+5]+65536*this[c+6]+(M<<24);return(BigInt(P)<<BigInt(32))+BigInt(m+256*this[++c]+65536*this[++c]+this[++c]*2**24)}),A.prototype.readBigInt64BE=Le(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=(m<<24)+65536*this[++c]+256*this[++c]+this[++c];return(BigInt(P)<<BigInt(32))+BigInt(this[++c]*2**24+65536*this[++c]+256*this[++c]+M)}),A.prototype.readFloatLE=function(c,m){return c>>>=0,m||f(c,4,this.length),u.read(this,c,!0,23,4)},A.prototype.readFloatBE=function(c,m){return c>>>=0,m||f(c,4,this.length),u.read(this,c,!1,23,4)},A.prototype.readDoubleLE=function(c,m){return c>>>=0,m||f(c,8,this.length),u.read(this,c,!0,52,8)},A.prototype.readDoubleBE=function(c,m){return c>>>=0,m||f(c,8,this.length),u.read(this,c,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(c,m,M,P){c=+c,m>>>=0,M>>>=0,!P&&l(this,c,m,M,Math.pow(2,8*M)-1,0);let F=1,U=0;for(this[m]=255&c;++U<M&&(F*=256);)this[m+U]=c/F&255;return m+M},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(c,m,M,P){c=+c,m>>>=0,M>>>=0,!P&&l(this,c,m,M,Math.pow(2,8*M)-1,0);let F=M-1,U=1;for(this[m+F]=255&c;--F>=0&&(U*=256);)this[m+F]=c/U&255;return m+M},A.prototype.writeUint8=A.prototype.writeUInt8=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,1,255,0),this[m]=255&c,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,65535,0),this[m]=255&c,this[m+1]=c>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,65535,0),this[m]=c>>>8,this[m+1]=255&c,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,4294967295,0),this[m+3]=c>>>24,this[m+2]=c>>>16,this[m+1]=c>>>8,this[m]=255&c,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,4294967295,0),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=255&c,m+4},A.prototype.writeBigUInt64LE=Le(function(c,m=0){return g(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(c,m=0){return _(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(c,m,M,P){if(c=+c,m>>>=0,!P){let ce=Math.pow(2,8*M-1);l(this,c,m,M,ce-1,-ce)}let F=0,U=1,z=0;for(this[m]=255&c;++F<M&&(U*=256);)c<0&&z===0&&this[m+F-1]!==0&&(z=1),this[m+F]=(c/U>>0)-z&255;return m+M},A.prototype.writeIntBE=function(c,m,M,P){if(c=+c,m>>>=0,!P){let ce=Math.pow(2,8*M-1);l(this,c,m,M,ce-1,-ce)}let F=M-1,U=1,z=0;for(this[m+F]=255&c;--F>=0&&(U*=256);)c<0&&z===0&&this[m+F+1]!==0&&(z=1),this[m+F]=(c/U>>0)-z&255;return m+M},A.prototype.writeInt8=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,1,127,-128),c<0&&(c=255+c+1),this[m]=255&c,m+1},A.prototype.writeInt16LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,32767,-32768),this[m]=255&c,this[m+1]=c>>>8,m+2},A.prototype.writeInt16BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,32767,-32768),this[m]=c>>>8,this[m+1]=255&c,m+2},A.prototype.writeInt32LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,2147483647,-2147483648),this[m]=255&c,this[m+1]=c>>>8,this[m+2]=c>>>16,this[m+3]=c>>>24,m+4},A.prototype.writeInt32BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=255&c,m+4},A.prototype.writeBigInt64LE=Le(function(c,m=0){return g(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(c,m=0){return _(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(c,m,M){return p(this,c,m,!0,M)},A.prototype.writeFloatBE=function(c,m,M){return p(this,c,m,!1,M)},A.prototype.writeDoubleLE=function(c,m,M){return s(this,c,m,!0,M)},A.prototype.writeDoubleBE=function(c,m,M){return s(this,c,m,!1,M)},A.prototype.copy=function(c,m,M,P){if(!A.isBuffer(c))throw new TypeError("argument should be a Buffer");if(M||(M=0),P||P===0||(P=this.length),m>=c.length&&(m=c.length),m||(m=0),P>0&&P<M&&(P=M),P===M||c.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),c.length-m<P-M&&(P=c.length-m+M);let F=P-M;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,M,P):Uint8Array.prototype.set.call(c,this.subarray(M,P),m),F},A.prototype.fill=function(c,m,M,P){if(typeof c=="string"){if(typeof m=="string"?(P=m,m=0,M=this.length):typeof M=="string"&&(P=M,M=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!A.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(c.length===1){let U=c.charCodeAt(0);(P==="utf8"&&U<128||P==="latin1")&&(c=U)}}else typeof c=="number"?c&=255:typeof c=="boolean"&&(c=Number(c));if(m<0||this.length<m||this.length<M)throw new RangeError("Out of range index");if(M<=m)return this;let F;if(m>>>=0,M=M===void 0?this.length:M>>>0,c||(c=0),typeof c=="number")for(F=m;F<M;++F)this[F]=c;else{let U=A.isBuffer(c)?c:A.from(c,P),z=U.length;if(z===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(F=0;F<M-m;++F)this[F+m]=U[F%z]}return this};let y={};function V(c,m,M){y[c]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}function G(c){let m="",M=c.length,P=c[0]==="-"?1:0;for(;M>=P+4;M-=3)m=`_${c.slice(M-3,M)}${m}`;return`${c.slice(0,M)}${m}`}function Z(c,m,M,P,F,U){if(c>M||c<m){let z=typeof m=="bigint"?"n":"",ce;throw ce=U>3?m===0||m===BigInt(0)?`>= 0${z} and < 2${z} ** ${8*(U+1)}${z}`:`>= -(2${z} ** ${8*(U+1)-1}${z}) and < 2 ** ${8*(U+1)-1}${z}`:`>= ${m}${z} and <= ${M}${z}`,new y.ERR_OUT_OF_RANGE("value",ce,c)}(function(z,ce,ne){d(ce,"offset"),z[ce]!==void 0&&z[ce+ne]!==void 0||v(ce,z.length-(ne+1))})(P,F,U)}function d(c,m){if(typeof c!="number")throw new y.ERR_INVALID_ARG_TYPE(m,"number",c)}function v(c,m,M){throw Math.floor(c)!==c?(d(c,M),new y.ERR_OUT_OF_RANGE(M||"offset","an integer",c)):m<0?new y.ERR_BUFFER_OUT_OF_BOUNDS:new y.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${m}`,c)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(c,m){return`The "${c}" argument must be of type number. Received type ${typeof m}`},TypeError),V("ERR_OUT_OF_RANGE",function(c,m,M){let P=`The value of "${c}" is out of range.`,F=M;return Number.isInteger(M)&&Math.abs(M)>2**32?F=G(String(M)):typeof M=="bigint"&&(F=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(F=G(F)),F+="n"),P+=` It must be ${m}. Received ${F}`},RangeError);let T=/[^+\/0-9A-Za-z-_]/g;function O(c,m){let M;m=m||1/0;let P=c.length,F=null,U=[];for(let z=0;z<P;++z){if((M=c.charCodeAt(z))>55295&&M<57344){if(!F){if(M>56319){(m-=3)>-1&&U.push(239,191,189);continue}if(z+1===P){(m-=3)>-1&&U.push(239,191,189);continue}F=M;continue}if(M<56320){(m-=3)>-1&&U.push(239,191,189),F=M;continue}M=65536+(F-55296<<10|M-56320)}else F&&(m-=3)>-1&&U.push(239,191,189);if(F=null,M<128){if((m-=1)<0)break;U.push(M)}else if(M<2048){if((m-=2)<0)break;U.push(M>>6|192,63&M|128)}else if(M<65536){if((m-=3)<0)break;U.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;U.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return U}function R(c){return i.toByteArray(function(m){if((m=(m=m.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(c))}function L(c,m,M,P){let F;for(F=0;F<P&&!(F+M>=m.length||F>=c.length);++F)m[F+M]=c[F];return F}function ee(c,m){return c instanceof m||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===m.name}function Q(c){return c!=c}let re=function(){let c=new Array(256);for(let m=0;m<16;++m){let M=16*m;for(let P=0;P<16;++P)c[M+P]="0123456789abcdef"[m]+"0123456789abcdef"[P]}return c}();function Le(c){return typeof BigInt>"u"?te:c}function te(){throw new Error("BigInt not supported")}}).call(this,r("buffer").Buffer)},{"base64-js":5,buffer:2,ieee754:6}],5:[function(r,e,t){"use strict";t.byteLength=function(x){var D=A(x),k=D[0],Y=D[1];return 3*(k+Y)/4-Y},t.toByteArray=function(x){var D,k,Y=A(x),N=Y[0],$=Y[1],H=new u(function(ue,Ze,ae){return 3*(Ze+ae)/4-ae}(0,N,$)),ie=0,qe=$>0?N-4:N;for(k=0;k<qe;k+=4)D=i[x.charCodeAt(k)]<<18|i[x.charCodeAt(k+1)]<<12|i[x.charCodeAt(k+2)]<<6|i[x.charCodeAt(k+3)],H[ie++]=D>>16&255,H[ie++]=D>>8&255,H[ie++]=255&D;return $===2&&(D=i[x.charCodeAt(k)]<<2|i[x.charCodeAt(k+1)]>>4,H[ie++]=255&D),$===1&&(D=i[x.charCodeAt(k)]<<10|i[x.charCodeAt(k+1)]<<4|i[x.charCodeAt(k+2)]>>2,H[ie++]=D>>8&255,H[ie++]=255&D),H},t.fromByteArray=function(x){for(var D,k=x.length,Y=k%3,N=[],$=0,H=k-Y;$<H;$+=16383)N.push(C(x,$,$+16383>H?H:$+16383));return Y===1?(D=x[k-1],N.push(n[D>>2]+n[D<<4&63]+"==")):Y===2&&(D=(x[k-2]<<8)+x[k-1],N.push(n[D>>10]+n[D>>4&63]+n[D<<2&63]+"=")),N.join("")};for(var n=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,w=h.length;S<w;++S)n[S]=h[S],i[h.charCodeAt(S)]=S;function A(x){var D=x.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=x.indexOf("=");return k===-1&&(k=D),[k,k===D?0:4-k%4]}function C(x,D,k){for(var Y,N,$=[],H=D;H<k;H+=3)Y=(x[H]<<16&16711680)+(x[H+1]<<8&65280)+(255&x[H+2]),$.push(n[(N=Y)>>18&63]+n[N>>12&63]+n[N>>6&63]+n[63&N]);return $.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(r,e,t){t.read=function(n,i,u,h,S){var w,A,C=8*S-h-1,x=(1<<C)-1,D=x>>1,k=-7,Y=u?S-1:0,N=u?-1:1,$=n[i+Y];for(Y+=N,w=$&(1<<-k)-1,$>>=-k,k+=C;k>0;w=256*w+n[i+Y],Y+=N,k-=8);for(A=w&(1<<-k)-1,w>>=-k,k+=h;k>0;A=256*A+n[i+Y],Y+=N,k-=8);if(w===0)w=1-D;else{if(w===x)return A?NaN:1/0*($?-1:1);A+=Math.pow(2,h),w-=D}return($?-1:1)*A*Math.pow(2,w-h)},t.write=function(n,i,u,h,S,w){var A,C,x,D=8*w-S-1,k=(1<<D)-1,Y=k>>1,N=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=h?0:w-1,H=h?1:-1,ie=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(C=isNaN(i)?1:0,A=k):(A=Math.floor(Math.log(i)/Math.LN2),i*(x=Math.pow(2,-A))<1&&(A--,x*=2),(i+=A+Y>=1?N/x:N*Math.pow(2,1-Y))*x>=2&&(A++,x/=2),A+Y>=k?(C=0,A=k):A+Y>=1?(C=(i*x-1)*Math.pow(2,S),A+=Y):(C=i*Math.pow(2,Y-1)*Math.pow(2,S),A=0));S>=8;n[u+$]=255&C,$+=H,C/=256,S-=8);for(A=A<<S|C,D+=S;D>0;n[u+$]=255&A,$+=H,A/=256,D-=8);n[u+$-H]|=128*ie}},{}]},{},[4])(4)})});var K,I=ci(()=>{K=Q0(zc())});var Xt=W((d_,Nc)=>{B();I();Nc.exports=globalThis["ok-metax-crypto"]});var Vc=W(jc=>{"use strict";B();I();Object.defineProperty(jc,"__esModule",{value:!0})});var fl={};Oc(fl,{Buffer:()=>J,INSPECT_MAX_BYTES:()=>Jc,SlowBuffer:()=>Dp,isBuffer:()=>Sn,kMaxLength:()=>kp});function Wc(){yu=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)Rr[e]=r[e],cr[r.charCodeAt(e)]=e;cr["-".charCodeAt(0)]=62,cr["_".charCodeAt(0)]=63}function Ip(r){yu||Wc();var e,t,n,i,u,h,S=r.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");u=r[S-2]==="="?2:r[S-1]==="="?1:0,h=new Bp(S*3/4-u),n=u>0?S-4:S;var w=0;for(e=0,t=0;e<n;e+=4,t+=3)i=cr[r.charCodeAt(e)]<<18|cr[r.charCodeAt(e+1)]<<12|cr[r.charCodeAt(e+2)]<<6|cr[r.charCodeAt(e+3)],h[w++]=i>>16&255,h[w++]=i>>8&255,h[w++]=i&255;return u===2?(i=cr[r.charCodeAt(e)]<<2|cr[r.charCodeAt(e+1)]>>4,h[w++]=i&255):u===1&&(i=cr[r.charCodeAt(e)]<<10|cr[r.charCodeAt(e+1)]<<4|cr[r.charCodeAt(e+2)]>>2,h[w++]=i>>8&255,h[w++]=i&255),h}function Pp(r){return Rr[r>>18&63]+Rr[r>>12&63]+Rr[r>>6&63]+Rr[r&63]}function xp(r,e,t){for(var n,i=[],u=e;u<t;u+=3)n=(r[u]<<16)+(r[u+1]<<8)+r[u+2],i.push(Pp(n));return i.join("")}function Yc(r){yu||Wc();for(var e,t=r.length,n=t%3,i="",u=[],h=16383,S=0,w=t-n;S<w;S+=h)u.push(xp(r,S,S+h>w?w:S+h));return n===1?(e=r[t-1],i+=Rr[e>>2],i+=Rr[e<<4&63],i+="=="):n===2&&(e=(r[t-2]<<8)+r[t-1],i+=Rr[e>>10],i+=Rr[e>>4&63],i+=Rr[e<<2&63],i+="="),u.push(i),u.join("")}function Ms(r,e,t,n,i){var u,h,S=i*8-n-1,w=(1<<S)-1,A=w>>1,C=-7,x=t?i-1:0,D=t?-1:1,k=r[e+x];for(x+=D,u=k&(1<<-C)-1,k>>=-C,C+=S;C>0;u=u*256+r[e+x],x+=D,C-=8);for(h=u&(1<<-C)-1,u>>=-C,C+=n;C>0;h=h*256+r[e+x],x+=D,C-=8);if(u===0)u=1-A;else{if(u===w)return h?NaN:(k?-1:1)*(1/0);h=h+Math.pow(2,n),u=u-A}return(k?-1:1)*h*Math.pow(2,u-n)}function Hc(r,e,t,n,i,u){var h,S,w,A=u*8-i-1,C=(1<<A)-1,x=C>>1,D=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:u-1,Y=n?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(S=isNaN(e)?1:0,h=C):(h=Math.floor(Math.log(e)/Math.LN2),e*(w=Math.pow(2,-h))<1&&(h--,w*=2),h+x>=1?e+=D/w:e+=D*Math.pow(2,1-x),e*w>=2&&(h++,w/=2),h+x>=C?(S=0,h=C):h+x>=1?(S=(e*w-1)*Math.pow(2,i),h=h+x):(S=e*Math.pow(2,x-1)*Math.pow(2,i),h=0));i>=8;r[t+k]=S&255,k+=Y,S/=256,i-=8);for(h=h<<i|S,A+=i;A>0;r[t+k]=h&255,k+=Y,h/=256,A-=8);r[t+k-Y]|=N*128}function ws(){return J.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function sn(r,e){if(ws()<e)throw new RangeError("Invalid typed array length");return J.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=J.prototype):(r===null&&(r=new J(e)),r.length=e),r}function J(r,e,t){if(!J.TYPED_ARRAY_SUPPORT&&!(this instanceof J))return new J(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return bu(this,r)}return Xc(this,r,e,t)}function Xc(r,e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Rp(r,e,t,n):typeof e=="string"?Cp(r,e,t):Lp(r,e)}function Qc(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function Up(r,e,t,n){return Qc(e),e<=0?sn(r,e):t!==void 0?typeof n=="string"?sn(r,e).fill(t,n):sn(r,e).fill(t):sn(r,e)}function bu(r,e){if(Qc(e),r=sn(r,e<0?0:mu(e)|0),!J.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}function Cp(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!J.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=el(e,t)|0;r=sn(r,n);var i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function gu(r,e){var t=e.length<0?0:mu(e.length)|0;r=sn(r,t);for(var n=0;n<t;n+=1)r[n]=e[n]&255;return r}function Rp(r,e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,n),J.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=J.prototype):r=gu(r,e),r}function Lp(r,e){if(Lr(e)){var t=mu(e.length)|0;return r=sn(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||rg(e.length)?sn(r,0):gu(r,e);if(e.type==="Buffer"&&Zc(e.data))return gu(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function mu(r){if(r>=ws())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ws().toString(16)+" bytes");return r|0}function Dp(r){return+r!=r&&(r=0),J.alloc(+r)}function Lr(r){return!!(r!=null&&r._isBuffer)}function el(r,e){if(Lr(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return _s(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return al(r).length;default:if(n)return _s(r).length;e=(""+e).toLowerCase(),n=!0}}function Fp(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Wp(this,e,t);case"utf8":case"utf-8":return nl(this,e,t);case"ascii":return $p(this,e,t);case"latin1":case"binary":return Gp(this,e,t);case"base64":return Vp(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hp(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function di(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function tl(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=J.from(e,n)),Lr(e))return e.length===0?-1:$c(r,e,t,n,i);if(typeof e=="number")return e=e&255,J.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):$c(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function $c(r,e,t,n,i){var u=1,h=r.length,S=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;u=2,h/=2,S/=2,t/=2}function w(k,Y){return u===1?k[Y]:k.readUInt16BE(Y*u)}var A;if(i){var C=-1;for(A=t;A<h;A++)if(w(r,A)===w(e,C===-1?0:A-C)){if(C===-1&&(C=A),A-C+1===S)return C*u}else C!==-1&&(A-=A-C),C=-1}else for(t+S>h&&(t=h-S),A=t;A>=0;A--){for(var x=!0,D=0;D<S;D++)if(w(r,A+D)!==w(e,D)){x=!1;break}if(x)return A}return-1}function Kp(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var u=e.length;if(u%2!==0)throw new TypeError("Invalid hex string");n>u/2&&(n=u/2);for(var h=0;h<n;++h){var S=parseInt(e.substr(h*2,2),16);if(isNaN(S))return h;r[t+h]=S}return h}function qp(r,e,t,n){return Es(_s(e,r.length-t),r,t,n)}function rl(r,e,t,n){return Es(eg(e),r,t,n)}function zp(r,e,t,n){return rl(r,e,t,n)}function Np(r,e,t,n){return Es(al(e),r,t,n)}function jp(r,e,t,n){return Es(tg(e,r.length-t),r,t,n)}function Vp(r,e,t){return e===0&&t===r.length?Yc(r):Yc(r.slice(e,t))}function nl(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var u=r[i],h=null,S=u>239?4:u>223?3:u>191?2:1;if(i+S<=t){var w,A,C,x;switch(S){case 1:u<128&&(h=u);break;case 2:w=r[i+1],(w&192)===128&&(x=(u&31)<<6|w&63,x>127&&(h=x));break;case 3:w=r[i+1],A=r[i+2],(w&192)===128&&(A&192)===128&&(x=(u&15)<<12|(w&63)<<6|A&63,x>2047&&(x<55296||x>57343)&&(h=x));break;case 4:w=r[i+1],A=r[i+2],C=r[i+3],(w&192)===128&&(A&192)===128&&(C&192)===128&&(x=(u&15)<<18|(w&63)<<12|(A&63)<<6|C&63,x>65535&&x<1114112&&(h=x))}}h===null?(h=65533,S=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|h&1023),n.push(h),i+=S}return Yp(n)}function Yp(r){var e=r.length;if(e<=Gc)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Gc));return t}function $p(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function Gp(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Wp(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",u=e;u<t;++u)i+=Qp(r[u]);return i}function Hp(r,e,t){for(var n=r.slice(e,t),i="",u=0;u<n.length;u+=2)i+=String.fromCharCode(n[u]+n[u+1]*256);return i}function lt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}function Rt(r,e,t,n,i,u){if(!Lr(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<u)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}function Ss(r,e,t,n){e<0&&(e=65535+e+1);for(var i=0,u=Math.min(r.length-t,2);i<u;++i)r[t+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function As(r,e,t,n){e<0&&(e=4294967295+e+1);for(var i=0,u=Math.min(r.length-t,4);i<u;++i)r[t+i]=e>>>(n?i:3-i)*8&255}function il(r,e,t,n,i,u){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ol(r,e,t,n,i){return i||il(r,e,t,4),Hc(r,e,t,n,23,4),t+4}function sl(r,e,t,n,i){return i||il(r,e,t,8),Hc(r,e,t,n,52,8),t+8}function Jp(r){if(r=Xp(r).replace(Zp,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Xp(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Qp(r){return r<16?"0"+r.toString(16):r.toString(16)}function _s(r,e){e=e||1/0;for(var t,n=r.length,i=null,u=[],h=0;h<n;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&u.push(239,191,189);continue}else if(h+1===n){(e-=3)>-1&&u.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&u.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&u.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;u.push(t)}else if(t<2048){if((e-=2)<0)break;u.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;u.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;u.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return u}function eg(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function tg(r,e){for(var t,n,i,u=[],h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),n=t>>8,i=t%256,u.push(i),u.push(n);return u}function al(r){return Ip(Jp(r))}function Es(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function rg(r){return r!==r}function Sn(r){return r!=null&&(!!r._isBuffer||ul(r)||ng(r))}function ul(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function ng(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&ul(r.slice(0,0))}var Rr,cr,Bp,yu,Op,Zc,Jc,kp,Gc,Zp,vu=ci(()=>{B();I();Rr=[],cr=[],Bp=typeof Uint8Array<"u"?Uint8Array:Array,yu=!1;Op={}.toString,Zc=Array.isArray||function(r){return Op.call(r)=="[object Array]"};Jc=50;J.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;kp=ws();J.poolSize=8192;J._augment=function(r){return r.__proto__=J.prototype,r};J.from=function(r,e,t){return Xc(null,r,e,t)};J.TYPED_ARRAY_SUPPORT&&(J.prototype.__proto__=Uint8Array.prototype,J.__proto__=Uint8Array);J.alloc=function(r,e,t){return Up(null,r,e,t)};J.allocUnsafe=function(r){return bu(null,r)};J.allocUnsafeSlow=function(r){return bu(null,r)};J.isBuffer=Sn;J.compare=function(e,t){if(!Lr(e)||!Lr(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,u=0,h=Math.min(n,i);u<h;++u)if(e[u]!==t[u]){n=e[u],i=t[u];break}return n<i?-1:i<n?1:0};J.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};J.concat=function(e,t){if(!Zc(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return J.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=J.allocUnsafe(t),u=0;for(n=0;n<e.length;++n){var h=e[n];if(!Lr(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(i,u),u+=h.length}return i};J.byteLength=el;J.prototype._isBuffer=!0;J.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)di(this,t,t+1);return this};J.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)di(this,t,t+3),di(this,t+1,t+2);return this};J.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)di(this,t,t+7),di(this,t+1,t+6),di(this,t+2,t+5),di(this,t+3,t+4);return this};J.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?nl(this,0,e):Fp.apply(this,arguments)};J.prototype.equals=function(e){if(!Lr(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:J.compare(this,e)===0};J.prototype.inspect=function(){var e="",t=Jc;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};J.prototype.compare=function(e,t,n,i,u){if(!Lr(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),u===void 0&&(u=this.length),t<0||n>e.length||i<0||u>this.length)throw new RangeError("out of range index");if(i>=u&&t>=n)return 0;if(i>=u)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,u>>>=0,this===e)return 0;for(var h=u-i,S=n-t,w=Math.min(h,S),A=this.slice(i,u),C=e.slice(t,n),x=0;x<w;++x)if(A[x]!==C[x]){h=A[x],S=C[x];break}return h<S?-1:S<h?1:0};J.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};J.prototype.indexOf=function(e,t,n){return tl(this,e,t,n,!0)};J.prototype.lastIndexOf=function(e,t,n){return tl(this,e,t,n,!1)};J.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var u=this.length-t;if((n===void 0||n>u)&&(n=u),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var h=!1;;)switch(i){case"hex":return Kp(this,e,t,n);case"utf8":case"utf-8":return qp(this,e,t,n);case"ascii":return rl(this,e,t,n);case"latin1":case"binary":return zp(this,e,t,n);case"base64":return Np(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jp(this,e,t,n);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}};J.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Gc=4096;J.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(J.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=J.prototype;else{var u=t-e;i=new J(u,void 0);for(var h=0;h<u;++h)i[h]=this[h+e]}return i};J.prototype.readUIntLE=function(e,t,n){e=e|0,t=t|0,n||lt(e,t,this.length);for(var i=this[e],u=1,h=0;++h<t&&(u*=256);)i+=this[e+h]*u;return i};J.prototype.readUIntBE=function(e,t,n){e=e|0,t=t|0,n||lt(e,t,this.length);for(var i=this[e+--t],u=1;t>0&&(u*=256);)i+=this[e+--t]*u;return i};J.prototype.readUInt8=function(e,t){return t||lt(e,1,this.length),this[e]};J.prototype.readUInt16LE=function(e,t){return t||lt(e,2,this.length),this[e]|this[e+1]<<8};J.prototype.readUInt16BE=function(e,t){return t||lt(e,2,this.length),this[e]<<8|this[e+1]};J.prototype.readUInt32LE=function(e,t){return t||lt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};J.prototype.readUInt32BE=function(e,t){return t||lt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};J.prototype.readIntLE=function(e,t,n){e=e|0,t=t|0,n||lt(e,t,this.length);for(var i=this[e],u=1,h=0;++h<t&&(u*=256);)i+=this[e+h]*u;return u*=128,i>=u&&(i-=Math.pow(2,8*t)),i};J.prototype.readIntBE=function(e,t,n){e=e|0,t=t|0,n||lt(e,t,this.length);for(var i=t,u=1,h=this[e+--i];i>0&&(u*=256);)h+=this[e+--i]*u;return u*=128,h>=u&&(h-=Math.pow(2,8*t)),h};J.prototype.readInt8=function(e,t){return t||lt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};J.prototype.readInt16LE=function(e,t){t||lt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};J.prototype.readInt16BE=function(e,t){t||lt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};J.prototype.readInt32LE=function(e,t){return t||lt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};J.prototype.readInt32BE=function(e,t){return t||lt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};J.prototype.readFloatLE=function(e,t){return t||lt(e,4,this.length),Ms(this,e,!0,23,4)};J.prototype.readFloatBE=function(e,t){return t||lt(e,4,this.length),Ms(this,e,!1,23,4)};J.prototype.readDoubleLE=function(e,t){return t||lt(e,8,this.length),Ms(this,e,!0,52,8)};J.prototype.readDoubleBE=function(e,t){return t||lt(e,8,this.length),Ms(this,e,!1,52,8)};J.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var u=Math.pow(2,8*n)-1;Rt(this,e,t,n,u,0)}var h=1,S=0;for(this[t]=e&255;++S<n&&(h*=256);)this[t+S]=e/h&255;return t+n};J.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var u=Math.pow(2,8*n)-1;Rt(this,e,t,n,u,0)}var h=n-1,S=1;for(this[t+h]=e&255;--h>=0&&(S*=256);)this[t+h]=e/S&255;return t+n};J.prototype.writeUInt8=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,1,255,0),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};J.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Ss(this,e,t,!0),t+2};J.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Ss(this,e,t,!1),t+2};J.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):As(this,e,t,!0),t+4};J.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):As(this,e,t,!1),t+4};J.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t|0,!i){var u=Math.pow(2,8*n-1);Rt(this,e,t,n,u-1,-u)}var h=0,S=1,w=0;for(this[t]=e&255;++h<n&&(S*=256);)e<0&&w===0&&this[t+h-1]!==0&&(w=1),this[t+h]=(e/S>>0)-w&255;return t+n};J.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t|0,!i){var u=Math.pow(2,8*n-1);Rt(this,e,t,n,u-1,-u)}var h=n-1,S=1,w=0;for(this[t+h]=e&255;--h>=0&&(S*=256);)e<0&&w===0&&this[t+h+1]!==0&&(w=1),this[t+h]=(e/S>>0)-w&255;return t+n};J.prototype.writeInt8=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,1,127,-128),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};J.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Ss(this,e,t,!0),t+2};J.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Ss(this,e,t,!1),t+2};J.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,4,2147483647,-2147483648),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):As(this,e,t,!0),t+4};J.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t|0,n||Rt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):As(this,e,t,!1),t+4};J.prototype.writeFloatLE=function(e,t,n){return ol(this,e,t,!0,n)};J.prototype.writeFloatBE=function(e,t,n){return ol(this,e,t,!1,n)};J.prototype.writeDoubleLE=function(e,t,n){return sl(this,e,t,!0,n)};J.prototype.writeDoubleBE=function(e,t,n){return sl(this,e,t,!1,n)};J.prototype.copy=function(e,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var u=i-n,h;if(this===e&&n<t&&t<i)for(h=u-1;h>=0;--h)e[h+t]=this[h+n];else if(u<1e3||!J.TYPED_ARRAY_SUPPORT)for(h=0;h<u;++h)e[h+t]=this[h+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+u),t);return u};J.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var u=e.charCodeAt(0);u<256&&(e=u)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!J.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var h;if(typeof e=="number")for(h=t;h<n;++h)this[h]=e;else{var S=Lr(e)?e:_s(new J(e,i).toString()),w=S.length;for(h=0;h<n-t;++h)this[h+t]=S[h%w]}return this};Zp=/[^+\/0-9A-Za-z-_]/g});var _t=W((__,Ts)=>{B();I();var pi=(vu(),Uc(fl));if(pi&&pi.default){Ts.exports=pi.default;for(let r in pi)Ts.exports[r]=pi[r]}else pi&&(Ts.exports=pi)});var Li=W(q=>{"use strict";B();I();Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=q.nu64=q.u48=q.u40=q.u32=q.u24=q.u16=q.u8=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=q.blob=q.unionLayoutDiscriminator=q.union=q.seq=q.bits=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;var _u=_t();function Ri(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=Ri;function Ne(r){return Ri(r),_u.Buffer.from(r.buffer,r.byteOffset,r.length)}q.uint8ArrayToBuffer=Ne;var Ve=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};q.Layout=Ve;function Mu(r,e){return e.property?r+"["+e.property+"]":r}q.nameWithProperty=Mu;function ig(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ve))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}q.bindConstructorLayout=ig;var Mt=class extends Ve{isCount(){throw new Error("ExternalLayout is abstract")}};q.ExternalLayout=Mt;var Bs=class extends Mt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Ri(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};q.GreedyCount=Bs;var Ro=class extends Mt{constructor(e,t=0,n){if(!(e instanceof Ve))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Lt||this.layout instanceof Qt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};q.OffsetLayout=Ro;var Lt=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntLE(e,n,this.span),this.span}};q.UInt=Lt;var Qt=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntBE(e,n,this.span),this.span}};q.UIntBE=Qt;var an=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntLE(e,n,this.span),this.span}};q.Int=an;var An=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntBE(e,n,this.span),this.span}};q.IntBE=An;var wu=Math.pow(2,32);function Vs(r){let e=Math.floor(r/wu),t=r-e*wu;return{hi32:e,lo32:t}}function Ys(r,e){return r*wu+e}var Is=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=Ne(e),i=n.readUInt32LE(t),u=n.readUInt32LE(t+4);return Ys(u,i)}encode(e,t,n=0){let i=Vs(e),u=Ne(t);return u.writeUInt32LE(i.lo32,n),u.writeUInt32LE(i.hi32,n+4),8}};q.NearUInt64=Is;var Ps=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=Ne(e),i=n.readUInt32BE(t),u=n.readUInt32BE(t+4);return Ys(i,u)}encode(e,t,n=0){let i=Vs(e),u=Ne(t);return u.writeUInt32BE(i.hi32,n),u.writeUInt32BE(i.lo32,n+4),8}};q.NearUInt64BE=Ps;var xs=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=Ne(e),i=n.readUInt32LE(t),u=n.readInt32LE(t+4);return Ys(u,i)}encode(e,t,n=0){let i=Vs(e),u=Ne(t);return u.writeUInt32LE(i.lo32,n),u.writeInt32LE(i.hi32,n+4),8}};q.NearInt64=xs;var Os=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=Ne(e),i=n.readInt32BE(t),u=n.readUInt32BE(t+4);return Ys(i,u)}encode(e,t,n=0){let i=Vs(e),u=Ne(t);return u.writeInt32BE(i.hi32,n),u.writeUInt32BE(i.lo32,n+4),8}};q.NearInt64BE=Os;var ks=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatLE(t)}encode(e,t,n=0){return Ne(t).writeFloatLE(e,n),4}};q.Float=ks;var Us=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatBE(t)}encode(e,t,n=0){return Ne(t).writeFloatBE(e,n),4}};q.FloatBE=Us;var Cs=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleLE(t)}encode(e,t,n=0){return Ne(t).writeDoubleLE(e,n),8}};q.Double=Cs;var Rs=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleBE(t)}encode(e,t,n=0){return Ne(t).writeDoubleBE(e,n),8}};q.DoubleBE=Rs;var Ls=class extends Ve{constructor(e,t,n){if(!(e instanceof Ve))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Mt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Mt)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Mt&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let u=0;for(;u<i;)n+=this.elementLayout.getSpan(e,t+n),++u}return n}decode(e,t=0){let n=[],i=0,u=this.count;for(u instanceof Mt&&(u=u.decode(e,t));i<u;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,u=e.reduce((h,S)=>h+i.encode(S,t,n+h),0);return this.count instanceof Mt&&this.count.encode(e.length,t,n),u}};q.Sequence=Ls;var Ds=class extends Ve{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((u,h)=>u&&h instanceof Ve,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let u of e)if(0>u.span&&u.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((u,h)=>u+h.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,u)=>{let h=u.getSpan(e,t);return t+=h,i+h},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Ri(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,u=0,h=0;for(let S of this.fields){let w=S.span;if(h=0<w?w:0,S.property!==void 0){let A=e[S.property];A!==void 0&&(h=S.encode(A,t,n),0>w&&(w=S.getSpan(t,n)))}u=n,n+=w}return u+h-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};q.Structure=Ds;var Lo=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};q.UnionDiscriminator=Lo;var Ci=class extends Lo{constructor(e,t){if(!(e instanceof Mt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};q.UnionLayoutDiscriminator=Ci;var Do=class extends Ve{constructor(e,t,n){let i;if(e instanceof Lt||e instanceof Qt)i=new Ci(new Ro(e));else if(e instanceof Mt&&e.isCount())i=new Ci(e);else if(e instanceof Lo)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ve))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let u=-1;t&&(u=t.span,0<=u&&(e instanceof Lt||e instanceof Qt)&&(u+=i.layout.span)),super(u,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Lt||e instanceof Qt,this.defaultLayout=t,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(S){return h(S)},this.configGetSourceVariant=function(S){h=S.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,u=i.decode(e,t),h=this.registry[u];if(h===void 0){let S=this.defaultLayout,w=0;this.usesPrefixDiscriminator&&(w=i.layout.span),n=this.makeDestinationObject(),n[i.property]=u,n[S.property]=S.decode(e,t+w)}else n=h.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let u=this.discriminator,h=this.defaultLayout,S=0;return this.usesPrefixDiscriminator&&(S=u.layout.span),u.encode(e[u.property],t,n),S+h.encode(e[h.property],t,n+S)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new Fs(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};q.Union=Do;var Fs=class extends Ve{constructor(e,t,n,i){if(!(e instanceof Do))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ve))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let u=e.span;0>e.span&&(u=n?n.span:0,0<=u&&e.usesPrefixDiscriminator&&(u+=e.discriminator.layout.span)),super(u,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let u=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),u+=this.layout.getSpan(t,n+i),0<=this.union.span&&u>this.union.span))throw new Error("encoded variant overruns containing union");return u}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};q.VariantLayout=Fs;function Ui(r){return 0>r&&(r+=4294967296),r}var Fo=class extends Ve{constructor(e,t,n){if(!(e instanceof Lt||e instanceof Qt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(u){return i=Ui(u),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let u of this.fields)u.property!==void 0&&(n[u.property]=u.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let u of this.fields)if(u.property!==void 0){let h=e[u.property];h!==void 0&&u.encode(h)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Ko(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Ks(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};q.BitStructure=Fo;var Ko=class{constructor(e,t,n){if(!(e instanceof Fo))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,u=e.fields.reduce((h,S)=>h+S.bits,0);if(t+u>i)throw new Error("bits too long for span remainder ("+(i-u)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=u,this.container.msb&&(this.start=i-u-t),this.wordMask=Ui(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Ui(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ui(e&this.valueMask))throw new TypeError(Mu("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Ui(e<<this.start);this.container._packedSetValue(Ui(t&~this.wordMask)|n)}};q.BitField=Ko;var Ks=class extends Ko{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=Ks;var qs=class extends Ve{constructor(e,t){if(!(e instanceof Mt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Mt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ne(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof Mt&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Mu("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let u=Ne(e);return Ne(t).write(u.toString("hex"),n,i,"hex"),this.length instanceof Mt&&this.length.encode(i,t,n),i}};q.Blob=qs;var zs=class extends Ve{constructor(e){super(-1,e)}getSpan(e,t=0){Ri(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Ne(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=_u.Buffer.from(e,"utf8"),u=i.length;if(n+u>t.length)throw new RangeError("encoding overruns Buffer");let h=Ne(t);return i.copy(h,n),h[n+u]=0,u+1}};q.CString=zs;var Ns=class extends Ve{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Ri(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ne(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=_u.Buffer.from(e,"utf8"),u=i.length;if(0<=this.maxSpan&&this.maxSpan<u)throw new RangeError("text length exceeds maxSpan");if(n+u>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ne(t),n),u}};q.UTF8=Ns;var js=class extends Ve{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};q.Constant=js;q.greedy=(r,e)=>new Bs(r,e);q.offset=(r,e,t)=>new Ro(r,e,t);q.u8=r=>new Lt(1,r);q.u16=r=>new Lt(2,r);q.u24=r=>new Lt(3,r);q.u32=r=>new Lt(4,r);q.u40=r=>new Lt(5,r);q.u48=r=>new Lt(6,r);q.nu64=r=>new Is(r);q.u16be=r=>new Qt(2,r);q.u24be=r=>new Qt(3,r);q.u32be=r=>new Qt(4,r);q.u40be=r=>new Qt(5,r);q.u48be=r=>new Qt(6,r);q.nu64be=r=>new Ps(r);q.s8=r=>new an(1,r);q.s16=r=>new an(2,r);q.s24=r=>new an(3,r);q.s32=r=>new an(4,r);q.s40=r=>new an(5,r);q.s48=r=>new an(6,r);q.ns64=r=>new xs(r);q.s16be=r=>new An(2,r);q.s24be=r=>new An(3,r);q.s32be=r=>new An(4,r);q.s40be=r=>new An(5,r);q.s48be=r=>new An(6,r);q.ns64be=r=>new Os(r);q.f32=r=>new ks(r);q.f32be=r=>new Us(r);q.f64=r=>new Cs(r);q.f64be=r=>new Rs(r);q.struct=(r,e,t)=>new Ds(r,e,t);q.bits=(r,e,t)=>new Fo(r,e,t);q.seq=(r,e,t)=>new Ls(r,e,t);q.union=(r,e,t)=>new Do(r,e,t);q.unionLayoutDiscriminator=(r,e)=>new Ci(r,e);q.blob=(r,e)=>new qs(r,e);q.cstr=r=>new zs(r);q.utf8=(r,e)=>new Ns(r,e);q.constant=(r,e)=>new js(r,e)});var Di=W($s=>{"use strict";B();I();Object.defineProperty($s,"__esModule",{value:!0});$s.encodeDecode=void 0;var og=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};$s.encodeDecode=og});var Ws=W(Fi=>{"use strict";B();I();Object.defineProperty(Fi,"__esModule",{value:!0});var Gs;function sg(r){{let e=K.Buffer.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Gs.toBigInt(r,!1)}Fi.toBigIntLE=sg;function ag(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Gs.toBigInt(r,!0)}Fi.toBigIntBE=ag;function ug(r,e){{let t=r.toString(16),n=K.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return Gs.fromBigInt(r,K.Buffer.allocUnsafe(e),!1)}Fi.toBufferLE=ug;function fg(r,e){{let t=r.toString(16);return K.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return Gs.fromBigInt(r,K.Buffer.allocUnsafe(e),!0)}Fi.toBufferBE=fg});var Su=W(Ye=>{"use strict";B();I();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.u256be=Ye.u256=Ye.u192be=Ye.u192=Ye.u128be=Ye.u128=Ye.u64be=Ye.u64=Ye.bigIntBE=Ye.bigInt=void 0;var cl=_t(),ll=Li(),Hs=Ws(),hl=Di(),cg=r=>e=>{let t=(0,ll.blob)(r,e),{encode:n,decode:i}=(0,hl.encodeDecode)(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Hs.toBigIntLE)(cl.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Hs.toBufferLE)(h,r);return n(A,S,w)},u};Ye.bigInt=cg;var lg=r=>e=>{let t=(0,ll.blob)(r,e),{encode:n,decode:i}=(0,hl.encodeDecode)(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Hs.toBigIntBE)(cl.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Hs.toBufferBE)(h,r);return n(A,S,w)},u};Ye.bigIntBE=lg;Ye.u64=(0,Ye.bigInt)(8);Ye.u64be=(0,Ye.bigIntBE)(8);Ye.u128=(0,Ye.bigInt)(16);Ye.u128be=(0,Ye.bigIntBE)(16);Ye.u192=(0,Ye.bigInt)(24);Ye.u192be=(0,Ye.bigIntBE)(24);Ye.u256=(0,Ye.bigInt)(32);Ye.u256be=(0,Ye.bigIntBE)(32)});var pl=W(En=>{"use strict";B();I();Object.defineProperty(En,"__esModule",{value:!0});En.decimal=En.WAD=void 0;var dl=Xt(),hg=Di(),dg=Su();En.WAD=new dl.BigNumber("1e+18");var pg=r=>{let e=(0,dg.u128)(r),{encode:t,decode:n}=(0,hg.encodeDecode)(e),i=e;return i.decode=(u,h)=>{let S=n(u,h).toString();return new dl.BigNumber(S).div(En.WAD)},i.encode=(u,h,S)=>{let w=BigInt(u.times(En.WAD).integerValue().toString());return t(w,h,S)},i};En.decimal=pg});var gl=W(Zs=>{"use strict";B();I();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.bool=void 0;var gg=Li(),yg=Di(),bg=r=>{let e=(0,gg.u8)(r),{encode:t,decode:n}=(0,yg.encodeDecode)(e),i=e;return i.decode=(u,h)=>!!n(u,h),i.encode=(u,h,S)=>{let w=Number(u);return t(w,h,S)},i};Zs.bool=bg});var yl=W(Js=>{"use strict";B();I();Object.defineProperty(Js,"__esModule",{value:!0});Js.publicKey=void 0;var mg=Li(),vg=tt(),wg=Di(),_g=r=>{let e=(0,mg.blob)(32,r),{encode:t,decode:n}=(0,wg.encodeDecode)(e),i=e;return i.decode=(u,h)=>{let S=n(u,h);return new vg.PublicKey(S)},i.encode=(u,h,S)=>{let w=u.toBuffer();return t(w,h,S)},i};Js.publicKey=_g});var bl=W(lr=>{"use strict";B();I();var Mg=lr&&lr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ki=lr&&lr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Mg(e,r,t)};Object.defineProperty(lr,"__esModule",{value:!0});Ki(Di(),lr);Ki(Su(),lr);Ki(pl(),lr);Ki(gl(),lr);Ki(yl(),lr);Ki(Li(),lr)});var ht=W(Tn=>{"use strict";B();I();var Sg=Tn&&Tn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ml=Tn&&Tn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Sg(e,r,t)};Object.defineProperty(Tn,"__esModule",{value:!0});ml(Li(),Tn);ml(bl(),Tn)});var Au=W(Dr=>{"use strict";B();I();var Ag=Dr&&Dr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eg=Dr&&Dr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tg=Dr&&Dr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ag(e,r,t);return Eg(e,r),e};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.FeeCalculatorLayout=void 0;var Bg=Tg(ht());Dr.FeeCalculatorLayout=Bg.nu64("lamportsPerSignature")});var wl=W((vl,Eu)=>{B();I();(function(r,e){"use strict";function t(b,o){if(!b)throw new Error(o||"Assertion failed")}function n(b,o){b.super_=o;var a=function(){};a.prototype=o.prototype,b.prototype=new a,b.prototype.constructor=b}function i(b,o,a){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(b||0,o||10,a||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=_t().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),t(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(a===16?this._parseHex(o,l,f):(this._parseBase(o,a,l),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g,_,E=0;if(f==="be")for(l=o.length-1,g=0;l>=0;l-=3)_=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(l=0,g=0;l<o.length;l+=3)_=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function h(b,o){var a=b.charCodeAt(o);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;t(!1,"Invalid character in "+b)}function S(b,o,a){var f=h(b,a);return a-1>=o&&(f|=h(b,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g=0,_=0,E;if(f==="be")for(l=o.length-1;l>=a;l-=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8;else{var p=o.length-a;for(l=p%2===0?a+1:a;l<o.length;l+=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8}this._strip()};function w(b,o,a,f){for(var l=0,g=0,_=Math.min(b.length,a),E=o;E<_;E++){var p=b.charCodeAt(E)-48;l*=f,p>=49?g=p-49+10:p>=17?g=p-17+10:g=p,t(p>=0&&g<f,"Invalid character"),l+=g}return l}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var l=0,g=1;g<=67108863;g*=a)l++;l--,g=g/a|0;for(var _=o.length-f,E=_%l,p=Math.min(_,_-E)+f,s=0,y=f;y<p;y+=l)s=w(o,y,y+l,a),this.imuln(g),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(E!==0){var V=1;for(s=w(o,y,o.length,a),y=0;y<E;y++)V*=a;this.imuln(V),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red};function A(b,o){b.words=o.words,b.length=o.length,b.negative=o.negative,b.red=o.red}if(i.prototype._move=function(o){A(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{i.prototype.inspect=C}else i.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var l=0,g=0,_=0;_<this.length;_++){var E=this.words[_],p=((E<<l|g)&16777215).toString(16);g=E>>>24-l&16777215,l+=2,l>=26&&(l-=26,_--),g!==0||_!==this.length-1?f=x[6-p.length]+p+f:f=p+f}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var s=D[o],y=k[o];f="";var V=this.clone();for(V.negative=0;!V.isZero();){var G=V.modrn(y).toString(o);V=V.idivn(y),V.isZero()?f=G+f:f=x[s-G.length]+G+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(o,a){return this.toArrayLike(u,o,a)}),i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)};var Y=function(o,a){return o.allocUnsafe?o.allocUnsafe(a):new o(a)};i.prototype.toArrayLike=function(o,a,f){this._strip();var l=this.byteLength(),g=f||Math.max(1,l);t(l<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var _=Y(o,g),E=a==="le"?"LE":"BE";return this["_toArrayLike"+E](_,l),_},i.prototype._toArrayLikeLE=function(o,a){for(var f=0,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f++]=E&255,f<o.length&&(o[f++]=E>>8&255),f<o.length&&(o[f++]=E>>16&255),_===6?(f<o.length&&(o[f++]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f<o.length)for(o[f++]=l;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,a){for(var f=o.length-1,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f--]=E&255,f>=0&&(o[f--]=E>>8&255),f>=0&&(o[f--]=E>>16&255),_===6?(f>=0&&(o[f--]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f>=0)for(o[f--]=l;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return(a&8191)===0&&(f+=13,a>>>=13),(a&127)===0&&(f+=7,a>>>=7),(a&15)===0&&(f+=4,a>>>=4),(a&3)===0&&(f+=2,a>>>=2),(a&1)===0&&f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function N(b){for(var o=new Array(b.bitLength()),a=0;a<o.length;a++){var f=a/26|0,l=a%26;o[a]=b.words[f]>>>l&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var l=0;l<f.length;l++)this.words[l]=a.words[l]^f.words[l];if(this!==a)for(;l<a.length;l++)this.words[l]=a.words[l];return this.length=a.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var l=0;l<a;l++)this.words[l]=~this.words[l]&67108863;return f>0&&(this.words[l]=~this.words[l]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){t(typeof o=="number"&&o>=0);var f=o/26|0,l=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<l:this.words[f]=this.words[f]&~(1<<l),this._strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,l;this.length>o.length?(f=this,l=o):(f=o,l=this);for(var g=0,_=0;_<l.length;_++)a=(f.words[_]|0)+(l.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;for(;g!==0&&_<f.length;_++)a=(f.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;_<f.length;_++)this.words[_]=f.words[_];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,g;f>0?(l=this,g=o):(l=o,g=this);for(var _=0,E=0;E<g.length;E++)a=(l.words[E]|0)-(g.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;for(;_!==0&&E<l.length;E++)a=(l.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;if(_===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function $(b,o,a){a.negative=o.negative^b.negative;var f=b.length+o.length|0;a.length=f,f=f-1|0;var l=b.words[0]|0,g=o.words[0]|0,_=l*g,E=_&67108863,p=_/67108864|0;a.words[0]=E;for(var s=1;s<f;s++){for(var y=p>>>26,V=p&67108863,G=Math.min(s,o.length-1),Z=Math.max(0,s-b.length+1);Z<=G;Z++){var d=s-Z|0;l=b.words[d]|0,g=o.words[Z]|0,_=l*g+V,y+=_/67108864|0,V=_&67108863}a.words[s]=V|0,p=y|0}return p!==0?a.words[s]=p|0:a.length--,a._strip()}var H=function(o,a,f){var l=o.words,g=a.words,_=f.words,E=0,p,s,y,V=l[0]|0,G=V&8191,Z=V>>>13,d=l[1]|0,v=d&8191,T=d>>>13,O=l[2]|0,R=O&8191,L=O>>>13,ee=l[3]|0,Q=ee&8191,re=ee>>>13,Le=l[4]|0,te=Le&8191,c=Le>>>13,m=l[5]|0,M=m&8191,P=m>>>13,F=l[6]|0,U=F&8191,z=F>>>13,ce=l[7]|0,ne=ce&8191,oe=ce>>>13,Fe=l[8]|0,se=Fe&8191,he=Fe>>>13,Ao=l[9]|0,de=Ao&8191,pe=Ao>>>13,Eo=g[0]|0,ge=Eo&8191,ye=Eo>>>13,To=g[1]|0,be=To&8191,me=To>>>13,Bo=g[2]|0,ve=Bo&8191,we=Bo>>>13,Io=g[3]|0,_e=Io&8191,Me=Io>>>13,Po=g[4]|0,Se=Po&8191,Ae=Po>>>13,xo=g[5]|0,Ee=xo&8191,Te=xo>>>13,Oo=g[6]|0,Be=Oo&8191,Ie=Oo>>>13,ko=g[7]|0,Pe=ko&8191,xe=ko>>>13,Uo=g[8]|0,Oe=Uo&8191,ke=Uo>>>13,Co=g[9]|0,Ue=Co&8191,Ce=Co>>>13;f.negative=o.negative^a.negative,f.length=19,p=Math.imul(G,ge),s=Math.imul(G,ye),s=s+Math.imul(Z,ge)|0,y=Math.imul(Z,ye);var Yn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,p=Math.imul(v,ge),s=Math.imul(v,ye),s=s+Math.imul(T,ge)|0,y=Math.imul(T,ye),p=p+Math.imul(G,be)|0,s=s+Math.imul(G,me)|0,s=s+Math.imul(Z,be)|0,y=y+Math.imul(Z,me)|0;var $n=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,p=Math.imul(R,ge),s=Math.imul(R,ye),s=s+Math.imul(L,ge)|0,y=Math.imul(L,ye),p=p+Math.imul(v,be)|0,s=s+Math.imul(v,me)|0,s=s+Math.imul(T,be)|0,y=y+Math.imul(T,me)|0,p=p+Math.imul(G,ve)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,we)|0;var Gn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,p=Math.imul(Q,ge),s=Math.imul(Q,ye),s=s+Math.imul(re,ge)|0,y=Math.imul(re,ye),p=p+Math.imul(R,be)|0,s=s+Math.imul(R,me)|0,s=s+Math.imul(L,be)|0,y=y+Math.imul(L,me)|0,p=p+Math.imul(v,ve)|0,s=s+Math.imul(v,we)|0,s=s+Math.imul(T,ve)|0,y=y+Math.imul(T,we)|0,p=p+Math.imul(G,_e)|0,s=s+Math.imul(G,Me)|0,s=s+Math.imul(Z,_e)|0,y=y+Math.imul(Z,Me)|0;var Wn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,p=Math.imul(te,ge),s=Math.imul(te,ye),s=s+Math.imul(c,ge)|0,y=Math.imul(c,ye),p=p+Math.imul(Q,be)|0,s=s+Math.imul(Q,me)|0,s=s+Math.imul(re,be)|0,y=y+Math.imul(re,me)|0,p=p+Math.imul(R,ve)|0,s=s+Math.imul(R,we)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,we)|0,p=p+Math.imul(v,_e)|0,s=s+Math.imul(v,Me)|0,s=s+Math.imul(T,_e)|0,y=y+Math.imul(T,Me)|0,p=p+Math.imul(G,Se)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,Ae)|0;var Hn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,p=Math.imul(M,ge),s=Math.imul(M,ye),s=s+Math.imul(P,ge)|0,y=Math.imul(P,ye),p=p+Math.imul(te,be)|0,s=s+Math.imul(te,me)|0,s=s+Math.imul(c,be)|0,y=y+Math.imul(c,me)|0,p=p+Math.imul(Q,ve)|0,s=s+Math.imul(Q,we)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,we)|0,p=p+Math.imul(R,_e)|0,s=s+Math.imul(R,Me)|0,s=s+Math.imul(L,_e)|0,y=y+Math.imul(L,Me)|0,p=p+Math.imul(v,Se)|0,s=s+Math.imul(v,Ae)|0,s=s+Math.imul(T,Se)|0,y=y+Math.imul(T,Ae)|0,p=p+Math.imul(G,Ee)|0,s=s+Math.imul(G,Te)|0,s=s+Math.imul(Z,Ee)|0,y=y+Math.imul(Z,Te)|0;var Zn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,p=Math.imul(U,ge),s=Math.imul(U,ye),s=s+Math.imul(z,ge)|0,y=Math.imul(z,ye),p=p+Math.imul(M,be)|0,s=s+Math.imul(M,me)|0,s=s+Math.imul(P,be)|0,y=y+Math.imul(P,me)|0,p=p+Math.imul(te,ve)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(c,ve)|0,y=y+Math.imul(c,we)|0,p=p+Math.imul(Q,_e)|0,s=s+Math.imul(Q,Me)|0,s=s+Math.imul(re,_e)|0,y=y+Math.imul(re,Me)|0,p=p+Math.imul(R,Se)|0,s=s+Math.imul(R,Ae)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,Ae)|0,p=p+Math.imul(v,Ee)|0,s=s+Math.imul(v,Te)|0,s=s+Math.imul(T,Ee)|0,y=y+Math.imul(T,Te)|0,p=p+Math.imul(G,Be)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,Be)|0,y=y+Math.imul(Z,Ie)|0;var Jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,p=Math.imul(ne,ge),s=Math.imul(ne,ye),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,ye),p=p+Math.imul(U,be)|0,s=s+Math.imul(U,me)|0,s=s+Math.imul(z,be)|0,y=y+Math.imul(z,me)|0,p=p+Math.imul(M,ve)|0,s=s+Math.imul(M,we)|0,s=s+Math.imul(P,ve)|0,y=y+Math.imul(P,we)|0,p=p+Math.imul(te,_e)|0,s=s+Math.imul(te,Me)|0,s=s+Math.imul(c,_e)|0,y=y+Math.imul(c,Me)|0,p=p+Math.imul(Q,Se)|0,s=s+Math.imul(Q,Ae)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,p=p+Math.imul(R,Ee)|0,s=s+Math.imul(R,Te)|0,s=s+Math.imul(L,Ee)|0,y=y+Math.imul(L,Te)|0,p=p+Math.imul(v,Be)|0,s=s+Math.imul(v,Ie)|0,s=s+Math.imul(T,Be)|0,y=y+Math.imul(T,Ie)|0,p=p+Math.imul(G,Pe)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,Pe)|0,y=y+Math.imul(Z,xe)|0;var Xn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,p=Math.imul(se,ge),s=Math.imul(se,ye),s=s+Math.imul(he,ge)|0,y=Math.imul(he,ye),p=p+Math.imul(ne,be)|0,s=s+Math.imul(ne,me)|0,s=s+Math.imul(oe,be)|0,y=y+Math.imul(oe,me)|0,p=p+Math.imul(U,ve)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(z,ve)|0,y=y+Math.imul(z,we)|0,p=p+Math.imul(M,_e)|0,s=s+Math.imul(M,Me)|0,s=s+Math.imul(P,_e)|0,y=y+Math.imul(P,Me)|0,p=p+Math.imul(te,Se)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(c,Se)|0,y=y+Math.imul(c,Ae)|0,p=p+Math.imul(Q,Ee)|0,s=s+Math.imul(Q,Te)|0,s=s+Math.imul(re,Ee)|0,y=y+Math.imul(re,Te)|0,p=p+Math.imul(R,Be)|0,s=s+Math.imul(R,Ie)|0,s=s+Math.imul(L,Be)|0,y=y+Math.imul(L,Ie)|0,p=p+Math.imul(v,Pe)|0,s=s+Math.imul(v,xe)|0,s=s+Math.imul(T,Pe)|0,y=y+Math.imul(T,xe)|0,p=p+Math.imul(G,Oe)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Oe)|0,y=y+Math.imul(Z,ke)|0;var Qn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,p=Math.imul(de,ge),s=Math.imul(de,ye),s=s+Math.imul(pe,ge)|0,y=Math.imul(pe,ye),p=p+Math.imul(se,be)|0,s=s+Math.imul(se,me)|0,s=s+Math.imul(he,be)|0,y=y+Math.imul(he,me)|0,p=p+Math.imul(ne,ve)|0,s=s+Math.imul(ne,we)|0,s=s+Math.imul(oe,ve)|0,y=y+Math.imul(oe,we)|0,p=p+Math.imul(U,_e)|0,s=s+Math.imul(U,Me)|0,s=s+Math.imul(z,_e)|0,y=y+Math.imul(z,Me)|0,p=p+Math.imul(M,Se)|0,s=s+Math.imul(M,Ae)|0,s=s+Math.imul(P,Se)|0,y=y+Math.imul(P,Ae)|0,p=p+Math.imul(te,Ee)|0,s=s+Math.imul(te,Te)|0,s=s+Math.imul(c,Ee)|0,y=y+Math.imul(c,Te)|0,p=p+Math.imul(Q,Be)|0,s=s+Math.imul(Q,Ie)|0,s=s+Math.imul(re,Be)|0,y=y+Math.imul(re,Ie)|0,p=p+Math.imul(R,Pe)|0,s=s+Math.imul(R,xe)|0,s=s+Math.imul(L,Pe)|0,y=y+Math.imul(L,xe)|0,p=p+Math.imul(v,Oe)|0,s=s+Math.imul(v,ke)|0,s=s+Math.imul(T,Oe)|0,y=y+Math.imul(T,ke)|0,p=p+Math.imul(G,Ue)|0,s=s+Math.imul(G,Ce)|0,s=s+Math.imul(Z,Ue)|0,y=y+Math.imul(Z,Ce)|0;var ei=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ei>>>26)|0,ei&=67108863,p=Math.imul(de,be),s=Math.imul(de,me),s=s+Math.imul(pe,be)|0,y=Math.imul(pe,me),p=p+Math.imul(se,ve)|0,s=s+Math.imul(se,we)|0,s=s+Math.imul(he,ve)|0,y=y+Math.imul(he,we)|0,p=p+Math.imul(ne,_e)|0,s=s+Math.imul(ne,Me)|0,s=s+Math.imul(oe,_e)|0,y=y+Math.imul(oe,Me)|0,p=p+Math.imul(U,Se)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(z,Se)|0,y=y+Math.imul(z,Ae)|0,p=p+Math.imul(M,Ee)|0,s=s+Math.imul(M,Te)|0,s=s+Math.imul(P,Ee)|0,y=y+Math.imul(P,Te)|0,p=p+Math.imul(te,Be)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(c,Be)|0,y=y+Math.imul(c,Ie)|0,p=p+Math.imul(Q,Pe)|0,s=s+Math.imul(Q,xe)|0,s=s+Math.imul(re,Pe)|0,y=y+Math.imul(re,xe)|0,p=p+Math.imul(R,Oe)|0,s=s+Math.imul(R,ke)|0,s=s+Math.imul(L,Oe)|0,y=y+Math.imul(L,ke)|0,p=p+Math.imul(v,Ue)|0,s=s+Math.imul(v,Ce)|0,s=s+Math.imul(T,Ue)|0,y=y+Math.imul(T,Ce)|0;var ti=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ti>>>26)|0,ti&=67108863,p=Math.imul(de,ve),s=Math.imul(de,we),s=s+Math.imul(pe,ve)|0,y=Math.imul(pe,we),p=p+Math.imul(se,_e)|0,s=s+Math.imul(se,Me)|0,s=s+Math.imul(he,_e)|0,y=y+Math.imul(he,Me)|0,p=p+Math.imul(ne,Se)|0,s=s+Math.imul(ne,Ae)|0,s=s+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,p=p+Math.imul(U,Ee)|0,s=s+Math.imul(U,Te)|0,s=s+Math.imul(z,Ee)|0,y=y+Math.imul(z,Te)|0,p=p+Math.imul(M,Be)|0,s=s+Math.imul(M,Ie)|0,s=s+Math.imul(P,Be)|0,y=y+Math.imul(P,Ie)|0,p=p+Math.imul(te,Pe)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(c,Pe)|0,y=y+Math.imul(c,xe)|0,p=p+Math.imul(Q,Oe)|0,s=s+Math.imul(Q,ke)|0,s=s+Math.imul(re,Oe)|0,y=y+Math.imul(re,ke)|0,p=p+Math.imul(R,Ue)|0,s=s+Math.imul(R,Ce)|0,s=s+Math.imul(L,Ue)|0,y=y+Math.imul(L,Ce)|0;var ri=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,p=Math.imul(de,_e),s=Math.imul(de,Me),s=s+Math.imul(pe,_e)|0,y=Math.imul(pe,Me),p=p+Math.imul(se,Se)|0,s=s+Math.imul(se,Ae)|0,s=s+Math.imul(he,Se)|0,y=y+Math.imul(he,Ae)|0,p=p+Math.imul(ne,Ee)|0,s=s+Math.imul(ne,Te)|0,s=s+Math.imul(oe,Ee)|0,y=y+Math.imul(oe,Te)|0,p=p+Math.imul(U,Be)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(z,Be)|0,y=y+Math.imul(z,Ie)|0,p=p+Math.imul(M,Pe)|0,s=s+Math.imul(M,xe)|0,s=s+Math.imul(P,Pe)|0,y=y+Math.imul(P,xe)|0,p=p+Math.imul(te,Oe)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(c,Oe)|0,y=y+Math.imul(c,ke)|0,p=p+Math.imul(Q,Ue)|0,s=s+Math.imul(Q,Ce)|0,s=s+Math.imul(re,Ue)|0,y=y+Math.imul(re,Ce)|0;var ni=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,p=Math.imul(de,Se),s=Math.imul(de,Ae),s=s+Math.imul(pe,Se)|0,y=Math.imul(pe,Ae),p=p+Math.imul(se,Ee)|0,s=s+Math.imul(se,Te)|0,s=s+Math.imul(he,Ee)|0,y=y+Math.imul(he,Te)|0,p=p+Math.imul(ne,Be)|0,s=s+Math.imul(ne,Ie)|0,s=s+Math.imul(oe,Be)|0,y=y+Math.imul(oe,Ie)|0,p=p+Math.imul(U,Pe)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(z,Pe)|0,y=y+Math.imul(z,xe)|0,p=p+Math.imul(M,Oe)|0,s=s+Math.imul(M,ke)|0,s=s+Math.imul(P,Oe)|0,y=y+Math.imul(P,ke)|0,p=p+Math.imul(te,Ue)|0,s=s+Math.imul(te,Ce)|0,s=s+Math.imul(c,Ue)|0,y=y+Math.imul(c,Ce)|0;var ii=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ii>>>26)|0,ii&=67108863,p=Math.imul(de,Ee),s=Math.imul(de,Te),s=s+Math.imul(pe,Ee)|0,y=Math.imul(pe,Te),p=p+Math.imul(se,Be)|0,s=s+Math.imul(se,Ie)|0,s=s+Math.imul(he,Be)|0,y=y+Math.imul(he,Ie)|0,p=p+Math.imul(ne,Pe)|0,s=s+Math.imul(ne,xe)|0,s=s+Math.imul(oe,Pe)|0,y=y+Math.imul(oe,xe)|0,p=p+Math.imul(U,Oe)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(z,Oe)|0,y=y+Math.imul(z,ke)|0,p=p+Math.imul(M,Ue)|0,s=s+Math.imul(M,Ce)|0,s=s+Math.imul(P,Ue)|0,y=y+Math.imul(P,Ce)|0;var oi=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,p=Math.imul(de,Be),s=Math.imul(de,Ie),s=s+Math.imul(pe,Be)|0,y=Math.imul(pe,Ie),p=p+Math.imul(se,Pe)|0,s=s+Math.imul(se,xe)|0,s=s+Math.imul(he,Pe)|0,y=y+Math.imul(he,xe)|0,p=p+Math.imul(ne,Oe)|0,s=s+Math.imul(ne,ke)|0,s=s+Math.imul(oe,Oe)|0,y=y+Math.imul(oe,ke)|0,p=p+Math.imul(U,Ue)|0,s=s+Math.imul(U,Ce)|0,s=s+Math.imul(z,Ue)|0,y=y+Math.imul(z,Ce)|0;var si=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(si>>>26)|0,si&=67108863,p=Math.imul(de,Pe),s=Math.imul(de,xe),s=s+Math.imul(pe,Pe)|0,y=Math.imul(pe,xe),p=p+Math.imul(se,Oe)|0,s=s+Math.imul(se,ke)|0,s=s+Math.imul(he,Oe)|0,y=y+Math.imul(he,ke)|0,p=p+Math.imul(ne,Ue)|0,s=s+Math.imul(ne,Ce)|0,s=s+Math.imul(oe,Ue)|0,y=y+Math.imul(oe,Ce)|0;var ai=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ai>>>26)|0,ai&=67108863,p=Math.imul(de,Oe),s=Math.imul(de,ke),s=s+Math.imul(pe,Oe)|0,y=Math.imul(pe,ke),p=p+Math.imul(se,Ue)|0,s=s+Math.imul(se,Ce)|0,s=s+Math.imul(he,Ue)|0,y=y+Math.imul(he,Ce)|0;var ui=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ui>>>26)|0,ui&=67108863,p=Math.imul(de,Ue),s=Math.imul(de,Ce),s=s+Math.imul(pe,Ue)|0,y=Math.imul(pe,Ce);var fi=(E+p|0)+((s&8191)<<13)|0;return E=(y+(s>>>13)|0)+(fi>>>26)|0,fi&=67108863,_[0]=Yn,_[1]=$n,_[2]=Gn,_[3]=Wn,_[4]=Hn,_[5]=Zn,_[6]=Jn,_[7]=Xn,_[8]=Qn,_[9]=ei,_[10]=ti,_[11]=ri,_[12]=ni,_[13]=ii,_[14]=oi,_[15]=si,_[16]=ai,_[17]=ui,_[18]=fi,E!==0&&(_[19]=E,f.length++),f};Math.imul||(H=$);function ie(b,o,a){a.negative=o.negative^b.negative,a.length=b.length+o.length;for(var f=0,l=0,g=0;g<a.length-1;g++){var _=l;l=0;for(var E=f&67108863,p=Math.min(g,o.length-1),s=Math.max(0,g-b.length+1);s<=p;s++){var y=g-s,V=b.words[y]|0,G=o.words[s]|0,Z=V*G,d=Z&67108863;_=_+(Z/67108864|0)|0,d=d+E|0,E=d&67108863,_=_+(d>>>26)|0,l+=_>>>26,_&=67108863}a.words[g]=E,f=_,_=l}return f!==0?a.words[g]=f:a.length--,a._strip()}function qe(b,o,a){return ie(b,o,a)}i.prototype.mulTo=function(o,a){var f,l=this.length+o.length;return this.length===10&&o.length===10?f=H(this,o,a):l<63?f=$(this,o,a):l<1024?f=ie(this,o,a):f=qe(this,o,a),f};function ue(b,o){this.x=b,this.y=o}ue.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,l=0;l<o;l++)a[l]=this.revBin(l,f,o);return a},ue.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var l=0,g=0;g<a;g++)l|=(o&1)<<a-g-1,o>>=1;return l},ue.prototype.permute=function(o,a,f,l,g,_){for(var E=0;E<_;E++)l[E]=a[o[E]],g[E]=f[o[E]]},ue.prototype.transform=function(o,a,f,l,g,_){this.permute(_,o,a,f,l,g);for(var E=1;E<g;E<<=1)for(var p=E<<1,s=Math.cos(2*Math.PI/p),y=Math.sin(2*Math.PI/p),V=0;V<g;V+=p)for(var G=s,Z=y,d=0;d<E;d++){var v=f[V+d],T=l[V+d],O=f[V+d+E],R=l[V+d+E],L=G*O-Z*R;R=G*R+Z*O,O=L,f[V+d]=v+O,l[V+d]=T+R,f[V+d+E]=v-O,l[V+d+E]=T-R,d!==p&&(L=s*G-y*Z,Z=s*Z+y*G,G=L)}},ue.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,l=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+l},ue.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var l=0;l<f/2;l++){var g=o[l];o[l]=o[f-l-1],o[f-l-1]=g,g=a[l],a[l]=-a[f-l-1],a[f-l-1]=-g}},ue.prototype.normalize13b=function(o,a){for(var f=0,l=0;l<a/2;l++){var g=Math.round(o[2*l+1]/a)*8192+Math.round(o[2*l]/a)+f;o[l]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},ue.prototype.convert13b=function(o,a,f,l){for(var g=0,_=0;_<a;_++)g=g+(o[_]|0),f[2*_]=g&8191,g=g>>>13,f[2*_+1]=g&8191,g=g>>>13;for(_=2*a;_<l;++_)f[_]=0;t(g===0),t((g&-8192)===0)},ue.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},ue.prototype.mulp=function(o,a,f){var l=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(l),_=this.stub(l),E=new Array(l),p=new Array(l),s=new Array(l),y=new Array(l),V=new Array(l),G=new Array(l),Z=f.words;Z.length=l,this.convert13b(o.words,o.length,E,l),this.convert13b(a.words,a.length,y,l),this.transform(E,_,p,s,l,g),this.transform(y,_,V,G,l,g);for(var d=0;d<l;d++){var v=p[d]*V[d]-s[d]*G[d];s[d]=p[d]*G[d]+s[d]*V[d],p[d]=v}return this.conjugate(p,s,l),this.transform(p,s,Z,_,l,g),this.conjugate(Z,_,l),this.normalize13b(Z,l),f.negative=o.negative^a.negative,f.length=o.length+a.length,f._strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),qe(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var a=o<0;a&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var f=0,l=0;l<this.length;l++){var g=(this.words[l]|0)*o,_=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=_>>>26,this.words[l]=_&67108863}return f!==0&&(this.words[l]=f,this.length++),a?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=N(o);if(a.length===0)return new i(1);for(var f=this,l=0;l<a.length&&a[l]===0;l++,f=f.sqr());if(++l<a.length)for(var g=f.sqr();l<a.length;l++,g=g.sqr())a[l]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=67108863>>>26-a<<26-a,g;if(a!==0){var _=0;for(g=0;g<this.length;g++){var E=this.words[g]&l,p=(this.words[g]|0)-E<<a;this.words[g]=p|_,_=E>>>26-a}_&&(this.words[g]=_,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){t(typeof o=="number"&&o>=0);var l;a?l=(a-a%26)/26:l=0;var g=o%26,_=Math.min((o-g)/26,this.length),E=67108863^67108863>>>g<<g,p=f;if(l-=_,l=Math.max(0,l),p){for(var s=0;s<_;s++)p.words[s]=this.words[s];p.length=_}if(_!==0)if(this.length>_)for(this.length-=_,s=0;s<this.length;s++)this.words[s]=this.words[s+_];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=l);s--){var V=this.words[s]|0;this.words[s]=y<<26-g|V>>>g,y=V&E}return p&&y!==0&&(p.words[p.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,a,f){return t(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&l)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var l=67108863^67108863>>>a<<a;this.words[this.length-1]&=l}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var l=o.length+f,g;this._expand(l);var _,E=0;for(g=0;g<o.length;g++){_=(this.words[g+f]|0)+E;var p=(o.words[g]|0)*a;_-=p&67108863,E=(_>>26)-(p/67108864|0),this.words[g+f]=_&67108863}for(;g<this.length-f;g++)_=(this.words[g+f]|0)+E,E=_>>26,this.words[g+f]=_&67108863;if(E===0)return this._strip();for(t(E===-1),E=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+E,E=_>>26,this.words[g]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,l=this.clone(),g=o,_=g.words[g.length-1]|0,E=this._countBits(_);f=26-E,f!==0&&(g=g.ushln(f),l.iushln(f),_=g.words[g.length-1]|0);var p=l.length-g.length,s;if(a!=="mod"){s=new i(null),s.length=p+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var V=l.clone()._ishlnsubmul(g,1,p);V.negative===0&&(l=V,s&&(s.words[p]=1));for(var G=p-1;G>=0;G--){var Z=(l.words[g.length+G]|0)*67108864+(l.words[g.length+G-1]|0);for(Z=Math.min(Z/_|0,67108863),l._ishlnsubmul(g,Z,G);l.negative!==0;)Z--,l.negative=0,l._ishlnsubmul(g,1,G),l.isZero()||(l.negative^=1);s&&(s.words[G]=Z)}return s&&s._strip(),l._strip(),a!=="div"&&f!==0&&l.iushrn(f),{div:s||null,mod:l}},i.prototype.divmod=function(o,a,f){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,g,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,a),a!=="mod"&&(l=_.div.neg()),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:l,mod:g}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),a),a!=="mod"&&(l=_.div.neg()),{div:l,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),a),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:_.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,l=o.ushrn(1),g=o.andln(1),_=f.cmp(l);return _<0||g===1&&_===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modrn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=(1<<26)%o,l=0,g=this.length-1;g>=0;g--)l=(f*l+(this.words[g]|0))%o;return a?-l:l},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var g=(this.words[l]|0)+f*67108864;this.words[l]=g/o|0,f=g%o}return this._strip(),a?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=new i(0),E=new i(1),p=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++p;for(var s=f.clone(),y=a.clone();!a.isZero();){for(var V=0,G=1;(a.words[0]&G)===0&&V<26;++V,G<<=1);if(V>0)for(a.iushrn(V);V-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(s),g.isub(y)),l.iushrn(1),g.iushrn(1);for(var Z=0,d=1;(f.words[0]&d)===0&&Z<26;++Z,d<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(s),E.isub(y)),_.iushrn(1),E.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(_),g.isub(E)):(f.isub(a),_.isub(l),E.isub(g))}return{a:_,b:E,gcd:f.iushln(p)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,p=1;(a.words[0]&p)===0&&E<26;++E,p<<=1);if(E>0)for(a.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(_),l.iushrn(1);for(var s=0,y=1;(f.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(f.iushrn(s);s-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(g)):(f.isub(a),g.isub(l))}var V;return a.cmpn(1)===0?V=l:V=g,V.cmpn(0)<0&&V.iadd(o),V},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var l=0;a.isEven()&&f.isEven();l++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var _=a;a=f,f=_}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=l,this;for(var g=l,_=f;g!==0&&_<this.length;_++){var E=this.words[_]|0;E+=g,g=E>>>26,E&=67108863,this.words[_]=E}return g!==0&&(this.words[_]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var f;if(this.length>1)f=1;else{a&&(o=-o),t(o<=67108863,"Number is too big");var l=this.words[0]|0;f=l===o?0:l<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var l=this.words[f]|0,g=o.words[f]|0;if(l!==g){l<g?a=-1:l>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new fe(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Ze={k256:null,p224:null,p192:null,p25519:null};function ae(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ae.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},ae.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var l=f<this.n?-1:a.ucmp(this.p);return l===0?(a.words[0]=0,a.length=1):l>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},ae.prototype.split=function(o,a){o.iushrn(this.n,0,a)},ae.prototype.imulK=function(o){return o.imul(this.k)};function We(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(We,ae),We.prototype.split=function(o,a){for(var f=4194303,l=Math.min(o.length,9),g=0;g<l;g++)a.words[g]=o.words[g];if(a.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(a.words[a.length++]=_&f,g=10;g<o.length;g++){var E=o.words[g]|0;o.words[g-10]=(E&f)<<4|_>>>22,_=E}_>>>=22,o.words[g-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},We.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var l=o.words[f]|0;a+=l*977,o.words[f]=a&67108863,a=l*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function gt(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(gt,ae);function fr(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(fr,ae);function Jt(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Jt,ae),Jt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var l=(o.words[f]|0)*19+a,g=l&67108863;l>>>=26,o.words[f]=g,a=l}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(Ze[o])return Ze[o];var a;if(o==="k256")a=new We;else if(o==="p224")a=new gt;else if(o==="p192")a=new fr;else if(o==="p25519")a=new Jt;else throw new Error("Unknown prime "+o);return Ze[o]=a,a};function fe(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else t(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}fe.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},fe.prototype._verify2=function(o,a){t((o.negative|a.negative)===0,"red works only with positives"),t(o.red&&o.red===a.red,"red works only with red numbers")},fe.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(A(o,o.umod(this.m)._forceRed(this)),o)},fe.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},fe.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},fe.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},fe.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},fe.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},fe.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},fe.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},fe.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},fe.prototype.isqr=function(o){return this.imul(o,o.clone())},fe.prototype.sqr=function(o){return this.mul(o,o)},fe.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(t(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var l=this.m.subn(1),g=0;!l.isZero()&&l.andln(1)===0;)g++,l.iushrn(1);t(!l.isZero());var _=new i(1).toRed(this),E=_.redNeg(),p=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,p).cmp(E)!==0;)s.redIAdd(E);for(var y=this.pow(s,l),V=this.pow(o,l.addn(1).iushrn(1)),G=this.pow(o,l),Z=g;G.cmp(_)!==0;){for(var d=G,v=0;d.cmp(_)!==0;v++)d=d.redSqr();t(v<Z);var T=this.pow(y,new i(1).iushln(Z-v-1));V=V.redMul(T),y=T.redSqr(),G=G.redMul(y),Z=v}return V},fe.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},fe.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,l=new Array(1<<f);l[0]=new i(1).toRed(this),l[1]=o;for(var g=2;g<l.length;g++)l[g]=this.mul(l[g-1],o);var _=l[0],E=0,p=0,s=a.bitLength()%26;for(s===0&&(s=26),g=a.length-1;g>=0;g--){for(var y=a.words[g],V=s-1;V>=0;V--){var G=y>>V&1;if(_!==l[0]&&(_=this.sqr(_)),G===0&&E===0){p=0;continue}E<<=1,E|=G,p++,!(p!==f&&(g!==0||V!==0))&&(_=this.mul(_,l[E]),p=0,E=0)}s=26}return _},fe.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},fe.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new ct(o)};function ct(b){fe.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ct,fe),ct.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ct.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},ct.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},ct.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},ct.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(typeof Eu>"u"||Eu,vl)});var Sl=W((Tu,Ml)=>{B();I();var Xs=_t(),Fr=Xs.Buffer;function _l(r,e){for(var t in r)e[t]=r[t]}Fr.from&&Fr.alloc&&Fr.allocUnsafe&&Fr.allocUnsafeSlow?Ml.exports=Xs:(_l(Xs,Tu),Tu.Buffer=gi);function gi(r,e,t){return Fr(r,e,t)}gi.prototype=Object.create(Fr.prototype);_l(Fr,gi);gi.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return Fr(r,e,t)};gi.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=Fr(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};gi.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Fr(r)};gi.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Xs.SlowBuffer(r)}});var El=W((iM,Al)=>{"use strict";B();I();var Qs=Sl().Buffer;function Ig(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),u=i.charCodeAt(0);if(e[u]!==255)throw new TypeError(i+" is ambiguous");e[u]=n}var h=r.length,S=r.charAt(0),w=Math.log(h)/Math.log(256),A=Math.log(256)/Math.log(h);function C(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=Qs.from(k)),!Qs.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var Y=0,N=0,$=0,H=k.length;$!==H&&k[$]===0;)$++,Y++;for(var ie=(H-$)*A+1>>>0,qe=new Uint8Array(ie);$!==H;){for(var ue=k[$],Ze=0,ae=ie-1;(ue!==0||Ze<N)&&ae!==-1;ae--,Ze++)ue+=256*qe[ae]>>>0,qe[ae]=ue%h>>>0,ue=ue/h>>>0;if(ue!==0)throw new Error("Non-zero carry");N=Ze,$++}for(var We=ie-N;We!==ie&&qe[We]===0;)We++;for(var gt=S.repeat(Y);We<ie;++We)gt+=r.charAt(qe[We]);return gt}function x(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return Qs.alloc(0);var Y=0;if(k[Y]!==" "){for(var N=0,$=0;k[Y]===S;)N++,Y++;for(var H=(k.length-Y)*w+1>>>0,ie=new Uint8Array(H);k[Y];){var qe=e[k.charCodeAt(Y)];if(qe===255)return;for(var ue=0,Ze=H-1;(qe!==0||ue<$)&&Ze!==-1;Ze--,ue++)qe+=h*ie[Ze]>>>0,ie[Ze]=qe%256>>>0,qe=qe/256>>>0;if(qe!==0)throw new Error("Non-zero carry");$=ue,Y++}if(k[Y]!==" "){for(var ae=H-$;ae!==H&&ie[ae]===0;)ae++;var We=Qs.allocUnsafe(N+(H-ae));We.fill(0,0,N);for(var gt=N;ae!==H;)We[gt++]=ie[ae++];return We}}}function D(k){var Y=x(k);if(Y)return Y;throw new Error("Non-base"+h+" character")}return{encode:C,decodeUnsafe:x,decode:D}}Al.exports=Ig});var Bl=W((aM,Tl)=>{B();I();var Pg=El(),xg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Tl.exports=Pg(xg)});var Il=W(Pu=>{"use strict";B();I();function un(r,e,t){return e<=r&&r<=t}function ia(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Og(r){for(var e=String(r),t=e.length,n=0,i=[];n<t;){var u=e.charCodeAt(n);if(u<55296||u>57343)i.push(u);else if(56320<=u&&u<=57343)i.push(65533);else if(55296<=u&&u<=56319)if(n===t-1)i.push(65533);else{var h=r.charCodeAt(n+1);if(56320<=h&&h<=57343){var S=u&1023,w=h&1023;i.push(65536+(S<<10)+w),n+=1}else i.push(65533)}n+=1}return i}function kg(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var ea=-1;function Iu(r){this.tokens=[].slice.call(r)}Iu.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ea},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var qi=-1;function Bu(r,e){if(r)throw TypeError("Decoder error");return e||65533}var ta="utf-8";function ra(r,e){if(!(this instanceof ra))return new ra(r,e);if(r=r!==void 0?String(r).toLowerCase():ta,r!==ta)throw new Error("Encoding not supported. Only utf-8 is supported");e=ia(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ra.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ia(t),this._streaming||(this._decoder=new Ug({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var i=new Iu(n),u=[],h;!i.endOfStream()&&(h=this._decoder.handler(i,i.read()),h!==qi);)h!==null&&(Array.isArray(h)?u.push.apply(u,h):u.push(h));if(!this._streaming){do{if(h=this._decoder.handler(i,i.read()),h===qi)break;h!==null&&(Array.isArray(h)?u.push.apply(u,h):u.push(h))}while(!i.endOfStream());this._decoder=null}return u.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(u[0]===65279?(this._BOMseen=!0,u.shift()):this._BOMseen=!0),kg(u)}};function na(r,e){if(!(this instanceof na))return new na(r,e);if(r=r!==void 0?String(r).toLowerCase():ta,r!==ta)throw new Error("Encoding not supported. Only utf-8 is supported");e=ia(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}na.prototype={encode:function(e,t){e=e?String(e):"",t=ia(t),this._streaming||(this._encoder=new Cg(this._options)),this._streaming=Boolean(t.stream);for(var n=[],i=new Iu(Og(e)),u;!i.endOfStream()&&(u=this._encoder.handler(i,i.read()),u!==qi);)Array.isArray(u)?n.push.apply(n,u):n.push(u);if(!this._streaming){for(;u=this._encoder.handler(i,i.read()),u!==qi;)Array.isArray(u)?n.push.apply(n,u):n.push(u);this._encoder=null}return new Uint8Array(n)}};function Ug(r){var e=r.fatal,t=0,n=0,i=0,u=128,h=191;this.handler=function(S,w){if(w===ea&&i!==0)return i=0,Bu(e);if(w===ea)return qi;if(i===0){if(un(w,0,127))return w;if(un(w,194,223))i=1,t=w-192;else if(un(w,224,239))w===224&&(u=160),w===237&&(h=159),i=2,t=w-224;else if(un(w,240,244))w===240&&(u=144),w===244&&(h=143),i=3,t=w-240;else return Bu(e);return t=t<<6*i,null}if(!un(w,u,h))return t=i=n=0,u=128,h=191,S.prepend(w),Bu(e);if(u=128,h=191,n+=1,t+=w-128<<6*(i-n),n!==i)return null;var A=t;return t=i=n=0,A}}function Cg(r){var e=r.fatal;this.handler=function(t,n){if(n===ea)return qi;if(un(n,0,127))return n;var i,u;un(n,128,2047)?(i=1,u=192):un(n,2048,65535)?(i=2,u=224):un(n,65536,1114111)&&(i=3,u=240);for(var h=[(n>>6*i)+u];i>0;){var S=n>>6*(i-1);h.push(128|S&63),i-=1}return h}}Pu.TextEncoder=na;Pu.TextDecoder=ra});var Ul=W(Ge=>{"use strict";B();I();var Rg=Ge&&Ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lg=Ge&&Ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kr=Ge&&Ge.__decorate||function(r,e,t,n){var i=arguments.length,u=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,e,t,n);else for(var S=r.length-1;S>=0;S--)(h=r[S])&&(u=(i<3?h(u):i>3?h(e,t,u):h(e,t))||u);return i>3&&u&&Object.defineProperty(e,t,u),u},Dg=Ge&&Ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Rg(e,r,t);return Lg(e,r),e},Pl=Ge&&Ge.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.deserializeUnchecked=Ge.deserialize=Ge.serialize=Ge.BinaryReader=Ge.BinaryWriter=Ge.BorshError=Ge.baseDecode=Ge.baseEncode=void 0;var Bn=Pl(wl()),xl=Pl(Bl()),Fg=Dg(Il()),Kg=typeof TextDecoder!="function"?Fg.TextDecoder:TextDecoder,qg=new Kg("utf-8",{fatal:!0});function zg(r){return typeof r=="string"&&(r=K.Buffer.from(r,"utf8")),xl.default.encode(K.Buffer.from(r))}Ge.baseEncode=zg;function Ng(r){return K.Buffer.from(xl.default.decode(r))}Ge.baseDecode=Ng;var xu=1024,yt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Ge.BorshError=yt;var oa=class{constructor(){this.buf=K.Buffer.alloc(xu),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=K.Buffer.concat([this.buf,K.Buffer.alloc(xu)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(K.Buffer.from(new Bn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(K.Buffer.from(new Bn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(K.Buffer.from(new Bn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(K.Buffer.from(new Bn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=K.Buffer.concat([K.Buffer.from(this.buf.subarray(0,this.length)),e,K.Buffer.alloc(xu)]),this.length+=e.length}writeString(e){this.maybeResize();let t=K.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(K.Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Ge.BinaryWriter=oa;function qr(r,e,t){let n=t.value;t.value=function(...i){try{return n.apply(this,i)}catch(u){if(u instanceof RangeError){let h=u.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new yt("Reached the end of buffer when deserializing")}throw u}}}var Bt=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Bn.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Bn.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Bn.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Bn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new yt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return qg.decode(t)}catch(n){throw new yt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let i=0;i<t;++i)n.push(e());return n}};Kr([qr],Bt.prototype,"readU8",null);Kr([qr],Bt.prototype,"readU16",null);Kr([qr],Bt.prototype,"readU32",null);Kr([qr],Bt.prototype,"readU64",null);Kr([qr],Bt.prototype,"readU128",null);Kr([qr],Bt.prototype,"readU256",null);Kr([qr],Bt.prototype,"readU512",null);Kr([qr],Bt.prototype,"readString",null);Kr([qr],Bt.prototype,"readFixedArray",null);Kr([qr],Bt.prototype,"readArray",null);Ge.BinaryReader=Bt;function Ol(r){return r.charAt(0).toUpperCase()+r.slice(1)}function yi(r,e,t,n,i){try{if(typeof n=="string")i[`write${Ol(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new yt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new yt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let u=0;u<n[1];u++)yi(r,null,t[u],n[0],i)}else i.writeArray(t,u=>{yi(r,e,u,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),yi(r,e,t,n.type,i));break}case"map":{i.writeU32(t.size),t.forEach((u,h)=>{yi(r,e,h,n.key,i),yi(r,e,u,n.value,i)});break}default:throw new yt(`FieldType ${n} unrecognized`)}else kl(r,t,i)}catch(u){throw u instanceof yt&&u.addToFieldPath(e),u}}function kl(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new yt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,u])=>{yi(r,i,e[i],u,t)});else if(n.kind==="enum"){let i=e[n.field];for(let u=0;u<n.values.length;++u){let[h,S]=n.values[u];if(h===i){t.writeU8(u),yi(r,h,e[h],S,t);break}}}else throw new yt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function jg(r,e,t=oa){let n=new t;return kl(r,e,n),n.toArray()}Ge.serialize=jg;function bi(r,e,t,n){try{if(typeof t=="string")return n[`read${Ol(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let i=[];for(let u=0;u<t[1];u++)i.push(bi(r,null,t[0],n));return i}else return n.readArray(()=>bi(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?bi(r,e,t.type,n):void 0;if(t.kind==="map"){let i=new Map,u=n.readU32();for(let h=0;h<u;h++){let S=bi(r,e,t.key,n),w=bi(r,e,t.value,n);i.set(S,w)}return i}return Ou(r,t,n)}catch(i){throw i instanceof yt&&i.addToFieldPath(e),i}}function Ou(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new yt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[u,h]of r.get(e).fields)i[u]=bi(r,u,h,t);return new e(i)}if(n.kind==="enum"){let i=t.readU8();if(i>=n.values.length)throw new yt(`Enum index: ${i} is out of range`);let[u,h]=n.values[i],S=bi(r,u,h,t);return new e({[u]:S})}throw new yt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Vg(r,e,t,n=Bt){let i=new n(t),u=Ou(r,e,i);if(i.offset<t.length)throw new yt(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return u}Ge.deserialize=Vg;function Yg(r,e,t,n=Bt){let i=new n(t);return Ou(r,e,i)}Ge.deserializeUnchecked=Yg});var Cl=W(Tr=>{"use strict";B();I();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.SOLANA_SCHEMA=Tr.Enum=Tr.Struct=void 0;var $g=_t(),ku=Ul(),sa=class{constructor(e){Object.assign(this,e)}encode(){return $g.Buffer.from((0,ku.serialize)(Tr.SOLANA_SCHEMA,this))}static decode(e){return(0,ku.deserialize)(Tr.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,ku.deserializeUnchecked)(Tr.SOLANA_SCHEMA,this,e)}};Tr.Struct=sa;var Uu=class extends sa{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};Tr.Enum=Uu;Tr.SOLANA_SCHEMA=new Map});var mi=W(aa=>{"use strict";B();I();Object.defineProperty(aa,"__esModule",{value:!0});aa.toBuffer=void 0;var Cu=_t(),Gg=r=>Cu.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Cu.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Cu.Buffer.from(r);aa.toBuffer=Gg});var er=W(dr=>{"use strict";B();I();Object.defineProperty(dr,"__esModule",{value:!0});dr.PublicKey=dr.PUBLIC_KEY_LENGTH=dr.MAX_SEED_LENGTH=void 0;var Rl=Xt(),fn=_t(),Fl=Cl(),Wg=mi(),qo=Xt();dr.MAX_SEED_LENGTH=32;dr.PUBLIC_KEY_LENGTH=32;function Hg(r){return r._bn!==void 0}var Ll=1,hr=class extends Fl.Struct{constructor(e){if(super({}),Hg(e))this._bn=e._bn;else{if(typeof e=="string"){let t=qo.base.fromBase58(e);if(t.length!=dr.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new Rl.BN(t)}else this._bn=new Rl.BN(e);if(this._bn.byteLength()>dr.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new hr(Ll);return Ll+=1,new hr(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return qo.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(fn.Buffer);if(e.length===dr.PUBLIC_KEY_LENGTH)return e;let t=fn.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=fn.Buffer.concat([e.toBuffer(),fn.Buffer.from(t),n.toBuffer()]),u=qo.base.sha256(i);return new hr(u)}static createProgramAddressSync(e,t){let n=fn.Buffer.alloc(0);e.forEach(function(u){if(u.length>dr.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=fn.Buffer.concat([n,(0,Wg.toBuffer)(u)])}),n=fn.Buffer.concat([n,t.toBuffer(),fn.Buffer.from("ProgramDerivedAddress")]);let i=qo.base.sha256(n);if(Dl(i))throw new Error("Invalid seeds, address must fall off the curve");return new hr(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let u=e.concat(fn.Buffer.from([n]));i=this.createProgramAddressSync(u,t)}catch(u){if(u instanceof TypeError)throw u;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new hr(e);return Dl(t.toBytes())==1}};dr.PublicKey=hr;hr.default=new hr("11111111111111111111111111111111");Fl.SOLANA_SCHEMA.set(hr,{kind:"struct",fields:[["_bn","u256"]]});function Dl(r){try{return qo.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var Kl=W(fa=>{"use strict";B();I();Object.defineProperty(fa,"__esModule",{value:!0});fa.Keypair=void 0;var Zg=er(),ua=Xt(),zo=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let u=new TextEncoder().encode("@solana/web3.js-validation-v1"),h=ua.signUtil.ed25519.sign(u,e),S=ua.signUtil.ed25519.publicKeyCreate(e);if(!ua.signUtil.ed25519.verify(u,h,S))throw new Error("provided secretKey is invalid")}let n=ua.signUtil.ed25519.publicKeyCreate(e);return new zo({publicKey:n,secretKey:e})}get publicKey(){return new Zg.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};fa.Keypair=zo});var la=W(ca=>{"use strict";B();I();Object.defineProperty(ca,"__esModule",{value:!0});ca.MessageAccountKeys=void 0;var Ru=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((u,h)=>{n.set(u.toBase58(),h)});let i=u=>{let h=n.get(u.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return e.map(u=>({programIdIndex:i(u.programId),accountKeyIndexes:u.keys.map(h=>i(h.pubkey)),data:u.data}))}};ca.MessageAccountKeys=Ru});var cn=W($e=>{"use strict";B();I();var Jg=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xg=$e&&$e.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qg=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jg(e,r,t);return Xg(e,r),e};Object.defineProperty($e,"__esModule",{value:!0});$e.getAlloc=$e.voteInit=$e.lockup=$e.authorized=$e.rustString=$e.uint64=$e.signature=$e.publicKey=void 0;var ql=_t(),bt=Qg(ht()),ey=(r="publicKey")=>bt.blob(32,r);$e.publicKey=ey;var ty=(r="signature")=>bt.blob(64,r);$e.signature=ty;var ry=(r="uint64")=>bt.blob(8,r);$e.uint64=ry;var ny=(r="string")=>{let e=bt.struct([bt.u32("length"),bt.u32("lengthPadding"),bt.blob(bt.offset(bt.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(u,h)=>t(u,h).chars.toString(),i.encode=(u,h,S)=>{let w={chars:ql.Buffer.from(u,"utf8")};return n(w,h,S)},i.alloc=u=>bt.u32().span+bt.u32().span+ql.Buffer.from(u,"utf8").length,i};$e.rustString=ny;var iy=(r="authorized")=>bt.struct([(0,$e.publicKey)("staker"),(0,$e.publicKey)("withdrawer")],r);$e.authorized=iy;var oy=(r="lockup")=>bt.struct([bt.ns64("unixTimestamp"),bt.ns64("epoch"),(0,$e.publicKey)("custodian")],r);$e.lockup=oy;var sy=(r="voteInit")=>bt.struct([(0,$e.publicKey)("nodePubkey"),(0,$e.publicKey)("authorizedVoter"),(0,$e.publicKey)("authorizedWithdrawer"),bt.u8("commission")],r);$e.voteInit=sy;function zl(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let u=e[i.property];if(Array.isArray(u))return u.length*t(i.elementLayout)}else if("fields"in i)return zl({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}$e.getAlloc=zl});var vi=W(In=>{"use strict";B();I();Object.defineProperty(In,"__esModule",{value:!0});In.SIGNATURE_LENGTH_IN_BYTES=In.VERSION_PREFIX_MASK=In.PACKET_DATA_SIZE=void 0;In.PACKET_DATA_SIZE=1280-40-8;In.VERSION_PREFIX_MASK=127;In.SIGNATURE_LENGTH_IN_BYTES=64});var No=W(zi=>{"use strict";B();I();Object.defineProperty(zi,"__esModule",{value:!0});zi.encodeLength=zi.decodeLength=void 0;function ay(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}zi.decodeLength=ay;function uy(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}zi.encodeLength=uy});var wi=W(Lu=>{"use strict";B();I();Object.defineProperty(Lu,"__esModule",{value:!0});function fy(r,e){if(!r)throw new Error(e||"Assertion failed")}Lu.default=fy});var Du=W(Ni=>{"use strict";B();I();var cy=Ni&&Ni.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CompiledKeys=void 0;var ha=cy(wi()),jo=er(),Vo=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=h=>{let S=h.toBase58(),w=n.get(S);return w===void 0&&(w={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(S,w)),w},u=i(t);u.isSigner=!0,u.isWritable=!0;for(let h of e){i(h.programId).isInvoked=!0;for(let S of h.keys){let w=i(S.pubkey);w.isSigner||(w.isSigner=S.isSigner),w.isWritable||(w.isWritable=S.isWritable)}}return new Vo(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,ha.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,w])=>w.isSigner&&w.isWritable),n=e.filter(([,w])=>w.isSigner&&!w.isWritable),i=e.filter(([,w])=>!w.isSigner&&w.isWritable),u=e.filter(([,w])=>!w.isSigner&&!w.isWritable),h={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:u.length};{(0,ha.default)(t.length>0,"Expected at least one writable signer key");let[w]=t[0];(0,ha.default)(w===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let S=[...t.map(([w])=>new jo.PublicKey(w)),...n.map(([w])=>new jo.PublicKey(w)),...i.map(([w])=>new jo.PublicKey(w)),...u.map(([w])=>new jo.PublicKey(w))];return[h,S]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[i,u]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:u}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[u,h]of this.keyMetaMap.entries())if(t(h)){let S=new jo.PublicKey(u),w=e.findIndex(A=>A.equals(S));w>=0&&((0,ha.default)(w<256,"Max lookup table index exceeded"),n.push(w),i.push(S),this.keyMetaMap.delete(u))}return[n,i]}};Ni.CompiledKeys=Vo});var Ku=W(zr=>{"use strict";B();I();var ly=zr&&zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hy=zr&&zr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fu=zr&&zr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ly(e,r,t);return hy(e,r),e};Object.defineProperty(zr,"__esModule",{value:!0});zr.Message=void 0;var ji=Xt(),pr=_t(),Dt=Fu(ht()),Vi=er(),Nl=Fu(cn()),jl=vi(),Pn=Fu(No()),dy=mi(),py=Du(),Vl=la(),Yi=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Vi.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ji.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Vl.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=py.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),h=new Vl.MessageAccountKeys(i).compileInstructions(e.instructions).map(S=>({programIdIndex:S.programIdIndex,accounts:S.accountKeyIndexes,data:ji.base.toBase58(S.data)}));return new Yi({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:h})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,u=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<u}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Pn.encodeLength(t,e);let n=this.instructions.map(x=>{let{accounts:D,programIdIndex:k}=x,Y=Array.from(ji.base.fromBase58(x.data)),N=[];Pn.encodeLength(N,D.length);let $=[];return Pn.encodeLength($,Y.length),{programIdIndex:k,keyIndicesCount:pr.Buffer.from(N),keyIndices:D,dataLength:pr.Buffer.from($),data:Y}}),i=[];Pn.encodeLength(i,n.length);let u=pr.Buffer.alloc(jl.PACKET_DATA_SIZE);pr.Buffer.from(i).copy(u);let h=i.length;n.forEach(x=>{h+=Dt.struct([Dt.u8("programIdIndex"),Dt.blob(x.keyIndicesCount.length,"keyIndicesCount"),Dt.seq(Dt.u8("keyIndex"),x.keyIndices.length,"keyIndices"),Dt.blob(x.dataLength.length,"dataLength"),Dt.seq(Dt.u8("userdatum"),x.data.length,"data")]).encode(x,u,h)}),u=u.slice(0,h);let S=Dt.struct([Dt.blob(1,"numRequiredSignatures"),Dt.blob(1,"numReadonlySignedAccounts"),Dt.blob(1,"numReadonlyUnsignedAccounts"),Dt.blob(t.length,"keyCount"),Dt.seq(Nl.publicKey("key"),e,"keys"),Nl.publicKey("recentBlockhash")]),w={numRequiredSignatures:pr.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:pr.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:pr.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:pr.Buffer.from(t),keys:this.accountKeys.map(x=>(0,dy.toBuffer)(x.toBytes())),recentBlockhash:ji.base.fromBase58(this.recentBlockhash)},A=pr.Buffer.alloc(2048),C=S.encode(w,A);return u.copy(A,C),A.slice(0,C+u.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&jl.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),u=t.shift(),h=Pn.decodeLength(t),S=[];for(let D=0;D<h;D++){let k=t.slice(0,Vi.PUBLIC_KEY_LENGTH);t=t.slice(Vi.PUBLIC_KEY_LENGTH),S.push(new Vi.PublicKey(pr.Buffer.from(k)))}let w=t.slice(0,Vi.PUBLIC_KEY_LENGTH);t=t.slice(Vi.PUBLIC_KEY_LENGTH);let A=Pn.decodeLength(t),C=[];for(let D=0;D<A;D++){let k=t.shift(),Y=Pn.decodeLength(t),N=t.slice(0,Y);t=t.slice(Y);let $=Pn.decodeLength(t),H=t.slice(0,$),ie=ji.base.toBase58(pr.Buffer.from(H));t=t.slice($),C.push({programIdIndex:k,accounts:N,data:ie})}let x={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:u},recentBlockhash:ji.base.toBase58(pr.Buffer.from(w)),accountKeys:S,instructions:C};return new Yi(x)}};zr.Message=Yi});var Nu=W(gr=>{"use strict";B();I();var gy=gr&&gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yy=gr&&gr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zu=gr&&gr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gy(e,r,t);return yy(e,r),e},by=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gr,"__esModule",{value:!0});gr.MessageV0=void 0;var Yl=Xt(),He=zu(ht()),qu=zu(cn()),Yo=er(),Ft=zu(No()),$l=by(wi()),da=vi(),my=Du(),Gl=la(),$i=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Gl.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,u=this.addressTableLookups.reduce((h,S)=>h+S.writableIndexes.length,0);return i<u}else if(e>=this.header.numRequiredSignatures){let i=e-t,h=n-t-this.header.numReadonlyUnsignedAccounts;return i<h}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(u=>u.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let u of n.writableIndexes)if(u<i.state.addresses.length)t.writable.push(i.state.addresses[u]);else throw new Error(`Failed to find address for index ${u} in address lookup table ${n.accountKey.toBase58()}`);for(let u of n.readonlyIndexes)if(u<i.state.addresses.length)t.readonly.push(i.state.addresses[u]);else throw new Error(`Failed to find address for index ${u} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=my.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},u=e.addressLookupTableAccounts||[];for(let C of u){let x=t.extractTableLookup(C);if(x!==void 0){let[D,{writable:k,readonly:Y}]=x;n.push(D),i.writable.push(...k),i.readonly.push(...Y)}}let[h,S]=t.getMessageComponents(),A=new Gl.MessageAccountKeys(S,i).compileInstructions(e.instructions);return new $i({header:h,staticAccountKeys:S,recentBlockhash:e.recentBlockhash,compiledInstructions:A,addressTableLookups:n})}serialize(){let e=Array();Ft.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Ft.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),u=Array();Ft.encodeLength(u,this.addressTableLookups.length);let h=He.struct([He.u8("prefix"),He.struct([He.u8("numRequiredSignatures"),He.u8("numReadonlySignedAccounts"),He.u8("numReadonlyUnsignedAccounts")],"header"),He.blob(e.length,"staticAccountKeysLength"),He.seq(qu.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),qu.publicKey("recentBlockhash"),He.blob(n.length,"instructionsLength"),He.blob(t.length,"serializedInstructions"),He.blob(u.length,"addressTableLookupsLength"),He.blob(i.length,"serializedAddressTableLookups")]),S=new Uint8Array(da.PACKET_DATA_SIZE),w=1<<7,A=h.encode({prefix:w,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(C=>C.toBytes()),recentBlockhash:Yl.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(u),serializedAddressTableLookups:i},S);return S.slice(0,A)}serializeInstructions(){let e=0,t=new Uint8Array(da.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();Ft.encodeLength(i,n.accountKeyIndexes.length);let u=Array();Ft.encodeLength(u,n.data.length),e+=He.struct([He.u8("programIdIndex"),He.blob(i.length,"encodedAccountKeyIndexesLength"),He.seq(He.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),He.blob(u.length,"encodedDataLength"),He.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(u),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(da.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();Ft.encodeLength(i,n.writableIndexes.length);let u=Array();Ft.encodeLength(u,n.readonlyIndexes.length),e+=He.struct([qu.publicKey("accountKey"),He.blob(i.length,"encodedWritableIndexesLength"),He.seq(He.u8(),n.writableIndexes.length,"writableIndexes"),He.blob(u.length,"encodedReadonlyIndexesLength"),He.seq(He.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(u),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&da.VERSION_PREFIX_MASK;(0,$l.default)(n!==i,"Expected versioned message but received legacy message");let u=i;(0,$l.default)(u===0,`Expected versioned message with version 0 but found version ${u}`);let h={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},S=[],w=Ft.decodeLength(t);for(let Y=0;Y<w;Y++)S.push(new Yo.PublicKey(t.splice(0,Yo.PUBLIC_KEY_LENGTH)));let A=Yl.base.toBase58(t.splice(0,Yo.PUBLIC_KEY_LENGTH)),C=Ft.decodeLength(t),x=[];for(let Y=0;Y<C;Y++){let N=t.shift(),$=Ft.decodeLength(t),H=t.splice(0,$),ie=Ft.decodeLength(t),qe=new Uint8Array(t.splice(0,ie));x.push({programIdIndex:N,accountKeyIndexes:H,data:qe})}let D=Ft.decodeLength(t),k=[];for(let Y=0;Y<D;Y++){let N=new Yo.PublicKey(t.splice(0,Yo.PUBLIC_KEY_LENGTH)),$=Ft.decodeLength(t),H=t.splice(0,$),ie=Ft.decodeLength(t),qe=t.splice(0,ie);k.push({accountKey:N,writableIndexes:H,readonlyIndexes:qe})}return new $i({header:h,staticAccountKeys:S,recentBlockhash:A,compiledInstructions:x,addressTableLookups:k})}};gr.MessageV0=$i});var ju=W($o=>{"use strict";B();I();Object.defineProperty($o,"__esModule",{value:!0});$o.VersionedMessage=void 0;var vy=vi(),wy=Ku(),_y=Nu();$o.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&vy.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=$o.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return wy.Message.from(r);if(e===0)return _y.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var ga=W(Nr=>{"use strict";B();I();var My=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pa=Nr&&Nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&My(e,r,t)};Object.defineProperty(Nr,"__esModule",{value:!0});pa(la(),Nr);pa(Ku(),Nr);pa(ju(),Nr);pa(Nu(),Nr)});var Vu=W(yr=>{"use strict";B();I();var Sy=yr&&yr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ay=yr&&yr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zl=yr&&yr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sy(e,r,t);return Ay(e,r),e};Object.defineProperty(yr,"__esModule",{value:!0});yr.NonceAccount=yr.NONCE_ACCOUNT_LENGTH=void 0;var ya=Zl(ht()),Wl=Zl(cn()),Hl=er(),Ey=Au(),Ty=mi(),Jl=ya.struct([ya.u32("version"),ya.u32("state"),Wl.publicKey("authorizedPubkey"),Wl.publicKey("nonce"),ya.struct([Ey.FeeCalculatorLayout],"feeCalculator")]);yr.NONCE_ACCOUNT_LENGTH=Jl.span;var Go=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Jl.decode((0,Ty.toBuffer)(e),0);return new Go({authorizedPubkey:new Hl.PublicKey(t.authorizedPubkey),nonce:new Hl.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};yr.NonceAccount=Go});var Wo=W(jr=>{"use strict";B();I();Object.defineProperty(jr,"__esModule",{value:!0});jr.u256=jr.u192=jr.u128=jr.u64=void 0;var By=_t(),Iy=ht(),Xl=Ws(),Py=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},ba=r=>e=>{let t=(0,Iy.blob)(r,e),{encode:n,decode:i}=Py(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Xl.toBigIntLE)(By.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Xl.toBufferLE)(h,r);return n(A,S,w)},u};jr.u64=ba(8);jr.u128=ba(16);jr.u192=ba(24);jr.u256=ba(32)});var Ho=W(br=>{"use strict";B();I();var xy=br&&br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Oy=br&&br.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ky=br&&br.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xy(e,r,t);return Oy(e,r),e};Object.defineProperty(br,"__esModule",{value:!0});br.decodeData=br.encodeData=void 0;var Uy=_t(),Cy=ky(cn());function Ry(r,e){let t=r.layout.span>=0?r.layout.span:Cy.getAlloc(r,e),n=Uy.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}br.encodeData=Ry;function Ly(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}br.decodeData=Ly});var Yu=W(ut=>{"use strict";B();I();Object.defineProperty(ut,"__esModule",{value:!0});ut.SYSVAR_STAKE_HISTORY_PUBKEY=ut.SYSVAR_SLOT_HISTORY_PUBKEY=ut.SYSVAR_SLOT_HASHES_PUBKEY=ut.SYSVAR_REWARDS_PUBKEY=ut.SYSVAR_RENT_PUBKEY=ut.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=ut.SYSVAR_INSTRUCTIONS_PUBKEY=ut.SYSVAR_EPOCH_SCHEDULE_PUBKEY=ut.SYSVAR_CLOCK_PUBKEY=void 0;var ln=er();ut.SYSVAR_CLOCK_PUBKEY=new ln.PublicKey("SysvarC1ock11111111111111111111111111111111");ut.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new ln.PublicKey("SysvarEpochSchedu1e111111111111111111111111");ut.SYSVAR_INSTRUCTIONS_PUBKEY=new ln.PublicKey("Sysvar1nstructions1111111111111111111111111");ut.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new ln.PublicKey("SysvarRecentB1ockHashes11111111111111111111");ut.SYSVAR_RENT_PUBKEY=new ln.PublicKey("SysvarRent111111111111111111111111111111111");ut.SYSVAR_REWARDS_PUBKEY=new ln.PublicKey("SysvarRewards111111111111111111111111111111");ut.SYSVAR_SLOT_HASHES_PUBKEY=new ln.PublicKey("SysvarS1otHashes111111111111111111111111111");ut.SYSVAR_SLOT_HISTORY_PUBKEY=new ln.PublicKey("SysvarS1otHistory11111111111111111111111111");ut.SYSVAR_STAKE_HISTORY_PUBKEY=new ln.PublicKey("SysvarStakeHistory1111111111111111111111111")});var Ql=W(xn=>{"use strict";B();I();Object.defineProperty(xn,"__esModule",{value:!0});xn.TransactionExpiredNonceInvalidError=xn.TransactionExpiredTimeoutError=xn.TransactionExpiredBlockheightExceededError=void 0;var ma=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};xn.TransactionExpiredBlockheightExceededError=ma;Object.defineProperty(ma.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var va=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};xn.TransactionExpiredTimeoutError=va;Object.defineProperty(va.prototype,"name",{value:"TransactionExpiredTimeoutError"});var wa=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};xn.TransactionExpiredNonceInvalidError=wa;Object.defineProperty(wa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var $u=W(Kt=>{"use strict";B();I();var Dy=Kt&&Kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fy=Kt&&Kt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ky=Kt&&Kt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Dy(e,r,t);return Fy(e,r),e},qy=Kt&&Kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.Transaction=Kt.TransactionInstruction=void 0;var dn=_t(),Zo=vi(),eh=ga(),zy=er(),th=Ky(No()),Ny=mi(),hn=qy(wi()),_i=Xt(),jy=dn.Buffer.alloc(Zo.SIGNATURE_LENGTH_IN_BYTES).fill(0),Jo=class{constructor(e){this.data=dn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};Kt.TransactionInstruction=Jo;var Gi=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Jo(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let N=0;N<t.length;N++)if(t[N].programId===void 0)throw new Error(`Transaction instruction index ${N} has undefined program id`);let i=[],u=[];t.forEach(N=>{N.keys.forEach(H=>{u.push({...H})});let $=N.programId.toString();i.includes($)||i.push($)}),i.forEach(N=>{u.push({pubkey:new zy.PublicKey(N),isSigner:!1,isWritable:!1})});let h=[];u.forEach(N=>{let $=N.pubkey.toString(),H=h.findIndex(ie=>ie.pubkey.toString()===$);H>-1?(h[H].isWritable=h[H].isWritable||N.isWritable,h[H].isSigner=h[H].isSigner||N.isSigner):h.push(N)}),h.sort(function(N,$){return N.isSigner!==$.isSigner?N.isSigner?-1:1:N.isWritable!==$.isWritable?N.isWritable?-1:1:N.pubkey.toBase58().localeCompare($.pubkey.toBase58())});let S=h.findIndex(N=>N.pubkey.equals(n));if(S>-1){let[N]=h.splice(S,1);N.isSigner=!0,N.isWritable=!0,h.unshift(N)}else h.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let N of this.signatures){let $=h.findIndex(H=>H.pubkey.equals(N.publicKey));if($>-1)h[$].isSigner||(h[$].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${N.publicKey.toString()}`)}let w=0,A=0,C=0,x=[],D=[];h.forEach(({pubkey:N,isSigner:$,isWritable:H})=>{$?(x.push(N.toString()),w+=1,H||(A+=1)):(D.push(N.toString()),H||(C+=1))});let k=x.concat(D),Y=t.map(N=>{let{data:$,programId:H}=N;return{programIdIndex:k.indexOf(H.toString()),accounts:N.keys.map(ie=>k.indexOf(ie.pubkey.toString())),data:_i.base.toBase58($)}});return Y.forEach(N=>{(0,hn.default)(N.programIdIndex>=0),N.accounts.forEach($=>(0,hn.default)($>=0))}),new eh.Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:A,numReadonlyUnsignedAccounts:C},accountKeys:k,recentBlockhash:e,instructions:Y})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,u)=>t[u].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let u of e){let h=u.publicKey.toString();t.has(h)||(t.add(h),n.push(u))}this.signatures=n.map(u=>({signature:null,publicKey:u.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let u of e){let h=u.publicKey.toString();t.has(h)||(t.add(h),n.push(u))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let u=_i.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,Ny.toBuffer)(u))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,hn.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=dn.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!_i.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];th.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,u=dn.Buffer.alloc(i);return(0,hn.default)(t.length<256),dn.Buffer.from(n).copy(u,0),t.forEach(({signature:h},S)=>{h!==null&&((0,hn.default)(h.length===64,"signature has invalid length"),dn.Buffer.from(h).copy(u,n.length+S*64))}),e.copy(u,n.length+t.length*64),(0,hn.default)(u.length<=Zo.PACKET_DATA_SIZE,`Transaction too large: ${u.length} > ${Zo.PACKET_DATA_SIZE}`),u}get keys(){return(0,hn.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,hn.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,hn.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=th.decodeLength(t),i=[];for(let u=0;u<n;u++){let h=t.slice(0,Zo.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(Zo.SIGNATURE_LENGTH_IN_BYTES),i.push(_i.base.toBase58(dn.Buffer.from(h)))}return Gi.populate(eh.Message.from(t),i)}static populate(e,t=[]){let n=new Gi;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,u)=>{let h={signature:i==_i.base.toBase58(jy)?null:dn.Buffer.from(_i.base.fromBase58(i)),publicKey:e.accountKeys[u]};n.signatures.push(h)}),e.instructions.forEach(i=>{let u=i.accounts.map(h=>{let S=e.accountKeys[h];return{pubkey:S,isSigner:n.signatures.some(w=>w.publicKey.toString()===S.toString())||e.isAccountSigner(h),isWritable:e.isAccountWritable(h)}});n.instructions.push(new Jo({keys:u,programId:e.accountKeys[i.programIdIndex],data:dn.Buffer.from(_i.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};Kt.Transaction=Gi});var ih=W(Wi=>{"use strict";B();I();var Vy=Wi&&Wi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.TransactionMessage=void 0;var rh=Vy(wi()),Yy=mi(),nh=ga(),$y=$u(),Xo=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:u}=e,{numRequiredSignatures:h,numReadonlySignedAccounts:S,numReadonlyUnsignedAccounts:w}=n,A=h-S;(0,rh.default)(A>0,"Message header is invalid");let C=e.staticAccountKeys.length-h-w;(0,rh.default)(C>=0,"Message header is invalid");let x=e.getAccountKeys(t),D=x.get(0);if(D===void 0)throw new Error("Failed to decompile message because no account keys were found");let k=[];for(let Y of i){let N=[];for(let H of Y.accountKeyIndexes){let ie=x.get(H);if(ie===void 0)throw new Error(`Failed to find key for account key index ${H}`);let qe=H<h,ue;qe?ue=H<A:H<x.staticAccountKeys.length?ue=H-h<C:ue=H-x.staticAccountKeys.length<x.accountKeysFromLookups.writable.length,N.push({pubkey:ie,isSigner:H<n.numRequiredSignatures,isWritable:ue})}let $=x.get(Y.programIdIndex);if($===void 0)throw new Error(`Failed to find program id for program id index ${Y.programIdIndex}`);k.push(new $y.TransactionInstruction({programId:$,data:(0,Yy.toBuffer)(Y.data),keys:N}))}return new Xo({payerKey:D,instructions:k,recentBlockhash:u})}compileToLegacyMessage(){return nh.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return nh.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};Wi.TransactionMessage=Xo});var ah=W(mr=>{"use strict";B();I();var Gy=mr&&mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wy=mr&&mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gu=mr&&mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gy(e,r,t);return Wy(e,r),e},Hy=mr&&mr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mr,"__esModule",{value:!0});mr.VersionedTransaction=void 0;var _a=Gu(ht()),Ma=Hy(wi()),Zy=ju(),oh=vi(),sh=Gu(No()),Jy=Gu(cn()),Xy=Xt(),Qy=_t(),Qo=class{get signature(){return this.signatures.length>0?Qy.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,Ma.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(oh.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();sh.encodeLength(t,this.signatures.length);let n=_a.struct([_a.blob(t.length,"encodedSignaturesLength"),_a.seq(Jy.signature(),this.signatures.length,"signatures"),_a.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),u=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,u)}static deserialize(e){let t=[...e],n=[],i=sh.decodeLength(t);for(let h=0;h<i;h++)n.push(new Uint8Array(t.splice(0,oh.SIGNATURE_LENGTH_IN_BYTES)));let u=Zy.VersionedMessage.deserialize(new Uint8Array(t));return new Qo(u,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let u=n.findIndex(h=>h.equals(i.publicKey));(0,Ma.default)(u>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[u]=Xy.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,Ma.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(u=>u.equals(e));(0,Ma.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};mr.VersionedTransaction=Qo});var ts=W(Br=>{"use strict";B();I();var eb=Br&&Br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),es=Br&&Br.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&eb(e,r,t)};Object.defineProperty(Br,"__esModule",{value:!0});es(vi(),Br);es(Ql(),Br);es($u(),Br);es(ih(),Br);es(ah(),Br)});var Hu=W(Re=>{"use strict";B();I();var tb=Re&&Re.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rb=Re&&Re.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ch=Re&&Re.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tb(e,r,t);return rb(e,r),e};Object.defineProperty(Re,"__esModule",{value:!0});Re.SystemProgram=Re.SYSTEM_INSTRUCTION_LAYOUTS=Re.SystemInstruction=void 0;var ze=ch(ht()),Xe=Ho(),It=ch(cn()),uh=Vu(),vr=er(),rs=Yu(),Vr=ts(),Ir=mi(),fh=Wo(),Wu=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=ze.u32("instruction").decode(e.data),i;for(let[u,h]of Object.entries(Re.SYSTEM_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new vr.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new vr.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:u}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vr.PublicKey(t),seed:n,space:i,programId:new vr.PublicKey(u)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vr.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vr.PublicKey(t),seed:n,programId:new vr.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:u,programId:h}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vr.PublicKey(t),seed:n,lamports:i,space:u,programId:new vr.PublicKey(h)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vr.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,Xe.decodeData)(Re.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vr.PublicKey(t)}}static checkProgramId(e){if(!e.equals(On.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};Re.SystemInstruction=Wu;Re.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:ze.struct([ze.u32("instruction"),ze.ns64("lamports"),ze.ns64("space"),It.publicKey("programId")])},Assign:{index:1,layout:ze.struct([ze.u32("instruction"),It.publicKey("programId")])},Transfer:{index:2,layout:ze.struct([ze.u32("instruction"),(0,fh.u64)("lamports")])},CreateWithSeed:{index:3,layout:ze.struct([ze.u32("instruction"),It.publicKey("base"),It.rustString("seed"),ze.ns64("lamports"),ze.ns64("space"),It.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:ze.struct([ze.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ze.struct([ze.u32("instruction"),ze.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ze.struct([ze.u32("instruction"),It.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:ze.struct([ze.u32("instruction"),It.publicKey("authorized")])},Allocate:{index:8,layout:ze.struct([ze.u32("instruction"),ze.ns64("space")])},AllocateWithSeed:{index:9,layout:ze.struct([ze.u32("instruction"),It.publicKey("base"),It.rustString("seed"),ze.ns64("space"),It.publicKey("programId")])},AssignWithSeed:{index:10,layout:ze.struct([ze.u32("instruction"),It.publicKey("base"),It.rustString("seed"),It.publicKey("programId")])},TransferWithSeed:{index:11,layout:ze.struct([ze.u32("instruction"),(0,fh.u64)("lamports"),It.rustString("seed"),It.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:ze.struct([ze.u32("instruction")])}});var On=class{constructor(){}static createAccount(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,Xe.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,Ir.toBuffer)(e.programId.toBuffer())});return new Vr.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,Xe.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,Ir.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,Xe.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Vr.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,Xe.encodeData)(i,{base:(0,Ir.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,Ir.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,Xe.encodeData)(i,{programId:(0,Ir.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Vr.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,Xe.encodeData)(t,{base:(0,Ir.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,Ir.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Vr.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Vr.Transaction;"basePubkey"in e&&"seed"in e?t.add(On.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:uh.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(On.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:uh.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,Xe.encodeData)(t,{authorized:(0,Ir.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:rs.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:rs.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Vr.TransactionInstruction(i)}static nonceAdvance(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,Xe.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:rs.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Vr.TransactionInstruction(i)}static nonceWithdraw(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,Xe.encodeData)(t,{lamports:e.lamports});return new Vr.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:rs.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:rs.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=Re.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,Xe.encodeData)(t,{authorized:(0,Ir.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new Vr.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,Xe.encodeData)(i,{base:(0,Ir.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,Ir.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Re.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,Xe.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Vr.TransactionInstruction({keys:n,programId:this.programId,data:t})}};Re.SystemProgram=On;On.programId=new vr.PublicKey("11111111111111111111111111111111")});var lh=W(Sa=>{"use strict";B();I();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.decodeData=void 0;function nb(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}Sa.decodeData=nb});var bh=W(wr=>{"use strict";B();I();var ib=wr&&wr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ob=wr&&wr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gh=wr&&wr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ib(e,r,t);return ob(e,r),e},sb=wr&&wr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wr,"__esModule",{value:!0});wr.AddressLookupTableAccount=void 0;var Yr=gh(ht()),hh=sb(wi()),yh=gh(cn()),dh=er(),ab=Wo(),ub=lh(),ph=56,Zu=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,ub.decodeData)(fb,e),n=e.length-ph;(0,hh.default)(n>=0,"lookup table is invalid"),(0,hh.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:u}=Yr.struct([Yr.seq(yh.publicKey(),i,"addresses")]).decode(e.slice(ph));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new dh.PublicKey(t.authority[0]):void 0,addresses:u.map(h=>new dh.PublicKey(h))}}};wr.AddressLookupTableAccount=Zu;var fb={index:1,layout:Yr.struct([Yr.u32("typeIndex"),(0,ab.u64)("deactivationSlot"),Yr.nu64("lastExtendedSlot"),Yr.u8("lastExtendedStartIndex"),Yr.u8(),Yr.seq(yh.publicKey(),Yr.offset(Yr.u8(),-1),"authority")])}});var _h=W(Je=>{"use strict";B();I();var wh=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cb=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xu=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wh(e,r,t);return cb(e,r),e},lb=Je&&Je.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wh(e,r,t)};Object.defineProperty(Je,"__esModule",{value:!0});Je.AddressLookupTableProgram=Je.AddressLookupTableInstruction=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var hb=Ws(),Pt=Xu(ht()),db=Xu(cn()),Qu=er(),mh=Xu(Wo()),vh=Hu(),ns=ts(),Mi=Ho();lb(bh(),Je);Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:Pt.struct([Pt.u32("instruction"),mh.u64("recentSlot"),Pt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Pt.struct([Pt.u32("instruction")])},ExtendLookupTable:{index:2,layout:Pt.struct([Pt.u32("instruction"),mh.u64(),Pt.seq(db.publicKey(),Pt.offset(Pt.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Pt.struct([Pt.u32("instruction")])},CloseLookupTable:{index:4,layout:Pt.struct([Pt.u32("instruction")])}});var Ju=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Pt.u32("instruction").decode(e.data),i;for(let[u,h]of Object.entries(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,Mi.decodeData)(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,Mi.decodeData)(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new Qu.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(is.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};Je.AddressLookupTableInstruction=Ju;var is=class{constructor(){}static createLookupTable(e){let[t,n]=Qu.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,hb.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,u=(0,Mi.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vh.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new ns.TransactionInstruction({programId:this.programId,keys:h,data:u}),t]}static freezeLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,Mi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ns.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,Mi.encodeData)(t,{addresses:e.addresses.map(u=>u.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vh.SystemProgram.programId,isSigner:!1,isWritable:!1}),new ns.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,Mi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ns.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,Mi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ns.TransactionInstruction({programId:this.programId,keys:i,data:n})}};Je.AddressLookupTableProgram=is;is.programId=new Qu.PublicKey("AddressLookupTab1e1111111111111111111111111")});var Ea=W(rt=>{"use strict";B();I();var pb=rt&&rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gb=rt&&rt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yb=rt&&rt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pb(e,r,t);return gb(e,r),e};Object.defineProperty(rt,"__esModule",{value:!0});rt.ComputeBudgetProgram=rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=rt.ComputeBudgetInstruction=void 0;var tr=yb(ht()),kn=Ho(),bb=er(),Aa=ts(),mb=Wo(),ef=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=tr.u8("instruction").decode(e.data),i;for(let[u,h]of Object.entries(rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:n}=(0,kn.decodeData)(rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=(0,kn.decodeData)(rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=(0,kn.decodeData)(rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=(0,kn.decodeData)(rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(os.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};rt.ComputeBudgetInstruction=ef;rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:tr.struct([tr.u8("instruction"),tr.u32("units"),tr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:tr.struct([tr.u8("instruction"),tr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:tr.struct([tr.u8("instruction"),tr.u32("units")])},SetComputeUnitPrice:{index:3,layout:tr.struct([tr.u8("instruction"),(0,mb.u64)("microLamports")])}});var os=class{constructor(){}static requestUnits(e){let t=rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=(0,kn.encodeData)(t,e);return new Aa.TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=(0,kn.encodeData)(t,e);return new Aa.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=(0,kn.encodeData)(t,e);return new Aa.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=rt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=(0,kn.encodeData)(t,{microLamports:BigInt(e.microLamports)});return new Aa.TransactionInstruction({keys:[],programId:this.programId,data:n})}};rt.ComputeBudgetProgram=os;os.programId=new bb.PublicKey("ComputeBudget111111111111111111111111111111")});var Mh=W(pn=>{"use strict";B();I();var vb=pn&&pn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tf=pn&&pn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vb(e,r,t)};Object.defineProperty(pn,"__esModule",{value:!0});tf(_h(),pn);tf(Hu(),pn);tf(Ea(),pn)});var tt=W(mt=>{"use strict";B();I();var wb=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gn=mt&&mt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wb(e,r,t)};Object.defineProperty(mt,"__esModule",{value:!0});mt.LAMPORTS_PER_SOL=void 0;gn(Vc(),mt);gn(Au(),mt);gn(Kl(),mt);gn(ga(),mt);gn(Vu(),mt);gn(Mh(),mt);gn(er(),mt);gn(ts(),mt);gn(Yu(),mt);mt.LAMPORTS_PER_SOL=1e9});var $r=W(xt=>{"use strict";B();I();Object.defineProperty(xt,"__esModule",{value:!0});xt.programSupportsExtensions=xt.NATIVE_MINT_2022=xt.NATIVE_MINT=xt.ASSOCIATED_TOKEN_PROGRAM_ID=xt.TOKEN_2022_PROGRAM_ID=xt.TOKEN_PROGRAM_ID=void 0;var ss=tt();xt.TOKEN_PROGRAM_ID=new ss.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");xt.TOKEN_2022_PROGRAM_ID=new ss.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");xt.ASSOCIATED_TOKEN_PROGRAM_ID=new ss.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");xt.NATIVE_MINT=new ss.PublicKey("So11111111111111111111111111111111111111112");xt.NATIVE_MINT_2022=new ss.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function _b(r){return r!==xt.TOKEN_PROGRAM_ID}xt.programSupportsExtensions=_b});var yn=W(Qe=>{"use strict";B();I();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.TokenInvalidInstructionTypeError=Qe.TokenInvalidInstructionDataError=Qe.TokenInvalidInstructionKeysError=Qe.TokenInvalidInstructionProgramError=Qe.TokenOwnerOffCurveError=Qe.TokenInvalidOwnerError=Qe.TokenInvalidMintError=Qe.TokenInvalidAccountSizeError=Qe.TokenInvalidAccountOwnerError=Qe.TokenAccountNotFoundError=Qe.TokenError=void 0;var rr=class extends Error{constructor(e){super(e)}};Qe.TokenError=rr;var rf=class extends rr{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};Qe.TokenAccountNotFoundError=rf;var nf=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};Qe.TokenInvalidAccountOwnerError=nf;var of=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};Qe.TokenInvalidAccountSizeError=of;var sf=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};Qe.TokenInvalidMintError=sf;var af=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};Qe.TokenInvalidOwnerError=af;var uf=class extends rr{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};Qe.TokenOwnerOffCurveError=uf;var ff=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};Qe.TokenInvalidInstructionProgramError=ff;var cf=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};Qe.TokenInvalidInstructionKeysError=cf;var lf=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};Qe.TokenInvalidInstructionDataError=lf;var hf=class extends rr{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};Qe.TokenInvalidInstructionTypeError=hf});var Un=W(as=>{"use strict";B();I();Object.defineProperty(as,"__esModule",{value:!0});as.TokenInstruction=void 0;var Mb;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(Mb=as.TokenInstruction||(as.TokenInstruction={}))});var Si=W(Ta=>{"use strict";B();I();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.addSigners=void 0;var Sb=tt();function Ab(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n instanceof Sb.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}Ta.addSigners=Ab});var Th=W(qt=>{"use strict";B();I();Object.defineProperty(qt,"__esModule",{value:!0});qt.decodeTransferInstructionUnchecked=qt.decodeTransferInstruction=qt.createTransferInstruction=qt.transferInstructionData=void 0;var df=ht(),Eb=tt(),Sh=$r(),Ba=yn(),Tb=Si(),Ah=Un();qt.transferInstructionData=(0,df.struct)([(0,df.u8)("instruction"),(0,df.u64)("amount")]);function Bb(r,e,t,n,i=[],u=Sh.TOKEN_PROGRAM_ID){let h=(0,Tb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=K.Buffer.alloc(qt.transferInstructionData.span);return qt.transferInstructionData.encode({instruction:Ah.TokenInstruction.Transfer,amount:BigInt(n)},S),new Eb.TransactionInstruction({keys:h,programId:u,data:S})}qt.createTransferInstruction=Bb;function Ib(r,e=Sh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ba.TokenInvalidInstructionProgramError;if(r.data.length!==qt.transferInstructionData.span)throw new Ba.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:u},data:h}=Eh(r);if(h.instruction!==Ah.TokenInstruction.Transfer)throw new Ba.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ba.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:u},data:h}}qt.decodeTransferInstruction=Ib;function Eh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:qt.transferInstructionData.decode(u)}}qt.decodeTransferInstructionUnchecked=Eh});var xh=W(zt=>{"use strict";B();I();Object.defineProperty(zt,"__esModule",{value:!0});zt.decodeTransferCheckedInstructionUnchecked=zt.decodeTransferCheckedInstruction=zt.createTransferCheckedInstruction=zt.transferCheckedInstructionData=void 0;var Ia=ht(),Pb=tt(),Bh=$r(),Pa=yn(),xb=Si(),Ih=Un();zt.transferCheckedInstructionData=(0,Ia.struct)([(0,Ia.u8)("instruction"),(0,Ia.u64)("amount"),(0,Ia.u8)("decimals")]);function Ob(r,e,t,n,i,u,h=[],S=Bh.TOKEN_PROGRAM_ID){let w=(0,xb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,h),A=K.Buffer.alloc(zt.transferCheckedInstructionData.span);return zt.transferCheckedInstructionData.encode({instruction:Ih.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:u},A),new Pb.TransactionInstruction({keys:w,programId:S,data:A})}zt.createTransferCheckedInstruction=Ob;function kb(r,e=Bh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Pa.TokenInvalidInstructionProgramError;if(r.data.length!==zt.transferCheckedInstructionData.span)throw new Pa.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:u,multiSigners:h},data:S}=Ph(r);if(S.instruction!==Ih.TokenInstruction.TransferChecked)throw new Pa.TokenInvalidInstructionTypeError;if(!t||!n||!i||!u)throw new Pa.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:u,multiSigners:h},data:S}}zt.decodeTransferCheckedInstruction=kb;function Ph({programId:r,keys:[e,t,n,i,...u],data:h}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:u},data:zt.transferCheckedInstructionData.decode(h)}}zt.decodeTransferCheckedInstructionUnchecked=Ph});var kh=W(xa=>{"use strict";B();I();Object.defineProperty(xa,"__esModule",{value:!0});xa.createAssociatedTokenAccountInstruction=void 0;var pf=tt(),Oh=$r();function Ub(r,e,t,n,i=Oh.TOKEN_PROGRAM_ID,u=Oh.ASSOCIATED_TOKEN_PROGRAM_ID){let h=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:pf.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:pf.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new pf.TransactionInstruction({keys:h,programId:u,data:K.Buffer.alloc(0)})}xa.createAssociatedTokenAccountInstruction=Ub});var Lh=W(Nt=>{"use strict";B();I();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.decodeBurnInstructionUnchecked=Nt.decodeBurnInstruction=Nt.createBurnInstruction=Nt.burnInstructionData=void 0;var gf=ht(),Cb=tt(),Uh=$r(),Oa=yn(),Rb=Si(),Ch=Un();Nt.burnInstructionData=(0,gf.struct)([(0,gf.u8)("instruction"),(0,gf.u64)("amount")]);function Lb(r,e,t,n,i=[],u=Uh.TOKEN_PROGRAM_ID){let h=(0,Rb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=K.Buffer.alloc(Nt.burnInstructionData.span);return Nt.burnInstructionData.encode({instruction:Ch.TokenInstruction.Burn,amount:BigInt(n)},S),new Cb.TransactionInstruction({keys:h,programId:u,data:S})}Nt.createBurnInstruction=Lb;function Db(r,e=Uh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Oa.TokenInvalidInstructionProgramError;if(r.data.length!==Nt.burnInstructionData.span)throw new Oa.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}=Rh(r);if(h.instruction!==Ch.TokenInstruction.Burn)throw new Oa.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Oa.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}}Nt.decodeBurnInstruction=Db;function Rh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:Nt.burnInstructionData.decode(u)}}Nt.decodeBurnInstructionUnchecked=Rh});var qh=W(jt=>{"use strict";B();I();Object.defineProperty(jt,"__esModule",{value:!0});jt.decodeBurnCheckedInstructionUnchecked=jt.decodeBurnCheckedInstruction=jt.createBurnCheckedInstruction=jt.burnCheckedInstructionData=void 0;var ka=ht(),Fb=tt(),Dh=$r(),Ua=yn(),Kb=Si(),Fh=Un();jt.burnCheckedInstructionData=(0,ka.struct)([(0,ka.u8)("instruction"),(0,ka.u64)("amount"),(0,ka.u8)("decimals")]);function qb(r,e,t,n,i,u=[],h=Dh.TOKEN_PROGRAM_ID){let S=(0,Kb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,u),w=K.Buffer.alloc(jt.burnCheckedInstructionData.span);return jt.burnCheckedInstructionData.encode({instruction:Fh.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},w),new Fb.TransactionInstruction({keys:S,programId:h,data:w})}jt.createBurnCheckedInstruction=qb;function zb(r,e=Dh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ua.TokenInvalidInstructionProgramError;if(r.data.length!==jt.burnCheckedInstructionData.span)throw new Ua.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}=Kh(r);if(h.instruction!==Fh.TokenInstruction.BurnChecked)throw new Ua.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ua.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}}jt.decodeBurnCheckedInstruction=zb;function Kh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:jt.burnCheckedInstructionData.decode(u)}}jt.decodeBurnCheckedInstructionUnchecked=Kh});var Vh=W(Vt=>{"use strict";B();I();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.decodeMintToInstructionUnchecked=Vt.decodeMintToInstruction=Vt.createMintToInstruction=Vt.mintToInstructionData=void 0;var yf=ht(),Nb=tt(),zh=$r(),Ca=yn(),jb=Si(),Nh=Un();Vt.mintToInstructionData=(0,yf.struct)([(0,yf.u8)("instruction"),(0,yf.u64)("amount")]);function Vb(r,e,t,n,i=[],u=zh.TOKEN_PROGRAM_ID){let h=(0,jb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=K.Buffer.alloc(Vt.mintToInstructionData.span);return Vt.mintToInstructionData.encode({instruction:Nh.TokenInstruction.MintTo,amount:BigInt(n)},S),new Nb.TransactionInstruction({keys:h,programId:u,data:S})}Vt.createMintToInstruction=Vb;function Yb(r,e=zh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ca.TokenInvalidInstructionProgramError;if(r.data.length!==Vt.mintToInstructionData.span)throw new Ca.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}=jh(r);if(h.instruction!==Nh.TokenInstruction.MintTo)throw new Ca.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ca.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}}Vt.decodeMintToInstruction=Yb;function jh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:Vt.mintToInstructionData.decode(u)}}Vt.decodeMintToInstructionUnchecked=jh});var Wh=W(Yt=>{"use strict";B();I();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.decodeMintToCheckedInstructionUnchecked=Yt.decodeMintToCheckedInstruction=Yt.createMintToCheckedInstruction=Yt.mintToCheckedInstructionData=void 0;var Ra=ht(),$b=tt(),Yh=$r(),La=yn(),Gb=Si(),$h=Un();Yt.mintToCheckedInstructionData=(0,Ra.struct)([(0,Ra.u8)("instruction"),(0,Ra.u64)("amount"),(0,Ra.u8)("decimals")]);function Wb(r,e,t,n,i,u=[],h=Yh.TOKEN_PROGRAM_ID){let S=(0,Gb.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,u),w=K.Buffer.alloc(Yt.mintToCheckedInstructionData.span);return Yt.mintToCheckedInstructionData.encode({instruction:$h.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},w),new $b.TransactionInstruction({keys:S,programId:h,data:w})}Yt.createMintToCheckedInstruction=Wb;function Hb(r,e=Yh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new La.TokenInvalidInstructionProgramError;if(r.data.length!==Yt.mintToCheckedInstructionData.span)throw new La.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}=Gh(r);if(h.instruction!==$h.TokenInstruction.MintToChecked)throw new La.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new La.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}}Yt.decodeMintToCheckedInstruction=Hb;function Gh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:Yt.mintToCheckedInstructionData.decode(u)}}Yt.decodeMintToCheckedInstructionUnchecked=Gh});var Hh=W($t=>{"use strict";B();I();var Zb=$t&&$t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cn=$t&&$t.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zb(e,r,t)};Object.defineProperty($t,"__esModule",{value:!0});Cn(Un(),$t);Cn(Th(),$t);Cn(xh(),$t);Cn(kh(),$t);Cn(Lh(),$t);Cn(qh(),$t);Cn(Vh(),$t);Cn(Wh(),$t)});var Da=W(Pr=>{"use strict";B();I();var Jb=Pr&&Pr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bf=Pr&&Pr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Jb(e,r,t)};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getAssociatedTokenAddress=void 0;var Zh=tt(),Jh=$r(),Xb=yn();bf(Hh(),Pr);bf($r(),Pr);bf(yn(),Pr);async function Qb(r,e,t=!1,n=Jh.TOKEN_PROGRAM_ID,i=Jh.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!Zh.PublicKey.isOnCurve(e.toBuffer()))throw new Xb.TokenOwnerOffCurveError;let[u]=await Zh.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return u}Pr.getAssociatedTokenAddress=Qb});function e1(){throw new Error("setTimeout has not been defined")}function t1(){throw new Error("clearTimeout has not been defined")}function i1(r,e){this.fun=r,this.array=e}var r1,n1,us,DA,FA,Xh=ci(()=>{B();I();r1=e1,n1=t1;typeof globalThis.setTimeout=="function"&&(r1=setTimeout);typeof globalThis.clearTimeout=="function"&&(n1=clearTimeout);i1.prototype.run=function(){this.fun.apply(null,this.array)};us=globalThis.performance||{},DA=us.now||us.mozNow||us.msNow||us.oNow||us.webkitNow||function(){return new Date().getTime()},FA=new Date});var mf,vf,Qh=ci(()=>{B();I();typeof Object.create=="function"?mf=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:mf=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};vf=mf});function Rn(r,e){var t={seen:[],stylize:s1};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),ed(e)?t.showHidden=e:e&&d1(t,e),Hi(t.showHidden)&&(t.showHidden=!1),Hi(t.depth)&&(t.depth=2),Hi(t.colors)&&(t.colors=!1),Hi(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=o1),Fa(t,r,t.depth)}function o1(r,e){var t=Rn.styles[e];return t?"\x1B["+Rn.colors[t][0]+"m"+r+"\x1B["+Rn.colors[t][1]+"m":r}function s1(r,e){return r}function a1(r){var e={};return r.forEach(function(t,n){e[t]=!0}),e}function Fa(r,e,t){if(r.customInspect&&e&&Ji(e.inspect)&&e.inspect!==Rn&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(t,r);return rd(n)||(n=Fa(r,n,t)),n}var i=u1(r,e);if(i)return i;var u=Object.keys(e),h=a1(u);if(r.showHidden&&(u=Object.getOwnPropertyNames(e)),fs(e)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return wf(e);if(u.length===0){if(Ji(e)){var S=e.name?": "+e.name:"";return r.stylize("[Function"+S+"]","special")}if(Zi(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(cs(e))return r.stylize(Date.prototype.toString.call(e),"date");if(fs(e))return wf(e)}var w="",A=!1,C=["{","}"];if(l1(e)&&(A=!0,C=["[","]"]),Ji(e)){var x=e.name?": "+e.name:"";w=" [Function"+x+"]"}if(Zi(e)&&(w=" "+RegExp.prototype.toString.call(e)),cs(e)&&(w=" "+Date.prototype.toUTCString.call(e)),fs(e)&&(w=" "+wf(e)),u.length===0&&(!A||e.length==0))return C[0]+w+C[1];if(t<0)return Zi(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special");r.seen.push(e);var D;return A?D=f1(r,e,t,h,u):D=u.map(function(k){return _f(r,e,t,h,k,A)}),r.seen.pop(),c1(D,w,C)}function u1(r,e){if(Hi(e))return r.stylize("undefined","undefined");if(rd(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(t,"string")}if(h1(e))return r.stylize(""+e,"number");if(ed(e))return r.stylize(""+e,"boolean");if(td(e))return r.stylize("null","null")}function wf(r){return"["+Error.prototype.toString.call(r)+"]"}function f1(r,e,t,n,i){for(var u=[],h=0,S=e.length;h<S;++h)nd(e,String(h))?u.push(_f(r,e,t,n,String(h),!0)):u.push("");return i.forEach(function(w){w.match(/^\d+$/)||u.push(_f(r,e,t,n,w,!0))}),u}function _f(r,e,t,n,i,u){var h,S,w;if(w=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},w.get?w.set?S=r.stylize("[Getter/Setter]","special"):S=r.stylize("[Getter]","special"):w.set&&(S=r.stylize("[Setter]","special")),nd(n,i)||(h="["+i+"]"),S||(r.seen.indexOf(w.value)<0?(td(t)?S=Fa(r,w.value,null):S=Fa(r,w.value,t-1),S.indexOf(`
`)>-1&&(u?S=S.split(`
`).map(function(A){return"  "+A}).join(`
`).substr(2):S=`
`+S.split(`
`).map(function(A){return"   "+A}).join(`
`))):S=r.stylize("[Circular]","special")),Hi(h)){if(u&&i.match(/^\d+$/))return S;h=JSON.stringify(""+i),h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=r.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=r.stylize(h,"string"))}return h+": "+S}function c1(r,e,t){var n=0,i=r.reduce(function(u,h){return n++,h.indexOf(`
`)>=0&&n++,u+h.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+r.join(`,
  `)+" "+t[1]:t[0]+e+" "+r.join(", ")+" "+t[1]}function l1(r){return Array.isArray(r)}function ed(r){return typeof r=="boolean"}function td(r){return r===null}function h1(r){return typeof r=="number"}function rd(r){return typeof r=="string"}function Hi(r){return r===void 0}function Zi(r){return Ka(r)&&Sf(r)==="[object RegExp]"}function Ka(r){return typeof r=="object"&&r!==null}function cs(r){return Ka(r)&&Sf(r)==="[object Date]"}function fs(r){return Ka(r)&&(Sf(r)==="[object Error]"||r instanceof Error)}function Ji(r){return typeof r=="function"}function Mf(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r>"u"}function Sf(r){return Object.prototype.toString.call(r)}function d1(r,e){if(!e||!Ka(e))return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}function nd(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var id=ci(()=>{B();I();Xh();Qh();Rn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Rn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}});var wd={};Oc(wd,{AssertionError:()=>qa,assert:()=>ls,deepEqual:()=>Bf,deepStrictEqual:()=>If,default:()=>g1,doesNotThrow:()=>md,equal:()=>Ef,fail:()=>Ot,ifError:()=>vd,notDeepEqual:()=>Pf,notDeepStrictEqual:()=>xf,notEqual:()=>Tf,notStrictEqual:()=>kf,ok:()=>ls,strictEqual:()=>Of,throws:()=>bd});function od(r,e){if(r===e)return 0;for(var t=r.length,n=e.length,i=0,u=Math.min(t,n);i<u;++i)if(r[i]!==e[i]){t=r[i],n=e[i];break}return t<n?-1:n<t?1:0}function pd(){return typeof Af<"u"?Af:Af=function(){return function(){}.name==="foo"}()}function ud(r){return Object.prototype.toString.call(r)}function fd(r){return Sn(r)||typeof globalThis.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r?!!(r instanceof DataView||r.buffer&&r.buffer instanceof ArrayBuffer):!1}function st(r,e){r||Ot(r,!0,e,"==",ls)}function gd(r){if(!!Ji(r)){if(pd())return r.name;var e=r.toString(),t=e.match(y1);return t&&t[1]}}function qa(r){this.name="AssertionError",this.actual=r.actual,this.expected=r.expected,this.operator=r.operator,r.message?(this.message=r.message,this.generatedMessage=!1):(this.message=b1(this),this.generatedMessage=!0);var e=r.stackStartFunction||Ot;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var n=t.stack,i=gd(e),u=n.indexOf(`
`+i);if(u>=0){var h=n.indexOf(`
`,u+1);n=n.substring(h+1)}this.stack=n}}}function cd(r,e){return typeof r=="string"?r.length<e?r:r.slice(0,e):r}function ld(r){if(pd()||!Ji(r))return Rn(r);var e=gd(r),t=e?": "+e:"";return"[Function"+t+"]"}function b1(r){return cd(ld(r.actual),128)+" "+r.operator+" "+cd(ld(r.expected),128)}function Ot(r,e,t,n,i){throw new qa({message:t,actual:r,expected:e,operator:n,stackStartFunction:i})}function ls(r,e){r||Ot(r,!0,e,"==",ls)}function Ef(r,e,t){r!=e&&Ot(r,e,t,"==",Ef)}function Tf(r,e,t){r==e&&Ot(r,e,t,"!=",Tf)}function Bf(r,e,t){Xi(r,e,!1)||Ot(r,e,t,"deepEqual",Bf)}function If(r,e,t){Xi(r,e,!0)||Ot(r,e,t,"deepStrictEqual",If)}function Xi(r,e,t,n){if(r===e)return!0;if(Sn(r)&&Sn(e))return od(r,e)===0;if(cs(r)&&cs(e))return r.getTime()===e.getTime();if(Zi(r)&&Zi(e))return r.source===e.source&&r.global===e.global&&r.multiline===e.multiline&&r.lastIndex===e.lastIndex&&r.ignoreCase===e.ignoreCase;if((r===null||typeof r!="object")&&(e===null||typeof e!="object"))return t?r===e:r==e;if(fd(r)&&fd(e)&&ud(r)===ud(e)&&!(r instanceof Float32Array||r instanceof Float64Array))return od(new Uint8Array(r.buffer),new Uint8Array(e.buffer))===0;if(Sn(r)!==Sn(e))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(r);return i!==-1&&i===n.expected.indexOf(e)?!0:(n.actual.push(r),n.expected.push(e),m1(r,e,t,n))}function hd(r){return Object.prototype.toString.call(r)=="[object Arguments]"}function m1(r,e,t,n){if(r==null||e===null||e===void 0)return!1;if(Mf(r)||Mf(e))return r===e;if(t&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(e))return!1;var i=hd(r),u=hd(e);if(i&&!u||!i&&u)return!1;if(i)return r=ad.call(r),e=ad.call(e),Xi(r,e,t);var h=sd(r),S=sd(e),w,A;if(h.length!==S.length)return!1;for(h.sort(),S.sort(),A=h.length-1;A>=0;A--)if(h[A]!==S[A])return!1;for(A=h.length-1;A>=0;A--)if(w=h[A],!Xi(r[w],e[w],t,n))return!1;return!0}function Pf(r,e,t){Xi(r,e,!1)&&Ot(r,e,t,"notDeepEqual",Pf)}function xf(r,e,t){Xi(r,e,!0)&&Ot(r,e,t,"notDeepStrictEqual",xf)}function Of(r,e,t){r!==e&&Ot(r,e,t,"===",Of)}function kf(r,e,t){r===e&&Ot(r,e,t,"!==",kf)}function dd(r,e){if(!r||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(r);try{if(r instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},r)===!0}function v1(r){var e;try{r()}catch(t){e=t}return e}function yd(r,e,t,n){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(n=t,t=null),i=v1(e),n=(t&&t.name?" ("+t.name+").":".")+(n?" "+n:"."),r&&!i&&Ot(i,t,"Missing expected exception"+n);var u=typeof n=="string",h=!r&&fs(i),S=!r&&i&&!t;if((h&&u&&dd(i,t)||S)&&Ot(i,t,"Got unwanted exception"+n),r&&i&&t&&!dd(i,t)||!r&&i)throw i}function bd(r,e,t){yd(!0,r,e,t)}function md(r,e,t){yd(!1,r,e,t)}function w1(){ls.apply(null,arguments)}function vd(r){if(r)throw r}var p1,sd,ad,Af,g1,y1,_d=ci(()=>{B();I();vu();id();p1=Object.prototype.hasOwnProperty,sd=Object.keys||function(r){var e=[];for(var t in r)p1.call(r,t)&&e.push(t);return e},ad=Array.prototype.slice;g1=st,y1=/\s*function\s+([^\(\s]*)\s*/;st.AssertionError=qa;vf(qa,Error);st.fail=Ot;st.ok=ls;st.equal=Ef;st.notEqual=Tf;st.deepEqual=Bf;st.deepStrictEqual=If;st.notDeepEqual=Pf;st.notDeepStrictEqual=xf;st.strictEqual=Of;st.notStrictEqual=kf;st.throws=bd;st.doesNotThrow=md;st.strict=Object.assign(w1,st,{equal:st.strictEqual,deepEqual:st.deepStrictEqual,notEqual:st.notStrictEqual,notDeepEqual:st.notDeepStrictEqual});st.ifError=vd});var xr=W((tE,za)=>{B();I();var Ai=(_d(),Uc(wd));if(Ai&&Ai.default){za.exports=Ai.default;for(let r in Ai)za.exports[r]=Ai[r]}else Ai&&(za.exports=Ai)});var At=W(St=>{"use strict";B();I();Object.defineProperty(St,"__esModule",{value:!0});St.isElementCollectionFixedSizeBeet=St.isFixableBeet=St.assertFixedSizeBeet=St.isFixedSizeBeet=St.BEET_TYPE_ARG_INNER=St.BEET_TYPE_ARG_LEN=St.BEET_PACKAGE=void 0;var _1=xr();St.BEET_PACKAGE="@metaplex-foundation/beet";St.BEET_TYPE_ARG_LEN="len";St.BEET_TYPE_ARG_INNER="Beet<{innner}>";function Md(r){return Object.keys(r).includes("byteSize")}St.isFixedSizeBeet=Md;function M1(r,e=`${r} should have been a fixed beet`){(0,_1.strict)(Md(r),e)}St.assertFixedSizeBeet=M1;function S1(r){return typeof r.toFixedFromData=="function"&&typeof r.toFixedFromValue=="function"}St.isFixableBeet=S1;function A1(r){let e=Object.keys(r);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}St.isElementCollectionFixedSizeBeet=A1});var Ad=W((Sd,Uf)=>{B();I();(function(r,e){"use strict";function t(b,o){if(!b)throw new Error(o||"Assertion failed")}function n(b,o){b.super_=o;var a=function(){};a.prototype=o.prototype,b.prototype=new a,b.prototype.constructor=b}function i(b,o,a){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(b||0,o||10,a||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=_t().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),t(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(a===16?this._parseHex(o,l,f):(this._parseBase(o,a,l),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g,_,E=0;if(f==="be")for(l=o.length-1,g=0;l>=0;l-=3)_=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(l=0,g=0;l<o.length;l+=3)_=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function h(b,o){var a=b.charCodeAt(o);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;t(!1,"Invalid character in "+b)}function S(b,o,a){var f=h(b,a);return a-1>=o&&(f|=h(b,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g=0,_=0,E;if(f==="be")for(l=o.length-1;l>=a;l-=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8;else{var p=o.length-a;for(l=p%2===0?a+1:a;l<o.length;l+=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8}this._strip()};function w(b,o,a,f){for(var l=0,g=0,_=Math.min(b.length,a),E=o;E<_;E++){var p=b.charCodeAt(E)-48;l*=f,p>=49?g=p-49+10:p>=17?g=p-17+10:g=p,t(p>=0&&g<f,"Invalid character"),l+=g}return l}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var l=0,g=1;g<=67108863;g*=a)l++;l--,g=g/a|0;for(var _=o.length-f,E=_%l,p=Math.min(_,_-E)+f,s=0,y=f;y<p;y+=l)s=w(o,y,y+l,a),this.imuln(g),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(E!==0){var V=1;for(s=w(o,y,o.length,a),y=0;y<E;y++)V*=a;this.imuln(V),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red};function A(b,o){b.words=o.words,b.length=o.length,b.negative=o.negative,b.red=o.red}if(i.prototype._move=function(o){A(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{i.prototype.inspect=C}else i.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var l=0,g=0,_=0;_<this.length;_++){var E=this.words[_],p=((E<<l|g)&16777215).toString(16);g=E>>>24-l&16777215,l+=2,l>=26&&(l-=26,_--),g!==0||_!==this.length-1?f=x[6-p.length]+p+f:f=p+f}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var s=D[o],y=k[o];f="";var V=this.clone();for(V.negative=0;!V.isZero();){var G=V.modrn(y).toString(o);V=V.idivn(y),V.isZero()?f=G+f:f=x[s-G.length]+G+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(o,a){return this.toArrayLike(u,o,a)}),i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)};var Y=function(o,a){return o.allocUnsafe?o.allocUnsafe(a):new o(a)};i.prototype.toArrayLike=function(o,a,f){this._strip();var l=this.byteLength(),g=f||Math.max(1,l);t(l<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var _=Y(o,g),E=a==="le"?"LE":"BE";return this["_toArrayLike"+E](_,l),_},i.prototype._toArrayLikeLE=function(o,a){for(var f=0,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f++]=E&255,f<o.length&&(o[f++]=E>>8&255),f<o.length&&(o[f++]=E>>16&255),_===6?(f<o.length&&(o[f++]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f<o.length)for(o[f++]=l;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,a){for(var f=o.length-1,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f--]=E&255,f>=0&&(o[f--]=E>>8&255),f>=0&&(o[f--]=E>>16&255),_===6?(f>=0&&(o[f--]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f>=0)for(o[f--]=l;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return(a&8191)===0&&(f+=13,a>>>=13),(a&127)===0&&(f+=7,a>>>=7),(a&15)===0&&(f+=4,a>>>=4),(a&3)===0&&(f+=2,a>>>=2),(a&1)===0&&f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function N(b){for(var o=new Array(b.bitLength()),a=0;a<o.length;a++){var f=a/26|0,l=a%26;o[a]=b.words[f]>>>l&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var l=0;l<f.length;l++)this.words[l]=a.words[l]^f.words[l];if(this!==a)for(;l<a.length;l++)this.words[l]=a.words[l];return this.length=a.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var l=0;l<a;l++)this.words[l]=~this.words[l]&67108863;return f>0&&(this.words[l]=~this.words[l]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){t(typeof o=="number"&&o>=0);var f=o/26|0,l=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<l:this.words[f]=this.words[f]&~(1<<l),this._strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,l;this.length>o.length?(f=this,l=o):(f=o,l=this);for(var g=0,_=0;_<l.length;_++)a=(f.words[_]|0)+(l.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;for(;g!==0&&_<f.length;_++)a=(f.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;_<f.length;_++)this.words[_]=f.words[_];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,g;f>0?(l=this,g=o):(l=o,g=this);for(var _=0,E=0;E<g.length;E++)a=(l.words[E]|0)-(g.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;for(;_!==0&&E<l.length;E++)a=(l.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;if(_===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function $(b,o,a){a.negative=o.negative^b.negative;var f=b.length+o.length|0;a.length=f,f=f-1|0;var l=b.words[0]|0,g=o.words[0]|0,_=l*g,E=_&67108863,p=_/67108864|0;a.words[0]=E;for(var s=1;s<f;s++){for(var y=p>>>26,V=p&67108863,G=Math.min(s,o.length-1),Z=Math.max(0,s-b.length+1);Z<=G;Z++){var d=s-Z|0;l=b.words[d]|0,g=o.words[Z]|0,_=l*g+V,y+=_/67108864|0,V=_&67108863}a.words[s]=V|0,p=y|0}return p!==0?a.words[s]=p|0:a.length--,a._strip()}var H=function(o,a,f){var l=o.words,g=a.words,_=f.words,E=0,p,s,y,V=l[0]|0,G=V&8191,Z=V>>>13,d=l[1]|0,v=d&8191,T=d>>>13,O=l[2]|0,R=O&8191,L=O>>>13,ee=l[3]|0,Q=ee&8191,re=ee>>>13,Le=l[4]|0,te=Le&8191,c=Le>>>13,m=l[5]|0,M=m&8191,P=m>>>13,F=l[6]|0,U=F&8191,z=F>>>13,ce=l[7]|0,ne=ce&8191,oe=ce>>>13,Fe=l[8]|0,se=Fe&8191,he=Fe>>>13,Ao=l[9]|0,de=Ao&8191,pe=Ao>>>13,Eo=g[0]|0,ge=Eo&8191,ye=Eo>>>13,To=g[1]|0,be=To&8191,me=To>>>13,Bo=g[2]|0,ve=Bo&8191,we=Bo>>>13,Io=g[3]|0,_e=Io&8191,Me=Io>>>13,Po=g[4]|0,Se=Po&8191,Ae=Po>>>13,xo=g[5]|0,Ee=xo&8191,Te=xo>>>13,Oo=g[6]|0,Be=Oo&8191,Ie=Oo>>>13,ko=g[7]|0,Pe=ko&8191,xe=ko>>>13,Uo=g[8]|0,Oe=Uo&8191,ke=Uo>>>13,Co=g[9]|0,Ue=Co&8191,Ce=Co>>>13;f.negative=o.negative^a.negative,f.length=19,p=Math.imul(G,ge),s=Math.imul(G,ye),s=s+Math.imul(Z,ge)|0,y=Math.imul(Z,ye);var Yn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,p=Math.imul(v,ge),s=Math.imul(v,ye),s=s+Math.imul(T,ge)|0,y=Math.imul(T,ye),p=p+Math.imul(G,be)|0,s=s+Math.imul(G,me)|0,s=s+Math.imul(Z,be)|0,y=y+Math.imul(Z,me)|0;var $n=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,p=Math.imul(R,ge),s=Math.imul(R,ye),s=s+Math.imul(L,ge)|0,y=Math.imul(L,ye),p=p+Math.imul(v,be)|0,s=s+Math.imul(v,me)|0,s=s+Math.imul(T,be)|0,y=y+Math.imul(T,me)|0,p=p+Math.imul(G,ve)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,ve)|0,y=y+Math.imul(Z,we)|0;var Gn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,p=Math.imul(Q,ge),s=Math.imul(Q,ye),s=s+Math.imul(re,ge)|0,y=Math.imul(re,ye),p=p+Math.imul(R,be)|0,s=s+Math.imul(R,me)|0,s=s+Math.imul(L,be)|0,y=y+Math.imul(L,me)|0,p=p+Math.imul(v,ve)|0,s=s+Math.imul(v,we)|0,s=s+Math.imul(T,ve)|0,y=y+Math.imul(T,we)|0,p=p+Math.imul(G,_e)|0,s=s+Math.imul(G,Me)|0,s=s+Math.imul(Z,_e)|0,y=y+Math.imul(Z,Me)|0;var Wn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,p=Math.imul(te,ge),s=Math.imul(te,ye),s=s+Math.imul(c,ge)|0,y=Math.imul(c,ye),p=p+Math.imul(Q,be)|0,s=s+Math.imul(Q,me)|0,s=s+Math.imul(re,be)|0,y=y+Math.imul(re,me)|0,p=p+Math.imul(R,ve)|0,s=s+Math.imul(R,we)|0,s=s+Math.imul(L,ve)|0,y=y+Math.imul(L,we)|0,p=p+Math.imul(v,_e)|0,s=s+Math.imul(v,Me)|0,s=s+Math.imul(T,_e)|0,y=y+Math.imul(T,Me)|0,p=p+Math.imul(G,Se)|0,s=s+Math.imul(G,Ae)|0,s=s+Math.imul(Z,Se)|0,y=y+Math.imul(Z,Ae)|0;var Hn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,p=Math.imul(M,ge),s=Math.imul(M,ye),s=s+Math.imul(P,ge)|0,y=Math.imul(P,ye),p=p+Math.imul(te,be)|0,s=s+Math.imul(te,me)|0,s=s+Math.imul(c,be)|0,y=y+Math.imul(c,me)|0,p=p+Math.imul(Q,ve)|0,s=s+Math.imul(Q,we)|0,s=s+Math.imul(re,ve)|0,y=y+Math.imul(re,we)|0,p=p+Math.imul(R,_e)|0,s=s+Math.imul(R,Me)|0,s=s+Math.imul(L,_e)|0,y=y+Math.imul(L,Me)|0,p=p+Math.imul(v,Se)|0,s=s+Math.imul(v,Ae)|0,s=s+Math.imul(T,Se)|0,y=y+Math.imul(T,Ae)|0,p=p+Math.imul(G,Ee)|0,s=s+Math.imul(G,Te)|0,s=s+Math.imul(Z,Ee)|0,y=y+Math.imul(Z,Te)|0;var Zn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,p=Math.imul(U,ge),s=Math.imul(U,ye),s=s+Math.imul(z,ge)|0,y=Math.imul(z,ye),p=p+Math.imul(M,be)|0,s=s+Math.imul(M,me)|0,s=s+Math.imul(P,be)|0,y=y+Math.imul(P,me)|0,p=p+Math.imul(te,ve)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(c,ve)|0,y=y+Math.imul(c,we)|0,p=p+Math.imul(Q,_e)|0,s=s+Math.imul(Q,Me)|0,s=s+Math.imul(re,_e)|0,y=y+Math.imul(re,Me)|0,p=p+Math.imul(R,Se)|0,s=s+Math.imul(R,Ae)|0,s=s+Math.imul(L,Se)|0,y=y+Math.imul(L,Ae)|0,p=p+Math.imul(v,Ee)|0,s=s+Math.imul(v,Te)|0,s=s+Math.imul(T,Ee)|0,y=y+Math.imul(T,Te)|0,p=p+Math.imul(G,Be)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(Z,Be)|0,y=y+Math.imul(Z,Ie)|0;var Jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,p=Math.imul(ne,ge),s=Math.imul(ne,ye),s=s+Math.imul(oe,ge)|0,y=Math.imul(oe,ye),p=p+Math.imul(U,be)|0,s=s+Math.imul(U,me)|0,s=s+Math.imul(z,be)|0,y=y+Math.imul(z,me)|0,p=p+Math.imul(M,ve)|0,s=s+Math.imul(M,we)|0,s=s+Math.imul(P,ve)|0,y=y+Math.imul(P,we)|0,p=p+Math.imul(te,_e)|0,s=s+Math.imul(te,Me)|0,s=s+Math.imul(c,_e)|0,y=y+Math.imul(c,Me)|0,p=p+Math.imul(Q,Se)|0,s=s+Math.imul(Q,Ae)|0,s=s+Math.imul(re,Se)|0,y=y+Math.imul(re,Ae)|0,p=p+Math.imul(R,Ee)|0,s=s+Math.imul(R,Te)|0,s=s+Math.imul(L,Ee)|0,y=y+Math.imul(L,Te)|0,p=p+Math.imul(v,Be)|0,s=s+Math.imul(v,Ie)|0,s=s+Math.imul(T,Be)|0,y=y+Math.imul(T,Ie)|0,p=p+Math.imul(G,Pe)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,Pe)|0,y=y+Math.imul(Z,xe)|0;var Xn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,p=Math.imul(se,ge),s=Math.imul(se,ye),s=s+Math.imul(he,ge)|0,y=Math.imul(he,ye),p=p+Math.imul(ne,be)|0,s=s+Math.imul(ne,me)|0,s=s+Math.imul(oe,be)|0,y=y+Math.imul(oe,me)|0,p=p+Math.imul(U,ve)|0,s=s+Math.imul(U,we)|0,s=s+Math.imul(z,ve)|0,y=y+Math.imul(z,we)|0,p=p+Math.imul(M,_e)|0,s=s+Math.imul(M,Me)|0,s=s+Math.imul(P,_e)|0,y=y+Math.imul(P,Me)|0,p=p+Math.imul(te,Se)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(c,Se)|0,y=y+Math.imul(c,Ae)|0,p=p+Math.imul(Q,Ee)|0,s=s+Math.imul(Q,Te)|0,s=s+Math.imul(re,Ee)|0,y=y+Math.imul(re,Te)|0,p=p+Math.imul(R,Be)|0,s=s+Math.imul(R,Ie)|0,s=s+Math.imul(L,Be)|0,y=y+Math.imul(L,Ie)|0,p=p+Math.imul(v,Pe)|0,s=s+Math.imul(v,xe)|0,s=s+Math.imul(T,Pe)|0,y=y+Math.imul(T,xe)|0,p=p+Math.imul(G,Oe)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(Z,Oe)|0,y=y+Math.imul(Z,ke)|0;var Qn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,p=Math.imul(de,ge),s=Math.imul(de,ye),s=s+Math.imul(pe,ge)|0,y=Math.imul(pe,ye),p=p+Math.imul(se,be)|0,s=s+Math.imul(se,me)|0,s=s+Math.imul(he,be)|0,y=y+Math.imul(he,me)|0,p=p+Math.imul(ne,ve)|0,s=s+Math.imul(ne,we)|0,s=s+Math.imul(oe,ve)|0,y=y+Math.imul(oe,we)|0,p=p+Math.imul(U,_e)|0,s=s+Math.imul(U,Me)|0,s=s+Math.imul(z,_e)|0,y=y+Math.imul(z,Me)|0,p=p+Math.imul(M,Se)|0,s=s+Math.imul(M,Ae)|0,s=s+Math.imul(P,Se)|0,y=y+Math.imul(P,Ae)|0,p=p+Math.imul(te,Ee)|0,s=s+Math.imul(te,Te)|0,s=s+Math.imul(c,Ee)|0,y=y+Math.imul(c,Te)|0,p=p+Math.imul(Q,Be)|0,s=s+Math.imul(Q,Ie)|0,s=s+Math.imul(re,Be)|0,y=y+Math.imul(re,Ie)|0,p=p+Math.imul(R,Pe)|0,s=s+Math.imul(R,xe)|0,s=s+Math.imul(L,Pe)|0,y=y+Math.imul(L,xe)|0,p=p+Math.imul(v,Oe)|0,s=s+Math.imul(v,ke)|0,s=s+Math.imul(T,Oe)|0,y=y+Math.imul(T,ke)|0,p=p+Math.imul(G,Ue)|0,s=s+Math.imul(G,Ce)|0,s=s+Math.imul(Z,Ue)|0,y=y+Math.imul(Z,Ce)|0;var ei=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ei>>>26)|0,ei&=67108863,p=Math.imul(de,be),s=Math.imul(de,me),s=s+Math.imul(pe,be)|0,y=Math.imul(pe,me),p=p+Math.imul(se,ve)|0,s=s+Math.imul(se,we)|0,s=s+Math.imul(he,ve)|0,y=y+Math.imul(he,we)|0,p=p+Math.imul(ne,_e)|0,s=s+Math.imul(ne,Me)|0,s=s+Math.imul(oe,_e)|0,y=y+Math.imul(oe,Me)|0,p=p+Math.imul(U,Se)|0,s=s+Math.imul(U,Ae)|0,s=s+Math.imul(z,Se)|0,y=y+Math.imul(z,Ae)|0,p=p+Math.imul(M,Ee)|0,s=s+Math.imul(M,Te)|0,s=s+Math.imul(P,Ee)|0,y=y+Math.imul(P,Te)|0,p=p+Math.imul(te,Be)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(c,Be)|0,y=y+Math.imul(c,Ie)|0,p=p+Math.imul(Q,Pe)|0,s=s+Math.imul(Q,xe)|0,s=s+Math.imul(re,Pe)|0,y=y+Math.imul(re,xe)|0,p=p+Math.imul(R,Oe)|0,s=s+Math.imul(R,ke)|0,s=s+Math.imul(L,Oe)|0,y=y+Math.imul(L,ke)|0,p=p+Math.imul(v,Ue)|0,s=s+Math.imul(v,Ce)|0,s=s+Math.imul(T,Ue)|0,y=y+Math.imul(T,Ce)|0;var ti=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ti>>>26)|0,ti&=67108863,p=Math.imul(de,ve),s=Math.imul(de,we),s=s+Math.imul(pe,ve)|0,y=Math.imul(pe,we),p=p+Math.imul(se,_e)|0,s=s+Math.imul(se,Me)|0,s=s+Math.imul(he,_e)|0,y=y+Math.imul(he,Me)|0,p=p+Math.imul(ne,Se)|0,s=s+Math.imul(ne,Ae)|0,s=s+Math.imul(oe,Se)|0,y=y+Math.imul(oe,Ae)|0,p=p+Math.imul(U,Ee)|0,s=s+Math.imul(U,Te)|0,s=s+Math.imul(z,Ee)|0,y=y+Math.imul(z,Te)|0,p=p+Math.imul(M,Be)|0,s=s+Math.imul(M,Ie)|0,s=s+Math.imul(P,Be)|0,y=y+Math.imul(P,Ie)|0,p=p+Math.imul(te,Pe)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(c,Pe)|0,y=y+Math.imul(c,xe)|0,p=p+Math.imul(Q,Oe)|0,s=s+Math.imul(Q,ke)|0,s=s+Math.imul(re,Oe)|0,y=y+Math.imul(re,ke)|0,p=p+Math.imul(R,Ue)|0,s=s+Math.imul(R,Ce)|0,s=s+Math.imul(L,Ue)|0,y=y+Math.imul(L,Ce)|0;var ri=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,p=Math.imul(de,_e),s=Math.imul(de,Me),s=s+Math.imul(pe,_e)|0,y=Math.imul(pe,Me),p=p+Math.imul(se,Se)|0,s=s+Math.imul(se,Ae)|0,s=s+Math.imul(he,Se)|0,y=y+Math.imul(he,Ae)|0,p=p+Math.imul(ne,Ee)|0,s=s+Math.imul(ne,Te)|0,s=s+Math.imul(oe,Ee)|0,y=y+Math.imul(oe,Te)|0,p=p+Math.imul(U,Be)|0,s=s+Math.imul(U,Ie)|0,s=s+Math.imul(z,Be)|0,y=y+Math.imul(z,Ie)|0,p=p+Math.imul(M,Pe)|0,s=s+Math.imul(M,xe)|0,s=s+Math.imul(P,Pe)|0,y=y+Math.imul(P,xe)|0,p=p+Math.imul(te,Oe)|0,s=s+Math.imul(te,ke)|0,s=s+Math.imul(c,Oe)|0,y=y+Math.imul(c,ke)|0,p=p+Math.imul(Q,Ue)|0,s=s+Math.imul(Q,Ce)|0,s=s+Math.imul(re,Ue)|0,y=y+Math.imul(re,Ce)|0;var ni=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,p=Math.imul(de,Se),s=Math.imul(de,Ae),s=s+Math.imul(pe,Se)|0,y=Math.imul(pe,Ae),p=p+Math.imul(se,Ee)|0,s=s+Math.imul(se,Te)|0,s=s+Math.imul(he,Ee)|0,y=y+Math.imul(he,Te)|0,p=p+Math.imul(ne,Be)|0,s=s+Math.imul(ne,Ie)|0,s=s+Math.imul(oe,Be)|0,y=y+Math.imul(oe,Ie)|0,p=p+Math.imul(U,Pe)|0,s=s+Math.imul(U,xe)|0,s=s+Math.imul(z,Pe)|0,y=y+Math.imul(z,xe)|0,p=p+Math.imul(M,Oe)|0,s=s+Math.imul(M,ke)|0,s=s+Math.imul(P,Oe)|0,y=y+Math.imul(P,ke)|0,p=p+Math.imul(te,Ue)|0,s=s+Math.imul(te,Ce)|0,s=s+Math.imul(c,Ue)|0,y=y+Math.imul(c,Ce)|0;var ii=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ii>>>26)|0,ii&=67108863,p=Math.imul(de,Ee),s=Math.imul(de,Te),s=s+Math.imul(pe,Ee)|0,y=Math.imul(pe,Te),p=p+Math.imul(se,Be)|0,s=s+Math.imul(se,Ie)|0,s=s+Math.imul(he,Be)|0,y=y+Math.imul(he,Ie)|0,p=p+Math.imul(ne,Pe)|0,s=s+Math.imul(ne,xe)|0,s=s+Math.imul(oe,Pe)|0,y=y+Math.imul(oe,xe)|0,p=p+Math.imul(U,Oe)|0,s=s+Math.imul(U,ke)|0,s=s+Math.imul(z,Oe)|0,y=y+Math.imul(z,ke)|0,p=p+Math.imul(M,Ue)|0,s=s+Math.imul(M,Ce)|0,s=s+Math.imul(P,Ue)|0,y=y+Math.imul(P,Ce)|0;var oi=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,p=Math.imul(de,Be),s=Math.imul(de,Ie),s=s+Math.imul(pe,Be)|0,y=Math.imul(pe,Ie),p=p+Math.imul(se,Pe)|0,s=s+Math.imul(se,xe)|0,s=s+Math.imul(he,Pe)|0,y=y+Math.imul(he,xe)|0,p=p+Math.imul(ne,Oe)|0,s=s+Math.imul(ne,ke)|0,s=s+Math.imul(oe,Oe)|0,y=y+Math.imul(oe,ke)|0,p=p+Math.imul(U,Ue)|0,s=s+Math.imul(U,Ce)|0,s=s+Math.imul(z,Ue)|0,y=y+Math.imul(z,Ce)|0;var si=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(si>>>26)|0,si&=67108863,p=Math.imul(de,Pe),s=Math.imul(de,xe),s=s+Math.imul(pe,Pe)|0,y=Math.imul(pe,xe),p=p+Math.imul(se,Oe)|0,s=s+Math.imul(se,ke)|0,s=s+Math.imul(he,Oe)|0,y=y+Math.imul(he,ke)|0,p=p+Math.imul(ne,Ue)|0,s=s+Math.imul(ne,Ce)|0,s=s+Math.imul(oe,Ue)|0,y=y+Math.imul(oe,Ce)|0;var ai=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ai>>>26)|0,ai&=67108863,p=Math.imul(de,Oe),s=Math.imul(de,ke),s=s+Math.imul(pe,Oe)|0,y=Math.imul(pe,ke),p=p+Math.imul(se,Ue)|0,s=s+Math.imul(se,Ce)|0,s=s+Math.imul(he,Ue)|0,y=y+Math.imul(he,Ce)|0;var ui=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ui>>>26)|0,ui&=67108863,p=Math.imul(de,Ue),s=Math.imul(de,Ce),s=s+Math.imul(pe,Ue)|0,y=Math.imul(pe,Ce);var fi=(E+p|0)+((s&8191)<<13)|0;return E=(y+(s>>>13)|0)+(fi>>>26)|0,fi&=67108863,_[0]=Yn,_[1]=$n,_[2]=Gn,_[3]=Wn,_[4]=Hn,_[5]=Zn,_[6]=Jn,_[7]=Xn,_[8]=Qn,_[9]=ei,_[10]=ti,_[11]=ri,_[12]=ni,_[13]=ii,_[14]=oi,_[15]=si,_[16]=ai,_[17]=ui,_[18]=fi,E!==0&&(_[19]=E,f.length++),f};Math.imul||(H=$);function ie(b,o,a){a.negative=o.negative^b.negative,a.length=b.length+o.length;for(var f=0,l=0,g=0;g<a.length-1;g++){var _=l;l=0;for(var E=f&67108863,p=Math.min(g,o.length-1),s=Math.max(0,g-b.length+1);s<=p;s++){var y=g-s,V=b.words[y]|0,G=o.words[s]|0,Z=V*G,d=Z&67108863;_=_+(Z/67108864|0)|0,d=d+E|0,E=d&67108863,_=_+(d>>>26)|0,l+=_>>>26,_&=67108863}a.words[g]=E,f=_,_=l}return f!==0?a.words[g]=f:a.length--,a._strip()}function qe(b,o,a){return ie(b,o,a)}i.prototype.mulTo=function(o,a){var f,l=this.length+o.length;return this.length===10&&o.length===10?f=H(this,o,a):l<63?f=$(this,o,a):l<1024?f=ie(this,o,a):f=qe(this,o,a),f};function ue(b,o){this.x=b,this.y=o}ue.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,l=0;l<o;l++)a[l]=this.revBin(l,f,o);return a},ue.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var l=0,g=0;g<a;g++)l|=(o&1)<<a-g-1,o>>=1;return l},ue.prototype.permute=function(o,a,f,l,g,_){for(var E=0;E<_;E++)l[E]=a[o[E]],g[E]=f[o[E]]},ue.prototype.transform=function(o,a,f,l,g,_){this.permute(_,o,a,f,l,g);for(var E=1;E<g;E<<=1)for(var p=E<<1,s=Math.cos(2*Math.PI/p),y=Math.sin(2*Math.PI/p),V=0;V<g;V+=p)for(var G=s,Z=y,d=0;d<E;d++){var v=f[V+d],T=l[V+d],O=f[V+d+E],R=l[V+d+E],L=G*O-Z*R;R=G*R+Z*O,O=L,f[V+d]=v+O,l[V+d]=T+R,f[V+d+E]=v-O,l[V+d+E]=T-R,d!==p&&(L=s*G-y*Z,Z=s*Z+y*G,G=L)}},ue.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,l=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+l},ue.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var l=0;l<f/2;l++){var g=o[l];o[l]=o[f-l-1],o[f-l-1]=g,g=a[l],a[l]=-a[f-l-1],a[f-l-1]=-g}},ue.prototype.normalize13b=function(o,a){for(var f=0,l=0;l<a/2;l++){var g=Math.round(o[2*l+1]/a)*8192+Math.round(o[2*l]/a)+f;o[l]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},ue.prototype.convert13b=function(o,a,f,l){for(var g=0,_=0;_<a;_++)g=g+(o[_]|0),f[2*_]=g&8191,g=g>>>13,f[2*_+1]=g&8191,g=g>>>13;for(_=2*a;_<l;++_)f[_]=0;t(g===0),t((g&-8192)===0)},ue.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},ue.prototype.mulp=function(o,a,f){var l=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(l),_=this.stub(l),E=new Array(l),p=new Array(l),s=new Array(l),y=new Array(l),V=new Array(l),G=new Array(l),Z=f.words;Z.length=l,this.convert13b(o.words,o.length,E,l),this.convert13b(a.words,a.length,y,l),this.transform(E,_,p,s,l,g),this.transform(y,_,V,G,l,g);for(var d=0;d<l;d++){var v=p[d]*V[d]-s[d]*G[d];s[d]=p[d]*G[d]+s[d]*V[d],p[d]=v}return this.conjugate(p,s,l),this.transform(p,s,Z,_,l,g),this.conjugate(Z,_,l),this.normalize13b(Z,l),f.negative=o.negative^a.negative,f.length=o.length+a.length,f._strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),qe(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var a=o<0;a&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var f=0,l=0;l<this.length;l++){var g=(this.words[l]|0)*o,_=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=_>>>26,this.words[l]=_&67108863}return f!==0&&(this.words[l]=f,this.length++),a?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=N(o);if(a.length===0)return new i(1);for(var f=this,l=0;l<a.length&&a[l]===0;l++,f=f.sqr());if(++l<a.length)for(var g=f.sqr();l<a.length;l++,g=g.sqr())a[l]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=67108863>>>26-a<<26-a,g;if(a!==0){var _=0;for(g=0;g<this.length;g++){var E=this.words[g]&l,p=(this.words[g]|0)-E<<a;this.words[g]=p|_,_=E>>>26-a}_&&(this.words[g]=_,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){t(typeof o=="number"&&o>=0);var l;a?l=(a-a%26)/26:l=0;var g=o%26,_=Math.min((o-g)/26,this.length),E=67108863^67108863>>>g<<g,p=f;if(l-=_,l=Math.max(0,l),p){for(var s=0;s<_;s++)p.words[s]=this.words[s];p.length=_}if(_!==0)if(this.length>_)for(this.length-=_,s=0;s<this.length;s++)this.words[s]=this.words[s+_];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=l);s--){var V=this.words[s]|0;this.words[s]=y<<26-g|V>>>g,y=V&E}return p&&y!==0&&(p.words[p.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,a,f){return t(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&l)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var l=67108863^67108863>>>a<<a;this.words[this.length-1]&=l}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var l=o.length+f,g;this._expand(l);var _,E=0;for(g=0;g<o.length;g++){_=(this.words[g+f]|0)+E;var p=(o.words[g]|0)*a;_-=p&67108863,E=(_>>26)-(p/67108864|0),this.words[g+f]=_&67108863}for(;g<this.length-f;g++)_=(this.words[g+f]|0)+E,E=_>>26,this.words[g+f]=_&67108863;if(E===0)return this._strip();for(t(E===-1),E=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+E,E=_>>26,this.words[g]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,l=this.clone(),g=o,_=g.words[g.length-1]|0,E=this._countBits(_);f=26-E,f!==0&&(g=g.ushln(f),l.iushln(f),_=g.words[g.length-1]|0);var p=l.length-g.length,s;if(a!=="mod"){s=new i(null),s.length=p+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var V=l.clone()._ishlnsubmul(g,1,p);V.negative===0&&(l=V,s&&(s.words[p]=1));for(var G=p-1;G>=0;G--){var Z=(l.words[g.length+G]|0)*67108864+(l.words[g.length+G-1]|0);for(Z=Math.min(Z/_|0,67108863),l._ishlnsubmul(g,Z,G);l.negative!==0;)Z--,l.negative=0,l._ishlnsubmul(g,1,G),l.isZero()||(l.negative^=1);s&&(s.words[G]=Z)}return s&&s._strip(),l._strip(),a!=="div"&&f!==0&&l.iushrn(f),{div:s||null,mod:l}},i.prototype.divmod=function(o,a,f){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,g,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,a),a!=="mod"&&(l=_.div.neg()),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:l,mod:g}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),a),a!=="mod"&&(l=_.div.neg()),{div:l,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),a),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:_.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,l=o.ushrn(1),g=o.andln(1),_=f.cmp(l);return _<0||g===1&&_===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modrn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=(1<<26)%o,l=0,g=this.length-1;g>=0;g--)l=(f*l+(this.words[g]|0))%o;return a?-l:l},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var g=(this.words[l]|0)+f*67108864;this.words[l]=g/o|0,f=g%o}return this._strip(),a?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=new i(0),E=new i(1),p=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++p;for(var s=f.clone(),y=a.clone();!a.isZero();){for(var V=0,G=1;(a.words[0]&G)===0&&V<26;++V,G<<=1);if(V>0)for(a.iushrn(V);V-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(s),g.isub(y)),l.iushrn(1),g.iushrn(1);for(var Z=0,d=1;(f.words[0]&d)===0&&Z<26;++Z,d<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(s),E.isub(y)),_.iushrn(1),E.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(_),g.isub(E)):(f.isub(a),_.isub(l),E.isub(g))}return{a:_,b:E,gcd:f.iushln(p)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,p=1;(a.words[0]&p)===0&&E<26;++E,p<<=1);if(E>0)for(a.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(_),l.iushrn(1);for(var s=0,y=1;(f.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(f.iushrn(s);s-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(g)):(f.isub(a),g.isub(l))}var V;return a.cmpn(1)===0?V=l:V=g,V.cmpn(0)<0&&V.iadd(o),V},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var l=0;a.isEven()&&f.isEven();l++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var _=a;a=f,f=_}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=l,this;for(var g=l,_=f;g!==0&&_<this.length;_++){var E=this.words[_]|0;E+=g,g=E>>>26,E&=67108863,this.words[_]=E}return g!==0&&(this.words[_]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var f;if(this.length>1)f=1;else{a&&(o=-o),t(o<=67108863,"Number is too big");var l=this.words[0]|0;f=l===o?0:l<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var l=this.words[f]|0,g=o.words[f]|0;if(l!==g){l<g?a=-1:l>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new fe(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Ze={k256:null,p224:null,p192:null,p25519:null};function ae(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ae.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},ae.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var l=f<this.n?-1:a.ucmp(this.p);return l===0?(a.words[0]=0,a.length=1):l>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},ae.prototype.split=function(o,a){o.iushrn(this.n,0,a)},ae.prototype.imulK=function(o){return o.imul(this.k)};function We(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(We,ae),We.prototype.split=function(o,a){for(var f=4194303,l=Math.min(o.length,9),g=0;g<l;g++)a.words[g]=o.words[g];if(a.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(a.words[a.length++]=_&f,g=10;g<o.length;g++){var E=o.words[g]|0;o.words[g-10]=(E&f)<<4|_>>>22,_=E}_>>>=22,o.words[g-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},We.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var l=o.words[f]|0;a+=l*977,o.words[f]=a&67108863,a=l*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function gt(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(gt,ae);function fr(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(fr,ae);function Jt(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Jt,ae),Jt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var l=(o.words[f]|0)*19+a,g=l&67108863;l>>>=26,o.words[f]=g,a=l}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(Ze[o])return Ze[o];var a;if(o==="k256")a=new We;else if(o==="p224")a=new gt;else if(o==="p192")a=new fr;else if(o==="p25519")a=new Jt;else throw new Error("Unknown prime "+o);return Ze[o]=a,a};function fe(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else t(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}fe.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},fe.prototype._verify2=function(o,a){t((o.negative|a.negative)===0,"red works only with positives"),t(o.red&&o.red===a.red,"red works only with red numbers")},fe.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(A(o,o.umod(this.m)._forceRed(this)),o)},fe.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},fe.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},fe.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},fe.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},fe.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},fe.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},fe.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},fe.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},fe.prototype.isqr=function(o){return this.imul(o,o.clone())},fe.prototype.sqr=function(o){return this.mul(o,o)},fe.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(t(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var l=this.m.subn(1),g=0;!l.isZero()&&l.andln(1)===0;)g++,l.iushrn(1);t(!l.isZero());var _=new i(1).toRed(this),E=_.redNeg(),p=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,p).cmp(E)!==0;)s.redIAdd(E);for(var y=this.pow(s,l),V=this.pow(o,l.addn(1).iushrn(1)),G=this.pow(o,l),Z=g;G.cmp(_)!==0;){for(var d=G,v=0;d.cmp(_)!==0;v++)d=d.redSqr();t(v<Z);var T=this.pow(y,new i(1).iushln(Z-v-1));V=V.redMul(T),y=T.redSqr(),G=G.redMul(y),Z=v}return V},fe.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},fe.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,l=new Array(1<<f);l[0]=new i(1).toRed(this),l[1]=o;for(var g=2;g<l.length;g++)l[g]=this.mul(l[g-1],o);var _=l[0],E=0,p=0,s=a.bitLength()%26;for(s===0&&(s=26),g=a.length-1;g>=0;g--){for(var y=a.words[g],V=s-1;V>=0;V--){var G=y>>V&1;if(_!==l[0]&&(_=this.sqr(_)),G===0&&E===0){p=0;continue}E<<=1,E|=G,p++,!(p!==f&&(g!==0||V!==0))&&(_=this.mul(_,l[E]),p=0,E=0)}s=26}return _},fe.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},fe.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new ct(o)};function ct(b){fe.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ct,fe),ct.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ct.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},ct.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},ct.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},ct.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(typeof Uf>"u"||Uf,Sd)});var Ln=W(De=>{"use strict";B();I();var E1=De&&De.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(De,"__esModule",{value:!0});De.numbersTypeMap=De.bool=De.i512=De.i256=De.i128=De.i64=De.i32=De.i16=De.i8=De.u512=De.u256=De.u128=De.u64=De.u32=De.u16=De.u8=void 0;var Qi=E1(Ad()),nt=At();De.u8={write:function(r,e,t){r.writeUInt8(t,e)},read:function(r,e){return r.readUInt8(e)},byteSize:1,description:"u8"};De.u16={write:function(r,e,t){r.writeUInt16LE(t,e)},read:function(r,e){return r.readUInt16LE(e)},byteSize:2,description:"u16"};De.u32={write:function(r,e,t){r.writeUInt32LE(t,e)},read:function(r,e){return r.readUInt32LE(e)},byteSize:4,description:"u32"};function Na(r,e){return{write:function(t,n,i){let h=(Qi.default.isBN(i)?i:new Qi.default(i)).toArray("le",this.byteSize);K.Buffer.from(h).copy(t,n,0,this.byteSize)},read:function(t,n){let i=t.slice(n,n+this.byteSize);return new Qi.default(i,"le")},byteSize:r,description:e}}De.u64=Na(8,"u64");De.u128=Na(16,"u128");De.u256=Na(32,"u256");De.u512=Na(64,"u512");De.i8={write:function(r,e,t){r.writeInt8(t,e)},read:function(r,e){return r.readInt8(e)},byteSize:1,description:"i8"};De.i16={write:function(r,e,t){r.writeInt16LE(t,e)},read:function(r,e){return r.readInt16LE(e)},byteSize:2,description:"i16"};De.i32={write:function(r,e,t){r.writeInt32LE(t,e)},read:function(r,e){return r.readInt32LE(e)},byteSize:4,description:"i32"};function ja(r,e){let t=r*8;return{write:function(n,i,u){let S=(Qi.default.isBN(u)?u:new Qi.default(u)).toTwos(t).toArray("le",this.byteSize);K.Buffer.from(S).copy(n,i,0,this.byteSize)},read:function(n,i){let u=n.slice(i,i+this.byteSize);return new Qi.default(u,"le").fromTwos(t)},byteSize:r,description:e}}De.i64=ja(8,"i64");De.i128=ja(16,"i128");De.i256=ja(32,"i256");De.i512=ja(64,"i512");De.bool={write:function(r,e,t){let n=t?1:0;De.u8.write(r,e,n)},read:function(r,e){return De.u8.read(r,e)===1},byteSize:1,description:"bool"};De.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:nt.BEET_PACKAGE,ts:"bignum",pack:nt.BEET_PACKAGE}}});var Td=W((hE,Ed)=>{B();I();var eo=1e3,to=eo*60,ro=to*60,Ei=ro*24,T1=Ei*7,B1=Ei*365.25;Ed.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return I1(r);if(t==="number"&&isFinite(r))return e.long?x1(r):P1(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function I1(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*B1;case"weeks":case"week":case"w":return t*T1;case"days":case"day":case"d":return t*Ei;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ro;case"minutes":case"minute":case"mins":case"min":case"m":return t*to;case"seconds":case"second":case"secs":case"sec":case"s":return t*eo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function P1(r){var e=Math.abs(r);return e>=Ei?Math.round(r/Ei)+"d":e>=ro?Math.round(r/ro)+"h":e>=to?Math.round(r/to)+"m":e>=eo?Math.round(r/eo)+"s":r+"ms"}function x1(r){var e=Math.abs(r);return e>=Ei?Va(r,e,Ei,"day"):e>=ro?Va(r,e,ro,"hour"):e>=to?Va(r,e,to,"minute"):e>=eo?Va(r,e,eo,"second"):r+" ms"}function Va(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var Id=W((gE,Bd)=>{B();I();function O1(r){t.debug=t,t.default=t,t.coerce=w,t.disable=u,t.enable=i,t.enabled=h,t.humanize=Td(),t.destroy=A,Object.keys(r).forEach(C=>{t[C]=r[C]}),t.names=[],t.skips=[],t.formatters={};function e(C){let x=0;for(let D=0;D<C.length;D++)x=(x<<5)-x+C.charCodeAt(D),x|=0;return t.colors[Math.abs(x)%t.colors.length]}t.selectColor=e;function t(C){let x,D=null,k,Y;function N(...$){if(!N.enabled)return;let H=N,ie=Number(new Date),qe=ie-(x||ie);H.diff=qe,H.prev=x,H.curr=ie,x=ie,$[0]=t.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let ue=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(ae,We)=>{if(ae==="%%")return"%";ue++;let gt=t.formatters[We];if(typeof gt=="function"){let fr=$[ue];ae=gt.call(H,fr),$.splice(ue,1),ue--}return ae}),t.formatArgs.call(H,$),(H.log||t.log).apply(H,$)}return N.namespace=C,N.useColors=t.useColors(),N.color=t.selectColor(C),N.extend=n,N.destroy=t.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>D!==null?D:(k!==t.namespaces&&(k=t.namespaces,Y=t.enabled(C)),Y),set:$=>{D=$}}),typeof t.init=="function"&&t.init(N),N}function n(C,x){let D=t(this.namespace+(typeof x>"u"?":":x)+C);return D.log=this.log,D}function i(C){t.save(C),t.namespaces=C,t.names=[],t.skips=[];let x,D=(typeof C=="string"?C:"").split(/[\s,]+/),k=D.length;for(x=0;x<k;x++)!D[x]||(C=D[x].replace(/\*/g,".*?"),C[0]==="-"?t.skips.push(new RegExp("^"+C.slice(1)+"$")):t.names.push(new RegExp("^"+C+"$")))}function u(){let C=[...t.names.map(S),...t.skips.map(S).map(x=>"-"+x)].join(",");return t.enable(""),C}function h(C){if(C[C.length-1]==="*")return!0;let x,D;for(x=0,D=t.skips.length;x<D;x++)if(t.skips[x].test(C))return!1;for(x=0,D=t.names.length;x<D;x++)if(t.names[x].test(C))return!0;return!1}function S(C){return C.toString().substring(2,C.toString().length-2).replace(/\.\*\?$/,"*")}function w(C){return C instanceof Error?C.stack||C.message:C}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Bd.exports=O1});var Pd=W((nr,Ya)=>{B();I();nr.formatArgs=U1;nr.save=C1;nr.load=R1;nr.useColors=k1;nr.storage=L1();nr.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();nr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function k1(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function U1(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ya.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}nr.log=console.debug||console.log||(()=>{});function C1(r){try{r?nr.storage.setItem("debug",r):nr.storage.removeItem("debug")}catch{}}function R1(){let r;try{r=nr.storage.getItem("debug")}catch{}return!r&&typeof j<"u"&&"env"in j&&(r=j.env.DEBUG),r}function L1(){try{return localStorage}catch{}}Ya.exports=Id()(nr);var{formatters:D1}=Ya.exports;D1.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Lf=W((wE,kd)=>{"use strict";B();I();var xd={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},Od={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},Cf={},Rf={},hs={};Object.keys(xd).forEach(function(r){var e=Cf[r]="\x1B["+xd[r]+"m",t=Rf[r]="\x1B[39m";hs[r]=function(n){return e+n+t}});Object.keys(Od).forEach(function(r){var e=Cf[r]="\x1B["+Od[r]+"m",t=Rf[r]="\x1B[49m";hs[r]=function(n){return e+n+t}});kd.exports=hs;hs.open=Cf;hs.close=Rf});var bn=W(ft=>{"use strict";B();I();var Cd=ft&&ft.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ft,"__esModule",{value:!0});ft.UnreachableCaseError=ft.stringify=ft.bytes=ft.beetBytes=ft.logTrace=ft.logDebug=ft.logInfo=ft.logError=void 0;var $a=Cd(Pd()),F1=Cd(Lf()),Ud=At(),{brightBlack:Rd}=F1.default;ft.logError=(0,$a.default)("beet:error");ft.logInfo=(0,$a.default)("beet:info");ft.logDebug=(0,$a.default)("beet:debug");ft.logTrace=(0,$a.default)("beet:trace");function K1(r,e=!1){let t;if((0,Ud.isFixableBeet)(r))t="? B";else if((0,Ud.isElementCollectionFixedSizeBeet)(r)){let n=e?"length":r.length,i=r.lenPrefixByteSize;t=i>0?`${i} + (${r.elementByteSize} * ${n}) B  (${r.byteSize} B)`:`(${r.elementByteSize} * ${n}) B (${r.byteSize} B)`}else t=`${r.byteSize} B`;return Rd(t)}ft.beetBytes=K1;function q1(r){return Rd(`${r} B`)}ft.bytes=q1;function z1(r){return r.toString==="function"?r.toString():r}ft.stringify=z1;var Df=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};ft.UnreachableCaseError=Df});var io=W(no=>{"use strict";B();I();Object.defineProperty(no,"__esModule",{value:!0});no.fixBeetFromValue=no.fixBeetFromData=void 0;var Ga=At(),Ld=bn();function N1(r,e,t){if((0,Ga.isFixedSizeBeet)(r))return r;if((0,Ga.isFixableBeet)(r))return r.toFixedFromData(e,t);throw new Ld.UnreachableCaseError(r)}no.fixBeetFromData=N1;function j1(r,e){if((0,Ga.isFixedSizeBeet)(r))return r;if((0,Ga.isFixableBeet)(r))return r.toFixedFromValue(e);throw new Ld.UnreachableCaseError(r)}no.fixBeetFromValue=j1});var Wa=W(Et=>{"use strict";B();I();Object.defineProperty(Et,"__esModule",{value:!0});Et.collectionsTypeMap=Et.uint8Array=Et.fixedSizeUint8Array=Et.fixedSizeBuffer=Et.array=Et.fixedSizeArray=Et.uniformFixedSizeArray=void 0;var oo=At(),Ti=xr(),Dn=Ln(),so=At(),Fd=bn(),Dd=io();function V1(r,e,t=!1){let n=r.byteSize*e,i=t?4+n:n;return{write:function(u,h,S){Ti.strict.equal(S.length,e,`array length ${S.length} should match len ${e}`),t&&(Dn.u32.write(u,h,e),h+=4);for(let w=0;w<e;w++)r.write(u,h+w*r.byteSize,S[w])},read:function(u,h){if(t){let w=Dn.u32.read(u,h);Ti.strict.equal(w,e,"invalid byte size"),h+=4}let S=new Array(e);for(let w=0;w<e;w++)S[w]=r.read(u,h+w*r.byteSize);return S},byteSize:i,length:e,elementByteSize:r.byteSize,lenPrefixByteSize:4,description:`Array<${r.description}>(${e})`}}Et.uniformFixedSizeArray=V1;function Ff(r,e){let t=r.length,n=t===0?"<EMPTY>":r[0].description;return{write:function(i,u,h){Ti.strict.equal(h.length,t,`array length ${h.length} should match len ${t}`),Dn.u32.write(i,u,t);let S=u+4;for(let w=0;w<t;w++){let A=r[w];A.write(i,S,h[w]),S+=A.byteSize}},read:function(i,u){let h=Dn.u32.read(i,u);Ti.strict.equal(h,t,"invalid byte size");let S=u+4,w=new Array(t);for(let A=0;A<t;A++){let C=r[A];w[A]=C.read(i,S),S+=C.byteSize}return w},byteSize:4+e,length:t,description:`Array<${n}>(${t})[ 4 + ${e} ]`}}Et.fixedSizeArray=Ff;function Y1(r){return{toFixedFromData(e,t){let n=Dn.u32.read(e,t);(0,Fd.logTrace)(`${this.description}[${n}]`);let i=t+4,u=i,h=new Array(n);for(let S=0;S<n;S++){let w=(0,Dd.fixBeetFromData)(r,e,u);h[S]=w,u+=w.byteSize}return Ff(h,u-i)},toFixedFromValue(e){(0,Ti.strict)(Array.isArray(e),`${e} should be an array`);let t=0,n=new Array(e.length);for(let i=0;i<e.length;i++){let u=(0,Dd.fixBeetFromValue)(r,e[i]);n[i]=u,t+=u.byteSize}return Ff(n,t)},description:"array"}}Et.array=Y1;function Kd(r){return{write:function(e,t,n){n.copy(e,t,0,r)},read:function(e,t){return e.slice(t,t+r)},byteSize:r,description:`Buffer(${r})`}}Et.fixedSizeBuffer=Kd;function Kf(r,e=!1){let t=Kd(r),n=e?r+4:r;return{write:function(i,u,h){Ti.strict.equal(h.byteLength,r,`Uint8Array length ${h.byteLength} should match len ${r}`),e&&(Dn.u32.write(i,u,r),u+=4);let S=K.Buffer.from(h);t.write(i,u,S)},read:function(i,u){if(e){let S=Dn.u32.read(i,u);Ti.strict.equal(S,r,"invalid byte size"),u+=4}let h=t.read(i,u);return Uint8Array.from(h)},byteSize:n,description:`Uint8Array(${r})`}}Et.fixedSizeUint8Array=Kf;Et.uint8Array={toFixedFromData(r,e){let t=Dn.u32.read(r,e);return(0,Fd.logTrace)(`${this.description}[${t}]`),Kf(t,!0)},toFixedFromValue(r){let e=r.byteLength;return Kf(e,!0)},description:"Uint8Array"};Et.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:so.BEET_PACKAGE,ts:"Array",arg:oo.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:so.BEET_PACKAGE,ts:"Array",arg:oo.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:so.BEET_PACKAGE,ts:"Array",arg:oo.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:so.BEET_PACKAGE,ts:"Buffer",arg:oo.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:so.BEET_PACKAGE,ts:"Uint8Array",arg:oo.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:so.BEET_PACKAGE,ts:"Uint8Array",arg:oo.BEET_TYPE_ARG_LEN}}});var Yf=W(Gt=>{"use strict";B();I();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.compositesTypeMap=Gt.coption=Gt.coptionSome=Gt.coptionNone=Gt.isNoneBuffer=Gt.isSomeBuffer=void 0;var ds=xr(),qf=At(),qd=At(),Nd=bn(),zd=io(),jd=0,Vd=1;function jf(r,e){return r[e]===Vd}Gt.isSomeBuffer=jf;function Vf(r,e){return r[e]===jd}Gt.isNoneBuffer=Vf;function zf(r){return(0,Nd.logTrace)(`coptionNone(${r})`),{write:function(e,t,n){(0,ds.strict)(n==null,"coptionNone can only handle `null` values"),e[t]=jd},read:function(e,t){return(0,ds.strict)(Vf(e,t),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${r})>`}}Gt.coptionNone=zf;function Nf(r){let e=1+r.byteSize,t={write:function(n,i,u){(0,qf.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling write`),(0,ds.strict)(u!=null,"coptionSome cannot handle `null` values"),n[i]=Vd,r.write(n,i+1,u)},read:function(n,i){return(0,qf.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling read`),(0,ds.strict)(jf(n,i),"coptionSome can only handle `SOME` data"),r.read(n,i+1)},description:`COption<${r.description}>[1 + ${r.byteSize}]`,byteSize:e,inner:r};return(0,Nd.logTrace)(t.description),t}Gt.coptionSome=Nf;function $1(r){return{toFixedFromData(e,t){if(jf(e,t)){let n=(0,zd.fixBeetFromData)(r,e,t+1);return Nf(n)}else return(0,ds.strict)(Vf(e,t),`Expected ${e} to hold a COption`),zf(r.description)},toFixedFromValue(e){return e==null?zf(r.description):Nf((0,zd.fixBeetFromValue)(r,e))},description:`COption<${r.description}>`}}Gt.coption=$1;Gt.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:qd.BEET_PACKAGE,ts:"COption<Inner>",arg:qf.BEET_TYPE_ARG_INNER,pack:qd.BEET_PACKAGE}}});var Wf=W(Gr=>{"use strict";B();I();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.stringTypeMap=Gr.utf8String=Gr.fixedSizeUtf8String=void 0;var $f=At(),Yd=xr(),Gf=Ln(),G1=bn(),W1=r=>({write:function(e,t,n){let i=K.Buffer.from(n,"utf8");Yd.strict.equal(i.byteLength,r,`${n} has invalid byte size`),Gf.u32.write(e,t,r),i.copy(e,t+4,0,r)},read:function(e,t){let n=Gf.u32.read(e,t);return Yd.strict.equal(n,r,"invalid byte size"),e.slice(t+4,t+4+r).toString("utf8")},elementByteSize:1,length:r,lenPrefixByteSize:4,byteSize:4+r,description:`Utf8String(4 + ${r})`});Gr.fixedSizeUtf8String=W1;Gr.utf8String={toFixedFromData(r,e){let t=Gf.u32.read(r,e);return(0,G1.logTrace)(`${this.description}[${t}]`),(0,Gr.fixedSizeUtf8String)(t)},toFixedFromValue(r){let e=K.Buffer.from(r).byteLength;return(0,Gr.fixedSizeUtf8String)(e)},description:"Utf8String"};Gr.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:$f.BEET_PACKAGE,ts:"string",arg:$f.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:$f.BEET_PACKAGE,ts:"string"}}});var Jf=W(ao=>{"use strict";B();I();Object.defineProperty(ao,"__esModule",{value:!0});ao.BeetReader=ao.BeetWriter=void 0;var H1=xr(),Hf=class{constructor(e){this.buf=K.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&H1.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,t){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,t),this._offset+=e.byteSize}writeStruct(e,t){for(let[n,i]of t){let u=e[n];this.write(i,u)}}};ao.BeetWriter=Hf;var Zf=class{constructor(e,t=0){this.buffer=e,this._offset=t}get offset(){return this._offset}read(e){let t=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,t}readStruct(e){let t={};for(let[n,i]of e)t[n]=this.read(i);return t}};ao.BeetReader=Zf});var Ha=W(Fn=>{"use strict";B();I();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.BeetArgsStruct=Fn.isBeetStruct=Fn.BeetStruct=void 0;var $d=Jf(),mn=bn(),Wr=class{constructor(e,t,n=Wr.description){if(this.fields=e,this.construct=t,this.description=n,this.byteSize=this.getByteSize(),mn.logDebug.enabled){let i=e.map(([u,h])=>`${String(u)}: ${h.description} ${(0,mn.beetBytes)(h)}`).join(`
  `);(0,mn.logDebug)(`struct ${n} {
  ${i}
} ${(0,mn.beetBytes)(this)}`)}}read(e,t){let[n]=this.deserialize(e,t);return n}write(e,t,n){let[i,u]=this.serialize(n);i.copy(e,t,0,u)}deserialize(e,t=0){mn.logTrace.enabled&&((0,mn.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,mn.logTrace)(e),(0,mn.logTrace)(e.toJSON().data));let n=new $d.BeetReader(e,t),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,t=this.byteSize){(0,mn.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,t);let n=new $d.BeetWriter(t);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[t,n])=>e+n.byteSize,0)}get type(){return Wr.TYPE}};Fn.BeetStruct=Wr;Wr.description="BeetStruct";Wr.TYPE="BeetStruct";function Z1(r){return r.type===Wr.TYPE}Fn.isBeetStruct=Z1;var uo=class extends Wr{constructor(e,t=uo.description){super(e,n=>n,t)}};Fn.BeetArgsStruct=uo;uo.description="BeetArgsStruct"});var Qf=W(Hr=>{"use strict";B();I();var J1=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.FixableBeetArgsStruct=Hr.isFixableBeetStruct=Hr.FixableBeetStruct=void 0;var Gd=io(),Za=Ha(),X1=At(),Q1=xr(),Xf=bn(),em=J1(Lf()),{brightBlack:tm}=em.default,_r=class{constructor(e,t,n=_r.description){this.fields=e,this.construct=t,this.description=n;let i=0;if(Xf.logDebug.enabled){let u=e.map(([S,w])=>((0,X1.isFixedSizeBeet)(w)&&(i+=w.byteSize),`${S}: ${w.description} ${(0,Xf.beetBytes)(w)}`)).join(`
  `),h=`> ${i} B`;(0,Xf.logDebug)(`struct ${n} {
  ${u}
} ${tm(h)}`)}}deserialize(e,t=0){return this.toFixedFromData(e,t).deserialize(e,t)}serialize(e,t){return this.toFixedFromValue(e).serialize(e,t)}toFixedFromData(e,t){let n=t,i=new Array(this.fields.length);for(let u=0;u<this.fields.length;u++){let[h,S]=this.fields[u],w=(0,Gd.fixBeetFromData)(S,e,n);i[u]=[h,w],n+=w.byteSize}return this.description!==_r.description?new Za.BeetStruct(i,this.construct,this.description):new Za.BeetStruct(i,this.construct)}toFixedFromValue(e){let t=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){let[u,h]=this.fields[i];(0,Q1.strict)(t.includes(u),`Value with keys [ ${t} ] should include struct key '${u}' but doesn't.`);let S=e[u],w=(0,Gd.fixBeetFromValue)(h,S);n[i]=[u,w]}return this.description!==_r.description?new Za.BeetStruct(n,this.construct,this.description):new Za.BeetStruct(n,this.construct)}get type(){return _r.TYPE}};Hr.FixableBeetStruct=_r;_r.description="FixableBeetStruct";_r.TYPE="FixableBeetStruct";function rm(r){return r.type===_r.TYPE}Hr.isFixableBeetStruct=rm;var fo=class extends _r{constructor(e,t=fo.description){super(e,n=>n,t)}};Hr.FixableBeetArgsStruct=fo;fo.description="FixableBeetArgsStruct"});var Ja=W(co=>{"use strict";B();I();Object.defineProperty(co,"__esModule",{value:!0});co.unitTypeMap=co.unit=void 0;var nm=At();co.unit={write:function(r,e,t){},read:function(r,e){},byteSize:0,description:"unit"};co.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:nm.BEET_PACKAGE,ts:"void"}}});var ec=W(Zr=>{"use strict";B();I();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.enumsTypeMap=Zr.dataEnum=Zr.uniformDataEnum=Zr.fixedScalarEnum=void 0;var Kn=At(),Or=Ln(),lo=xr(),im=Ha(),om=Qf(),sm=Ja();function Wd(r,e){return e?`${r}`:r}function am(r){let e=Object.keys(r);return{write(t,n,i){let u=typeof i=="number",h=Wd(i,u);if(e.includes(h)||lo.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),u)Or.u8.write(t,n,i);else{let S=r[h];Or.u8.write(t,n,S)}},read(t,n){let i=Or.u8.read(t,n),u=typeof i=="number",h=Wd(i,u);return e.includes(h)||lo.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),u?i:r[h]},byteSize:Or.u8.byteSize,description:"Enum"}}Zr.fixedScalarEnum=am;function um(r){return{write:function(e,t,n){Or.u8.write(e,t,n.kind),r.write(e,t+1,n.data)},read:function(e,t){let n=Or.u8.read(e,t),i=r.read(e,t+1);return{kind:n,data:i}},byteSize:1+r.byteSize,description:`UniformDataEnum<${r.description}>`}}Zr.uniformDataEnum=um;function Hd(r,e,t){return{write(n,i,u){Or.u8.write(n,i,e),r.write(n,i+Or.u8.byteSize,u)},read(n,i){let u=r.read(n,i+Or.u8.byteSize);return{__kind:t,...u}},byteSize:r.byteSize+Or.u8.byteSize,description:`EnumData<${r.description}>`}}function fm(r){for(let[e,t]of r)lo((0,im.isBeetStruct)(t)||(0,om.isFixableBeetStruct)(t)||t===sm.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,t){let n=Or.u8.read(e,t),i=r[n];lo(i!=null,`Discriminant ${n} out of range for ${r.length} variants`);let[u,h]=i,S=(0,Kn.isFixedSizeBeet)(h)?h:h.toFixedFromData(e,t+1);return Hd(S,n,u)},toFixedFromValue(e){if(e.__kind==null){let A=Object.keys(e).join(", "),C=r.map(([x])=>x).join(", ");lo.fail(`Value with fields [ ${A} ] is missing __kind, which needs to be set to one of [ ${C} ]`)}let t=r.findIndex(([A])=>A===e.__kind);if(t<0){let A=r.map(([C])=>C).join(", ");lo.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${A} ]`)}let n=r[t],{__kind:i,...u}=e,[h,S]=n,w=(0,Kn.isFixedSizeBeet)(S)?S:S.toFixedFromValue(u);return Hd(w,t,h)},description:`DataEnum<${r.length} variants>`}}Zr.dataEnum=fm;Zr.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:Kn.BEET_PACKAGE,ts:"<TypeName>",arg:Kn.BEET_TYPE_ARG_INNER,pack:Kn.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:Kn.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:Kn.BEET_TYPE_ARG_INNER,pack:Kn.BEET_PACKAGE}}});var tc=W(ho=>{"use strict";B();I();Object.defineProperty(ho,"__esModule",{value:!0});ho.aliasesTypeMap=ho.bytes=void 0;var Zd=Wa();ho.bytes=Zd.uint8Array;ho.aliasesTypeMap={bytes:Zd.collectionsTypeMap.Uint8Array}});var ic=W(qn=>{"use strict";B();I();Object.defineProperty(qn,"__esModule",{value:!0});qn.tuplesTypeMap=qn.tuple=qn.fixedSizeTuple=void 0;var Jd=At(),rc=xr(),Xd=io();function nc(r){let e=r.length,t=r.map(u=>u.description),n=r.map(u=>u.byteSize),i=n.reduce((u,h)=>u+h,0);return{write:function(u,h,S){rc.strict.equal(S.length,e,`tuple value element size ${S.length} should match len ${e}`);let w=h;for(let A=0;A<e;A++){let C=S[A],x=r[A];x.write(u,w,C),w+=x.byteSize}},read:function(u,h){let S=[],w=h;for(let A=0;A<e;A++){let C=r[A];S[A]=C.read(u,w),w+=C.byteSize}return S},byteSize:i,length:e,description:`FixedSizeTuple<${t.join(",")}>[ ${n.join(", ")} ]`}}qn.fixedSizeTuple=nc;function cm(r){let e=r.length,t=r.map(n=>n.description);return{toFixedFromData(n,i){let u=i,h=new Array(e);for(let S=0;S<e;S++){let w=(0,Xd.fixBeetFromData)(r[S],n,u);h[S]=w,u+=w.byteSize}return nc(h)},toFixedFromValue(n){(0,rc.strict)(Array.isArray(n),`${n} should be an array of tuple values`),rc.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);let i=new Array(e);for(let u=0;u<n.length;u++){let h=(0,Xd.fixBeetFromValue)(r[u],n[u]);i[u]=h}return nc(i)},description:`Tuple<${t.join(",")}>`}}qn.tuple=cm;qn.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:Jd.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:Jd.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var ac=W(po=>{"use strict";B();I();Object.defineProperty(po,"__esModule",{value:!0});po.mapsTypeMap=po.map=void 0;var ps=At(),sc=Ln(),lm=bn(),oc=xr();function Xa(r,e,t,n){let i=(0,ps.isFixedSizeBeet)(r),u=(0,ps.isFixedSizeBeet)(e);function h(){if(i&&u){let A=r.byteSize+e.byteSize;return{elementByteSize:A,byteSize:4+n*A}}else if(i){let A=0;for(let[x,D]of t.values())A+=D.byteSize;return{elementByteSize:r.byteSize+Math.ceil(A/n),byteSize:4+r.byteSize*n+A}}else if(u){let A=0;for(let[x,D]of t.values())A+=x.byteSize;return{elementByteSize:Math.ceil(A/n)+e.byteSize,byteSize:4+A+e.byteSize*n}}else{let A=0,C=0;for(let[D,k]of t.values())A+=D.byteSize,C+=k.byteSize;return{elementByteSize:Math.ceil(A/n+C/n),byteSize:4+A+C}}}let{elementByteSize:S,byteSize:w}=h();return{write:function(A,C,x){let D=C+4,k=0;for(let[Y,N]of x.entries()){let $=i?r:null,H=u?e:null;if($==null||H==null){let ie=t.get(Y);(0,oc.strict)(ie!=null,`Should be able to find beet els for ${(0,lm.stringify)(Y)}, but could not`),$??($=ie[0]),H??(H=ie[1])}$.write(A,D,Y),D+=$.byteSize,H.write(A,D,N),D+=H.byteSize,k++}sc.u32.write(A,C,k),oc.strict.equal(k,n,`Expected map to have size ${n}, but has ${k}.`)},read:function(A,C){let x=sc.u32.read(A,C);oc.strict.equal(x,n,`Expected map to have size ${n}, but has ${x}.`);let D=C+4,k=new Map;for(let Y=0;Y<x;Y++){let N=i?r:r.toFixedFromData(A,D),$=N.read(A,D);D+=N.byteSize;let H=u?e:e.toFixedFromData(A,D),ie=H.read(A,D);D+=H.byteSize,k.set($,ie)}return k},elementByteSize:S,byteSize:w,length:n,lenPrefixByteSize:4,description:`Map<${r.description}, ${e.description}>`}}function hm(r,e){let t=(0,ps.isFixedSizeBeet)(r),n=(0,ps.isFixedSizeBeet)(e);return{toFixedFromData(i,u){let h=sc.u32.read(i,u),S=u+4;if(t&&n)return Xa(r,e,new Map,h);let w=new Map;for(let A=0;A<h;A++){let C=t?r:r.toFixedFromData(i,S),x=C.read(i,S);S+=C.byteSize;let D=n?e:e.toFixedFromData(i,S);S+=D.byteSize,w.set(x,[C,D])}return Xa(r,e,w,h)},toFixedFromValue(i){let u=i.size;if(t&&n)return Xa(r,e,new Map,u);let h=new Map;for(let[S,w]of i){let A=t?r:r.toFixedFromValue(S),C=n?e:e.toFixedFromValue(w);h.set(S,[A,C])}return Xa(r,e,h,u)},description:`FixableMap<${r.description}, ${e.description}>`}}po.map=hm;po.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:ps.BEET_PACKAGE,ts:"Map"}}});var lc=W(go=>{"use strict";B();I();Object.defineProperty(go,"__esModule",{value:!0});go.setsTypeMap=go.set=void 0;var cc=At(),fc=Ln(),dm=bn(),uc=xr();function Qa(r,e,t){let n=(0,cc.isFixedSizeBeet)(r);function i(){if(n){let S=r.byteSize;return{elementByteSize:S,byteSize:4+t*S}}else{let S=0;for(let A of e.values())S+=A.byteSize;return{elementByteSize:Math.ceil(S/t),byteSize:4+S}}}let{elementByteSize:u,byteSize:h}=i();return{write:function(S,w,A){let C=w+4,x=0;for(let D of A.keys()){let k=n?r:null;if(k==null){let Y=e.get(D);(0,uc.strict)(Y!=null,`Should be able to find beet el for ${(0,dm.stringify)(D)}, but could not`),k??(k=Y)}k.write(S,C,D),C+=k.byteSize,x++}fc.u32.write(S,w,x),uc.strict.equal(x,t,`Expected set to have size ${t}, but has ${x}.`)},read:function(S,w){let A=fc.u32.read(S,w);uc.strict.equal(A,t,`Expected set to have size ${t}, but has ${A}.`);let C=w+4,x=new Set;for(let D=0;D<A;D++){let k=n?r:r.toFixedFromData(S,C),Y=k.read(S,C);C+=k.byteSize,x.add(Y)}return x},elementByteSize:u,byteSize:h,length:t,lenPrefixByteSize:4,description:`Set<${r.description}>`}}function pm(r){let e=(0,cc.isFixedSizeBeet)(r);return{toFixedFromData(t,n){let i=fc.u32.read(t,n),u=n+4;if(e)return Qa(r,new Map,i);let h=new Map;for(let S=0;S<i;S++){let w=e?r:r.toFixedFromData(t,u),A=w.read(t,u);u+=w.byteSize,h.set(A,w)}return Qa(r,h,i)},toFixedFromValue(t){let n=t.size;if(e)return Qa(r,new Map,n);let i=new Map;for(let u of t){let h=e?r:r.toFixedFromValue(u);i.set(u,h)}return Qa(r,i,n)},description:`FixableSet<${r.description}>`}}go.set=pm;go.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:cc.BEET_PACKAGE,ts:"Set"}}});var Wt=W(it=>{"use strict";B();I();var gm=it&&it.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kt=it&&it.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gm(e,r,t)};Object.defineProperty(it,"__esModule",{value:!0});it.supportedTypeMap=void 0;var ym=Wa(),bm=Yf(),mm=Ln(),vm=Wf(),wm=ec(),_m=tc(),Mm=ic(),Sm=ac(),Am=Ja(),Em=lc();kt(tc(),it);kt(Wa(),it);kt(Yf(),it);kt(ec(),it);kt(ac(),it);kt(Ln(),it);kt(lc(),it);kt(Wf(),it);kt(ic(),it);kt(Ja(),it);kt(io(),it);kt(Jf(),it);kt(Ha(),it);kt(Qf(),it);kt(At(),it);it.supportedTypeMap={...ym.collectionsTypeMap,...vm.stringTypeMap,...bm.compositesTypeMap,...wm.enumsTypeMap,...mm.numbersTypeMap,..._m.aliasesTypeMap,...Mm.tuplesTypeMap,...Sm.mapsTypeMap,...Em.setsTypeMap,...Am.unitTypeMap}});var tu=W(eu=>{"use strict";B();I();Object.defineProperty(eu,"__esModule",{value:!0});eu.publicKey=void 0;var Tm=tt(),Bm=Wt(),hc=(0,Bm.fixedSizeUint8Array)(32);eu.publicKey={write:function(r,e,t){let n=t.toBytes();hc.write(r,e,n)},read:function(r,e){let t=hc.read(r,e);return new Tm.PublicKey(t)},byteSize:hc.byteSize,description:"PublicKey"}});var pc=W(Jr=>{"use strict";B();I();var Im=Jr&&Jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pm=Jr&&Jr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xm=Jr&&Jr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Im(e,r,t);return Pm(e,r),e};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.seedsVecBeet=void 0;var dc=xm(Wt());Jr.seedsVecBeet=new dc.FixableBeetArgsStruct([["seeds",dc.array(dc.bytes)]],"SeedsVec")});var gc=W(Xr=>{"use strict";B();I();var Om=Xr&&Xr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),km=Xr&&Xr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Um=Xr&&Xr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Om(e,r,t);return km(e,r),e};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.leafInfoBeet=void 0;var yo=Um(Wt());Xr.leafInfoBeet=new yo.FixableBeetArgsStruct([["leaf",yo.uniformFixedSizeArray(yo.u8,32)],["proof",yo.array(yo.uniformFixedSizeArray(yo.u8,32))]],"LeafInfo")});var yc=W(dt=>{"use strict";B();I();var Cm=dt&&dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rm=dt&&dt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qd=dt&&dt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Cm(e,r,t);return Rm(e,r),e};Object.defineProperty(dt,"__esModule",{value:!0});dt.payloadTypeBeet=dt.isPayloadTypeNumber=dt.isPayloadTypeMerkleProof=dt.isPayloadTypeSeeds=dt.isPayloadTypePubkey=void 0;var Qr=Qd(Wt()),Lm=Qd(tu()),Dm=pc(),Fm=gc(),Km=r=>r.__kind==="Pubkey";dt.isPayloadTypePubkey=Km;var qm=r=>r.__kind==="Seeds";dt.isPayloadTypeSeeds=qm;var zm=r=>r.__kind==="MerkleProof";dt.isPayloadTypeMerkleProof=zm;var Nm=r=>r.__kind==="Number";dt.isPayloadTypeNumber=Nm;dt.payloadTypeBeet=Qr.dataEnum([["Pubkey",new Qr.BeetArgsStruct([["fields",Qr.fixedSizeTuple([Lm.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Qr.FixableBeetArgsStruct([["fields",Qr.tuple([Dm.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Qr.FixableBeetArgsStruct([["fields",Qr.tuple([Fm.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Qr.BeetArgsStruct([["fields",Qr.fixedSizeTuple([Qr.u64])]],'PayloadTypeRecord["Number"]')]])});var mc=W(en=>{"use strict";B();I();var jm=en&&en.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vm=en&&en.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ym=en&&en.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jm(e,r,t);return Vm(e,r),e};Object.defineProperty(en,"__esModule",{value:!0});en.payloadBeet=void 0;var bc=Ym(Wt()),$m=yc();en.payloadBeet=new bc.FixableBeetArgsStruct([["map",bc.map(bc.utf8String,$m.payloadTypeBeet)]],"Payload")});var ru=W(tn=>{"use strict";B();I();var Gm=tn&&tn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wm=tn&&tn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hm=tn&&tn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gm(e,r,t);return Wm(e,r),e};Object.defineProperty(tn,"__esModule",{value:!0});tn.authorizationDataBeet=void 0;var Zm=Hm(Wt()),Jm=mc();tn.authorizationDataBeet=new Zm.FixableBeetArgsStruct([["payload",Jm.payloadBeet]],"AuthorizationData")});var vc=W(Mr=>{"use strict";B();I();var Xm=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qm=Mr&&Mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ev=Mr&&Mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xm(e,r,t);return Qm(e,r),e};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.transferArgsBeet=Mr.isTransferArgsV1=void 0;var nu=ev(Wt()),tv=ru(),rv=r=>r.__kind==="V1";Mr.isTransferArgsV1=rv;Mr.transferArgsBeet=nu.dataEnum([["V1",new nu.FixableBeetArgsStruct([["amount",nu.u64],["authorizationData",nu.coption(tv.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var r0=W(Tt=>{"use strict";B();I();var nv=Tt&&Tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iv=Tt&&Tt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),t0=Tt&&Tt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nv(e,r,t);return iv(e,r),e};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createTransferInstruction=Tt.transferInstructionDiscriminator=Tt.TransferStruct=void 0;var e0=t0(Wt()),wc=t0(tt()),ov=vc();Tt.TransferStruct=new e0.FixableBeetArgsStruct([["instructionDiscriminator",e0.u8],["transferArgs",ov.transferArgsBeet]],"TransferInstructionArgs");Tt.transferInstructionDiscriminator=49;function sv(r,e,t=new wc.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=Tt.TransferStruct.serialize({instructionDiscriminator:Tt.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:r.edition??t,isWritable:!1,isSigner:!1},{pubkey:r.ownerTokenRecord??t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:r.destinationTokenRecord??t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.systemProgram??wc.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRulesProgram??t,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRules??t,isWritable:!1,isSigner:!1}];return new wc.TransactionInstruction({programId:t,keys:i,data:n})}Tt.createTransferInstruction=sv});var n0=W(Bi=>{"use strict";B();I();var av=Bi&&Bi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uv=Bi&&Bi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&av(e,r,t)};Object.defineProperty(Bi,"__esModule",{value:!0});uv(r0(),Bi)});var o0=W(ir=>{"use strict";B();I();var fv=ir&&ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cv=ir&&ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lv=ir&&ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fv(e,r,t);return cv(e,r),e};Object.defineProperty(ir,"__esModule",{value:!0});ir.authorityTypeBeet=ir.AuthorityType=void 0;var hv=lv(Wt()),i0;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(i0=ir.AuthorityType||(ir.AuthorityType={}));ir.authorityTypeBeet=hv.fixedScalarEnum(i0)});var a0=W(Ke=>{"use strict";B();I();var dv=Ke&&Ke.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pv=Ke&&Ke.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s0=Ke&&Ke.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dv(e,r,t);return pv(e,r),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.delegateArgsBeet=Ke.isDelegateArgsProgrammableConfigItemV1=Ke.isDelegateArgsCollectionItemV1=Ke.isDelegateArgsDataItemV1=Ke.isDelegateArgsAuthorityItemV1=Ke.isDelegateArgsProgrammableConfigV1=Ke.isDelegateArgsLockedTransferV1=Ke.isDelegateArgsStandardV1=Ke.isDelegateArgsStakingV1=Ke.isDelegateArgsUtilityV1=Ke.isDelegateArgsDataV1=Ke.isDelegateArgsTransferV1=Ke.isDelegateArgsSaleV1=Ke.isDelegateArgsCollectionV1=void 0;var je=s0(Wt()),gv=s0(tu()),Sr=ru(),yv=r=>r.__kind==="CollectionV1";Ke.isDelegateArgsCollectionV1=yv;var bv=r=>r.__kind==="SaleV1";Ke.isDelegateArgsSaleV1=bv;var mv=r=>r.__kind==="TransferV1";Ke.isDelegateArgsTransferV1=mv;var vv=r=>r.__kind==="DataV1";Ke.isDelegateArgsDataV1=vv;var wv=r=>r.__kind==="UtilityV1";Ke.isDelegateArgsUtilityV1=wv;var _v=r=>r.__kind==="StakingV1";Ke.isDelegateArgsStakingV1=_v;var Mv=r=>r.__kind==="StandardV1";Ke.isDelegateArgsStandardV1=Mv;var Sv=r=>r.__kind==="LockedTransferV1";Ke.isDelegateArgsLockedTransferV1=Sv;var Av=r=>r.__kind==="ProgrammableConfigV1";Ke.isDelegateArgsProgrammableConfigV1=Av;var Ev=r=>r.__kind==="AuthorityItemV1";Ke.isDelegateArgsAuthorityItemV1=Ev;var Tv=r=>r.__kind==="DataItemV1";Ke.isDelegateArgsDataItemV1=Tv;var Bv=r=>r.__kind==="CollectionItemV1";Ke.isDelegateArgsCollectionItemV1=Bv;var Iv=r=>r.__kind==="ProgrammableConfigItemV1";Ke.isDelegateArgsProgrammableConfigItemV1=Iv;Ke.delegateArgsBeet=je.dataEnum([["CollectionV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new je.BeetArgsStruct([["amount",je.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new je.FixableBeetArgsStruct([["amount",je.u64],["lockedAddress",gv.publicKey],["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(Sr.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var f0=W(or=>{"use strict";B();I();var Pv=or&&or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xv=or&&or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ov=or&&or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pv(e,r,t);return xv(e,r),e};Object.defineProperty(or,"__esModule",{value:!0});or.metadataDelegateRoleBeet=or.MetadataDelegateRole=void 0;var kv=Ov(Wt()),u0;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(u0=or.MetadataDelegateRole||(or.MetadataDelegateRole={}));or.metadataDelegateRoleBeet=kv.fixedScalarEnum(u0)});var l0=W(sr=>{"use strict";B();I();var Uv=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cv=sr&&sr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rv=sr&&sr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Uv(e,r,t);return Cv(e,r),e};Object.defineProperty(sr,"__esModule",{value:!0});sr.tokenDelegateRoleBeet=sr.TokenDelegateRole=void 0;var Lv=Rv(Wt()),c0;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(c0=sr.TokenDelegateRole||(sr.TokenDelegateRole={}));sr.tokenDelegateRoleBeet=Lv.fixedScalarEnum(c0)});var d0=W(ar=>{"use strict";B();I();var Dv=ar&&ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fv=ar&&ar.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kv=ar&&ar.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Dv(e,r,t);return Fv(e,r),e};Object.defineProperty(ar,"__esModule",{value:!0});ar.tokenStandardBeet=ar.TokenStandard=void 0;var qv=Kv(Wt()),h0;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(h0=ar.TokenStandard||(ar.TokenStandard={}));ar.tokenStandardBeet=qv.fixedScalarEnum(h0)});var p0=W(vt=>{"use strict";B();I();var zv=vt&&vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kr=vt&&vt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zv(e,r,t)};Object.defineProperty(vt,"__esModule",{value:!0});kr(o0(),vt);kr(ru(),vt);kr(a0(),vt);kr(gc(),vt);kr(f0(),vt);kr(mc(),vt);kr(yc(),vt);kr(pc(),vt);kr(l0(),vt);kr(d0(),vt);kr(vc(),vt)});var zn=W(ur=>{"use strict";B();I();var Nv=ur&&ur.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),g0=ur&&ur.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nv(e,r,t)};Object.defineProperty(ur,"__esModule",{value:!0});ur.PROGRAM_ID=ur.PROGRAM_ADDRESS=void 0;var jv=tt();g0(n0(),ur);g0(p0(),ur);ur.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";ur.PROGRAM_ID=new jv.PublicKey(ur.PROGRAM_ADDRESS)});var _c=W(vn=>{"use strict";B();I();Object.defineProperty(vn,"__esModule",{value:!0});vn.isBigNumber=vn.toOptionBigNumber=vn.toBigNumber=void 0;var Vv=Xt(),Yv=(r,e)=>new Vv.BN(r,e);vn.toBigNumber=Yv;var $v=r=>r===null?null:(0,vn.toBigNumber)(r);vn.toOptionBigNumber=$v;var Gv=r=>r?.__opaque__==="BigNumber";vn.isBigNumber=Gv});var b0=W(iu=>{"use strict";B();I();Object.defineProperty(iu,"__esModule",{value:!0});iu.token=void 0;var y0=_c(),Wv=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,y0.toBigNumber)(r).toNumber()),{basisPoints:(0,y0.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});iu.token=Wv});var v0=W(ou=>{"use strict";B();I();Object.defineProperty(ou,"__esModule",{value:!0});ou.Pda=void 0;var m0=tt(),gs=class extends m0.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=m0.PublicKey.findProgramAddressSync(t,e);return new gs(n,i)}};ou.Pda=gs});var _0=W(rn=>{"use strict";B();I();Object.defineProperty(rn,"__esModule",{value:!0});rn.systemProgram=rn.associatedTokenProgram=rn.tokenProgram=rn.tokenMetadataProgram=void 0;var Hv=tt(),Zv=zn(),w0=Da();rn.tokenMetadataProgram={name:"TokenMetadataProgram",address:Zv.PROGRAM_ID};rn.tokenProgram={name:"TokenProgram",address:w0.TOKEN_PROGRAM_ID};rn.associatedTokenProgram={name:"AssociatedTokenProgram",address:w0.ASSOCIATED_TOKEN_PROGRAM_ID};rn.systemProgram={name:"SystemProgram",address:Hv.SystemProgram.programId}});var M0=W(bo=>{"use strict";B();I();Object.defineProperty(bo,"__esModule",{value:!0});bo.toPublicKey=bo.PublicKey=void 0;var Jv=tt(),Xv=tt();Object.defineProperty(bo,"PublicKey",{enumerable:!0,get:function(){return Xv.PublicKey}});var Qv=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new Jv.PublicKey(r);bo.toPublicKey=Qv});var S0=W(Ut=>{"use strict";B();I();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.getSignerHistogram=Ut.isIdentitySigner=Ut.isKeypairSigner=Ut.isSigner=void 0;var ew=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);Ut.isSigner=ew;var tw=r=>(0,Ut.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;Ut.isKeypairSigner=tw;var rw=r=>(0,Ut.isSigner)(r)&&!(0,Ut.isKeypairSigner)(r);Ut.isIdentitySigner=rw;var nw=r=>r.reduce((e,t)=>{let n=e.all.findIndex(({publicKey:S})=>S.equals(t.publicKey)),i=e.all[n]??null,u=i?(0,Ut.isIdentitySigner)(i):!1,h=(0,Ut.isIdentitySigner)(t);if(!i)e.all.push(t),h?e.identities.push(t):e.keypairs.push(t);else if(u&&!h){let S=e.identities.findIndex(({publicKey:w})=>w.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(S,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});Ut.getSignerHistogram=nw});var vo=W(Ar=>{"use strict";B();I();var iw=Ar&&Ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mo=Ar&&Ar.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iw(e,r,t)};Object.defineProperty(Ar,"__esModule",{value:!0});mo(b0(),Ar);mo(_c(),Ar);mo(v0(),Ar);mo(_0(),Ar);mo(M0(),Ar);mo(S0(),Ar)});var A0=W(Ur=>{"use strict";B();I();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.getDefaultDelegateArgs=Ur.getMetadataDelegateRoleSeed=Ur.getMetadataDelegateRole=Ur.getTokenDelegateRole=void 0;var wt=zn(),ow={StandardV1:wt.TokenDelegateRole.Standard,TransferV1:wt.TokenDelegateRole.Transfer,LockedTransferV1:wt.TokenDelegateRole.LockedTransfer,SaleV1:wt.TokenDelegateRole.Sale,UtilityV1:wt.TokenDelegateRole.Utility,StakingV1:wt.TokenDelegateRole.Staking},sw={CollectionV1:wt.MetadataDelegateRole.Collection,DataV1:wt.MetadataDelegateRole.Data,ProgrammableConfigV1:wt.MetadataDelegateRole.ProgrammableConfig},aw={[wt.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[wt.MetadataDelegateRole.Collection]:"collection_delegate",[wt.MetadataDelegateRole.Use]:"use_delegate",[wt.MetadataDelegateRole.Data]:"data_delegate",[wt.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[wt.MetadataDelegateRole.DataItem]:"data_item_delegate",[wt.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[wt.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},uw={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},fw=r=>{let e=ow[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Ur.getTokenDelegateRole=fw;var cw=r=>{let e=sw[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Ur.getMetadataDelegateRole=cw;var lw=r=>aw[(0,Ur.getMetadataDelegateRole)(r)];Ur.getMetadataDelegateRoleSeed=lw;var hw=r=>{let e=uw[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};Ur.getDefaultDelegateArgs=hw});var Mc=W(Er=>{"use strict";B();I();Object.defineProperty(Er,"__esModule",{value:!0});Er.getMetadataDelegateRecord=Er.getTokenRecord=Er.getAssociatedTokenAccount=Er.getMasterEdition=Er.getMetadata=void 0;var Pi=_t(),su=zn(),Ii=vo(),dw=A0(),pw=r=>{let e=su.PROGRAM_ID;return Ii.Pda.find(e,[Pi.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};Er.getMetadata=pw;var gw=r=>{let e=su.PROGRAM_ID;return Ii.Pda.find(e,[Pi.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),Pi.Buffer.from("edition","utf8")])};Er.getMasterEdition=gw;var yw=r=>Ii.Pda.find(Ii.associatedTokenProgram.address,[r.owner.toBuffer(),Ii.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);Er.getAssociatedTokenAccount=yw;var bw=r=>{let e=su.PROGRAM_ID;return Ii.Pda.find(e,[Pi.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Pi.Buffer.from("token_record","utf8"),r.token.toBuffer()])};Er.getTokenRecord=bw;var mw=r=>{let e=su.PROGRAM_ID;return Ii.Pda.find(e,[Pi.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Pi.Buffer.from((0,dw.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};Er.getMetadataDelegateRecord=mw});var E0=W(au=>{"use strict";B();I();Object.defineProperty(au,"__esModule",{value:!0});au.parseTokenMetadataDelegateInput=void 0;var vw=vo(),Sc=Mc(),ww=(r,e,t)=>{if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,Sc.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,vw.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=e.token??(0,Sc.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,Sc.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};au.parseTokenMetadataDelegateInput=ww});var B0=W(wo=>{"use strict";B();I();Object.defineProperty(wo,"__esModule",{value:!0});wo.getSignerFromTokenMetadataAuthority=wo.parseTokenMetadataAuthorization=void 0;var uu=zn(),T0=E0(),_w=r=>{let e={accounts:{authorizationRules:r.authorizationDetails?.rules??null},signers:[],data:{authorizationData:r.authorizationDetails?.data??null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=uu.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:t,approver:n}=(0,T0.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=uu.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:t,approver:n,tokenAccount:i}=(0,T0.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=i,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=uu.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=uu.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};wo.parseTokenMetadataAuthorization=_w;var Mw=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};wo.getSignerFromTokenMetadataAuthority=Mw});var x0=W(Nn=>{"use strict";B();I();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getSerializedTransaction=Nn.getSignedTransaction=Nn.TransactionBuilder=void 0;var Sw=tt(),Aw=vo(),I0=Xt(),wn=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new wn(e)}prepend(...e){let t=e.flatMap(n=>n instanceof wn?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof wn?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new wn(this.transactionOptions),i=new wn(this.transactionOptions),u=this.records.findIndex(h=>h.key===e);return u>-1?(u+=t?1:0,n.add(...this.records.slice(0,u)),i.add(...this.records.slice(u))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){t={...this.getTransactionOptions(),...t};let n=new Sw.Transaction({feePayer:this.getFeePayer()?.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};Nn.TransactionBuilder=wn;function P0(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function Ew(r,e){let{keypairs:t}=(0,Aw.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function Tw(r,e=[],t){let n=P0(r,e,t);return r=n.transaction,e=n.signers,r=Ew(r,e),I0.base.toBase58(r.serialize())}Nn.getSignedTransaction=Tw;function Bw(r,e=[],t){return r=P0(r,e,t).transaction,I0.base.toBase58(r.serialize({requireAllSignatures:!1,verifySignatures:!1}))}Nn.getSerializedTransaction=Bw});var k0=W(O0=>{"use strict";B();I();Object.defineProperty(O0,"__esModule",{value:!0})});var Ac=W(jn=>{"use strict";B();I();var Iw=jn&&jn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),U0=jn&&jn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Iw(e,r,t)};Object.defineProperty(jn,"__esModule",{value:!0});U0(x0(),jn);U0(k0(),jn)});var C0=W(_o=>{"use strict";B();I();Object.defineProperty(_o,"__esModule",{value:!0});_o.isProgrammable=_o.isNonFungible=void 0;var fu=zn(),Pw=r=>r.tokenStandard===null||r.tokenStandard===fu.TokenStandard.NonFungible||r.tokenStandard===fu.TokenStandard.NonFungibleEdition||r.tokenStandard===fu.TokenStandard.ProgrammableNonFungible;_o.isNonFungible=Pw;var xw=r=>r.tokenStandard===fu.TokenStandard.ProgrammableNonFungible;_o.isProgrammable=xw});var R0=W(xi=>{"use strict";B();I();var Ow=xi&&xi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kw=xi&&xi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ow(e,r,t)};Object.defineProperty(xi,"__esModule",{value:!0});kw(C0(),xi)});var F0=W(cu=>{"use strict";B();I();Object.defineProperty(cu,"__esModule",{value:!0});cu.transferNftBuilder=void 0;var Uw=zn(),D0=tt(),ys=vo(),Mo=Mc(),L0=B0(),Cw=Ac(),Ec=R0(),Rw=new D0.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),Lw=(r,e,t)=>{let{nftOrSft:n,authority:i,toOwner:u,amount:h=(0,ys.token)(1),authorizationDetails:S}=r,w=r.fromOwner??(0,L0.getSignerFromTokenMetadataAuthority)(i).publicKey,A=(0,Mo.getMetadata)(n.address),C=(0,Mo.getMasterEdition)(n.address),x=r.fromToken??(0,Mo.getAssociatedTokenAccount)({mint:n.address,owner:w}),D=r.toToken??(0,Mo.getAssociatedTokenAccount)({mint:n.address,owner:u}),k=(0,Mo.getTokenRecord)({mint:n.address,token:x}),Y=(0,Mo.getTokenRecord)({mint:n.address,token:D}),N=(0,L0.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:x},authorizationDetails:S,programs:t});return Cw.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,Uw.createTransferInstruction)({token:x,tokenOwner:w,destination:D,destinationOwner:u,mint:n.address,metadata:A,edition:(0,Ec.isNonFungible)(n)?C:void 0,ownerTokenRecord:(0,Ec.isProgrammable)(n)?k:void 0,destinationTokenRecord:(0,Ec.isProgrammable)(n)?Y:void 0,authority:N.accounts.authority,payer:e.publicKey,systemProgram:ys.systemProgram.address,sysvarInstructions:D0.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:ys.tokenProgram.address,splAtaProgram:ys.associatedTokenProgram.address,authorizationRules:N.accounts.authorizationRules,authorizationRulesProgram:Rw},{transferArgs:{__kind:"V1",amount:h.basisPoints,...N.data}},ys.tokenMetadataProgram.address),signers:[e,...N.signers],key:r.instructionKey??"transferNft"})};cu.transferNftBuilder=Lw});var lu=W(Cr=>{"use strict";B();I();var Dw=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bs=Cr&&Cr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dw(e,r,t)};Object.defineProperty(Cr,"__esModule",{value:!0});bs(tu(),Cr);bs(zn(),Cr);bs(F0(),Cr);bs(Ac(),Cr);bs(vo(),Cr)});var Bc=W(Ht=>{"use strict";B();I();var Fw=Ht&&Ht.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kw=Ht&&Ht.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tc=Ht&&Ht.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fw(e,r,t);return Kw(e,r),e};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.metaplex=Ht.web3=Ht.spl=void 0;Ht.spl=Tc(Da());Ht.web3=Tc(tt());Ht.metaplex=Tc(lu())});var q0=W(le=>{"use strict";B();I();Object.defineProperty(le,"__esModule",{value:!0});le.validSignedTransaction=le.getSerializedMplTransaction=le.signMplTransaction=le.createAndSignVersionedTransaction=le.getSerializedVersionedTransaction=le.getSerializedTokenTransferVersionedTransaction=le.signTokenTransferVersionedTransaction=le.signTransferVersionedTransaction=le.getSerializedTransferVersionedTransaction=le.getHardwareTransaction=le.deserializeMessages=le.signMessage=le.appendTokenBurnInstruction=le.appendTokenMintToInstruction=le.appendTokenTransferInstruction=le.appendTransferInstruction=le.signTransaction=le.appendInstruction=le.createRawTransaction=le.validAddress=le.getNewAddress=void 0;var ot=Xt(),X=Bc(),pt=tt(),So=lu(),nn=Da(),Ct=Ea(),K0=Ho();function qw(r){if(!r)throw new Error("invalid key");let e=ot.base.fromBase58(r);if(e.length!=64)throw new Error("invalid key length");let t=ot.signUtil.ed25519.publicKeyCreate(e);return ot.base.toBase58(t)}le.getNewAddress=qw;function zw(r){try{return ot.base.fromBase58(r).length==32}catch{return!1}}le.validAddress=zw;function Nw(r,e){return new X.web3.Transaction({feePayer:new X.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}le.createRawTransaction=Nw;async function jw(r,...e){r.add(...e)}le.appendInstruction=jw;async function Vw(r,...e){let t=[];return e.forEach(n=>{t.push(X.web3.Keypair.fromSecretKey(ot.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(ot.base.toBase58(r.serialize())):Promise.reject("sign error")}le.signTransaction=Vw;async function Yw(r,e,t,n){r.add(X.web3.SystemProgram.transfer({fromPubkey:new X.web3.PublicKey(e),toPubkey:new X.web3.PublicKey(t),lamports:n}))}le.appendTransferInstruction=Yw;async function $w(r,e,t,n,i,u,h,S){let w=h===!0?nn.TOKEN_2022_PROGRAM_ID:nn.TOKEN_PROGRAM_ID,A=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(n),new X.web3.PublicKey(e),!1,w),C=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(n),new X.web3.PublicKey(t),!0,w);if(u&&r.add(X.spl.createAssociatedTokenAccountInstruction(new X.web3.PublicKey(e),new X.web3.PublicKey(C),new X.web3.PublicKey(t),new X.web3.PublicKey(n),new X.web3.PublicKey(w))),h){if(!S)throw new Error("invalid decimal for token 2022");r.add(X.spl.createTransferCheckedInstruction(new X.web3.PublicKey(A),new X.web3.PublicKey(n),new X.web3.PublicKey(C),new X.web3.PublicKey(e),i,S,[],new X.web3.PublicKey(w)))}else r.add(X.spl.createTransferInstruction(new X.web3.PublicKey(A),new X.web3.PublicKey(C),new X.web3.PublicKey(e),i,[],new X.web3.PublicKey(w)))}le.appendTokenTransferInstruction=$w;async function Gw(r,e,t,n,i,u,h,S){let w=S===!0?nn.TOKEN_2022_PROGRAM_ID:nn.TOKEN_PROGRAM_ID,A=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(n),new X.web3.PublicKey(t),!1,w);h&&r.add(X.spl.createAssociatedTokenAccountInstruction(new X.web3.PublicKey(e),new X.web3.PublicKey(A),new X.web3.PublicKey(t),new X.web3.PublicKey(n),new X.web3.PublicKey(w))),r.add(X.spl.createMintToInstruction(new X.web3.PublicKey(n),new X.web3.PublicKey(A),new X.web3.PublicKey(i),u,[],new X.web3.PublicKey(w)))}le.appendTokenMintToInstruction=Gw;async function Ww(r,e,t,n,i,u){let h=u===!0?nn.TOKEN_2022_PROGRAM_ID:nn.TOKEN_PROGRAM_ID;r.add(X.spl.createBurnInstruction(new X.web3.PublicKey(t),new X.web3.PublicKey(n),new X.web3.PublicKey(e),i,[],new X.web3.PublicKey(h)))}le.appendTokenBurnInstruction=Ww;async function Hw(r,e){let t=ot.base.fromBase58(r),n=ot.signUtil.ed25519.sign(t,ot.base.fromBase58(e));return Promise.resolve(ot.base.toBase58(n))}le.signMessage=Hw;async function Zw(r){let e=[];for(let t=0;t<r.length;t++){let n=!0,i=0,u=!1,h=0,S=r[t];try{let A=X.web3.VersionedTransaction.deserialize(ot.base.fromBase58(S)).message;for(let C=0;C<A.compiledInstructions.length;C++){let x=A.compiledInstructions[C];if(A.staticAccountKeys[x.programIdIndex].toBase58()==Ct.ComputeBudgetProgram.programId.toBase58()){let D=K.Buffer.from(x.data);try{let{units:k}=(0,K0.decodeData)(Ct.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,D);i=k,u=!0}catch{}try{let{microLamports:k}=(0,K0.decodeData)(Ct.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,D);h=k}catch{}}}u||(i=0,A.compiledInstructions.length>1&&(i=(A.compiledInstructions.length-1)*2e5))}catch(w){console.log(w),n=!1}e.push({deserialized:n,computeUnitLimit:i.toString(),computeUnitPrice:h.toString()})}return Promise.resolve(e)}le.deserializeMessages=Zw;async function Jw(r,e,t){let n=X.web3.Transaction.from(ot.base.fromHex(r));return n.addSignature(new pt.PublicKey(e),ot.base.fromHex(t)),n.signature?Promise.resolve(ot.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}le.getHardwareTransaction=Jw;async function Xw(r,...e){let t=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let n=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(X.web3.SystemProgram.transfer({fromPubkey:new X.web3.PublicKey(r.from),toPubkey:new X.web3.PublicKey(r.to),lamports:r.amount})),Ic(r.payer,r.blockHash,t,e)}le.getSerializedTransferVersionedTransaction=Xw;async function Qw(r,...e){let t=[];if(r.computeUnitLimit&&r.computeUnitPrice){let n=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(X.web3.SystemProgram.transfer({fromPubkey:new X.web3.PublicKey(r.from),toPubkey:new X.web3.PublicKey(r.to),lamports:r.amount})),Pc(r.payer,r.blockHash,t,e)}le.signTransferVersionedTransaction=Qw;async function e_(r,...e){let t=r.token2022===!0?nn.TOKEN_2022_PROGRAM_ID:nn.TOKEN_PROGRAM_ID,n=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(r.mint),new X.web3.PublicKey(r.from),!1,t),i=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(r.mint),new X.web3.PublicKey(r.to),!0,t),u=[];if(r.computeUnitLimit&&r.computeUnitPrice){let h=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),S=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});u.push(h),u.push(S)}return r.createAssociatedAddress&&u.push(X.spl.createAssociatedTokenAccountInstruction(new X.web3.PublicKey(r.from),new X.web3.PublicKey(i),new X.web3.PublicKey(r.to),new X.web3.PublicKey(r.mint),new X.web3.PublicKey(t))),u.push(X.spl.createTransferInstruction(new X.web3.PublicKey(n),new X.web3.PublicKey(i),new X.web3.PublicKey(r.from),r.amount,[],new X.web3.PublicKey(t))),Pc(r.payer,r.blockHash,u,e)}le.signTokenTransferVersionedTransaction=e_;async function t_(r,...e){let t=r.token2022===!0?nn.TOKEN_2022_PROGRAM_ID:nn.TOKEN_PROGRAM_ID,n=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(r.mint),new X.web3.PublicKey(r.from),!1,t),i=await X.spl.getAssociatedTokenAddress(new X.web3.PublicKey(r.mint),new X.web3.PublicKey(r.to),!1,t),u=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let h=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),S=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});u.push(h),u.push(S)}return r.createAssociatedAddress&&u.push(X.spl.createAssociatedTokenAccountInstruction(new X.web3.PublicKey(r.from),new X.web3.PublicKey(i),new X.web3.PublicKey(r.to),new X.web3.PublicKey(r.mint),new X.web3.PublicKey(t))),u.push(X.spl.createTransferInstruction(new X.web3.PublicKey(n),new X.web3.PublicKey(i),new X.web3.PublicKey(r.from),r.amount,[],new X.web3.PublicKey(t))),Ic(r.payer,r.blockHash,u,e)}le.getSerializedTokenTransferVersionedTransaction=t_;async function Ic(r,e,t,n){let i=new pt.TransactionMessage({payerKey:new pt.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),u=new pt.VersionedTransaction(i);return Promise.resolve(ot.base.toBase58(u.serialize()))}le.getSerializedVersionedTransaction=Ic;async function Pc(r,e,t,n){let i=new pt.TransactionMessage({payerKey:new pt.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),u=new pt.VersionedTransaction(i),h=[];return n.forEach(S=>{let w=pt.Keypair.fromSecretKey(ot.base.fromBase58(S));h.push({publicKey:w.publicKey,secretKey:w.secretKey})}),u.sign(h),u.signature?Promise.resolve(ot.base.toBase58(u.serialize())):Promise.reject("sign error")}le.createAndSignVersionedTransaction=Pc;async function r_(r,e,t,n,i,u,h=So.TokenStandard.ProgrammableNonFungible,S,w){let A={tokenStandard:h,address:new pt.PublicKey(n)},C={publicKey:new pt.PublicKey(e),secretKey:ot.base.fromBase58(u)},x=(0,So.transferNftBuilder)({nftOrSft:A,authority:C,fromOwner:new pt.PublicKey(e),toOwner:new pt.PublicKey(t)},C);if(S&&w){let D=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:S}),k=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w});x.add({instruction:D,signers:[]}),x.add({instruction:k,signers:[]})}return(0,So.getSignedTransaction)(x,void 0,{blockhash:i,lastValidBlockHeight:0})}le.signMplTransaction=r_;async function n_(r,e,t,n,i,u,h=So.TokenStandard.ProgrammableNonFungible,S,w){let A={tokenStandard:h,address:new pt.PublicKey(n)},C={publicKey:new pt.PublicKey(e),secretKey:ot.base.fromBase58(u)},x=(0,So.transferNftBuilder)({nftOrSft:A,authority:C,fromOwner:new pt.PublicKey(e),toOwner:new pt.PublicKey(t)},C);if(S&&w){let D=Ct.ComputeBudgetProgram.setComputeUnitLimit({units:S}),k=Ct.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w});x.add({instruction:D,signers:[]}),x.add({instruction:k,signers:[]})}return(0,So.getSerializedTransaction)(x,void 0,{blockhash:i,lastValidBlockHeight:0})}le.getSerializedMplTransaction=n_;function i_(r,e,t){if(e){let S=pt.VersionedTransaction.deserialize(ot.base.fromBase58(r)),w=S.signature,A=S.message.serialize(),C=S.message.getAccountKeys().get(0)?.toBytes();if(!t&&!ot.signUtil.ed25519.verify(A,w,C))throw Error("signature error");return S}let n=pt.Transaction.from(ot.base.fromBase58(r)),i=n.signature,u=n.serializeMessage(),h=n.feePayer.toBytes();if(!t&&!ot.signUtil.ed25519.verify(u,i,h))throw Error("signature error");return n}le.validSignedTransaction=i_});var N0=W((pB,z0)=>{B();I();z0.exports=globalThis["ok-metax-base"]});var V0=W(du=>{"use strict";B();I();Object.defineProperty(du,"__esModule",{value:!0});du.SolWallet=void 0;var et=N0(),Vn=Xt(),at=Y0(),hu=Ea(),j0=lu(),xc=class extends et.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve((0,et.ed25519_getRandomPrivateKey)(!0,"base58"))}catch{return Promise.reject(et.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await(0,et.ed25519_getDerivedPrivateKey)(e,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(et.GenPrivateKeyError)}}checkPrivateKey(e){return Vn.base.fromBase58(e).length==64}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(et.NewAddressError);let t=at.api.getNewAddress(e.privateKey),n={address:t,publicKey:Vn.base.toHex(Vn.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(et.NewAddressError)}}async validPrivateKey(e){let t;try{t=this.checkPrivateKey(e.privateKey)}catch{t=!1}let n={isValid:t,privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t;try{t=Vn.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signTransaction(e){try{let t=e.data,n=at.api.createRawTransaction(t.payer,t.blockHash);if(t.computeUnitLimit&&t.computeUnitPrice){let u=hu.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),h=hu.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(u).add(h)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(et.SignTxError);if(t.version===0)return at.api.signTransferVersionedTransaction(e.data,e.privateKey);await at.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(et.SignTxError);if(t.version===0)return at.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await at.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(et.SignTxError);let u=t.tokenStandard??j0.TokenStandard.ProgrammableNonFungible;return await at.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,u,t.computeUnitLimit,t.computeUnitPrice)}else return Promise.reject(et.SignTxError);if(!e.privateKey)return Promise.resolve(Vn.base.toHex(n.serialize({verifySignatures:!1})));let i=await at.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(et.SignTxError)}}async signMessage(e){try{let t=e.data,n=await at.api.signMessage(t,e.privateKey);return Promise.resolve(n)}catch{return Promise.reject(et.SignTxError)}}async deserializeMessages(e){try{let t=await at.api.deserializeMessages(e.data);return Promise.resolve(t)}catch{return Promise.reject("deserializeMessages error")}}async getSerializedTransaction(e){try{let t=e.data,n=at.api.createRawTransaction(t.payer,t.blockHash);if(t.needPriorityFee&&t.computeUnitLimit&&t.computeUnitPrice){let u=hu.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),h=hu.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(u).add(h)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(et.SignTxError);if(t.version===0)return at.api.getSerializedTransferVersionedTransaction(e.data,e.privateKey);await at.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(et.SignTxError);if(t.version===0)return at.api.getSerializedTokenTransferVersionedTransaction(e.data,e.privateKey);await at.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(et.SignTxError);let u=t.tokenStandard??j0.TokenStandard.ProgrammableNonFungible;return t.needPriorityFee?await at.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,u,t.computeUnitLimit,t.computeUnitPrice):await at.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,u)}else return Promise.reject(et.SignTxError);let i=Vn.base.toBase58(n.serialize({requireAllSignatures:!1,verifySignatures:!1}));return Promise.resolve(i)}catch{return Promise.reject(et.SignTxError)}}async calcTxHash(e){try{let t=Vn.base.fromBase58(e.data),n;try{n=at.web3.Transaction.from(t)}catch{n=at.web3.VersionedTransaction.deserialize(t)}return n.signature==null?Promise.reject(et.CalcTxHashError):Promise.resolve(Vn.base.toBase58(n.signature))}catch{return Promise.reject(et.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return this.signTransaction(e)}catch{return Promise.reject(et.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{let t=at.api.getHardwareTransaction(e.raw,e.pubKey,e.sig);return Promise.resolve(t)}catch{return Promise.reject(et.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=at.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,et.jsonStringifyUniform)(i))}catch{return Promise.reject(et.validSignedTransactionError)}}};du.SolWallet=xc});var Y0=W(Zt=>{B();I();var $0=Zt&&Zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o_=Zt&&Zt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s_=Zt&&Zt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$0(e,r,t);return o_(e,r),e},G0=Zt&&Zt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$0(e,r,t)};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.api=void 0;Zt.api=s_(q0());G0(Bc(),Zt);G0(V0(),Zt)});module.exports=Y0();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
