(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("ok-metax-bitcoin", [], f);
    } else if ("object" == typeof exports) {
      exports["ok-metax-bitcoin"] = f();
    } else {
      g["ok-metax-bitcoin"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var r_=Object.create;var Zc=Object.defineProperty;var n_=Object.getOwnPropertyDescriptor;var i_=Object.getOwnPropertyNames;var a_=Object.getPrototypeOf,s_=Object.prototype.hasOwnProperty;var Gi=(t,e)=>()=>(t&&(e=t(t=0)),e);var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Af=(t,e)=>{for(var r in e)Zc(t,r,{get:e[r],enumerable:!0})},Vb=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of i_(e))!s_.call(t,i)&&i!==r&&Zc(t,i,{get:()=>e[i],enumerable:!(n=n_(e,i))||n.enumerable});return t};var o_=(t,e,r)=>(r=t!=null?r_(a_(t)):{},Vb(e||!t||!t.__esModule?Zc(r,"default",{value:t,enumerable:!0}):r,t)),Pf=t=>Vb(Zc({},"__esModule",{value:!0}),t);function Yb(){throw new Error("setTimeout has not been defined")}function $b(){throw new Error("clearTimeout has not been defined")}function Jb(t){if(wa===setTimeout)return setTimeout(t,0);if((wa===Yb||!wa)&&setTimeout)return wa=setTimeout,setTimeout(t,0);try{return wa(t,0)}catch{try{return wa.call(null,t,0)}catch{return wa.call(this,t,0)}}}function f_(t){if(_a===clearTimeout)return clearTimeout(t);if((_a===$b||!_a)&&clearTimeout)return _a=clearTimeout,clearTimeout(t);try{return _a(t)}catch{try{return _a.call(null,t)}catch{return _a.call(this,t)}}}function c_(){!ao||!ss||(ao=!1,ss.length?Vi=ss.concat(Vi):Qc=-1,Vi.length&&Zb())}function Zb(){if(!ao){var t=Jb(c_);ao=!0;for(var e=Vi.length;e;){for(ss=Vi,Vi=[];++Qc<e;)ss&&ss[Qc].run();Qc=-1,e=Vi.length}ss=null,ao=!1,f_(t)}}function u_(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Vi.push(new Qb(t,e)),Vi.length===1&&!ao&&Jb(Zb)}function Qb(t,e){this.fun=t,this.array=e}function os(){}function T_(t){throw new Error("process.binding is not supported")}function I_(){return"/"}function O_(t){throw new Error("process.chdir is not supported")}function B_(){return 0}function C_(t){var e=M_.call(io)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}function q_(){var t=new Date,e=t-R_;return e/1e3}var wa,_a,Vi,ao,ss,Qc,d_,h_,l_,p_,b_,v_,y_,g_,m_,w_,__,S_,x_,E_,A_,P_,io,M_,R_,q,Xb,g=Gi(()=>{wa=Yb,_a=$b;typeof globalThis.setTimeout=="function"&&(wa=setTimeout);typeof globalThis.clearTimeout=="function"&&(_a=clearTimeout);Vi=[],ao=!1,Qc=-1;Qb.prototype.run=function(){this.fun.apply(null,this.array)};d_="browser",h_="browser",l_=!0,p_={},b_=[],v_="",y_={},g_={},m_={};w_=os,__=os,S_=os,x_=os,E_=os,A_=os,P_=os;io=globalThis.performance||{},M_=io.now||io.mozNow||io.msNow||io.oNow||io.webkitNow||function(){return new Date().getTime()};R_=new Date;q={nextTick:u_,title:d_,browser:l_,env:p_,argv:b_,version:v_,versions:y_,on:w_,addListener:__,once:S_,off:x_,removeListener:E_,removeAllListeners:A_,emit:P_,binding:T_,cwd:I_,chdir:O_,umask:B_,hrtime:C_,platform:h_,release:g_,config:m_,uptime:q_},Xb={version:"3.12.1","env.PROJECT":"okxwallet-extension","env.NODE_ENV":"","env.SOURCEMAP":"","env.DEV_TARGET":"","env.APP_VERSION":"3.12.1","env.COMMIT_HASH":"13c1","env.REDUX_DEVTOOLS":"","env.ASSETS_BUILD_TYPE":"prepub"};Object.keys(Xb).forEach(t=>{let e=t.split("."),r=q;for(let n=0;n<e.length;n++){let i=e[n];n===e.length-1?r[i]=Xb[t]:r=r[i]||(r[i]={})}})});var t2=H((e2,_0)=>{g();m();(function(t){typeof e2=="object"&&typeof _0<"u"?_0.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).buffer=t()})(function(){return function(){return function t(e,r,n){function i(o,f){if(!r[o]){if(!e[o]){var c=typeof require=="function"&&require;if(!f&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[o]={exports:{}};e[o][0].call(d.exports,function(l){return i(e[o][1][l]||l)},d,d.exports,t,e,r,n)}return r[o].exports}for(var a=typeof require=="function"&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(t,e,r){"use strict";r.byteLength=function(d){var l=c(d),_=l[0],T=l[1];return 3*(_+T)/4-T},r.toByteArray=function(d){var l,_,T=c(d),B=T[0],F=T[1],L=new a(function(ie,te,he){return 3*(te+he)/4-he}(0,B,F)),J=0,ne=F>0?B-4:B;for(_=0;_<ne;_+=4)l=i[d.charCodeAt(_)]<<18|i[d.charCodeAt(_+1)]<<12|i[d.charCodeAt(_+2)]<<6|i[d.charCodeAt(_+3)],L[J++]=l>>16&255,L[J++]=l>>8&255,L[J++]=255&l;return F===2&&(l=i[d.charCodeAt(_)]<<2|i[d.charCodeAt(_+1)]>>4,L[J++]=255&l),F===1&&(l=i[d.charCodeAt(_)]<<10|i[d.charCodeAt(_+1)]<<4|i[d.charCodeAt(_+2)]>>2,L[J++]=l>>8&255,L[J++]=255&l),L},r.fromByteArray=function(d){for(var l,_=d.length,T=_%3,B=[],F=0,L=_-T;F<L;F+=16383)B.push(u(d,F,F+16383>L?L:F+16383));return T===1?(l=d[_-1],B.push(n[l>>2]+n[l<<4&63]+"==")):T===2&&(l=(d[_-2]<<8)+d[_-1],B.push(n[l>>10]+n[l>>4&63]+n[l<<2&63]+"=")),B.join("")};for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,f=s.length;o<f;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function c(d){var l=d.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=d.indexOf("=");return _===-1&&(_=l),[_,_===l?0:4-_%4]}function u(d,l,_){for(var T,B,F=[],L=l;L<_;L+=3)T=(d[L]<<16&16711680)+(d[L+1]<<8&65280)+(255&d[L+2]),F.push(n[(B=T)>>18&63]+n[B>>12&63]+n[B>>6&63]+n[63&B]);return F.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,r){(function(f){"use strict";var i=t("base64-js"),a=t("ieee754");r.Buffer=f,r.SlowBuffer=function(w){return+w!=w&&(w=0),f.alloc(+w)},r.INSPECT_MAX_BYTES=50;var s=2147483647;function o(w){if(w>s)throw new RangeError('The value "'+w+'" is invalid for option "size"');var P=new Uint8Array(w);return P.__proto__=f.prototype,P}function f(w,P,M){if(typeof w=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(w)}return c(w,P,M)}function c(w,P,M){if(typeof w=="string")return function($,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!f.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var ce=0|T($,ee),Ne=o(ce),ve=Ne.write($,ee);return ve!==ce&&(Ne=Ne.slice(0,ve)),Ne}(w,P);if(ArrayBuffer.isView(w))return l(w);if(w==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Te(w,ArrayBuffer)||w&&Te(w.buffer,ArrayBuffer))return function($,ee,ce){if(ee<0||$.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<ee+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return Ne=ee===void 0&&ce===void 0?new Uint8Array($):ce===void 0?new Uint8Array($,ee):new Uint8Array($,ee,ce),Ne.__proto__=f.prototype,Ne}(w,P,M);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=w.valueOf&&w.valueOf();if(W!=null&&W!==w)return f.from(W,P,M);var X=function($){if(f.isBuffer($)){var ee=0|_($.length),ce=o(ee);return ce.length===0||$.copy(ce,0,0,ee),ce}if($.length!==void 0)return typeof $.length!="number"||Ue($.length)?o(0):l($);if($.type==="Buffer"&&Array.isArray($.data))return l($.data)}(w);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return f.from(w[Symbol.toPrimitive]("string"),P,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}function u(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function d(w){return u(w),o(w<0?0:0|_(w))}function l(w){for(var P=w.length<0?0:0|_(w.length),M=o(P),W=0;W<P;W+=1)M[W]=255&w[W];return M}function _(w){if(w>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|w}function T(w,P){if(f.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Te(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var M=w.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&M===0)return 0;for(var X=!1;;)switch(P){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ue(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return be(w).length;default:if(X)return W?-1:ue(w).length;P=(""+P).toLowerCase(),X=!0}}function B(w,P,M){var W=w[P];w[P]=w[M],w[M]=W}function F(w,P,M,W,X){if(w.length===0)return-1;if(typeof M=="string"?(W=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Ue(M=+M)&&(M=X?0:w.length-1),M<0&&(M=w.length+M),M>=w.length){if(X)return-1;M=w.length-1}else if(M<0){if(!X)return-1;M=0}if(typeof P=="string"&&(P=f.from(P,W)),f.isBuffer(P))return P.length===0?-1:L(w,P,M,W,X);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(w,P,M):Uint8Array.prototype.lastIndexOf.call(w,P,M):L(w,[P],M,W,X);throw new TypeError("val must be string, number or Buffer")}function L(w,P,M,W,X){var $,ee=1,ce=w.length,Ne=P.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(w.length<2||P.length<2)return-1;ee=2,ce/=2,Ne/=2,M/=2}function ve(A,K){return ee===1?A[K]:A.readUInt16BE(K*ee)}if(X){var pe=-1;for($=M;$<ce;$++)if(ve(w,$)===ve(P,pe===-1?0:$-pe)){if(pe===-1&&(pe=$),$-pe+1===Ne)return pe*ee}else pe!==-1&&($-=$-pe),pe=-1}else for(M+Ne>ce&&(M=ce-Ne),$=M;$>=0;$--){for(var p=!0,S=0;S<Ne;S++)if(ve(w,$+S)!==ve(P,S)){p=!1;break}if(p)return $}return-1}function J(w,P,M,W){M=Number(M)||0;var X=w.length-M;W?(W=Number(W))>X&&(W=X):W=X;var $=P.length;W>$/2&&(W=$/2);for(var ee=0;ee<W;++ee){var ce=parseInt(P.substr(2*ee,2),16);if(Ue(ce))return ee;w[M+ee]=ce}return ee}function ne(w,P,M,W){return Ee(ue(P,w.length-M),w,M,W)}function ie(w,P,M,W){return Ee(function(X){for(var $=[],ee=0;ee<X.length;++ee)$.push(255&X.charCodeAt(ee));return $}(P),w,M,W)}function te(w,P,M,W){return ie(w,P,M,W)}function he(w,P,M,W){return Ee(be(P),w,M,W)}function ae(w,P,M,W){return Ee(function(X,$){for(var ee,ce,Ne,ve=[],pe=0;pe<X.length&&!(($-=2)<0);++pe)ee=X.charCodeAt(pe),ce=ee>>8,Ne=ee%256,ve.push(Ne),ve.push(ce);return ve}(P,w.length-M),w,M,W)}function xe(w,P,M){return P===0&&M===w.length?i.fromByteArray(w):i.fromByteArray(w.slice(P,M))}function U(w,P,M){M=Math.min(w.length,M);for(var W=[],X=P;X<M;){var $,ee,ce,Ne,ve=w[X],pe=null,p=ve>239?4:ve>223?3:ve>191?2:1;if(X+p<=M)switch(p){case 1:ve<128&&(pe=ve);break;case 2:(192&($=w[X+1]))==128&&(Ne=(31&ve)<<6|63&$)>127&&(pe=Ne);break;case 3:$=w[X+1],ee=w[X+2],(192&$)==128&&(192&ee)==128&&(Ne=(15&ve)<<12|(63&$)<<6|63&ee)>2047&&(Ne<55296||Ne>57343)&&(pe=Ne);break;case 4:$=w[X+1],ee=w[X+2],ce=w[X+3],(192&$)==128&&(192&ee)==128&&(192&ce)==128&&(Ne=(15&ve)<<18|(63&$)<<12|(63&ee)<<6|63&ce)>65535&&Ne<1114112&&(pe=Ne)}pe===null?(pe=65533,p=1):pe>65535&&(pe-=65536,W.push(pe>>>10&1023|55296),pe=56320|1023&pe),W.push(pe),X+=p}return function(S){var A=S.length;if(A<=h)return String.fromCharCode.apply(String,S);for(var K="",v=0;v<A;)K+=String.fromCharCode.apply(String,S.slice(v,v+=h));return K}(W)}r.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var w=new Uint8Array(1);return w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},w.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(w,P,M){return c(w,P,M)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(w,P,M){return function(W,X,$){return u(W),W<=0?o(W):X!==void 0?typeof $=="string"?o(W).fill(X,$):o(W).fill(X):o(W)}(w,P,M)},f.allocUnsafe=function(w){return d(w)},f.allocUnsafeSlow=function(w){return d(w)},f.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==f.prototype},f.compare=function(w,P){if(Te(w,Uint8Array)&&(w=f.from(w,w.offset,w.byteLength)),Te(P,Uint8Array)&&(P=f.from(P,P.offset,P.byteLength)),!f.isBuffer(w)||!f.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===P)return 0;for(var M=w.length,W=P.length,X=0,$=Math.min(M,W);X<$;++X)if(w[X]!==P[X]){M=w[X],W=P[X];break}return M<W?-1:W<M?1:0},f.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(w,P){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return f.alloc(0);var M;if(P===void 0)for(P=0,M=0;M<w.length;++M)P+=w[M].length;var W=f.allocUnsafe(P),X=0;for(M=0;M<w.length;++M){var $=w[M];if(Te($,Uint8Array)&&($=f.from($)),!f.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(W,X),X+=$.length}return W},f.byteLength=T,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<w;P+=2)B(this,P,P+1);return this},f.prototype.swap32=function(){var w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<w;P+=4)B(this,P,P+3),B(this,P+1,P+2);return this},f.prototype.swap64=function(){var w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<w;P+=8)B(this,P,P+7),B(this,P+1,P+6),B(this,P+2,P+5),B(this,P+3,P+4);return this},f.prototype.toString=function(){var w=this.length;return w===0?"":arguments.length===0?U(this,0,w):function(P,M,W){var X=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(M>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return O(this,M,W);case"utf8":case"utf-8":return U(this,M,W);case"ascii":return E(this,M,W);case"latin1":case"binary":return I(this,M,W);case"base64":return xe(this,M,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,M,W);default:if(X)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),X=!0}}.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(w){if(!f.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||f.compare(this,w)===0},f.prototype.inspect=function(){var w="",P=r.INSPECT_MAX_BYTES;return w=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(w+=" ... "),"<Buffer "+w+">"},f.prototype.compare=function(w,P,M,W,X){if(Te(w,Uint8Array)&&(w=f.from(w,w.offset,w.byteLength)),!f.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(P===void 0&&(P=0),M===void 0&&(M=w?w.length:0),W===void 0&&(W=0),X===void 0&&(X=this.length),P<0||M>w.length||W<0||X>this.length)throw new RangeError("out of range index");if(W>=X&&P>=M)return 0;if(W>=X)return-1;if(P>=M)return 1;if(this===w)return 0;for(var $=(X>>>=0)-(W>>>=0),ee=(M>>>=0)-(P>>>=0),ce=Math.min($,ee),Ne=this.slice(W,X),ve=w.slice(P,M),pe=0;pe<ce;++pe)if(Ne[pe]!==ve[pe]){$=Ne[pe],ee=ve[pe];break}return $<ee?-1:ee<$?1:0},f.prototype.includes=function(w,P,M){return this.indexOf(w,P,M)!==-1},f.prototype.indexOf=function(w,P,M){return F(this,w,P,M,!0)},f.prototype.lastIndexOf=function(w,P,M){return F(this,w,P,M,!1)},f.prototype.write=function(w,P,M,W){if(P===void 0)W="utf8",M=this.length,P=0;else if(M===void 0&&typeof P=="string")W=P,M=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(M)?(M>>>=0,W===void 0&&(W="utf8")):(W=M,M=void 0)}var X=this.length-P;if((M===void 0||M>X)&&(M=X),w.length>0&&(M<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var $=!1;;)switch(W){case"hex":return J(this,w,P,M);case"utf8":case"utf-8":return ne(this,w,P,M);case"ascii":return ie(this,w,P,M);case"latin1":case"binary":return te(this,w,P,M);case"base64":return he(this,w,P,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,w,P,M);default:if($)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),$=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var h=4096;function E(w,P,M){var W="";M=Math.min(w.length,M);for(var X=P;X<M;++X)W+=String.fromCharCode(127&w[X]);return W}function I(w,P,M){var W="";M=Math.min(w.length,M);for(var X=P;X<M;++X)W+=String.fromCharCode(w[X]);return W}function O(w,P,M){var W=w.length;(!P||P<0)&&(P=0),(!M||M<0||M>W)&&(M=W);for(var X="",$=P;$<M;++$)X+=oe(w[$]);return X}function N(w,P,M){for(var W=w.slice(P,M),X="",$=0;$<W.length;$+=2)X+=String.fromCharCode(W[$]+256*W[$+1]);return X}function D(w,P,M){if(w%1!=0||w<0)throw new RangeError("offset is not uint");if(w+P>M)throw new RangeError("Trying to access beyond buffer length")}function z(w,P,M,W,X,$){if(!f.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>X||P<$)throw new RangeError('"value" argument is out of bounds');if(M+W>w.length)throw new RangeError("Index out of range")}function R(w,P,M,W,X,$){if(M+W>w.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function y(w,P,M,W,X){return P=+P,M>>>=0,X||R(w,0,M,4),a.write(w,P,M,W,23,4),M+4}function k(w,P,M,W,X){return P=+P,M>>>=0,X||R(w,0,M,8),a.write(w,P,M,W,52,8),M+8}f.prototype.slice=function(w,P){var M=this.length;(w=~~w)<0?(w+=M)<0&&(w=0):w>M&&(w=M),(P=P===void 0?M:~~P)<0?(P+=M)<0&&(P=0):P>M&&(P=M),P<w&&(P=w);var W=this.subarray(w,P);return W.__proto__=f.prototype,W},f.prototype.readUIntLE=function(w,P,M){w>>>=0,P>>>=0,M||D(w,P,this.length);for(var W=this[w],X=1,$=0;++$<P&&(X*=256);)W+=this[w+$]*X;return W},f.prototype.readUIntBE=function(w,P,M){w>>>=0,P>>>=0,M||D(w,P,this.length);for(var W=this[w+--P],X=1;P>0&&(X*=256);)W+=this[w+--P]*X;return W},f.prototype.readUInt8=function(w,P){return w>>>=0,P||D(w,1,this.length),this[w]},f.prototype.readUInt16LE=function(w,P){return w>>>=0,P||D(w,2,this.length),this[w]|this[w+1]<<8},f.prototype.readUInt16BE=function(w,P){return w>>>=0,P||D(w,2,this.length),this[w]<<8|this[w+1]},f.prototype.readUInt32LE=function(w,P){return w>>>=0,P||D(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},f.prototype.readUInt32BE=function(w,P){return w>>>=0,P||D(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},f.prototype.readIntLE=function(w,P,M){w>>>=0,P>>>=0,M||D(w,P,this.length);for(var W=this[w],X=1,$=0;++$<P&&(X*=256);)W+=this[w+$]*X;return W>=(X*=128)&&(W-=Math.pow(2,8*P)),W},f.prototype.readIntBE=function(w,P,M){w>>>=0,P>>>=0,M||D(w,P,this.length);for(var W=P,X=1,$=this[w+--W];W>0&&(X*=256);)$+=this[w+--W]*X;return $>=(X*=128)&&($-=Math.pow(2,8*P)),$},f.prototype.readInt8=function(w,P){return w>>>=0,P||D(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},f.prototype.readInt16LE=function(w,P){w>>>=0,P||D(w,2,this.length);var M=this[w]|this[w+1]<<8;return 32768&M?4294901760|M:M},f.prototype.readInt16BE=function(w,P){w>>>=0,P||D(w,2,this.length);var M=this[w+1]|this[w]<<8;return 32768&M?4294901760|M:M},f.prototype.readInt32LE=function(w,P){return w>>>=0,P||D(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},f.prototype.readInt32BE=function(w,P){return w>>>=0,P||D(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},f.prototype.readFloatLE=function(w,P){return w>>>=0,P||D(w,4,this.length),a.read(this,w,!0,23,4)},f.prototype.readFloatBE=function(w,P){return w>>>=0,P||D(w,4,this.length),a.read(this,w,!1,23,4)},f.prototype.readDoubleLE=function(w,P){return w>>>=0,P||D(w,8,this.length),a.read(this,w,!0,52,8)},f.prototype.readDoubleBE=function(w,P){return w>>>=0,P||D(w,8,this.length),a.read(this,w,!1,52,8)},f.prototype.writeUIntLE=function(w,P,M,W){w=+w,P>>>=0,M>>>=0,W||z(this,w,P,M,Math.pow(2,8*M)-1,0);var X=1,$=0;for(this[P]=255&w;++$<M&&(X*=256);)this[P+$]=w/X&255;return P+M},f.prototype.writeUIntBE=function(w,P,M,W){w=+w,P>>>=0,M>>>=0,W||z(this,w,P,M,Math.pow(2,8*M)-1,0);var X=M-1,$=1;for(this[P+X]=255&w;--X>=0&&($*=256);)this[P+X]=w/$&255;return P+M},f.prototype.writeUInt8=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,1,255,0),this[P]=255&w,P+1},f.prototype.writeUInt16LE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,2,65535,0),this[P]=255&w,this[P+1]=w>>>8,P+2},f.prototype.writeUInt16BE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,2,65535,0),this[P]=w>>>8,this[P+1]=255&w,P+2},f.prototype.writeUInt32LE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,4,4294967295,0),this[P+3]=w>>>24,this[P+2]=w>>>16,this[P+1]=w>>>8,this[P]=255&w,P+4},f.prototype.writeUInt32BE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,4,4294967295,0),this[P]=w>>>24,this[P+1]=w>>>16,this[P+2]=w>>>8,this[P+3]=255&w,P+4},f.prototype.writeIntLE=function(w,P,M,W){if(w=+w,P>>>=0,!W){var X=Math.pow(2,8*M-1);z(this,w,P,M,X-1,-X)}var $=0,ee=1,ce=0;for(this[P]=255&w;++$<M&&(ee*=256);)w<0&&ce===0&&this[P+$-1]!==0&&(ce=1),this[P+$]=(w/ee>>0)-ce&255;return P+M},f.prototype.writeIntBE=function(w,P,M,W){if(w=+w,P>>>=0,!W){var X=Math.pow(2,8*M-1);z(this,w,P,M,X-1,-X)}var $=M-1,ee=1,ce=0;for(this[P+$]=255&w;--$>=0&&(ee*=256);)w<0&&ce===0&&this[P+$+1]!==0&&(ce=1),this[P+$]=(w/ee>>0)-ce&255;return P+M},f.prototype.writeInt8=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,1,127,-128),w<0&&(w=255+w+1),this[P]=255&w,P+1},f.prototype.writeInt16LE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,2,32767,-32768),this[P]=255&w,this[P+1]=w>>>8,P+2},f.prototype.writeInt16BE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,2,32767,-32768),this[P]=w>>>8,this[P+1]=255&w,P+2},f.prototype.writeInt32LE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,4,2147483647,-2147483648),this[P]=255&w,this[P+1]=w>>>8,this[P+2]=w>>>16,this[P+3]=w>>>24,P+4},f.prototype.writeInt32BE=function(w,P,M){return w=+w,P>>>=0,M||z(this,w,P,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[P]=w>>>24,this[P+1]=w>>>16,this[P+2]=w>>>8,this[P+3]=255&w,P+4},f.prototype.writeFloatLE=function(w,P,M){return y(this,w,P,!0,M)},f.prototype.writeFloatBE=function(w,P,M){return y(this,w,P,!1,M)},f.prototype.writeDoubleLE=function(w,P,M){return k(this,w,P,!0,M)},f.prototype.writeDoubleBE=function(w,P,M){return k(this,w,P,!1,M)},f.prototype.copy=function(w,P,M,W){if(!f.isBuffer(w))throw new TypeError("argument should be a Buffer");if(M||(M=0),W||W===0||(W=this.length),P>=w.length&&(P=w.length),P||(P=0),W>0&&W<M&&(W=M),W===M||w.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),w.length-P<W-M&&(W=w.length-P+M);var X=W-M;if(this===w&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(P,M,W);else if(this===w&&M<P&&P<W)for(var $=X-1;$>=0;--$)w[$+P]=this[$+M];else Uint8Array.prototype.set.call(w,this.subarray(M,W),P);return X},f.prototype.fill=function(w,P,M,W){if(typeof w=="string"){if(typeof P=="string"?(W=P,P=0,M=this.length):typeof M=="string"&&(W=M,M=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!f.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(w.length===1){var X=w.charCodeAt(0);(W==="utf8"&&X<128||W==="latin1")&&(w=X)}}else typeof w=="number"&&(w&=255);if(P<0||this.length<P||this.length<M)throw new RangeError("Out of range index");if(M<=P)return this;var $;if(P>>>=0,M=M===void 0?this.length:M>>>0,w||(w=0),typeof w=="number")for($=P;$<M;++$)this[$]=w;else{var ee=f.isBuffer(w)?w:f.from(w,W),ce=ee.length;if(ce===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for($=0;$<M-P;++$)this[$+P]=ee[$%ce]}return this};var se=/[^+\/0-9A-Za-z-_]/g;function oe(w){return w<16?"0"+w.toString(16):w.toString(16)}function ue(w,P){var M;P=P||1/0;for(var W=w.length,X=null,$=[],ee=0;ee<W;++ee){if((M=w.charCodeAt(ee))>55295&&M<57344){if(!X){if(M>56319){(P-=3)>-1&&$.push(239,191,189);continue}if(ee+1===W){(P-=3)>-1&&$.push(239,191,189);continue}X=M;continue}if(M<56320){(P-=3)>-1&&$.push(239,191,189),X=M;continue}M=65536+(X-55296<<10|M-56320)}else X&&(P-=3)>-1&&$.push(239,191,189);if(X=null,M<128){if((P-=1)<0)break;$.push(M)}else if(M<2048){if((P-=2)<0)break;$.push(M>>6|192,63&M|128)}else if(M<65536){if((P-=3)<0)break;$.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;$.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return $}function be(w){return i.toByteArray(function(P){if((P=(P=P.split("=")[0]).trim().replace(se,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(w))}function Ee(w,P,M,W){for(var X=0;X<W&&!(X+M>=P.length||X>=w.length);++X)P[X+M]=w[X];return X}function Te(w,P){return w instanceof P||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===P.name}function Ue(w){return w!=w}}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(t,e,r){r.read=function(n,i,a,s,o){var f,c,u=8*o-s-1,d=(1<<u)-1,l=d>>1,_=-7,T=a?o-1:0,B=a?-1:1,F=n[i+T];for(T+=B,f=F&(1<<-_)-1,F>>=-_,_+=u;_>0;f=256*f+n[i+T],T+=B,_-=8);for(c=f&(1<<-_)-1,f>>=-_,_+=s;_>0;c=256*c+n[i+T],T+=B,_-=8);if(f===0)f=1-l;else{if(f===d)return c?NaN:1/0*(F?-1:1);c+=Math.pow(2,s),f-=l}return(F?-1:1)*c*Math.pow(2,f-s)},r.write=function(n,i,a,s,o,f){var c,u,d,l=8*f-o-1,_=(1<<l)-1,T=_>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=s?0:f-1,L=s?1:-1,J=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,c=_):(c=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-c))<1&&(c--,d*=2),(i+=c+T>=1?B/d:B*Math.pow(2,1-T))*d>=2&&(c++,d/=2),c+T>=_?(u=0,c=_):c+T>=1?(u=(i*d-1)*Math.pow(2,o),c+=T):(u=i*Math.pow(2,T-1)*Math.pow(2,o),c=0));o>=8;n[a+F]=255&u,F+=L,u/=256,o-=8);for(c=c<<o|u,l+=o;l>0;n[a+F]=255&c,F+=L,c/=256,l-=8);n[a+F-L]|=128*J}},{}],4:[function(t,e,r){(function(c){"use strict";let i=t("base64-js"),a=t("ieee754"),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=function(p){return+p!=p&&(p=0),c.alloc(+p)},r.INSPECT_MAX_BYTES=50;let o=2147483647;function f(p){if(p>o)throw new RangeError('The value "'+p+'" is invalid for option "size"');let S=new Uint8Array(p);return Object.setPrototypeOf(S,c.prototype),S}function c(p,S,A){if(typeof p=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(p)}return u(p,S,A)}function u(p,S,A){if(typeof p=="string")return function(x,C){if(typeof C=="string"&&C!==""||(C="utf8"),!c.isEncoding(C))throw new TypeError("Unknown encoding: "+C);let j=0|F(x,C),G=f(j),V=G.write(x,C);return V!==j&&(G=G.slice(0,V)),G}(p,S);if(ArrayBuffer.isView(p))return function(x){if(ee(x,Uint8Array)){let C=new Uint8Array(x);return T(C.buffer,C.byteOffset,C.byteLength)}return _(x)}(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ee(p,ArrayBuffer)||p&&ee(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(p,SharedArrayBuffer)||p&&ee(p.buffer,SharedArrayBuffer)))return T(p,S,A);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let K=p.valueOf&&p.valueOf();if(K!=null&&K!==p)return c.from(K,S,A);let v=function(x){if(c.isBuffer(x)){let C=0|B(x.length),j=f(C);return j.length===0||x.copy(j,0,0,C),j}if(x.length!==void 0)return typeof x.length!="number"||ce(x.length)?f(0):_(x);if(x.type==="Buffer"&&Array.isArray(x.data))return _(x.data)}(p);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return c.from(p[Symbol.toPrimitive]("string"),S,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}function d(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function l(p){return d(p),f(p<0?0:0|B(p))}function _(p){let S=p.length<0?0:0|B(p.length),A=f(S);for(let K=0;K<S;K+=1)A[K]=255&p[K];return A}function T(p,S,A){if(S<0||p.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<S+(A||0))throw new RangeError('"length" is outside of buffer bounds');let K;return K=S===void 0&&A===void 0?new Uint8Array(p):A===void 0?new Uint8Array(p,S):new Uint8Array(p,S,A),Object.setPrototypeOf(K,c.prototype),K}function B(p){if(p>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|p}function F(p,S){if(c.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ee(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let A=p.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&A===0)return 0;let v=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return W(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return X(p).length;default:if(v)return K?-1:W(p).length;S=(""+S).toLowerCase(),v=!0}}function L(p,S,A){let K=p[S];p[S]=p[A],p[A]=K}function J(p,S,A,K,v){if(p.length===0)return-1;if(typeof A=="string"?(K=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),ce(A=+A)&&(A=v?0:p.length-1),A<0&&(A=p.length+A),A>=p.length){if(v)return-1;A=p.length-1}else if(A<0){if(!v)return-1;A=0}if(typeof S=="string"&&(S=c.from(S,K)),c.isBuffer(S))return S.length===0?-1:ne(p,S,A,K,v);if(typeof S=="number")return S&=255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(p,S,A):Uint8Array.prototype.lastIndexOf.call(p,S,A):ne(p,[S],A,K,v);throw new TypeError("val must be string, number or Buffer")}function ne(p,S,A,K,v){let x,C=1,j=p.length,G=S.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(p.length<2||S.length<2)return-1;C=2,j/=2,G/=2,A/=2}function V(Y,Z){return C===1?Y[Z]:Y.readUInt16BE(Z*C)}if(v){let Y=-1;for(x=A;x<j;x++)if(V(p,x)===V(S,Y===-1?0:x-Y)){if(Y===-1&&(Y=x),x-Y+1===G)return Y*C}else Y!==-1&&(x-=x-Y),Y=-1}else for(A+G>j&&(A=j-G),x=A;x>=0;x--){let Y=!0;for(let Z=0;Z<G;Z++)if(V(p,x+Z)!==V(S,Z)){Y=!1;break}if(Y)return x}return-1}function ie(p,S,A,K){A=Number(A)||0;let v=p.length-A;K?(K=Number(K))>v&&(K=v):K=v;let x=S.length,C;for(K>x/2&&(K=x/2),C=0;C<K;++C){let j=parseInt(S.substr(2*C,2),16);if(ce(j))return C;p[A+C]=j}return C}function te(p,S,A,K){return $(W(S,p.length-A),p,A,K)}function he(p,S,A,K){return $(function(v){let x=[];for(let C=0;C<v.length;++C)x.push(255&v.charCodeAt(C));return x}(S),p,A,K)}function ae(p,S,A,K){return $(X(S),p,A,K)}function xe(p,S,A,K){return $(function(v,x){let C,j,G,V=[];for(let Y=0;Y<v.length&&!((x-=2)<0);++Y)C=v.charCodeAt(Y),j=C>>8,G=C%256,V.push(G),V.push(j);return V}(S,p.length-A),p,A,K)}function U(p,S,A){return S===0&&A===p.length?i.fromByteArray(p):i.fromByteArray(p.slice(S,A))}function h(p,S,A){A=Math.min(p.length,A);let K=[],v=S;for(;v<A;){let x=p[v],C=null,j=x>239?4:x>223?3:x>191?2:1;if(v+j<=A){let G,V,Y,Z;switch(j){case 1:x<128&&(C=x);break;case 2:(192&(G=p[v+1]))==128&&(Z=(31&x)<<6|63&G)>127&&(C=Z);break;case 3:G=p[v+1],V=p[v+2],(192&G)==128&&(192&V)==128&&(Z=(15&x)<<12|(63&G)<<6|63&V)>2047&&(Z<55296||Z>57343)&&(C=Z);break;case 4:G=p[v+1],V=p[v+2],Y=p[v+3],(192&G)==128&&(192&V)==128&&(192&Y)==128&&(Z=(15&x)<<18|(63&G)<<12|(63&V)<<6|63&Y)>65535&&Z<1114112&&(C=Z)}}C===null?(C=65533,j=1):C>65535&&(C-=65536,K.push(C>>>10&1023|55296),C=56320|1023&C),K.push(C),v+=j}return function(x){let C=x.length;if(C<=E)return String.fromCharCode.apply(String,x);let j="",G=0;for(;G<C;)j+=String.fromCharCode.apply(String,x.slice(G,G+=E));return j}(K)}r.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{let p=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(p,S),p.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(p,S,A){return u(p,S,A)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(p,S,A){return function(K,v,x){return d(K),K<=0?f(K):v!==void 0?typeof x=="string"?f(K).fill(v,x):f(K).fill(v):f(K)}(p,S,A)},c.allocUnsafe=function(p){return l(p)},c.allocUnsafeSlow=function(p){return l(p)},c.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==c.prototype},c.compare=function(p,S){if(ee(p,Uint8Array)&&(p=c.from(p,p.offset,p.byteLength)),ee(S,Uint8Array)&&(S=c.from(S,S.offset,S.byteLength)),!c.isBuffer(p)||!c.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===S)return 0;let A=p.length,K=S.length;for(let v=0,x=Math.min(A,K);v<x;++v)if(p[v]!==S[v]){A=p[v],K=S[v];break}return A<K?-1:K<A?1:0},c.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(p,S){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return c.alloc(0);let A;if(S===void 0)for(S=0,A=0;A<p.length;++A)S+=p[A].length;let K=c.allocUnsafe(S),v=0;for(A=0;A<p.length;++A){let x=p[A];if(ee(x,Uint8Array))v+x.length>K.length?(c.isBuffer(x)||(x=c.from(x)),x.copy(K,v)):Uint8Array.prototype.set.call(K,x,v);else{if(!c.isBuffer(x))throw new TypeError('"list" argument must be an Array of Buffers');x.copy(K,v)}v+=x.length}return K},c.byteLength=F,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<p;S+=2)L(this,S,S+1);return this},c.prototype.swap32=function(){let p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<p;S+=4)L(this,S,S+3),L(this,S+1,S+2);return this},c.prototype.swap64=function(){let p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<p;S+=8)L(this,S,S+7),L(this,S+1,S+6),L(this,S+2,S+5),L(this,S+3,S+4);return this},c.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?h(this,0,p):function(S,A,K){let v=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(A>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return N(this,A,K);case"utf8":case"utf-8":return h(this,A,K);case"ascii":return I(this,A,K);case"latin1":case"binary":return O(this,A,K);case"base64":return U(this,A,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,A,K);default:if(v)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),v=!0}}.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(p){if(!c.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p||c.compare(this,p)===0},c.prototype.inspect=function(){let p="",S=r.INSPECT_MAX_BYTES;return p=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(p+=" ... "),"<Buffer "+p+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(p,S,A,K,v){if(ee(p,Uint8Array)&&(p=c.from(p,p.offset,p.byteLength)),!c.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(S===void 0&&(S=0),A===void 0&&(A=p?p.length:0),K===void 0&&(K=0),v===void 0&&(v=this.length),S<0||A>p.length||K<0||v>this.length)throw new RangeError("out of range index");if(K>=v&&S>=A)return 0;if(K>=v)return-1;if(S>=A)return 1;if(this===p)return 0;let x=(v>>>=0)-(K>>>=0),C=(A>>>=0)-(S>>>=0),j=Math.min(x,C),G=this.slice(K,v),V=p.slice(S,A);for(let Y=0;Y<j;++Y)if(G[Y]!==V[Y]){x=G[Y],C=V[Y];break}return x<C?-1:C<x?1:0},c.prototype.includes=function(p,S,A){return this.indexOf(p,S,A)!==-1},c.prototype.indexOf=function(p,S,A){return J(this,p,S,A,!0)},c.prototype.lastIndexOf=function(p,S,A){return J(this,p,S,A,!1)},c.prototype.write=function(p,S,A,K){if(S===void 0)K="utf8",A=this.length,S=0;else if(A===void 0&&typeof S=="string")K=S,A=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S>>>=0,isFinite(A)?(A>>>=0,K===void 0&&(K="utf8")):(K=A,A=void 0)}let v=this.length-S;if((A===void 0||A>v)&&(A=v),p.length>0&&(A<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let x=!1;for(;;)switch(K){case"hex":return ie(this,p,S,A);case"utf8":case"utf-8":return te(this,p,S,A);case"ascii":case"latin1":case"binary":return he(this,p,S,A);case"base64":return ae(this,p,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,p,S,A);default:if(x)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),x=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let E=4096;function I(p,S,A){let K="";A=Math.min(p.length,A);for(let v=S;v<A;++v)K+=String.fromCharCode(127&p[v]);return K}function O(p,S,A){let K="";A=Math.min(p.length,A);for(let v=S;v<A;++v)K+=String.fromCharCode(p[v]);return K}function N(p,S,A){let K=p.length;(!S||S<0)&&(S=0),(!A||A<0||A>K)&&(A=K);let v="";for(let x=S;x<A;++x)v+=Ne[p[x]];return v}function D(p,S,A){let K=p.slice(S,A),v="";for(let x=0;x<K.length-1;x+=2)v+=String.fromCharCode(K[x]+256*K[x+1]);return v}function z(p,S,A){if(p%1!=0||p<0)throw new RangeError("offset is not uint");if(p+S>A)throw new RangeError("Trying to access beyond buffer length")}function R(p,S,A,K,v,x){if(!c.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>v||S<x)throw new RangeError('"value" argument is out of bounds');if(A+K>p.length)throw new RangeError("Index out of range")}function y(p,S,A,K,v){Ue(S,K,v,p,A,7);let x=Number(S&BigInt(4294967295));p[A++]=x,x>>=8,p[A++]=x,x>>=8,p[A++]=x,x>>=8,p[A++]=x;let C=Number(S>>BigInt(32)&BigInt(4294967295));return p[A++]=C,C>>=8,p[A++]=C,C>>=8,p[A++]=C,C>>=8,p[A++]=C,A}function k(p,S,A,K,v){Ue(S,K,v,p,A,7);let x=Number(S&BigInt(4294967295));p[A+7]=x,x>>=8,p[A+6]=x,x>>=8,p[A+5]=x,x>>=8,p[A+4]=x;let C=Number(S>>BigInt(32)&BigInt(4294967295));return p[A+3]=C,C>>=8,p[A+2]=C,C>>=8,p[A+1]=C,C>>=8,p[A]=C,A+8}function se(p,S,A,K,v,x){if(A+K>p.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function oe(p,S,A,K,v){return S=+S,A>>>=0,v||se(p,0,A,4),a.write(p,S,A,K,23,4),A+4}function ue(p,S,A,K,v){return S=+S,A>>>=0,v||se(p,0,A,8),a.write(p,S,A,K,52,8),A+8}c.prototype.slice=function(p,S){let A=this.length;(p=~~p)<0?(p+=A)<0&&(p=0):p>A&&(p=A),(S=S===void 0?A:~~S)<0?(S+=A)<0&&(S=0):S>A&&(S=A),S<p&&(S=p);let K=this.subarray(p,S);return Object.setPrototypeOf(K,c.prototype),K},c.prototype.readUintLE=c.prototype.readUIntLE=function(p,S,A){p>>>=0,S>>>=0,A||z(p,S,this.length);let K=this[p],v=1,x=0;for(;++x<S&&(v*=256);)K+=this[p+x]*v;return K},c.prototype.readUintBE=c.prototype.readUIntBE=function(p,S,A){p>>>=0,S>>>=0,A||z(p,S,this.length);let K=this[p+--S],v=1;for(;S>0&&(v*=256);)K+=this[p+--S]*v;return K},c.prototype.readUint8=c.prototype.readUInt8=function(p,S){return p>>>=0,S||z(p,1,this.length),this[p]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(p,S){return p>>>=0,S||z(p,2,this.length),this[p]|this[p+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(p,S){return p>>>=0,S||z(p,2,this.length),this[p]<<8|this[p+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(p,S){return p>>>=0,S||z(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(p,S){return p>>>=0,S||z(p,4,this.length),16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])},c.prototype.readBigUInt64LE=ve(function(p){w(p>>>=0,"offset");let S=this[p],A=this[p+7];S!==void 0&&A!==void 0||P(p,this.length-8);let K=S+256*this[++p]+65536*this[++p]+this[++p]*2**24,v=this[++p]+256*this[++p]+65536*this[++p]+A*2**24;return BigInt(K)+(BigInt(v)<<BigInt(32))}),c.prototype.readBigUInt64BE=ve(function(p){w(p>>>=0,"offset");let S=this[p],A=this[p+7];S!==void 0&&A!==void 0||P(p,this.length-8);let K=S*2**24+65536*this[++p]+256*this[++p]+this[++p],v=this[++p]*2**24+65536*this[++p]+256*this[++p]+A;return(BigInt(K)<<BigInt(32))+BigInt(v)}),c.prototype.readIntLE=function(p,S,A){p>>>=0,S>>>=0,A||z(p,S,this.length);let K=this[p],v=1,x=0;for(;++x<S&&(v*=256);)K+=this[p+x]*v;return K>=(v*=128)&&(K-=Math.pow(2,8*S)),K},c.prototype.readIntBE=function(p,S,A){p>>>=0,S>>>=0,A||z(p,S,this.length);let K=S,v=1,x=this[p+--K];for(;K>0&&(v*=256);)x+=this[p+--K]*v;return x>=(v*=128)&&(x-=Math.pow(2,8*S)),x},c.prototype.readInt8=function(p,S){return p>>>=0,S||z(p,1,this.length),128&this[p]?-1*(255-this[p]+1):this[p]},c.prototype.readInt16LE=function(p,S){p>>>=0,S||z(p,2,this.length);let A=this[p]|this[p+1]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt16BE=function(p,S){p>>>=0,S||z(p,2,this.length);let A=this[p+1]|this[p]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt32LE=function(p,S){return p>>>=0,S||z(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},c.prototype.readInt32BE=function(p,S){return p>>>=0,S||z(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},c.prototype.readBigInt64LE=ve(function(p){w(p>>>=0,"offset");let S=this[p],A=this[p+7];S!==void 0&&A!==void 0||P(p,this.length-8);let K=this[p+4]+256*this[p+5]+65536*this[p+6]+(A<<24);return(BigInt(K)<<BigInt(32))+BigInt(S+256*this[++p]+65536*this[++p]+this[++p]*2**24)}),c.prototype.readBigInt64BE=ve(function(p){w(p>>>=0,"offset");let S=this[p],A=this[p+7];S!==void 0&&A!==void 0||P(p,this.length-8);let K=(S<<24)+65536*this[++p]+256*this[++p]+this[++p];return(BigInt(K)<<BigInt(32))+BigInt(this[++p]*2**24+65536*this[++p]+256*this[++p]+A)}),c.prototype.readFloatLE=function(p,S){return p>>>=0,S||z(p,4,this.length),a.read(this,p,!0,23,4)},c.prototype.readFloatBE=function(p,S){return p>>>=0,S||z(p,4,this.length),a.read(this,p,!1,23,4)},c.prototype.readDoubleLE=function(p,S){return p>>>=0,S||z(p,8,this.length),a.read(this,p,!0,52,8)},c.prototype.readDoubleBE=function(p,S){return p>>>=0,S||z(p,8,this.length),a.read(this,p,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(p,S,A,K){p=+p,S>>>=0,A>>>=0,!K&&R(this,p,S,A,Math.pow(2,8*A)-1,0);let v=1,x=0;for(this[S]=255&p;++x<A&&(v*=256);)this[S+x]=p/v&255;return S+A},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(p,S,A,K){p=+p,S>>>=0,A>>>=0,!K&&R(this,p,S,A,Math.pow(2,8*A)-1,0);let v=A-1,x=1;for(this[S+v]=255&p;--v>=0&&(x*=256);)this[S+v]=p/x&255;return S+A},c.prototype.writeUint8=c.prototype.writeUInt8=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,1,255,0),this[S]=255&p,S+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,2,65535,0),this[S]=255&p,this[S+1]=p>>>8,S+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,2,65535,0),this[S]=p>>>8,this[S+1]=255&p,S+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,4,4294967295,0),this[S+3]=p>>>24,this[S+2]=p>>>16,this[S+1]=p>>>8,this[S]=255&p,S+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,4,4294967295,0),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},c.prototype.writeBigUInt64LE=ve(function(p,S=0){return y(this,p,S,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ve(function(p,S=0){return k(this,p,S,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(p,S,A,K){if(p=+p,S>>>=0,!K){let j=Math.pow(2,8*A-1);R(this,p,S,A,j-1,-j)}let v=0,x=1,C=0;for(this[S]=255&p;++v<A&&(x*=256);)p<0&&C===0&&this[S+v-1]!==0&&(C=1),this[S+v]=(p/x>>0)-C&255;return S+A},c.prototype.writeIntBE=function(p,S,A,K){if(p=+p,S>>>=0,!K){let j=Math.pow(2,8*A-1);R(this,p,S,A,j-1,-j)}let v=A-1,x=1,C=0;for(this[S+v]=255&p;--v>=0&&(x*=256);)p<0&&C===0&&this[S+v+1]!==0&&(C=1),this[S+v]=(p/x>>0)-C&255;return S+A},c.prototype.writeInt8=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,1,127,-128),p<0&&(p=255+p+1),this[S]=255&p,S+1},c.prototype.writeInt16LE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,2,32767,-32768),this[S]=255&p,this[S+1]=p>>>8,S+2},c.prototype.writeInt16BE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,2,32767,-32768),this[S]=p>>>8,this[S+1]=255&p,S+2},c.prototype.writeInt32LE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,4,2147483647,-2147483648),this[S]=255&p,this[S+1]=p>>>8,this[S+2]=p>>>16,this[S+3]=p>>>24,S+4},c.prototype.writeInt32BE=function(p,S,A){return p=+p,S>>>=0,A||R(this,p,S,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[S]=p>>>24,this[S+1]=p>>>16,this[S+2]=p>>>8,this[S+3]=255&p,S+4},c.prototype.writeBigInt64LE=ve(function(p,S=0){return y(this,p,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ve(function(p,S=0){return k(this,p,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(p,S,A){return oe(this,p,S,!0,A)},c.prototype.writeFloatBE=function(p,S,A){return oe(this,p,S,!1,A)},c.prototype.writeDoubleLE=function(p,S,A){return ue(this,p,S,!0,A)},c.prototype.writeDoubleBE=function(p,S,A){return ue(this,p,S,!1,A)},c.prototype.copy=function(p,S,A,K){if(!c.isBuffer(p))throw new TypeError("argument should be a Buffer");if(A||(A=0),K||K===0||(K=this.length),S>=p.length&&(S=p.length),S||(S=0),K>0&&K<A&&(K=A),K===A||p.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),p.length-S<K-A&&(K=p.length-S+A);let v=K-A;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,A,K):Uint8Array.prototype.set.call(p,this.subarray(A,K),S),v},c.prototype.fill=function(p,S,A,K){if(typeof p=="string"){if(typeof S=="string"?(K=S,S=0,A=this.length):typeof A=="string"&&(K=A,A=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!c.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(p.length===1){let x=p.charCodeAt(0);(K==="utf8"&&x<128||K==="latin1")&&(p=x)}}else typeof p=="number"?p&=255:typeof p=="boolean"&&(p=Number(p));if(S<0||this.length<S||this.length<A)throw new RangeError("Out of range index");if(A<=S)return this;let v;if(S>>>=0,A=A===void 0?this.length:A>>>0,p||(p=0),typeof p=="number")for(v=S;v<A;++v)this[v]=p;else{let x=c.isBuffer(p)?p:c.from(p,K),C=x.length;if(C===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(v=0;v<A-S;++v)this[v+S]=x[v%C]}return this};let be={};function Ee(p,S,A){be[p]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}function Te(p){let S="",A=p.length,K=p[0]==="-"?1:0;for(;A>=K+4;A-=3)S=`_${p.slice(A-3,A)}${S}`;return`${p.slice(0,A)}${S}`}function Ue(p,S,A,K,v,x){if(p>A||p<S){let C=typeof S=="bigint"?"n":"",j;throw j=x>3?S===0||S===BigInt(0)?`>= 0${C} and < 2${C} ** ${8*(x+1)}${C}`:`>= -(2${C} ** ${8*(x+1)-1}${C}) and < 2 ** ${8*(x+1)-1}${C}`:`>= ${S}${C} and <= ${A}${C}`,new be.ERR_OUT_OF_RANGE("value",j,p)}(function(C,j,G){w(j,"offset"),C[j]!==void 0&&C[j+G]!==void 0||P(j,C.length-(G+1))})(K,v,x)}function w(p,S){if(typeof p!="number")throw new be.ERR_INVALID_ARG_TYPE(S,"number",p)}function P(p,S,A){throw Math.floor(p)!==p?(w(p,A),new be.ERR_OUT_OF_RANGE(A||"offset","an integer",p)):S<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(A||"offset",`>= ${A?1:0} and <= ${S}`,p)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(p,S){return`The "${p}" argument must be of type number. Received type ${typeof S}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(p,S,A){let K=`The value of "${p}" is out of range.`,v=A;return Number.isInteger(A)&&Math.abs(A)>2**32?v=Te(String(A)):typeof A=="bigint"&&(v=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(v=Te(v)),v+="n"),K+=` It must be ${S}. Received ${v}`},RangeError);let M=/[^+\/0-9A-Za-z-_]/g;function W(p,S){let A;S=S||1/0;let K=p.length,v=null,x=[];for(let C=0;C<K;++C){if((A=p.charCodeAt(C))>55295&&A<57344){if(!v){if(A>56319){(S-=3)>-1&&x.push(239,191,189);continue}if(C+1===K){(S-=3)>-1&&x.push(239,191,189);continue}v=A;continue}if(A<56320){(S-=3)>-1&&x.push(239,191,189),v=A;continue}A=65536+(v-55296<<10|A-56320)}else v&&(S-=3)>-1&&x.push(239,191,189);if(v=null,A<128){if((S-=1)<0)break;x.push(A)}else if(A<2048){if((S-=2)<0)break;x.push(A>>6|192,63&A|128)}else if(A<65536){if((S-=3)<0)break;x.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((S-=4)<0)break;x.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return x}function X(p){return i.toByteArray(function(S){if((S=(S=S.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;S.length%4!=0;)S+="=";return S}(p))}function $(p,S,A,K){let v;for(v=0;v<K&&!(v+A>=S.length||v>=p.length);++v)S[v+A]=p[v];return v}function ee(p,S){return p instanceof S||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===S.name}function ce(p){return p!=p}let Ne=function(){let p=new Array(256);for(let S=0;S<16;++S){let A=16*S;for(let K=0;K<16;++K)p[A+K]="0123456789abcdef"[S]+"0123456789abcdef"[K]}return p}();function ve(p){return typeof BigInt>"u"?pe:p}function pe(){throw new Error("BigInt not supported")}}).call(this,t("buffer").Buffer)},{"base64-js":5,buffer:2,ieee754:6}],5:[function(t,e,r){"use strict";r.byteLength=function(d){var l=c(d),_=l[0],T=l[1];return 3*(_+T)/4-T},r.toByteArray=function(d){var l,_,T=c(d),B=T[0],F=T[1],L=new a(function(ie,te,he){return 3*(te+he)/4-he}(0,B,F)),J=0,ne=F>0?B-4:B;for(_=0;_<ne;_+=4)l=i[d.charCodeAt(_)]<<18|i[d.charCodeAt(_+1)]<<12|i[d.charCodeAt(_+2)]<<6|i[d.charCodeAt(_+3)],L[J++]=l>>16&255,L[J++]=l>>8&255,L[J++]=255&l;return F===2&&(l=i[d.charCodeAt(_)]<<2|i[d.charCodeAt(_+1)]>>4,L[J++]=255&l),F===1&&(l=i[d.charCodeAt(_)]<<10|i[d.charCodeAt(_+1)]<<4|i[d.charCodeAt(_+2)]>>2,L[J++]=l>>8&255,L[J++]=255&l),L},r.fromByteArray=function(d){for(var l,_=d.length,T=_%3,B=[],F=0,L=_-T;F<L;F+=16383)B.push(u(d,F,F+16383>L?L:F+16383));return T===1?(l=d[_-1],B.push(n[l>>2]+n[l<<4&63]+"==")):T===2&&(l=(d[_-2]<<8)+d[_-1],B.push(n[l>>10]+n[l>>4&63]+n[l<<2&63]+"=")),B.join("")};for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,f=s.length;o<f;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function c(d){var l=d.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=d.indexOf("=");return _===-1&&(_=l),[_,_===l?0:4-_%4]}function u(d,l,_){for(var T,B,F=[],L=l;L<_;L+=3)T=(d[L]<<16&16711680)+(d[L+1]<<8&65280)+(255&d[L+2]),F.push(n[(B=T)>>18&63]+n[B>>12&63]+n[B>>6&63]+n[63&B]);return F.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(t,e,r){r.read=function(n,i,a,s,o){var f,c,u=8*o-s-1,d=(1<<u)-1,l=d>>1,_=-7,T=a?o-1:0,B=a?-1:1,F=n[i+T];for(T+=B,f=F&(1<<-_)-1,F>>=-_,_+=u;_>0;f=256*f+n[i+T],T+=B,_-=8);for(c=f&(1<<-_)-1,f>>=-_,_+=s;_>0;c=256*c+n[i+T],T+=B,_-=8);if(f===0)f=1-l;else{if(f===d)return c?NaN:1/0*(F?-1:1);c+=Math.pow(2,s),f-=l}return(F?-1:1)*c*Math.pow(2,f-s)},r.write=function(n,i,a,s,o,f){var c,u,d,l=8*f-o-1,_=(1<<l)-1,T=_>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=s?0:f-1,L=s?1:-1,J=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,c=_):(c=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-c))<1&&(c--,d*=2),(i+=c+T>=1?B/d:B*Math.pow(2,1-T))*d>=2&&(c++,d/=2),c+T>=_?(u=0,c=_):c+T>=1?(u=(i*d-1)*Math.pow(2,o),c+=T):(u=i*Math.pow(2,T-1)*Math.pow(2,o),c=0));o>=8;n[a+F]=255&u,F+=L,u/=256,o-=8);for(c=c<<o|u,l+=o;l>0;n[a+F]=255&c,F+=L,c/=256,l-=8);n[a+F-L]|=128*J}},{}]},{},[4])(4)})});var b,m=Gi(()=>{b=o_(t2())});var tn=H(Sa=>{"use strict";g();m();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.testnet=Sa.regtest=Sa.bitcoin=void 0;Sa.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Sa.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Sa.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var S0=H(xa=>{"use strict";g();m();Object.defineProperty(xa,"__esModule",{value:!0});xa.encode=xa.decode=xa.check=void 0;function k_(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}xa.check=k_;function N_(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}xa.decode=N_;function H_(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=b.Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}xa.encode=H_});var fs=H(so=>{"use strict";g();m();Object.defineProperty(so,"__esModule",{value:!0});so.REVERSE_OPS=so.OPS=void 0;var x0={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};so.OPS=x0;var r2={};so.REVERSE_OPS=r2;for(let t of Object.keys(x0)){let e=x0[t];r2[e]=t}});var i2=H(Aa=>{"use strict";g();m();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.decode=Aa.encode=Aa.encodingLength=void 0;var Ea=fs();function n2(t){return t<Ea.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Aa.encodingLength=n2;function U_(t,e,r){let n=n2(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Ea.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Ea.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Ea.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}Aa.encode=U_;function D_(t,e){let r=t.readUInt8(e),n,i;if(r<Ea.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Ea.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Ea.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Ea.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}Aa.decode=D_});var a2=H(oo=>{"use strict";g();m();Object.defineProperty(oo,"__esModule",{value:!0});oo.encode=oo.decode=void 0;function L_(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let a=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+a):s*4294967296+a}let i=0;for(let a=0;a<n;++a)i|=t[a]<<8*a;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}oo.decode=L_;function F_(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function j_(t){let e=Math.abs(t),r=F_(e),n=b.Buffer.allocUnsafe(r),i=t<0;for(let a=0;a<r;++a)n.writeUInt8(e&255,a),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}oo.encode=j_});var A2={};Af(A2,{Buffer:()=>Q,INSPECT_MAX_BYTES:()=>h2,SlowBuffer:()=>Q_,isBuffer:()=>x2,kMaxLength:()=>X_});function c2(){A0=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)fi[e]=t[e],fn[t.charCodeAt(e)]=e;fn["-".charCodeAt(0)]=62,fn["_".charCodeAt(0)]=63}function z_(t){A0||c2();var e,r,n,i,a,s,o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=t[o-2]==="="?2:t[o-1]==="="?1:0,s=new K_(o*3/4-a),n=a>0?o-4:o;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=fn[t.charCodeAt(e)]<<18|fn[t.charCodeAt(e+1)]<<12|fn[t.charCodeAt(e+2)]<<6|fn[t.charCodeAt(e+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=i&255;return a===2?(i=fn[t.charCodeAt(e)]<<2|fn[t.charCodeAt(e+1)]>>4,s[f++]=i&255):a===1&&(i=fn[t.charCodeAt(e)]<<10|fn[t.charCodeAt(e+1)]<<4|fn[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=i&255),s}function W_(t){return fi[t>>18&63]+fi[t>>12&63]+fi[t>>6&63]+fi[t&63]}function G_(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(W_(n));return i.join("")}function s2(t){A0||c2();for(var e,r=t.length,n=r%3,i="",a=[],s=16383,o=0,f=r-n;o<f;o+=s)a.push(G_(t,o,o+s>f?f:o+s));return n===1?(e=t[r-1],i+=fi[e>>2],i+=fi[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=fi[e>>10],i+=fi[e>>4&63],i+=fi[e<<2&63],i+="="),a.push(i),a.join("")}function ru(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,u=-7,d=r?i-1:0,l=r?-1:1,_=t[e+d];for(d+=l,a=_&(1<<-u)-1,_>>=-u,u+=o;u>0;a=a*256+t[e+d],d+=l,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+d],d+=l,u-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(_?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(_?-1:1)*s*Math.pow(2,a-n)}function u2(t,e,r,n,i,a){var s,o,f,c=a*8-i-1,u=(1<<c)-1,d=u>>1,l=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:a-1,T=n?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+d>=1?e+=l/f:e+=l*Math.pow(2,1-d),e*f>=2&&(s++,f/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(e*f-1)*Math.pow(2,i),s=s+d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[r+_]=o&255,_+=T,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+_]=s&255,_+=T,s/=256,c-=8);t[r+_-T]|=B*128}function eu(){return Q.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Xi(t,e){if(eu()<e)throw new RangeError("Invalid typed array length");return Q.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=Q.prototype):(t===null&&(t=new Q(e)),t.length=e),t}function Q(t,e,r){if(!Q.TYPED_ARRAY_SUPPORT&&!(this instanceof Q))return new Q(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return P0(this,t)}return l2(this,t,e,r)}function l2(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?J_(t,e,r,n):typeof e=="string"?$_(t,e,r):Z_(t,e)}function p2(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Y_(t,e,r,n){return p2(e),e<=0?Xi(t,e):r!==void 0?typeof n=="string"?Xi(t,e).fill(r,n):Xi(t,e).fill(r):Xi(t,e)}function P0(t,e){if(p2(e),t=Xi(t,e<0?0:T0(e)|0),!Q.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function $_(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!Q.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=b2(e,r)|0;t=Xi(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function E0(t,e){var r=e.length<0?0:T0(e.length)|0;t=Xi(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function J_(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),Q.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=Q.prototype):t=E0(t,e),t}function Z_(t,e){if(ci(e)){var r=T0(e.length)|0;return t=Xi(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||gS(e.length)?Xi(t,0):E0(t,e);if(e.type==="Buffer"&&d2(e.data))return E0(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T0(t){if(t>=eu())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+eu().toString(16)+" bytes");return t|0}function Q_(t){return+t!=t&&(t=0),Q.alloc(+t)}function ci(t){return!!(t!=null&&t._isBuffer)}function b2(t,e){if(ci(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return tu(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return S2(t).length;default:if(n)return tu(t).length;e=(""+e).toLowerCase(),n=!0}}function eS(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return uS(this,e,r);case"utf8":case"utf-8":return g2(this,e,r);case"ascii":return fS(this,e,r);case"latin1":case"binary":return cS(this,e,r);case"base64":return sS(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dS(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function cs(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v2(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=Q.from(e,n)),ci(e))return e.length===0?-1:o2(t,e,r,n,i);if(typeof e=="number")return e=e&255,Q.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):o2(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function o2(t,e,r,n,i){var a=1,s=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(_,T){return a===1?_[T]:_.readUInt16BE(T*a)}var c;if(i){var u=-1;for(c=r;c<s;c++)if(f(t,c)===f(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===o)return u*a}else u!==-1&&(c-=c-u),u=-1}else for(r+o>s&&(r=s-o),c=r;c>=0;c--){for(var d=!0,l=0;l<o;l++)if(f(t,c+l)!==f(e,l)){d=!1;break}if(d)return c}return-1}function tS(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(s*2,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function rS(t,e,r,n){return au(tu(e,t.length-r),t,r,n)}function y2(t,e,r,n){return au(vS(e),t,r,n)}function nS(t,e,r,n){return y2(t,e,r,n)}function iS(t,e,r,n){return au(S2(e),t,r,n)}function aS(t,e,r,n){return au(yS(e,t.length-r),t,r,n)}function sS(t,e,r){return e===0&&r===t.length?s2(t):s2(t.slice(e,r))}function g2(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){var f,c,u,d;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[i+1],(f&192)===128&&(d=(a&31)<<6|f&63,d>127&&(s=d));break;case 3:f=t[i+1],c=t[i+2],(f&192)===128&&(c&192)===128&&(d=(a&15)<<12|(f&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:f=t[i+1],c=t[i+2],u=t[i+3],(f&192)===128&&(c&192)===128&&(u&192)===128&&(d=(a&15)<<18|(f&63)<<12|(c&63)<<6|u&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=o}return oS(n)}function oS(t){var e=t.length;if(e<=f2)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=f2));return r}function fS(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function cS(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function uS(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=bS(t[a]);return i}function dS(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}function Zt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Hr(t,e,r,n,i,a){if(!ci(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function nu(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function iu(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>(n?i:3-i)*8&255}function m2(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function w2(t,e,r,n,i){return i||m2(t,e,r,4),u2(t,e,r,n,23,4),r+4}function _2(t,e,r,n,i){return i||m2(t,e,r,8),u2(t,e,r,n,52,8),r+8}function lS(t){if(t=pS(t).replace(hS,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function pS(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function bS(t){return t<16?"0"+t.toString(16):t.toString(16)}function tu(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function vS(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function yS(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function S2(t){return z_(lS(t))}function au(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function gS(t){return t!==t}function x2(t){return t!=null&&(!!t._isBuffer||E2(t)||mS(t))}function E2(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function mS(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&E2(t.slice(0,0))}var fi,fn,K_,A0,V_,d2,h2,X_,f2,hS,I0=Gi(()=>{g();m();fi=[],fn=[],K_=typeof Uint8Array<"u"?Uint8Array:Array,A0=!1;V_={}.toString,d2=Array.isArray||function(t){return V_.call(t)=="[object Array]"};h2=50;Q.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;X_=eu();Q.poolSize=8192;Q._augment=function(t){return t.__proto__=Q.prototype,t};Q.from=function(t,e,r){return l2(null,t,e,r)};Q.TYPED_ARRAY_SUPPORT&&(Q.prototype.__proto__=Uint8Array.prototype,Q.__proto__=Uint8Array);Q.alloc=function(t,e,r){return Y_(null,t,e,r)};Q.allocUnsafe=function(t){return P0(null,t)};Q.allocUnsafeSlow=function(t){return P0(null,t)};Q.isBuffer=x2;Q.compare=function(e,r){if(!ci(e)||!ci(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};Q.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Q.concat=function(e,r){if(!d2(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Q.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=Q.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var s=e[n];if(!ci(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i};Q.byteLength=b2;Q.prototype._isBuffer=!0;Q.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)cs(this,r,r+1);return this};Q.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)cs(this,r,r+3),cs(this,r+1,r+2);return this};Q.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)cs(this,r,r+7),cs(this,r+1,r+6),cs(this,r+2,r+5),cs(this,r+3,r+4);return this};Q.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?g2(this,0,e):eS.apply(this,arguments)};Q.prototype.equals=function(e){if(!ci(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Q.compare(this,e)===0};Q.prototype.inspect=function(){var e="",r=h2;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};Q.prototype.compare=function(e,r,n,i,a){if(!ci(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var s=a-i,o=n-r,f=Math.min(s,o),c=this.slice(i,a),u=e.slice(r,n),d=0;d<f;++d)if(c[d]!==u[d]){s=c[d],o=u[d];break}return s<o?-1:o<s?1:0};Q.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Q.prototype.indexOf=function(e,r,n){return v2(this,e,r,n,!0)};Q.prototype.lastIndexOf=function(e,r,n){return v2(this,e,r,n,!1)};Q.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return tS(this,e,r,n);case"utf8":case"utf-8":return rS(this,e,r,n);case"ascii":return y2(this,e,r,n);case"latin1":case"binary":return nS(this,e,r,n);case"base64":return iS(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return aS(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};Q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};f2=4096;Q.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(Q.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=Q.prototype;else{var a=r-e;i=new Q(a,void 0);for(var s=0;s<a;++s)i[s]=this[s+e]}return i};Q.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||Zt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return i};Q.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||Zt(e,r,this.length);for(var i=this[e+--r],a=1;r>0&&(a*=256);)i+=this[e+--r]*a;return i};Q.prototype.readUInt8=function(e,r){return r||Zt(e,1,this.length),this[e]};Q.prototype.readUInt16LE=function(e,r){return r||Zt(e,2,this.length),this[e]|this[e+1]<<8};Q.prototype.readUInt16BE=function(e,r){return r||Zt(e,2,this.length),this[e]<<8|this[e+1]};Q.prototype.readUInt32LE=function(e,r){return r||Zt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Q.prototype.readUInt32BE=function(e,r){return r||Zt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Q.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||Zt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};Q.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||Zt(e,r,this.length);for(var i=r,a=1,s=this[e+--i];i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};Q.prototype.readInt8=function(e,r){return r||Zt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Q.prototype.readInt16LE=function(e,r){r||Zt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Q.prototype.readInt16BE=function(e,r){r||Zt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Q.prototype.readInt32LE=function(e,r){return r||Zt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Q.prototype.readInt32BE=function(e,r){return r||Zt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Q.prototype.readFloatLE=function(e,r){return r||Zt(e,4,this.length),ru(this,e,!0,23,4)};Q.prototype.readFloatBE=function(e,r){return r||Zt(e,4,this.length),ru(this,e,!1,23,4)};Q.prototype.readDoubleLE=function(e,r){return r||Zt(e,8,this.length),ru(this,e,!0,52,8)};Q.prototype.readDoubleBE=function(e,r){return r||Zt(e,8,this.length),ru(this,e,!1,52,8)};Q.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;Hr(this,e,r,n,a,0)}var s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};Q.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;Hr(this,e,r,n,a,0)}var s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};Q.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,1,255,0),Q.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};Q.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,2,65535,0),Q.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):nu(this,e,r,!0),r+2};Q.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,2,65535,0),Q.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):nu(this,e,r,!1),r+2};Q.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,4,4294967295,0),Q.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):iu(this,e,r,!0),r+4};Q.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,4,4294967295,0),Q.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):iu(this,e,r,!1),r+4};Q.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);Hr(this,e,r,n,a-1,-a)}var s=0,o=1,f=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&f===0&&this[r+s-1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};Q.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);Hr(this,e,r,n,a-1,-a)}var s=n-1,o=1,f=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&f===0&&this[r+s+1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};Q.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,1,127,-128),Q.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};Q.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,2,32767,-32768),Q.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):nu(this,e,r,!0),r+2};Q.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,2,32767,-32768),Q.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):nu(this,e,r,!1),r+2};Q.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,4,2147483647,-2147483648),Q.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):iu(this,e,r,!0),r+4};Q.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||Hr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Q.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):iu(this,e,r,!1),r+4};Q.prototype.writeFloatLE=function(e,r,n){return w2(this,e,r,!0,n)};Q.prototype.writeFloatBE=function(e,r,n){return w2(this,e,r,!1,n)};Q.prototype.writeDoubleLE=function(e,r,n){return _2(this,e,r,!0,n)};Q.prototype.writeDoubleBE=function(e,r,n){return _2(this,e,r,!1,n)};Q.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n,s;if(this===e&&n<r&&r<i)for(s=a-1;s>=0;--s)e[s+r]=this[s+n];else if(a<1e3||!Q.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),r);return a};Q.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Q.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var o=ci(e)?e:tu(new Q(e,i).toString()),f=o.length;for(s=0;s<n-r;++s)this[s+r]=o[s%f]}return this};hS=/[^+\/0-9A-Za-z-_]/g});var Wn=H((WL,su)=>{g();m();var us=(I0(),Pf(A2));if(us&&us.default){su.exports=us.default;for(let t in us)su.exports[t]=us[t]}else us&&(su.exports=us)});var $e=H((XL,P2)=>{g();m();P2.exports=globalThis["ok-metax-crypto"]});var mr=H(ye=>{"use strict";g();m();Object.defineProperty(ye,"__esModule",{value:!0});ye.oneOf=ye.Null=ye.BufferN=ye.Function=ye.UInt32=ye.UInt8=ye.tuple=ye.maybe=ye.Hex=ye.Buffer=ye.String=ye.Boolean=ye.Array=ye.Number=ye.Hash256bit=ye.Hash160bit=ye.Buffer256bit=ye.isTaptree=ye.isTapleaf=ye.TAPLEAF_VERSION_MASK=ye.Satoshi=ye.Signer=ye.BIP32Path=ye.UInt31=ye.isPoint=ye.typeforce=void 0;var ou=Wn(),yt=$e();Object.defineProperty(ye,"typeforce",{enumerable:!0,get:function(){return yt.typeforce}});var T2=ou.Buffer.alloc(32,0),I2=ou.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function wS(t){if(!ou.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(T2)===0||r.compare(I2)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(T2)===0||n.compare(I2)>=0?!1:e===4&&t.length===65}ye.isPoint=wS;var _S=Math.pow(2,31)-1;function SS(t){return yt.typeforce.UInt32(t)&&t<=_S}ye.UInt31=SS;function O2(t){return yt.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}ye.BIP32Path=O2;O2.toJSON=()=>"BIP32 derivation path";function xS(t){return(yt.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}ye.Signer=xS;var ES=21*1e14;function AS(t){return yt.typeforce.UInt53(t)&&t<=ES}ye.Satoshi=AS;ye.TAPLEAF_VERSION_MASK=254;function B2(t){return!t||!("output"in t)||!ou.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&ye.TAPLEAF_VERSION_MASK)===t.version:!0}ye.isTapleaf=B2;function M2(t){return(0,ye.Array)(t)?t.length!==2?!1:t.every(e=>M2(e)):B2(t)}ye.isTaptree=M2;ye.Buffer256bit=yt.typeforce.BufferN(32);ye.Hash160bit=yt.typeforce.BufferN(20);ye.Hash256bit=yt.typeforce.BufferN(32);ye.Number=yt.typeforce.Number;ye.Array=yt.typeforce.Array;ye.Boolean=yt.typeforce.Boolean;ye.String=yt.typeforce.String;ye.Buffer=yt.typeforce.Buffer;ye.Hex=yt.typeforce.Hex;ye.maybe=yt.typeforce.maybe;ye.tuple=yt.typeforce.tuple;ye.UInt8=yt.typeforce.UInt8;ye.UInt32=yt.typeforce.UInt32;ye.Function=yt.typeforce.Function;ye.BufferN=yt.typeforce.BufferN;ye.Null=yt.typeforce.Null;ye.oneOf=yt.typeforce.oneOf});var H2=H(cn=>{"use strict";g();m();var PS=cn&&cn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TS=cn&&cn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k2=cn&&cn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PS(e,t,r);return TS(e,t),e};Object.defineProperty(cn,"__esModule",{value:!0});cn.encode=cn.decode=void 0;var N2=k2(S0()),O0=k2(mr()),{typeforce:IS}=O0,C2=b.Buffer.alloc(1,0);function R2(t){let e=0;for(;t[e]===0;)++e;return e===t.length?C2:(t=t.slice(e),t[0]&128?b.Buffer.concat([C2,t],1+t.length):t)}function q2(t){t[0]===0&&(t=t.slice(1));let e=b.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function OS(t){let e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=N2.decode(t.slice(0,-1)),i=q2(n.r),a=q2(n.s);return{signature:b.Buffer.concat([i,a],64),hashType:e}}cn.decode=OS;function BS(t,e){IS({signature:O0.BufferN(64),hashType:O0.UInt8},{signature:t,hashType:e});let r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=b.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=R2(t.slice(0,32)),a=R2(t.slice(32,64));return b.Buffer.concat([N2.encode(i,a),n])}cn.encode=BS});var Gt=H(je=>{"use strict";g();m();var MS=je&&je.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CS=je&&je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),If=je&&je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MS(e,t,r);return CS(e,t),e};Object.defineProperty(je,"__esModule",{value:!0});je.signature=je.number=je.isCanonicalScriptSignature=je.isDefinedHashType=je.isCanonicalPubKey=je.toStack=je.fromASM=je.toASM=je.decompile=je.compile=je.isPushOnly=je.OPS=void 0;var RS=If(S0()),Ur=fs();Object.defineProperty(je,"OPS",{enumerable:!0,get:function(){return Ur.OPS}});var B0=If(i2()),U2=If(a2()),qS=If(H2()),ui=If(mr()),{typeforce:Tf}=ui,D2=Ur.OPS.OP_RESERVED;function kS(t){return ui.Number(t)&&(t===Ur.OPS.OP_0||t>=Ur.OPS.OP_1&&t<=Ur.OPS.OP_16||t===Ur.OPS.OP_1NEGATE)}function NS(t){return ui.Buffer(t)||kS(t)}function L2(t){return ui.Array(t)&&t.every(NS)}je.isPushOnly=L2;function fu(t){if(t.length===0)return Ur.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return D2+t[0];if(t[0]===129)return Ur.OPS.OP_1NEGATE}}function F2(t){return b.Buffer.isBuffer(t)}function HS(t){return ui.Array(t)}function cu(t){return b.Buffer.isBuffer(t)}function j2(t){if(F2(t))return t;Tf(ui.Array,t);let e=t.reduce((i,a)=>cu(a)?a.length===1&&fu(a)!==void 0?i+1:i+B0.encodingLength(a.length)+a.length:i+1,0),r=b.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(cu(i)){let a=fu(i);if(a!==void 0){r.writeUInt8(a,n),n+=1;return}n+=B0.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}je.compile=j2;function M0(t){if(HS(t))return t;Tf(ui.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Ur.OPS.OP_0&&n<=Ur.OPS.OP_PUSHDATA4){let i=B0.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let a=t.slice(r,r+i.number);r+=i.number;let s=fu(a);s!==void 0?e.push(s):e.push(a)}else e.push(n),r+=1}return e}je.decompile=M0;function US(t){return F2(t)&&(t=M0(t)),t.map(e=>{if(cu(e)){let r=fu(e);if(r===void 0)return e.toString("hex");e=r}return Ur.REVERSE_OPS[e]}).join(" ")}je.toASM=US;function DS(t){return Tf(ui.String,t),j2(t.split(" ").map(e=>Ur.OPS[e]!==void 0?Ur.OPS[e]:(Tf(ui.Hex,e),b.Buffer.from(e,"hex"))))}je.fromASM=DS;function LS(t){return t=M0(t),Tf(L2,t),t.map(e=>cu(e)?e:e===Ur.OPS.OP_0?b.Buffer.allocUnsafe(0):U2.encode(e-D2))}je.toStack=LS;function FS(t){return ui.isPoint(t)}je.isCanonicalPubKey=FS;function K2(t){let e=t;return e&128&&(e=e&-129),e&64&&(e=e&-65),e>0&&e<4}je.isDefinedHashType=K2;function jS(t){return!b.Buffer.isBuffer(t)||!K2(t[t.length-1])?!1:RS.check(t.slice(0,-1))}je.isCanonicalScriptSignature=jS;je.number=U2;je.signature=qS});var Yi=H(fo=>{"use strict";g();m();Object.defineProperty(fo,"__esModule",{value:!0});fo.value=fo.prop=void 0;function KS(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}fo.prop=KS;function zS(t){let e;return()=>(e!==void 0||(e=t()),e)}fo.value=zS});var V2=H(di=>{"use strict";g();m();var WS=di&&di.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GS=di&&di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G2=di&&di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WS(e,t,r);return GS(e,t),e};Object.defineProperty(di,"__esModule",{value:!0});di.p2data=void 0;var VS=tn(),uu=G2(Gt()),$i=mr(),z2=G2(Yi()),W2=uu.OPS;function XS(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function YS(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,$i.typeforce)({network:$i.typeforce.maybe($i.typeforce.Object),output:$i.typeforce.maybe($i.typeforce.Buffer),data:$i.typeforce.maybe($i.typeforce.arrayOf($i.typeforce.Buffer))},t);let r=t.network||VS.bitcoin,n={name:"embed",network:r};if(z2.prop(n,"output",()=>{if(!!t.data)return uu.compile([W2.OP_RETURN].concat(t.data))}),z2.prop(n,"data",()=>{if(!!t.output)return uu.decompile(t.output).slice(1)}),e.validate&&t.output){let i=uu.decompile(t.output);if(i[0]!==W2.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every($i.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!XS(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}di.p2data=YS});var $2=H(hi=>{"use strict";g();m();var $S=hi&&hi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JS=hi&&hi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y2=hi&&hi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$S(e,t,r);return JS(e,t),e};Object.defineProperty(hi,"__esModule",{value:!0});hi.p2ms=void 0;var ZS=tn(),co=Y2(Gt()),Vt=mr(),Pa=Y2(Yi()),uo=co.OPS,du=uo.OP_RESERVED;function X2(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function QS(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(f){return co.isCanonicalScriptSignature(f)||(e.allowIncomplete&&f===uo.OP_0)!==void 0}(0,Vt.typeforce)({network:Vt.typeforce.maybe(Vt.typeforce.Object),m:Vt.typeforce.maybe(Vt.typeforce.Number),n:Vt.typeforce.maybe(Vt.typeforce.Number),output:Vt.typeforce.maybe(Vt.typeforce.Buffer),pubkeys:Vt.typeforce.maybe(Vt.typeforce.arrayOf(Vt.isPoint)),signatures:Vt.typeforce.maybe(Vt.typeforce.arrayOf(r)),input:Vt.typeforce.maybe(Vt.typeforce.Buffer)},t);let i={network:t.network||ZS.bitcoin},a=[],s=!1;function o(f){s||(s=!0,a=co.decompile(f),i.m=a[0]-du,i.n=a[a.length-2]-du,i.pubkeys=a.slice(1,-2))}if(Pa.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return co.compile([].concat(du+t.m,t.pubkeys,du+i.n,uo.OP_CHECKMULTISIG))}),Pa.prop(i,"m",()=>{if(!!i.output)return o(i.output),i.m}),Pa.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),Pa.prop(i,"pubkeys",()=>{if(!!t.output)return o(t.output),i.pubkeys}),Pa.prop(i,"signatures",()=>{if(!!t.input)return co.decompile(t.input).slice(1)}),Pa.prop(i,"input",()=>{if(!!t.signatures)return co.compile([uo.OP_0].concat(t.signatures))}),Pa.prop(i,"witness",()=>{if(!!i.input)return[]}),Pa.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(o(t.output),!Vt.typeforce.Number(a[0]))throw new TypeError("Output is invalid");if(!Vt.typeforce.Number(a[a.length-2]))throw new TypeError("Output is invalid");if(a[a.length-1]!==uo.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==a.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(f=>(0,Vt.isPoint)(f)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!X2(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==uo.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!X2(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}hi.p2ms=QS});var Q2=H(li=>{"use strict";g();m();var ex=li&&li.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tx=li&&li.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z2=li&&li.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ex(e,t,r);return tx(e,t),e};Object.defineProperty(li,"__esModule",{value:!0});li.p2pk=void 0;var rx=tn(),lo=Z2(Gt()),Gn=mr(),ho=Z2(Yi()),J2=lo.OPS;function nx(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Gn.typeforce)({network:Gn.typeforce.maybe(Gn.typeforce.Object),output:Gn.typeforce.maybe(Gn.typeforce.Buffer),pubkey:Gn.typeforce.maybe(Gn.isPoint),signature:Gn.typeforce.maybe(lo.isCanonicalScriptSignature),input:Gn.typeforce.maybe(Gn.typeforce.Buffer)},t);let r=ho.value(()=>lo.decompile(t.input)),n=t.network||rx.bitcoin,i={name:"p2pk",network:n};if(ho.prop(i,"output",()=>{if(!!t.pubkey)return lo.compile([t.pubkey,J2.OP_CHECKSIG])}),ho.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),ho.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),ho.prop(i,"input",()=>{if(!!t.signature)return lo.compile([t.signature])}),ho.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==J2.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Gn.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!lo.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}li.p2pk=nx});var Br=H(un=>{"use strict";g();m();Object.defineProperty(un,"__esModule",{value:!0});un.taggedHash=un.hash256=un.hash160=un.sha256=un.ripemd160=void 0;var ev=$e();function tv(t){return b.Buffer.from(ev.base.ripemd160(t))}un.ripemd160=tv;function po(t){return b.Buffer.from(ev.base.sha256(t))}un.sha256=po;function ix(t){return tv(po(t))}un.hash160=ix;function ax(t){return po(po(t))}un.hash256=ax;var sx=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],ox=Object.fromEntries(sx.map(t=>{let e=po(b.Buffer.from(t));return[t,b.Buffer.concat([e,e])]}));function fx(t,e){return po(b.Buffer.concat([ox[t],e]))}un.taggedHash=fx});var nv=H(pi=>{"use strict";g();m();var cx=pi&&pi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ux=pi&&pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R0=pi&&pi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cx(e,t,r);return ux(e,t),e};Object.defineProperty(pi,"__esModule",{value:!0});pi.p2pkh=void 0;var C0=R0(Br()),dx=tn(),bo=R0(Gt()),Mr=mr(),Ji=R0(Yi()),Ta=bo.OPS,rv=$e();function hx(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Mr.typeforce)({network:Mr.typeforce.maybe(Mr.typeforce.Object),address:Mr.typeforce.maybe(Mr.typeforce.String),hash:Mr.typeforce.maybe(Mr.typeforce.BufferN(20)),output:Mr.typeforce.maybe(Mr.typeforce.BufferN(25)),pubkey:Mr.typeforce.maybe(Mr.isPoint),signature:Mr.typeforce.maybe(bo.isCanonicalScriptSignature),input:Mr.typeforce.maybe(Mr.typeforce.Buffer)},t);let r=Ji.value(()=>{let s=rv.base.fromBase58Check(t.address),o=s.readUInt8(0),f=s.slice(1);return{version:o,hash:f}}),n=Ji.value(()=>bo.decompile(t.input)),i=t.network||dx.bitcoin,a={name:"p2pkh",network:i};if(Ji.prop(a,"address",()=>{if(!a.hash)return;let s=b.Buffer.allocUnsafe(21);return s.writeUInt8(i.pubKeyHash,0),a.hash.copy(s,1),rv.base.toBase58Check(s)}),Ji.prop(a,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||a.pubkey)return C0.hash160(t.pubkey||a.pubkey)}),Ji.prop(a,"output",()=>{if(!!a.hash)return bo.compile([Ta.OP_DUP,Ta.OP_HASH160,a.hash,Ta.OP_EQUALVERIFY,Ta.OP_CHECKSIG])}),Ji.prop(a,"pubkey",()=>{if(!!t.input)return n()[1]}),Ji.prop(a,"signature",()=>{if(!!t.input)return n()[0]}),Ji.prop(a,"input",()=>{if(!!t.pubkey&&!!t.signature)return bo.compile([t.signature,t.pubkey])}),Ji.prop(a,"witness",()=>{if(!!a.input)return[]}),e.validate){let s=b.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Ta.OP_DUP||t.output[1]!==Ta.OP_HASH160||t.output[2]!==20||t.output[23]!==Ta.OP_EQUALVERIFY||t.output[24]!==Ta.OP_CHECKSIG)throw new TypeError("Output is invalid");let o=t.output.slice(3,23);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");s=o}if(t.pubkey){let o=C0.hash160(t.pubkey);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");s=o}if(t.input){let o=n();if(o.length!==2)throw new TypeError("Input is invalid");if(!bo.isCanonicalScriptSignature(o[0]))throw new TypeError("Input has invalid signature");if(!(0,Mr.isPoint)(o[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(o[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(o[1]))throw new TypeError("Pubkey mismatch");let f=C0.hash160(o[1]);if(s.length>0&&!s.equals(f))throw new TypeError("Hash mismatch")}}return Object.assign(a,t)}pi.p2pkh=hx});var sv=H(vi=>{"use strict";g();m();var lx=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),px=vi&&vi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q0=vi&&vi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lx(e,t,r);return px(e,t),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.p2sh=void 0;var iv=q0(Br()),bx=tn(),Zi=q0(Gt()),ut=mr(),bi=q0(Yi()),av=$e(),hu=Zi.OPS;function vx(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function yx(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ut.typeforce)({network:ut.typeforce.maybe(ut.typeforce.Object),address:ut.typeforce.maybe(ut.typeforce.String),hash:ut.typeforce.maybe(ut.typeforce.BufferN(20)),output:ut.typeforce.maybe(ut.typeforce.BufferN(23)),redeem:ut.typeforce.maybe({network:ut.typeforce.maybe(ut.typeforce.Object),output:ut.typeforce.maybe(ut.typeforce.Buffer),input:ut.typeforce.maybe(ut.typeforce.Buffer),witness:ut.typeforce.maybe(ut.typeforce.arrayOf(ut.typeforce.Buffer))}),input:ut.typeforce.maybe(ut.typeforce.Buffer),witness:ut.typeforce.maybe(ut.typeforce.arrayOf(ut.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||bx.bitcoin);let n={network:r},i=bi.value(()=>{let o=av.base.fromBase58Check(t.address),f=o.readUInt8(0),c=o.slice(1);return{version:f,hash:c}}),a=bi.value(()=>Zi.decompile(t.input)),s=bi.value(()=>{let o=a();return{network:r,output:o[o.length-1],input:Zi.compile(o.slice(0,-1)),witness:t.witness||[]}});if(bi.prop(n,"address",()=>{if(!n.hash)return;let o=b.Buffer.allocUnsafe(21);return o.writeUInt8(n.network.scriptHash,0),n.hash.copy(o,1),av.base.toBase58Check(o)}),bi.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return iv.hash160(n.redeem.output)}),bi.prop(n,"output",()=>{if(!!n.hash)return Zi.compile([hu.OP_HASH160,n.hash,hu.OP_EQUAL])}),bi.prop(n,"redeem",()=>{if(!!t.input)return s()}),bi.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Zi.compile([].concat(Zi.decompile(t.redeem.input),t.redeem.output))}),bi.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),bi.prop(n,"name",()=>{let o=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&o.push(n.redeem.name),o.join("-")}),e.validate){let o=b.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");o=i().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==hu.OP_HASH160||t.output[1]!==20||t.output[22]!==hu.OP_EQUAL)throw new TypeError("Output is invalid");let c=t.output.slice(2,22);if(o.length>0&&!o.equals(c))throw new TypeError("Hash mismatch");o=c}let f=c=>{if(c.output){let u=Zi.decompile(c.output);if(!u||u.length<1)throw new TypeError("Redeem.output too short");let d=iv.hash160(c.output);if(o.length>0&&!o.equals(d))throw new TypeError("Hash mismatch");o=d}if(c.input){let u=c.input.length>0,d=c.witness&&c.witness.length>0;if(!u&&!d)throw new TypeError("Empty input");if(u&&d)throw new TypeError("Input and witness provided");if(u){let l=Zi.decompile(c.input);if(!Zi.isPushOnly(l))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let c=a();if(!c||c.length<1)throw new TypeError("Input too short");if(!b.Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");f(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let c=s();if(t.redeem.output&&!t.redeem.output.equals(c.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(c.input))throw new TypeError("Redeem.input mismatch")}f(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!vx(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}vi.p2sh=yx});var fv=H(yi=>{"use strict";g();m();var gx=yi&&yi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mx=yi&&yi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N0=yi&&yi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gx(e,t,r);return mx(e,t),e};Object.defineProperty(yi,"__esModule",{value:!0});yi.p2wpkh=void 0;var k0=N0(Br()),wx=tn(),pu=N0(Gt()),Xt=mr(),Ia=N0(Yi()),lu=$e(),ov=pu.OPS,_x=b.Buffer.alloc(0);function Sx(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Xt.typeforce)({address:Xt.typeforce.maybe(Xt.typeforce.String),hash:Xt.typeforce.maybe(Xt.typeforce.BufferN(20)),input:Xt.typeforce.maybe(Xt.typeforce.BufferN(0)),network:Xt.typeforce.maybe(Xt.typeforce.Object),output:Xt.typeforce.maybe(Xt.typeforce.BufferN(22)),pubkey:Xt.typeforce.maybe(Xt.isPoint),signature:Xt.typeforce.maybe(pu.isCanonicalScriptSignature),witness:Xt.typeforce.maybe(Xt.typeforce.arrayOf(Xt.typeforce.Buffer))},t);let r=Ia.value(()=>{let a=lu.base.bech32.decode(t.address),s=a.words.shift(),o=lu.base.bech32.fromWords(a.words);return{version:s,prefix:a.prefix,data:b.Buffer.from(o)}}),n=t.network||wx.bitcoin,i={name:"p2wpkh",network:n};if(Ia.prop(i,"address",()=>{if(!i.hash)return;let a=lu.base.bech32.toWords(i.hash);return a.unshift(0),lu.base.bech32.encode(n.bech32,a)}),Ia.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return k0.hash160(t.pubkey||i.pubkey)}),Ia.prop(i,"output",()=>{if(!!i.hash)return pu.compile([ov.OP_0,i.hash])}),Ia.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),Ia.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),Ia.prop(i,"input",()=>{if(!!i.witness)return _x}),Ia.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let a=b.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==ov.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");a=t.output.slice(2)}if(t.pubkey){let s=k0.hash160(t.pubkey);if(a.length>0&&!a.equals(s))throw new TypeError("Hash mismatch");if(a=s,!(0,Xt.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!pu.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Xt.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=k0.hash160(t.witness[1]);if(a.length>0&&!a.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}yi.p2wpkh=Sx});var dv=H(gi=>{"use strict";g();m();var xx=gi&&gi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ex=gi&&gi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U0=gi&&gi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xx(e,t,r);return Ex(e,t),e};Object.defineProperty(gi,"__esModule",{value:!0});gi.p2wsh=void 0;var cv=U0(Br()),Ax=tn(),Oa=U0(Gt()),rt=mr(),Qi=U0(Yi()),bu=$e(),uv=Oa.OPS,H0=b.Buffer.alloc(0);function Px(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function vu(t){return!!(b.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&(0,rt.isPoint)(t))}function Tx(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,rt.typeforce)({network:rt.typeforce.maybe(rt.typeforce.Object),address:rt.typeforce.maybe(rt.typeforce.String),hash:rt.typeforce.maybe(rt.typeforce.BufferN(32)),output:rt.typeforce.maybe(rt.typeforce.BufferN(34)),redeem:rt.typeforce.maybe({input:rt.typeforce.maybe(rt.typeforce.Buffer),network:rt.typeforce.maybe(rt.typeforce.Object),output:rt.typeforce.maybe(rt.typeforce.Buffer),witness:rt.typeforce.maybe(rt.typeforce.arrayOf(rt.typeforce.Buffer))}),input:rt.typeforce.maybe(rt.typeforce.BufferN(0)),witness:rt.typeforce.maybe(rt.typeforce.arrayOf(rt.typeforce.Buffer))},t);let r=Qi.value(()=>{let s=bu.base.bech32.decode(t.address),o=s.words.shift(),f=bu.base.bech32.fromWords(s.words);return{version:o,prefix:s.prefix,data:b.Buffer.from(f)}}),n=Qi.value(()=>Oa.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||Ax.bitcoin);let a={network:i};if(Qi.prop(a,"address",()=>{if(!a.hash)return;let s=bu.base.bech32.toWords(a.hash);return s.unshift(0),bu.base.bech32.encode(i.bech32,s)}),Qi.prop(a,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.redeem&&a.redeem.output)return cv.sha256(a.redeem.output)}),Qi.prop(a,"output",()=>{if(!!a.hash)return Oa.compile([uv.OP_0,a.hash])}),Qi.prop(a,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:H0,witness:t.witness.slice(0,-1)}}),Qi.prop(a,"input",()=>{if(!!a.witness)return H0}),Qi.prop(a,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=Oa.toStack(n());return a.redeem=Object.assign({witness:s},t.redeem),a.redeem.input=H0,[].concat(s,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Qi.prop(a,"name",()=>{let s=["p2wsh"];return a.redeem!==void 0&&a.redeem.name!==void 0&&s.push(a.redeem.name),s.join("-")}),e.validate){let s=b.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==uv.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let o=t.output.slice(2);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");s=o}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(Oa.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let o=cv.sha256(t.redeem.output);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");s=o}if(t.redeem.input&&!Oa.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!Px(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(vu)||t.redeem.output&&(Oa.decompile(t.redeem.output)||[]).some(vu))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let o=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(o))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(vu)||(Oa.decompile(o)||[]).some(vu))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(a,t)}gi.p2wsh=Tx});var We=H((D0,lv)=>{g();m();var yu=Wn(),mi=yu.Buffer;function hv(t,e){for(var r in t)e[r]=t[r]}mi.from&&mi.alloc&&mi.allocUnsafe&&mi.allocUnsafeSlow?lv.exports=yu:(hv(yu,D0),D0.Buffer=ds);function ds(t,e,r){return mi(t,e,r)}ds.prototype=Object.create(mi.prototype);hv(mi,ds);ds.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return mi(t,e,r)};ds.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=mi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ds.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return mi(t)};ds.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yu.SlowBuffer(t)}});var j0=H((kF,bv)=>{"use strict";g();m();var L0=We().Buffer,Ix=9007199254740991;function F0(t){if(t<0||t>Ix||t%1!==0)throw new RangeError("value out of range")}function Of(t,e,r){if(F0(t),e||(e=L0.allocUnsafe(pv(t))),!L0.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Of.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Of.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Of.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Of.bytes=9),e}function Bf(t,e){if(!L0.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Bf.bytes=1,r;if(r===253)return Bf.bytes=3,t.readUInt16LE(e+1);if(r===254)return Bf.bytes=5,t.readUInt32LE(e+1);Bf.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),a=i*4294967296+n;return F0(a),a}function pv(t){return F0(t),t<253?1:t<=65535?3:t<=4294967295?5:9}bv.exports={encode:Of,decode:Bf,encodingLength:pv}});var Ba=H(gt=>{"use strict";g();m();var Ox=gt&&gt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bx=gt&&gt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vv=gt&&gt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ox(e,t,r);return Bx(e,t),e};Object.defineProperty(gt,"__esModule",{value:!0});gt.BufferReader=gt.BufferWriter=gt.cloneBuffer=gt.reverseBuffer=gt.writeUInt64LE=gt.readUInt64LE=gt.varuint=void 0;var hs=vv(mr()),{typeforce:yv}=hs,Mf=vv(j0());gt.varuint=Mf;function gv(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function mv(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,gv(n+r,9007199254740991),n+r}gt.readUInt64LE=mv;function wv(t,e,r){return gv(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}gt.writeUInt64LE=wv;function Mx(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}gt.reverseBuffer=Mx;function Cx(t){let e=b.Buffer.allocUnsafe(t.length);return t.copy(e),e}gt.cloneBuffer=Cx;var Cf=class{static withCapacity(e){return new Cf(b.Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,yv(hs.tuple(hs.Buffer,hs.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=wv(this.buffer,e,this.offset)}writeVarInt(e){Mf.encode(e,this.buffer,this.offset),this.offset+=Mf.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};gt.BufferWriter=Cf;var K0=class{constructor(e,r=0){this.buffer=e,this.offset=r,yv(hs.tuple(hs.Buffer,hs.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=mv(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=Mf.decode(this.buffer,this.offset);return this.offset+=Mf.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};gt.BufferReader=K0});var ls=H(vo=>{"use strict";g();m();Object.defineProperty(vo,"__esModule",{value:!0});vo.taprootTweakPubkey=vo.taprootTweakPrivKey=void 0;var Rx=$e(),W0=Rx.signUtil.schnorr.secp256k1,G0=W0.schnorr,_v=W0.secp256k1.ProjectivePoint,z0=W0.secp256k1.CURVE.n;function Sv(t,e){let r=G0.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=z0)throw new Error("tweak higher than curve order");return i}function qx(t,e=new Uint8Array){let r=G0.utils,n=r.bytesToNumberBE(t),i=_v.fromPrivateKey(n),a=i.hasEvenY()?n:r.mod(-n,z0),s=r.pointToBytes(i),o=Sv(s,e);return r.numberToBytesBE(r.mod(a+o,z0),32)}vo.taprootTweakPrivKey=qx;function kx(t,e){e||(e=new Uint8Array);let r=G0.utils,n=Sv(t,e),a=r.lift_x(r.bytesToNumberBE(t)).add(_v.fromPrivateKey(n)),s=a.hasEvenY()?0:1;return[r.pointToBytes(a),s]}vo.taprootTweakPubkey=kx});var gu=H(nt=>{"use strict";g();m();var Nx=nt&&nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hx=nt&&nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ux=nt&&nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nx(e,t,r);return Hx(e,t),e};Object.defineProperty(nt,"__esModule",{value:!0});nt.tweakKey=nt.tapTweakHash=nt.tapleafHash=nt.findScriptPath=nt.toHashTree=nt.rootHashFromPath=nt.MAX_TAPTREE_DEPTH=nt.LEAF_VERSION_TAPSCRIPT=void 0;var Ma=Wn(),$0=Ux(Br()),xv=Ba(),Dx=mr(),Lx=ls();nt.LEAF_VERSION_TAPSCRIPT=192;nt.MAX_TAPTREE_DEPTH=128;var Fx=t=>"left"in t&&"right"in t;function jx(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let a=t.slice(33+32*i,65+32*i);n.compare(a)<0?n=Y0(n,a):n=Y0(a,n)}return n}nt.rootHashFromPath=jx;function V0(t){if((0,Dx.isTapleaf)(t))return{hash:Ev(t)};let e=[V0(t[0]),V0(t[1])];e.sort((i,a)=>i.hash.compare(a.hash));let[r,n]=e;return{hash:Y0(r.hash,n.hash),left:r,right:n}}nt.toHashTree=V0;function X0(t,e){if(Fx(t)){let r=X0(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=X0(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}nt.findScriptPath=X0;function Ev(t){let e=t.version||nt.LEAF_VERSION_TAPSCRIPT;return $0.taggedHash("TapLeaf",Ma.Buffer.concat([Ma.Buffer.from([e]),Wx(t.output)]))}nt.tapleafHash=Ev;function Kx(t,e){return $0.taggedHash("TapTweak",Ma.Buffer.concat(e?[t,e]:[t]))}nt.tapTweakHash=Kx;function zx(t,e){if(!Ma.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=(0,Lx.taprootTweakPubkey)(t,e);return{parity:r[1],x:Ma.Buffer.from(r[0])}}nt.tweakKey=zx;function Y0(t,e){return $0.taggedHash("TapBranch",Ma.Buffer.concat([t,e]))}function Wx(t){let e=xv.varuint.encodingLength(t.length),r=Ma.Buffer.allocUnsafe(e);return xv.varuint.encode(t.length,r),Ma.Buffer.concat([r,t])}});var Iv=H(wi=>{"use strict";g();m();var Gx=wi&&wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vx=wi&&wi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tv=wi&&wi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Gx(e,t,r);return Vx(e,t),e};Object.defineProperty(wi,"__esModule",{value:!0});wi.p2tr=void 0;var mu=Wn(),Xx=tn(),J0=Tv(Gt()),Fe=mr(),Dr=gu(),dn=Tv(Yi()),wu=$e(),Av=J0.OPS,Pv=1,Yx=80;function $x(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Fe.typeforce)({address:Fe.typeforce.maybe(Fe.typeforce.String),input:Fe.typeforce.maybe(Fe.typeforce.BufferN(0)),network:Fe.typeforce.maybe(Fe.typeforce.Object),output:Fe.typeforce.maybe(Fe.typeforce.BufferN(34)),internalPubkey:Fe.typeforce.maybe(Fe.typeforce.BufferN(32)),hash:Fe.typeforce.maybe(Fe.typeforce.BufferN(32)),pubkey:Fe.typeforce.maybe(Fe.typeforce.BufferN(32)),witness:Fe.typeforce.maybe(Fe.typeforce.arrayOf(Fe.typeforce.Buffer)),scriptTree:Fe.typeforce.maybe(Fe.isTaptree),redeem:Fe.typeforce.maybe({output:Fe.typeforce.maybe(Fe.typeforce.Buffer),redeemVersion:Fe.typeforce.maybe(Fe.typeforce.Number),witness:Fe.typeforce.maybe(Fe.typeforce.arrayOf(Fe.typeforce.Buffer))}),redeemVersion:Fe.typeforce.maybe(Fe.typeforce.Number)},t);let r=dn.value(()=>{let o=wu.base.bech32m.decode(t.address),f=o.words.shift(),c=wu.base.bech32m.fromWords(o.words);return{version:f,prefix:o.prefix,data:mu.Buffer.from(c)}}),n=dn.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Yx?t.witness.slice(0,-1):t.witness.slice()}),i=dn.value(()=>{if(t.scriptTree)return(0,Dr.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),a=t.network||Xx.bitcoin,s={name:"p2tr",network:a};if(dn.prop(s,"address",()=>{if(!s.pubkey)return;let o=wu.base.bech32m.toWords(s.pubkey);return o.unshift(Pv),wu.base.bech32m.encode(a.bech32,o)}),dn.prop(s,"hash",()=>{let o=i();if(o)return o.hash;let f=n();if(f&&f.length>1){let c=f[f.length-1],u=c[0]&Fe.TAPLEAF_VERSION_MASK,d=f[f.length-2],l=(0,Dr.tapleafHash)({output:d,version:u});return(0,Dr.rootHashFromPath)(c,l)}return null}),dn.prop(s,"output",()=>{if(!!s.pubkey)return J0.compile([Av.OP_1,s.pubkey])}),dn.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Dr.LEAF_VERSION_TAPSCRIPT),dn.prop(s,"redeem",()=>{let o=n();if(!(!o||o.length<2))return{output:o[o.length-2],witness:o.slice(0,-2),redeemVersion:o[o.length-1][0]&Fe.TAPLEAF_VERSION_MASK}}),dn.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let o=(0,Dr.tweakKey)(s.internalPubkey,s.hash);if(o)return o.x}}),dn.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let o=n();if(o&&o.length>1)return o[o.length-1].slice(1,33)}),dn.prop(s,"signature",()=>{if(t.signature)return t.signature;let o=n();if(!(!o||o.length!==1))return o[0]}),dn.prop(s,"witness",()=>{if(t.witness)return t.witness;let o=i();if(o&&t.redeem&&t.redeem.output&&t.internalPubkey){let f=(0,Dr.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),c=(0,Dr.findScriptPath)(o,f);if(!c)return;let u=(0,Dr.tweakKey)(t.internalPubkey,o.hash);if(!u)return;let d=mu.Buffer.concat([mu.Buffer.from([s.redeemVersion|u.parity]),t.internalPubkey].concat(c));return[t.redeem.output,d]}if(t.signature)return[t.signature]}),e.validate){let o=mu.Buffer.from([]);if(t.address){if(a&&a.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==Pv)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.pubkey){if(o.length>0&&!o.equals(t.pubkey))throw new TypeError("Pubkey mismatch");o=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Av.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");o=t.output.slice(2)}if(t.internalPubkey){let u=(0,Dr.tweakKey)(t.internalPubkey,s.hash);if(o.length>0&&!o.equals(u.x))throw new TypeError("Pubkey mismatch");o=u.x}if(o&&o.length&&o.length!==32)throw new TypeError("Invalid pubkey for p2tr");let f=i();if(t.hash&&f&&!t.hash.equals(f.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&f){let u=(0,Dr.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,Dr.findScriptPath)(f,u))throw new TypeError("Redeem script not in tree")}let c=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(J0.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!Jx(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(c.length===1){if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{let u=c[c.length-1];if(u.length<33)throw new TypeError(`The control-block length is too small. Got ${u.length}, expected min 33.`);if((u.length-33)%32!==0)throw new TypeError(`The control-block length of ${u.length} is incorrect!`);let d=(u.length-33)/32;if(d>128)throw new TypeError(`The script path is too long. Got ${d}, expected max 128.`);let l=u.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(l))throw new TypeError("Internal pubkey mismatch");if(l.length!==32)throw new TypeError("Invalid internalPubkey for p2tr witness");let _=u[0]&Fe.TAPLEAF_VERSION_MASK,T=c[c.length-2],B=(0,Dr.tapleafHash)({output:T,version:_}),F=(0,Dr.rootHashFromPath)(u,B),L=(0,Dr.tweakKey)(l,F);if(!L)throw new TypeError("Invalid outputKey for p2tr witness");if(o.length&&!o.equals(L.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(L.parity!==(u[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}wi.p2tr=$x;function Jx(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var Ca=H(Qt=>{"use strict";g();m();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.p2tr=Qt.p2wsh=Qt.p2wpkh=Qt.p2sh=Qt.p2pkh=Qt.p2pk=Qt.p2ms=Qt.embed=void 0;var Zx=V2();Object.defineProperty(Qt,"embed",{enumerable:!0,get:function(){return Zx.p2data}});var Qx=$2();Object.defineProperty(Qt,"p2ms",{enumerable:!0,get:function(){return Qx.p2ms}});var eE=Q2();Object.defineProperty(Qt,"p2pk",{enumerable:!0,get:function(){return eE.p2pk}});var tE=nv();Object.defineProperty(Qt,"p2pkh",{enumerable:!0,get:function(){return tE.p2pkh}});var rE=sv();Object.defineProperty(Qt,"p2sh",{enumerable:!0,get:function(){return rE.p2sh}});var nE=fv();Object.defineProperty(Qt,"p2wpkh",{enumerable:!0,get:function(){return nE.p2wpkh}});var iE=dv();Object.defineProperty(Qt,"p2wsh",{enumerable:!0,get:function(){return iE.p2wsh}});var aE=Iv();Object.defineProperty(Qt,"p2tr",{enumerable:!0,get:function(){return aE.p2tr}})});var yo=H(Ut=>{"use strict";g();m();var sE=Ut&&Ut.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oE=Ut&&Ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Su=Ut&&Ut.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sE(e,t,r);return oE(e,t),e};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.toOutputScript=Ut.fromOutputScript=Ut.toBech32=Ut.toBase58Check=Ut.fromBech32=Ut.fromBase58Check=void 0;var Ov=Su(tn()),_i=Su(Ca()),Bv=Su(Gt()),_u=Su(mr()),Ra=$e(),{typeforce:fE}=_u,Mv=40,Cv=2,Rv=16,qv=2,kv=80,Nv="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function cE(t,e){let r=t.slice(2);if(r.length<Cv||r.length>Mv)throw new TypeError("Invalid program length for segwit address");let n=t[0]-kv;if(n<qv||n>Rv)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Nv),Dv(r,n,e.bech32)}function Hv(t){let e=Ra.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Ut.fromBase58Check=Hv;function Uv(t){let e,r;try{e=Ra.base.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Ra.base.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Ra.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:b.Buffer.from(n)}}Ut.fromBech32=Uv;function uE(t,e){fE(_u.tuple(_u.Hash160bit,_u.UInt8),arguments);let r=b.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),Ra.base.toBase58Check(r)}Ut.toBase58Check=uE;function Dv(t,e,r){let n=Ra.base.bech32.toWords(t);return n.unshift(e),e===0?Ra.base.bech32.encode(r,n):Ra.base.bech32m.encode(r,n)}Ut.toBech32=Dv;function dE(t,e){e=e||Ov.bitcoin;try{return _i.p2pkh({output:t,network:e}).address}catch{}try{return _i.p2sh({output:t,network:e}).address}catch{}try{return _i.p2wpkh({output:t,network:e}).address}catch{}try{return _i.p2wsh({output:t,network:e}).address}catch{}try{return _i.p2tr({output:t,network:e}).address}catch{}try{return cE(t,e)}catch{}throw new Error(Bv.toASM(t)+" has no matching Address")}Ut.fromOutputScript=dE;function hE(t,e){e=e||Ov.bitcoin;let r,n;try{r=Hv(t)}catch{}if(r){if(r.version===e.pubKeyHash)return _i.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return _i.p2sh({hash:r.hash}).output}else{try{n=Uv(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return _i.p2wpkh({hash:n.data}).output;if(n.data.length===32)return _i.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return _i.p2tr({pubkey:n.data}).output}else if(n.version>=qv&&n.version<=Rv&&n.data.length>=Cv&&n.data.length<=Mv)return console.warn(Nv),Bv.compile([n.version+kv,n.data])}}throw new Error(t+" has no matching Script")}Ut.toOutputScript=hE});var ps=H(Fr=>{"use strict";g();m();var lE=Fr&&Fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pE=Fr&&Fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z0=Fr&&Fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lE(e,t,r);return pE(e,t),e};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Transaction=Fr.vectorSize=Fr.varSliceSize=void 0;var it=Ba(),Dt=Z0(Br()),Lv=Z0(Gt()),bE=Gt(),Re=Z0(mr()),{typeforce:Vn}=Re;function Lr(t){let e=t.length;return it.varuint.encodingLength(e)+e}Fr.varSliceSize=Lr;function Kv(t){let e=t.length;return it.varuint.encodingLength(e)+t.reduce((r,n)=>r+Lr(n),0)}Fr.vectorSize=Kv;var qa=b.Buffer.allocUnsafe(0),Fv=[],go=b.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),jv=b.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),vE=b.Buffer.from("ffffffffffffffff","hex"),yE={script:qa,valueBuffer:vE};function gE(t){return t.value!==void 0}var we=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new it.BufferReader(e),i=new we;i.version=n.readInt32();let a=n.readUInt8(),s=n.readUInt8(),o=!1;a===we.ADVANCED_TRANSACTION_MARKER&&s===we.ADVANCED_TRANSACTION_FLAG?o=!0:n.offset-=2;let f=n.readVarInt();for(let u=0;u<f;++u)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Fv});let c=n.readVarInt();for(let u=0;u<c;++u)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(o){for(let u=0;u<f;++u)i.ins[u].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return we.fromBuffer(b.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){Vn(Re.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&we.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Vn(Re.tuple(Re.Hash256bit,Re.UInt32,Re.maybe(Re.UInt32),Re.maybe(Re.Buffer)),arguments),Re.Null(n)&&(n=we.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||qa,sequence:n,witness:Fv})-1}addOutput(e,r){return Vn(Re.tuple(Re.Buffer,Re.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let e=26+this.ins.reduce((r,n)=>{let i=40+Lr(n.script);return r+32+4+i},0)+this.outs.reduce((r,n)=>r+9+n.script.length,0);return Math.ceil(e)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+it.varuint.encodingLength(this.ins.length)+it.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Lr(i.script),0)+this.outs.reduce((n,i)=>n+8+Lr(i.script),0)+(r?this.ins.reduce((n,i)=>n+Kv(i.witness),0):0)}clone(){let e=new we;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Vn(Re.tuple(Re.UInt32,Re.Buffer,Re.Number),arguments),e>=this.ins.length)return jv;let i=Lv.compile(Lv.decompile(r).filter(o=>o!==bE.OPS.OP_CODESEPARATOR)),a=this.clone();if((n&31)===we.SIGHASH_NONE)a.outs=[],a.ins.forEach((o,f)=>{f!==e&&(o.sequence=0)});else if((n&31)===we.SIGHASH_SINGLE){if(e>=this.outs.length)return jv;a.outs.length=e+1;for(let o=0;o<e;o++)a.outs[o]=yE;a.ins.forEach((o,f)=>{f!==e&&(o.sequence=0)})}n&we.SIGHASH_ANYONECANPAY?(a.ins=[a.ins[e]],a.ins[0].script=i):(a.ins.forEach(o=>{o.script=qa}),a.ins[e].script=i);let s=b.Buffer.allocUnsafe(a.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),a.__toBuffer(s,0,!1),Dt.hash256(s)}hashForCashSignature(e,r,n,i){if(i&we.SIGHASH_BITCOINCASHBIP143){if(Re.Null(n))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(e,r,n,i)}else return this.hashForSignature(e,r,i)}hashForWitnessV1(e,r,n,i,a,s){if(Vn(Re.tuple(Re.UInt32,Vn.arrayOf(Re.Buffer),Vn.arrayOf(Re.Satoshi),Re.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let o=i===we.SIGHASH_DEFAULT?we.SIGHASH_ALL:i&we.SIGHASH_OUTPUT_MASK,c=(i&we.SIGHASH_INPUT_MASK)===we.SIGHASH_ANYONECANPAY,u=o===we.SIGHASH_NONE,d=o===we.SIGHASH_SINGLE,l=qa,_=qa,T=qa,B=qa,F=qa;if(!c){let ie=it.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(te=>{ie.writeSlice(te.hash),ie.writeUInt32(te.index)}),l=Dt.sha256(ie.end()),ie=it.BufferWriter.withCapacity(8*this.ins.length),n.forEach(te=>ie.writeUInt64(te)),_=Dt.sha256(ie.end()),ie=it.BufferWriter.withCapacity(r.map(Lr).reduce((te,he)=>te+he)),r.forEach(te=>ie.writeVarSlice(te)),T=Dt.sha256(ie.end()),ie=it.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(te=>ie.writeUInt32(te.sequence)),B=Dt.sha256(ie.end())}if(u||d){if(d&&e<this.outs.length){let ie=this.outs[e],te=it.BufferWriter.withCapacity(8+Lr(ie.script));te.writeUInt64(ie.value),te.writeVarSlice(ie.script),F=Dt.sha256(te.end())}}else{let ie=this.outs.map(he=>8+Lr(he.script)).reduce((he,ae)=>he+ae),te=it.BufferWriter.withCapacity(ie);this.outs.forEach(he=>{te.writeUInt64(he.value),te.writeVarSlice(he.script)}),F=Dt.sha256(te.end())}let L=(a?2:0)+(s?1:0),J=174-(c?49:0)-(u?32:0)+(s?32:0)+(a?37:0),ne=it.BufferWriter.withCapacity(J);if(ne.writeUInt8(i),ne.writeInt32(this.version),ne.writeUInt32(this.locktime),ne.writeSlice(l),ne.writeSlice(_),ne.writeSlice(T),ne.writeSlice(B),u||d||ne.writeSlice(F),ne.writeUInt8(L),c){let ie=this.ins[e];ne.writeSlice(ie.hash),ne.writeUInt32(ie.index),ne.writeUInt64(n[e]),ne.writeVarSlice(r[e]),ne.writeUInt32(ie.sequence)}else ne.writeUInt32(e);if(s){let ie=it.BufferWriter.withCapacity(Lr(s));ie.writeVarSlice(s),ne.writeSlice(Dt.sha256(ie.end()))}return d&&ne.writeSlice(F),a&&(ne.writeSlice(a),ne.writeUInt8(0),ne.writeUInt32(4294967295)),Dt.taggedHash("TapSighash",b.Buffer.concat([b.Buffer.of(0),ne.end()]))}hashForWitnessV0(e,r,n,i){Vn(Re.tuple(Re.UInt32,Re.Buffer,Re.Satoshi,Re.UInt32),arguments);let a=b.Buffer.from([]),s,o=go,f=go,c=go;if(i&we.SIGHASH_ANYONECANPAY||(a=b.Buffer.allocUnsafe(36*this.ins.length),s=new it.BufferWriter(a,0),this.ins.forEach(d=>{s.writeSlice(d.hash),s.writeUInt32(d.index)}),f=Dt.hash256(a)),!(i&we.SIGHASH_ANYONECANPAY)&&(i&31)!==we.SIGHASH_SINGLE&&(i&31)!==we.SIGHASH_NONE&&(a=b.Buffer.allocUnsafe(4*this.ins.length),s=new it.BufferWriter(a,0),this.ins.forEach(d=>{s.writeUInt32(d.sequence)}),c=Dt.hash256(a)),(i&31)!==we.SIGHASH_SINGLE&&(i&31)!==we.SIGHASH_NONE){let d=this.outs.reduce((l,_)=>l+8+Lr(_.script),0);a=b.Buffer.allocUnsafe(d),s=new it.BufferWriter(a,0),this.outs.forEach(l=>{s.writeUInt64(l.value),s.writeVarSlice(l.script)}),o=Dt.hash256(a)}else if((i&31)===we.SIGHASH_SINGLE&&e<this.outs.length){let d=this.outs[e];a=b.Buffer.allocUnsafe(8+Lr(d.script)),s=new it.BufferWriter(a,0),s.writeUInt64(d.value),s.writeVarSlice(d.script),o=Dt.hash256(a)}a=b.Buffer.allocUnsafe(156+Lr(r)),s=new it.BufferWriter(a,0);let u=this.ins[e];return s.writeInt32(this.version),s.writeSlice(f),s.writeSlice(c),s.writeSlice(u.hash),s.writeUInt32(u.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(u.sequence),s.writeSlice(o),s.writeUInt32(this.locktime),s.writeUInt32(i),Dt.hash256(a)}getHash(e){return e&&this.isCoinbase()?b.Buffer.alloc(32,0):Dt.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,it.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Vn(Re.tuple(Re.Number,Re.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Vn(Re.tuple(Re.Number,[Re.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=b.Buffer.allocUnsafe(this.byteLength(n)));let i=new it.BufferWriter(e,r||0);i.writeInt32(this.version);let a=n&&this.hasWitnesses();return a&&(i.writeUInt8(we.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(we.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{gE(s)?i.writeUInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),a&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}hashForWitness(e,r,n,i){Vn(Re.tuple(Re.UInt32,Re.Buffer,Re.Satoshi,Re.UInt32),arguments);let a=b.Buffer.from([]),s,o=go,f=go,c=go;if(i&we.SIGHASH_ANYONECANPAY||(a=b.Buffer.allocUnsafe(36*this.ins.length),s=new it.BufferWriter(a,0),this.ins.forEach(d=>{s.writeSlice(d.hash),s.writeUInt32(d.index)}),f=Dt.hash256(a)),!(i&we.SIGHASH_ANYONECANPAY)&&(i&31)!==we.SIGHASH_SINGLE&&(i&31)!==we.SIGHASH_NONE&&(a=b.Buffer.allocUnsafe(4*this.ins.length),s=new it.BufferWriter(a,0),this.ins.forEach(d=>{s.writeUInt32(d.sequence)}),c=Dt.hash256(a)),(i&31)!==we.SIGHASH_SINGLE&&(i&31)!==we.SIGHASH_NONE){let d=this.outs.reduce((l,_)=>l+8+Lr(_.script),0);a=b.Buffer.allocUnsafe(d),s=new it.BufferWriter(a,0),this.outs.forEach(l=>{s.writeUInt64(l.value),s.writeVarSlice(l.script)}),o=Dt.hash256(a)}else if((i&31)===we.SIGHASH_SINGLE&&e<this.outs.length){let d=this.outs[e];a=b.Buffer.allocUnsafe(8+Lr(d.script)),s=new it.BufferWriter(a,0),s.writeUInt64(d.value),s.writeVarSlice(d.script),o=Dt.hash256(a)}a=b.Buffer.allocUnsafe(156+r.length),s=new it.BufferWriter(a,0);let u=this.ins[e];return s.writeInt32(this.version),s.writeSlice(f),s.writeSlice(c),s.writeSlice(u.hash),s.writeUInt32(u.index),s.writeSlice(r),s.writeUInt64(n),s.writeUInt32(u.sequence),s.writeSlice(o),s.writeUInt32(this.locktime),s.writeUInt32(i),Dt.hash256(a)}};Fr.Transaction=we;we.DEFAULT_SEQUENCE=4294967295;we.SIGHASH_DEFAULT=0;we.SIGHASH_ALL=1;we.SIGHASH_NONE=2;we.SIGHASH_SINGLE=3;we.SIGHASH_ANYONECANPAY=128;we.SIGHASH_OUTPUT_MASK=3;we.SIGHASH_INPUT_MASK=128;we.SIGHASH_BITCOINCASHBIP143=64;we.ADVANCED_TRANSACTION_MARKER=0;we.ADVANCED_TRANSACTION_FLAG=1});var er=H(dr=>{"use strict";g();m();Object.defineProperty(dr,"__esModule",{value:!0});dr.OUTPUT_TYPE_NAMES=dr.OutputTypes=dr.INPUT_TYPE_NAMES=dr.InputTypes=dr.GLOBAL_TYPE_NAMES=dr.GlobalTypes=void 0;var mE;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(mE=dr.GlobalTypes||(dr.GlobalTypes={}));dr.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var wE;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(wE=dr.InputTypes||(dr.InputTypes={}));dr.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var _E;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(_E=dr.OutputTypes||(dr.OutputTypes={}));dr.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var Wv=H(hn=>{"use strict";g();m();Object.defineProperty(hn,"__esModule",{value:!0});hn.canAddToArray=hn.check=hn.expected=hn.encode=hn.decode=void 0;var zv=er(),SE=t=>[...Array(t).keys()];function xE(t){if(t.key[0]!==zv.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of SE(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),a=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(a?"'":"")}return r}hn.decode=xE;function EE(t){let e=b.Buffer.from([zv.GlobalTypes.GLOBAL_XPUB]),r=b.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=b.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let a=4;return n.slice(1).forEach(s=>{let o=s.slice(-1)==="'",f=2147483647&parseInt(o?s.slice(0,-1):s,10);o&&(f+=2147483648),i.writeUInt32LE(f,a),a+=4}),{key:r,value:i}}hn.encode=EE;hn.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function AE(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return b.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&b.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}hn.check=AE;function PE(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}hn.canAddToArray=PE});var Gv=H(xu=>{"use strict";g();m();Object.defineProperty(xu,"__esModule",{value:!0});xu.encode=void 0;var TE=er();function IE(t){return{key:b.Buffer.from([TE.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}xu.encode=IE});var Xv=H(ln=>{"use strict";g();m();Object.defineProperty(ln,"__esModule",{value:!0});ln.canAdd=ln.check=ln.expected=ln.encode=ln.decode=void 0;var Vv=er();function OE(t){if(t.key[0]!==Vv.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}ln.decode=OE;function BE(t){return{key:b.Buffer.from([Vv.InputTypes.FINAL_SCRIPTSIG]),value:t}}ln.encode=BE;ln.expected="Buffer";function ME(t){return b.Buffer.isBuffer(t)}ln.check=ME;function CE(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}ln.canAdd=CE});var $v=H(pn=>{"use strict";g();m();Object.defineProperty(pn,"__esModule",{value:!0});pn.canAdd=pn.check=pn.expected=pn.encode=pn.decode=void 0;var Yv=er();function RE(t){if(t.key[0]!==Yv.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}pn.decode=RE;function qE(t){return{key:b.Buffer.from([Yv.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}pn.encode=qE;pn.expected="Buffer";function kE(t){return b.Buffer.isBuffer(t)}pn.check=kE;function NE(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}pn.canAdd=NE});var Zv=H(bn=>{"use strict";g();m();Object.defineProperty(bn,"__esModule",{value:!0});bn.canAdd=bn.check=bn.expected=bn.encode=bn.decode=void 0;var Jv=er();function HE(t){if(t.key[0]!==Jv.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}bn.decode=HE;function UE(t){return{key:b.Buffer.from([Jv.InputTypes.NON_WITNESS_UTXO]),value:t}}bn.encode=UE;bn.expected="Buffer";function DE(t){return b.Buffer.isBuffer(t)}bn.check=DE;function LE(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}bn.canAdd=LE});var e6=H(vn=>{"use strict";g();m();Object.defineProperty(vn,"__esModule",{value:!0});vn.canAddToArray=vn.check=vn.expected=vn.encode=vn.decode=void 0;var Qv=er();function FE(t){if(t.key[0]!==Qv.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}vn.decode=FE;function jE(t){let e=b.Buffer.from([Qv.InputTypes.PARTIAL_SIG]);return{key:b.Buffer.concat([e,t.pubkey]),value:t.signature}}vn.encode=jE;vn.expected="{ pubkey: Buffer; signature: Buffer; }";function KE(t){return b.Buffer.isBuffer(t.pubkey)&&b.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&zE(t.signature)}vn.check=KE;function zE(t){if(!b.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function WE(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}vn.canAddToArray=WE});var r6=H(yn=>{"use strict";g();m();Object.defineProperty(yn,"__esModule",{value:!0});yn.canAdd=yn.check=yn.expected=yn.encode=yn.decode=void 0;var t6=er();function GE(t){if(t.key[0]!==t6.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}yn.decode=GE;function VE(t){return{key:b.Buffer.from([t6.InputTypes.POR_COMMITMENT]),value:b.Buffer.from(t,"utf8")}}yn.encode=VE;yn.expected="string";function XE(t){return typeof t=="string"}yn.check=XE;function YE(t,e){return!!t&&!!e&&t.porCommitment===void 0}yn.canAdd=YE});var i6=H(gn=>{"use strict";g();m();Object.defineProperty(gn,"__esModule",{value:!0});gn.canAdd=gn.check=gn.expected=gn.encode=gn.decode=void 0;var n6=er();function $E(t){if(t.key[0]!==n6.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}gn.decode=$E;function JE(t){let e=b.Buffer.from([n6.InputTypes.SIGHASH_TYPE]),r=b.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}gn.encode=JE;gn.expected="number";function ZE(t){return typeof t=="number"}gn.check=ZE;function QE(t,e){return!!t&&!!e&&t.sighashType===void 0}gn.canAdd=QE});var o6=H(mn=>{"use strict";g();m();Object.defineProperty(mn,"__esModule",{value:!0});mn.canAdd=mn.check=mn.expected=mn.encode=mn.decode=void 0;var a6=er();function eA(t){if(t.key[0]!==a6.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!s6(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}mn.decode=eA;function tA(t){return{key:b.Buffer.from([a6.InputTypes.TAP_KEY_SIG]),value:t}}mn.encode=tA;mn.expected="Buffer";function s6(t){return b.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}mn.check=s6;function rA(t,e){return!!t&&!!e&&t.tapKeySig===void 0}mn.canAdd=rA});var c6=H(wn=>{"use strict";g();m();Object.defineProperty(wn,"__esModule",{value:!0});wn.canAddToArray=wn.check=wn.expected=wn.encode=wn.decode=void 0;var f6=er();function nA(t){if(t.key[0]!==f6.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}wn.decode=nA;function iA(t){let e=b.Buffer.from([f6.InputTypes.TAP_LEAF_SCRIPT]),r=b.Buffer.from([t.leafVersion]);return{key:b.Buffer.concat([e,t.controlBlock]),value:b.Buffer.concat([t.script,r])}}wn.encode=iA;wn.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function aA(t){return b.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&b.Buffer.isBuffer(t.script)}wn.check=aA;function sA(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}wn.canAddToArray=sA});var h6=H(_n=>{"use strict";g();m();Object.defineProperty(_n,"__esModule",{value:!0});_n.canAdd=_n.check=_n.expected=_n.encode=_n.decode=void 0;var u6=er();function oA(t){if(t.key[0]!==u6.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!d6(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}_n.decode=oA;function fA(t){return{key:b.Buffer.from([u6.InputTypes.TAP_MERKLE_ROOT]),value:t}}_n.encode=fA;_n.expected="Buffer";function d6(t){return b.Buffer.isBuffer(t)&&t.length===32}_n.check=d6;function cA(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}_n.canAdd=cA});var p6=H(Sn=>{"use strict";g();m();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.canAddToArray=Sn.check=Sn.expected=Sn.encode=Sn.decode=void 0;var l6=er();function uA(t){if(t.key[0]!==l6.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Sn.decode=uA;function dA(t){let e=b.Buffer.from([l6.InputTypes.TAP_SCRIPT_SIG]);return{key:b.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Sn.encode=dA;Sn.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function hA(t){return b.Buffer.isBuffer(t.pubkey)&&b.Buffer.isBuffer(t.leafHash)&&b.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Sn.check=hA;function lA(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}Sn.canAddToArray=lA});var Na=H(ka=>{"use strict";g();m();Object.defineProperty(ka,"__esModule",{value:!0});ka.encodingLength=ka.decode=ka.encode=void 0;var pA=9007199254740991;function Q0(t){if(t<0||t>pA||t%1!==0)throw new RangeError("value out of range")}function Rf(t,e,r){if(Q0(t),e||(e=b.Buffer.allocUnsafe(b6(t))),!b.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(Rf,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(Rf,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(Rf,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(Rf,{bytes:9})),e}ka.encode=Rf;function qf(t,e){if(!b.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(qf,{bytes:1}),r;if(r===253)return Object.assign(qf,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(qf,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(qf,{bytes:9});let n=t.readUInt32LE(e+1),a=t.readUInt32LE(e+5)*4294967296+n;return Q0(a),a}}ka.decode=qf;function b6(t){return Q0(t),t<253?1:t<=65535?3:t<=4294967295?5:9}ka.encodingLength=b6});var Au=H(Lt=>{"use strict";g();m();var bA=Lt&&Lt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vA=Lt&&Lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yA=Lt&&Lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bA(e,t,r);return vA(e,t),e};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.writeUInt64LE=Lt.readUInt64LE=Lt.keyValToBuffer=Lt.keyValsToBuffer=Lt.reverseBuffer=Lt.range=void 0;var Eu=yA(Na()),gA=t=>[...Array(t).keys()];Lt.range=gA;function mA(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Lt.reverseBuffer=mA;function wA(t){let e=t.map(v6);return e.push(b.Buffer.from([0])),b.Buffer.concat(e)}Lt.keyValsToBuffer=wA;function v6(t){let e=t.key.length,r=t.value.length,n=Eu.encodingLength(e),i=Eu.encodingLength(r),a=b.Buffer.allocUnsafe(n+e+i+r);return Eu.encode(e,a,0),t.key.copy(a,n),Eu.encode(r,a,n+e),t.value.copy(a,n+e+i),a}Lt.keyValToBuffer=v6;function y6(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function _A(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,y6(n+r,9007199254740991),n+r}Lt.readUInt64LE=_A;function SA(t,e,r){return y6(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Lt.writeUInt64LE=SA});var w6=H(tr=>{"use strict";g();m();var xA=tr&&tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EA=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AA=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xA(e,t,r);return EA(e,t),e};Object.defineProperty(tr,"__esModule",{value:!0});tr.canAdd=tr.check=tr.expected=tr.encode=tr.decode=void 0;var g6=er(),m6=Au(),Pu=AA(Na());function PA(t){if(t.key[0]!==g6.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=(0,m6.readUInt64LE)(t.value,0),r=8,n=Pu.decode(t.value,r);r+=Pu.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}tr.decode=PA;function TA(t){let{script:e,value:r}=t,n=Pu.encodingLength(e.length),i=b.Buffer.allocUnsafe(8+n+e.length);return(0,m6.writeUInt64LE)(i,r,0),Pu.encode(e.length,i,8),e.copy(i,8+n),{key:b.Buffer.from([g6.InputTypes.WITNESS_UTXO]),value:i}}tr.encode=TA;tr.expected="{ script: Buffer; value: number; }";function IA(t){return b.Buffer.isBuffer(t.script)&&typeof t.value=="number"}tr.check=IA;function OA(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}tr.canAdd=OA});var S6=H(rr=>{"use strict";g();m();var BA=rr&&rr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MA=rr&&rr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CA=rr&&rr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BA(e,t,r);return MA(e,t),e};Object.defineProperty(rr,"__esModule",{value:!0});rr.canAdd=rr.check=rr.expected=rr.encode=rr.decode=void 0;var _6=er(),el=CA(Na());function RA(t){if(t.key[0]!==_6.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],a=el.decode(t.value,e);e+=el.encodingLength(a),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+a)}),e+=a}return{leaves:r}}rr.decode=RA;function qA(t){let e=b.Buffer.from([_6.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[b.Buffer.of(n.depth,n.leafVersion),el.encode(n.script.length),n.script]));return{key:e,value:b.Buffer.concat(r)}}rr.encode=qA;rr.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function kA(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&b.Buffer.isBuffer(e.script))}rr.check=kA;function NA(t,e){return!!t&&!!e&&t.tapTree===void 0}rr.canAdd=NA});var tl=H(Tu=>{"use strict";g();m();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.makeConverter=void 0;var HA=t=>[...Array(t).keys()],UA=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function DA(t,e=UA){function r(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+o.key.toString("hex"));let f=o.key.slice(1);if(!e(f))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+o.key.toString("hex"));if(o.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let c={masterFingerprint:o.value.slice(0,4),pubkey:f,path:"m"};for(let u of HA(o.value.length/4-1)){let d=o.value.readUInt32LE(u*4+4),l=!!(d&2147483648),_=d&2147483647;c.path+="/"+_.toString(10)+(l?"'":"")}return c}function n(o){let f=b.Buffer.from([t]),c=b.Buffer.concat([f,o.pubkey]),u=o.path.split("/"),d=b.Buffer.allocUnsafe(u.length*4);o.masterFingerprint.copy(d,0);let l=4;return u.slice(1).forEach(_=>{let T=_.slice(-1)==="'",B=2147483647&parseInt(T?_.slice(0,-1):_,10);T&&(B+=2147483648),d.writeUInt32LE(B,l),l+=4}),{key:c,value:d}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function a(o){return b.Buffer.isBuffer(o.pubkey)&&b.Buffer.isBuffer(o.masterFingerprint)&&typeof o.path=="string"&&e(o.pubkey)&&o.masterFingerprint.length===4}function s(o,f,c){let u=f.pubkey.toString("hex");return c.has(u)?!1:(c.add(u),o.filter(d=>d.pubkey.equals(f.pubkey)).length===0)}return{decode:r,encode:n,check:a,expected:i,canAddToArray:s}}Tu.makeConverter=DA});var x6=H(Iu=>{"use strict";g();m();Object.defineProperty(Iu,"__esModule",{value:!0});Iu.makeChecker=void 0;function LA(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}Iu.makeChecker=LA});var E6=H(Ou=>{"use strict";g();m();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.makeConverter=void 0;function FA(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:b.Buffer.from([t]),value:s}}let n="Buffer";function i(s){return b.Buffer.isBuffer(s)}function a(s,o){return!!s&&!!o&&s.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:a}}Ou.makeConverter=FA});var P6=H(Si=>{"use strict";g();m();var jA=Si&&Si.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KA=Si&&Si.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A6=Si&&Si.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jA(e,t,r);return KA(e,t),e};Object.defineProperty(Si,"__esModule",{value:!0});Si.makeConverter=void 0;var Bu=A6(Na()),zA=A6(tl()),WA=t=>t.length===32;function GA(t){let e=zA.makeConverter(t,WA);function r(s){let o=Bu.decode(s.value),f=Bu.encodingLength(o),c=e.decode({key:s.key,value:s.value.slice(f+o*32)}),u=new Array(o);for(let d=0,l=f;d<o;d++,l+=32)u[d]=s.value.slice(l,l+32);return{...c,leafHashes:u}}function n(s){let o=e.encode(s),f=Bu.encodingLength(s.leafHashes.length),c=b.Buffer.allocUnsafe(f);Bu.encode(s.leafHashes.length,c);let u=b.Buffer.concat([c,...s.leafHashes,o.value]);return{...o,value:u}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function a(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(o=>b.Buffer.isBuffer(o)&&o.length===32)&&e.check(s)}return{decode:r,encode:n,check:a,expected:i,canAddToArray:e.canAddToArray}}Si.makeConverter=GA});var T6=H(Mu=>{"use strict";g();m();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.makeConverter=void 0;function VA(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:b.Buffer.from([t]),value:s}}let n="Buffer";function i(s){return b.Buffer.isBuffer(s)&&s.length===32}function a(s,o){return!!s&&!!o&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:a}}Mu.makeConverter=VA});var I6=H(Cu=>{"use strict";g();m();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.makeConverter=void 0;function XA(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:b.Buffer.from([t]),value:s}}let n="Buffer";function i(s){return b.Buffer.isBuffer(s)}function a(s,o){return!!s&&!!o&&s.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:a}}Cu.makeConverter=XA});var Ru=H(jr=>{"use strict";g();m();var YA=jr&&jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$A=jr&&jr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ft=jr&&jr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YA(e,t,r);return $A(e,t),e};Object.defineProperty(jr,"__esModule",{value:!0});jr.outputs=jr.inputs=jr.globals=void 0;var rn=er(),JA=Ft(Wv()),ZA=Ft(Gv()),QA=Ft(Xv()),eP=Ft($v()),tP=Ft(Zv()),rP=Ft(e6()),nP=Ft(r6()),iP=Ft(i6()),aP=Ft(o6()),sP=Ft(c6()),oP=Ft(h6()),fP=Ft(p6()),cP=Ft(w6()),uP=Ft(S6()),O6=Ft(tl()),rl=Ft(x6()),B6=Ft(E6()),M6=Ft(P6()),C6=Ft(T6()),R6=Ft(I6()),dP={unsignedTx:ZA,globalXpub:JA,checkPubkey:rl.makeChecker([])};jr.globals=dP;var hP={nonWitnessUtxo:tP,partialSig:rP,sighashType:iP,finalScriptSig:QA,finalScriptWitness:eP,porCommitment:nP,witnessUtxo:cP,bip32Derivation:O6.makeConverter(rn.InputTypes.BIP32_DERIVATION),redeemScript:B6.makeConverter(rn.InputTypes.REDEEM_SCRIPT),witnessScript:R6.makeConverter(rn.InputTypes.WITNESS_SCRIPT),checkPubkey:rl.makeChecker([rn.InputTypes.PARTIAL_SIG,rn.InputTypes.BIP32_DERIVATION]),tapKeySig:aP,tapScriptSig:fP,tapLeafScript:sP,tapBip32Derivation:M6.makeConverter(rn.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:C6.makeConverter(rn.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:oP};jr.inputs=hP;var lP={bip32Derivation:O6.makeConverter(rn.OutputTypes.BIP32_DERIVATION),redeemScript:B6.makeConverter(rn.OutputTypes.REDEEM_SCRIPT),witnessScript:R6.makeConverter(rn.OutputTypes.WITNESS_SCRIPT),checkPubkey:rl.makeChecker([rn.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:M6.makeConverter(rn.OutputTypes.TAP_BIP32_DERIVATION),tapTree:uP,tapInternalKey:C6.makeConverter(rn.OutputTypes.TAP_INTERNAL_KEY)};jr.outputs=lP});var H6=H(Kr=>{"use strict";g();m();var pP=Kr&&Kr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bP=Kr&&Kr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k6=Kr&&Kr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pP(e,t,r);return bP(e,t),e};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.psbtFromKeyVals=Kr.checkKeyBuffer=Kr.psbtFromBuffer=void 0;var at=k6(Ru()),qu=Au(),q6=k6(Na()),Be=er();function vP(t,e){let r=0;function n(){let F=q6.decode(t,r);r+=q6.encodingLength(F);let L=t.slice(r,r+F);return r+=F,L}function i(){let F=t.readUInt32BE(r);return r+=4,F}function a(){let F=t.readUInt8(r);return r+=1,F}function s(){let F=n(),L=n();return{key:F,value:L}}function o(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let F=t.readUInt8(r)===0;return F&&r++,F}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(a()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let f=[],c={};for(;!o();){let F=s(),L=F.key.toString("hex");if(c[L])throw new Error("Format Error: Keys must be unique for global keymap: key "+L);c[L]=1,f.push(F)}let u=f.filter(F=>F.key[0]===Be.GlobalTypes.UNSIGNED_TX);if(u.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let d=e(u[0].value),{inputCount:l,outputCount:_}=d.getInputOutputCounts(),T=[],B=[];for(let F of(0,qu.range)(l)){let L={},J=[];for(;!o();){let ne=s(),ie=ne.key.toString("hex");if(L[ie])throw new Error("Format Error: Keys must be unique for each input: input index "+F+" key "+ie);L[ie]=1,J.push(ne)}T.push(J)}for(let F of(0,qu.range)(_)){let L={},J=[];for(;!o();){let ne=s(),ie=ne.key.toString("hex");if(L[ie])throw new Error("Format Error: Keys must be unique for each output: output index "+F+" key "+ie);L[ie]=1,J.push(ne)}B.push(J)}return N6(d,{globalMapKeyVals:f,inputKeyVals:T,outputKeyVals:B})}Kr.psbtFromBuffer=vP;function hr(t,e,r){if(!e.equals(b.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}Kr.checkKeyBuffer=hr;function N6(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},a=0;for(let u of e)switch(u.key[0]){case Be.GlobalTypes.UNSIGNED_TX:if(hr("global",u.key,Be.GlobalTypes.UNSIGNED_TX),a>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");a++;break;case Be.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(at.globals.globalXpub.decode(u));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(u)}let s=r.length,o=n.length,f=[],c=[];for(let u of(0,qu.range)(s)){let d={};for(let l of r[u])switch(at.inputs.checkPubkey(l),l.key[0]){case Be.InputTypes.NON_WITNESS_UTXO:if(hr("input",l.key,Be.InputTypes.NON_WITNESS_UTXO),d.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");d.nonWitnessUtxo=at.inputs.nonWitnessUtxo.decode(l);break;case Be.InputTypes.WITNESS_UTXO:if(hr("input",l.key,Be.InputTypes.WITNESS_UTXO),d.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");d.witnessUtxo=at.inputs.witnessUtxo.decode(l);break;case Be.InputTypes.PARTIAL_SIG:d.partialSig===void 0&&(d.partialSig=[]),d.partialSig.push(at.inputs.partialSig.decode(l));break;case Be.InputTypes.SIGHASH_TYPE:if(hr("input",l.key,Be.InputTypes.SIGHASH_TYPE),d.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");d.sighashType=at.inputs.sighashType.decode(l);break;case Be.InputTypes.REDEEM_SCRIPT:if(hr("input",l.key,Be.InputTypes.REDEEM_SCRIPT),d.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");d.redeemScript=at.inputs.redeemScript.decode(l);break;case Be.InputTypes.WITNESS_SCRIPT:if(hr("input",l.key,Be.InputTypes.WITNESS_SCRIPT),d.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");d.witnessScript=at.inputs.witnessScript.decode(l);break;case Be.InputTypes.BIP32_DERIVATION:d.bip32Derivation===void 0&&(d.bip32Derivation=[]),d.bip32Derivation.push(at.inputs.bip32Derivation.decode(l));break;case Be.InputTypes.FINAL_SCRIPTSIG:hr("input",l.key,Be.InputTypes.FINAL_SCRIPTSIG),d.finalScriptSig=at.inputs.finalScriptSig.decode(l);break;case Be.InputTypes.FINAL_SCRIPTWITNESS:hr("input",l.key,Be.InputTypes.FINAL_SCRIPTWITNESS),d.finalScriptWitness=at.inputs.finalScriptWitness.decode(l);break;case Be.InputTypes.POR_COMMITMENT:hr("input",l.key,Be.InputTypes.POR_COMMITMENT),d.porCommitment=at.inputs.porCommitment.decode(l);break;case Be.InputTypes.TAP_KEY_SIG:hr("input",l.key,Be.InputTypes.TAP_KEY_SIG),d.tapKeySig=at.inputs.tapKeySig.decode(l);break;case Be.InputTypes.TAP_SCRIPT_SIG:d.tapScriptSig===void 0&&(d.tapScriptSig=[]),d.tapScriptSig.push(at.inputs.tapScriptSig.decode(l));break;case Be.InputTypes.TAP_LEAF_SCRIPT:d.tapLeafScript===void 0&&(d.tapLeafScript=[]),d.tapLeafScript.push(at.inputs.tapLeafScript.decode(l));break;case Be.InputTypes.TAP_BIP32_DERIVATION:d.tapBip32Derivation===void 0&&(d.tapBip32Derivation=[]),d.tapBip32Derivation.push(at.inputs.tapBip32Derivation.decode(l));break;case Be.InputTypes.TAP_INTERNAL_KEY:hr("input",l.key,Be.InputTypes.TAP_INTERNAL_KEY),d.tapInternalKey=at.inputs.tapInternalKey.decode(l);break;case Be.InputTypes.TAP_MERKLE_ROOT:hr("input",l.key,Be.InputTypes.TAP_MERKLE_ROOT),d.tapMerkleRoot=at.inputs.tapMerkleRoot.decode(l);break;default:d.unknownKeyVals||(d.unknownKeyVals=[]),d.unknownKeyVals.push(l)}f.push(d)}for(let u of(0,qu.range)(o)){let d={};for(let l of n[u])switch(at.outputs.checkPubkey(l),l.key[0]){case Be.OutputTypes.REDEEM_SCRIPT:if(hr("output",l.key,Be.OutputTypes.REDEEM_SCRIPT),d.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");d.redeemScript=at.outputs.redeemScript.decode(l);break;case Be.OutputTypes.WITNESS_SCRIPT:if(hr("output",l.key,Be.OutputTypes.WITNESS_SCRIPT),d.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");d.witnessScript=at.outputs.witnessScript.decode(l);break;case Be.OutputTypes.BIP32_DERIVATION:d.bip32Derivation===void 0&&(d.bip32Derivation=[]),d.bip32Derivation.push(at.outputs.bip32Derivation.decode(l));break;case Be.OutputTypes.TAP_INTERNAL_KEY:hr("output",l.key,Be.OutputTypes.TAP_INTERNAL_KEY),d.tapInternalKey=at.outputs.tapInternalKey.decode(l);break;case Be.OutputTypes.TAP_TREE:hr("output",l.key,Be.OutputTypes.TAP_TREE),d.tapTree=at.outputs.tapTree.decode(l);break;case Be.OutputTypes.TAP_BIP32_DERIVATION:d.tapBip32Derivation===void 0&&(d.tapBip32Derivation=[]),d.tapBip32Derivation.push(at.outputs.tapBip32Derivation.decode(l));break;default:d.unknownKeyVals||(d.unknownKeyVals=[]),d.unknownKeyVals.push(l)}c.push(d)}return{globalMap:i,inputs:f,outputs:c}}Kr.psbtFromKeyVals=N6});var L6=H(xn=>{"use strict";g();m();var yP=xn&&xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gP=xn&&xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mP=xn&&xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yP(e,t,r);return gP(e,t),e};Object.defineProperty(xn,"__esModule",{value:!0});xn.psbtToKeyVals=xn.psbtToBuffer=void 0;var nl=mP(Ru()),U6=Au();function wP({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:a}=D6({globalMap:t,inputs:e,outputs:r}),s=(0,U6.keyValsToBuffer)(n),o=d=>d.length===0?[b.Buffer.from([0])]:d.map(U6.keyValsToBuffer),f=o(i),c=o(a),u=b.Buffer.allocUnsafe(5);return u.writeUIntBE(482972169471,0,5),b.Buffer.concat([u,s].concat(f,c))}xn.psbtToBuffer=wP;var _P=(t,e)=>t.key.compare(e.key);function il(t,e){let r=new Set,n=Object.entries(t).reduce((a,[s,o])=>{if(s==="unknownKeyVals")return a;let f=e[s];if(f===void 0)return a;let c=(Array.isArray(o)?o:[o]).map(f.encode);return c.map(d=>d.key.toString("hex")).forEach(d=>{if(r.has(d))throw new Error("Serialize Error: Duplicate key: "+d);r.add(d)}),a.concat(c)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(a=>!r.has(a.key.toString("hex"))):[];return n.concat(i).sort(_P)}function D6({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:il(t,nl.globals),inputKeyVals:e.map(n=>il(n,nl.inputs)),outputKeyVals:r.map(n=>il(n,nl.outputs))}}xn.psbtToKeyVals=D6});var al=H(Ha=>{"use strict";g();m();var SP=Ha&&Ha.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F6=Ha&&Ha.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SP(e,t,r)};Object.defineProperty(Ha,"__esModule",{value:!0});F6(H6(),Ha);F6(L6(),Ha)});var K6=H(ku=>{"use strict";g();m();Object.defineProperty(ku,"__esModule",{value:!0});ku.combine=void 0;var sl=al();function xP(t){let e=t[0],r=(0,sl.psbtToKeyVals)(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=j6(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let a=mo(r.globalKeyVals),s=r.inputKeyVals.map(mo),o=r.outputKeyVals.map(mo);for(let f of n){let c=j6(f);if(c===void 0||!c.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let u=(0,sl.psbtToKeyVals)(f);mo(u.globalKeyVals).forEach(ol(a,r.globalKeyVals,u.globalKeyVals)),u.inputKeyVals.map(mo).forEach((T,B)=>T.forEach(ol(s[B],r.inputKeyVals[B],u.inputKeyVals[B]))),u.outputKeyVals.map(mo).forEach((T,B)=>T.forEach(ol(o[B],r.outputKeyVals[B],u.outputKeyVals[B])))}return(0,sl.psbtFromKeyVals)(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}ku.combine=xP;function ol(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(a=>a.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function j6(t){return t.globalMap.unsignedTx}function mo(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var cl=H(Le=>{"use strict";g();m();var EP=Le&&Le.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AP=Le&&Le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PP=Le&&Le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EP(e,t,r);return AP(e,t),e};Object.defineProperty(Le,"__esModule",{value:!0});Le.defaultLocktimeSetter=Le.defaultVersionSetter=Le.addOutputAttributes=Le.addInputAttributes=Le.updateOutput=Le.updateInput=Le.updateGlobal=Le.inputCheckUncleanFinalized=Le.getEnumLength=Le.checkHasKey=Le.checkForOutput=Le.checkForInput=void 0;var TP=PP(Ru());function W6(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Le.checkForInput=W6;function G6(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Le.checkForOutput=G6;function IP(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Le.checkHasKey=IP;function OP(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Le.getEnumLength=OP;function BP(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,a=!n||!!e.finalScriptSig,s=!i||!!e.finalScriptWitness,o=!!e.finalScriptSig||!!e.finalScriptWitness;r=a&&s&&o}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Le.inputCheckUncleanFinalized=BP;function z6(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function fl(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:a,canAddToArray:s,check:o,expected:f}=TP[t+"s"][n]||{},c=!!s;if(o)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(o)||z6(t,n,f,i);let u=r[n]||[],d=new Set;if(!i.every(l=>s(u,l,d)))throw new Error("Can not add duplicate data to array");r[n]=u.concat(i)}else{if(o(i)||z6(t,n,f,i),!a(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Le.updateGlobal=fl("global");Le.updateInput=fl("input");Le.updateOutput=fl("output");function MP(t,e){let r=t.length-1,n=W6(t,r);(0,Le.updateInput)(e,n)}Le.addInputAttributes=MP;function CP(t,e){let r=t.length-1,n=G6(t,r);(0,Le.updateOutput)(e,n)}Le.addOutputAttributes=CP;function RP(t,e){if(!b.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Le.defaultVersionSetter=RP;function qP(t,e){if(!b.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Le.defaultLocktimeSetter=qP});var X6=H(Nu=>{"use strict";g();m();Object.defineProperty(Nu,"__esModule",{value:!0});Nu.Psbt=void 0;var kP=K6(),V6=al(),ul=er(),lr=cl(),dl=class{static fromBase64(e,r){let n=b.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=b.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=(0,V6.psbtFromBuffer)(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,V6.psbtToBuffer)(this)}updateGlobal(e){return(0,lr.updateGlobal)(e,this.globalMap),this}updateInput(e,r){let n=(0,lr.checkForInput)(this.inputs,e);return(0,lr.updateInput)(r,n),this}updateOutput(e,r){let n=(0,lr.checkForOutput)(this.outputs,e);return(0,lr.updateOutput)(r,n),this}addUnknownKeyValToGlobal(e){return(0,lr.checkHasKey)(e,this.globalMap.unknownKeyVals,(0,lr.getEnumLength)(ul.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=(0,lr.checkForInput)(this.inputs,e);return(0,lr.checkHasKey)(r,n.unknownKeyVals,(0,lr.getEnumLength)(ul.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=(0,lr.checkForOutput)(this.outputs,e);return(0,lr.checkHasKey)(r,n.unknownKeyVals,(0,lr.getEnumLength)(ul.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,lr.addInputAttributes)(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,lr.addOutputAttributes)(this.outputs,e),this}clearFinalizedInput(e){let r=(0,lr.checkForInput)(this.inputs,e);(0,lr.inputCheckUncleanFinalized)(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=(0,kP.combine)([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Nu.Psbt=dl});var ys=H(Ke=>{"use strict";g();m();var NP=Ke&&Ke.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HP=Ke&&Ke.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hl=Ke&&Ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NP(e,t,r);return HP(e,t),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.signatureBlocksAction=Ke.checkInputForSig=Ke.pubkeyInScript=Ke.pubkeyPositionInScript=Ke.witnessStackToScriptWitness=Ke.isP2TR=Ke.isP2SHScript=Ke.isP2WSHScript=Ke.isP2WPKH=Ke.isP2PKH=Ke.isP2PK=Ke.isP2MS=void 0;var Y6=hl(Na()),kf=hl(Gt()),Hu=ps(),UP=Br(),bs=hl(Ca());function vs(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}Ke.isP2MS=vs(bs.p2ms);Ke.isP2PK=vs(bs.p2pk);Ke.isP2PKH=vs(bs.p2pkh);Ke.isP2WPKH=vs(bs.p2wpkh);Ke.isP2WSHScript=vs(bs.p2wsh);Ke.isP2SHScript=vs(bs.p2sh);Ke.isP2TR=vs(bs.p2tr);function DP(t){let e=b.Buffer.allocUnsafe(0);function r(s){e=b.Buffer.concat([e,b.Buffer.from(s)])}function n(s){let o=e.length,f=Y6.encodingLength(s);e=b.Buffer.concat([e,b.Buffer.allocUnsafe(f)]),Y6.encode(s,e,o)}function i(s){n(s.length),r(s)}function a(s){n(s.length),s.forEach(i)}return a(t),e}Ke.witnessStackToScriptWitness=DP;function $6(t,e){let r=(0,UP.hash160)(t),n=t.slice(1,33),i=kf.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(a=>typeof a=="number"?!1:a.equals(t)||a.equals(r)||a.equals(n))}Ke.pubkeyPositionInScript=$6;function LP(t,e){return $6(t,e)!==-1}Ke.pubkeyInScript=LP;function FP(t,e){return jP(t).some(n=>J6(n,kf.signature.decode,e))}Ke.checkInputForSig=FP;function J6(t,e,r){let{hashType:n}=e(t),i=[];switch(n&Hu.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case Hu.Transaction.SIGHASH_ALL:break;case Hu.Transaction.SIGHASH_SINGLE:case Hu.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}Ke.signatureBlocksAction=J6;function jP(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=KP(t)}else e=t.partialSig;return e.map(r=>r.signature)}function KP(t){let e=t.finalScriptSig?kf.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?kf.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>b.Buffer.isBuffer(n)&&kf.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var yl=H(dt=>{"use strict";g();m();Object.defineProperty(dt,"__esModule",{value:!0});dt.checkTaprootInputForSigs=dt.tapTreeFromList=dt.tapTreeToList=dt.tweakInternalPubKey=dt.checkTaprootOutputFields=dt.checkTaprootInputFields=dt.isTaprootOutput=dt.isTaprootInput=dt.serializeTaprootSignature=dt.tapScriptFinalizer=dt.toXOnly=void 0;var vl=mr(),zP=ps(),Lu=ys(),Ua=gu(),WP=Ca(),GP=ys(),VP=t=>t.length===32?t:t.slice(1,33);dt.toXOnly=VP;function XP(t,e,r){let n=hT(e,t,r);try{let a=uT(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,Lu.witnessStackToScriptWitness)(a)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}dt.tapScriptFinalizer=XP;function YP(t,e){let r=e?b.Buffer.from([e]):b.Buffer.from([]);return b.Buffer.concat([t,r])}dt.serializeTaprootSignature=YP;function Uu(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,Lu.isP2TR)(t.witnessUtxo.script))}dt.isTaprootInput=Uu;function Du(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,Lu.isP2TR)(e))}dt.isTaprootOutput=Du;function $P(t,e,r){oT(t,e,r),cT(t,e,r)}dt.checkTaprootInputFields=$P;function JP(t,e,r){fT(t,e,r),ZP(t,e)}dt.checkTaprootOutputFields=JP;function ZP(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,a=QP(r,n);if(i&&!i.equals(a))throw new Error("Error adding output. Script or address missmatch.")}}function QP(t,e){let r=e&&Z6(e.leaves),{output:n}=(0,WP.p2tr)({internalPubkey:t,scriptTree:r});return n}function eT(t,e){let r=e.tapInternalKey,n=r&&(0,Ua.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}dt.tweakInternalPubKey=eT;function tT(t){if(!(0,vl.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return pl(t)}dt.tapTreeToList=tT;function Z6(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:sT(t)}dt.tapTreeFromList=Z6;function rT(t,e){return iT(t).some(n=>(0,GP.signatureBlocksAction)(n,nT,e))}dt.checkTaprootInputForSigs=rT;function nT(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||zP.Transaction.SIGHASH_DEFAULT}}function iT(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=aT(t.finalScriptWitness);r&&e.push(r)}return e}function aT(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function pl(t,e=[],r=0){if(r>Ua.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,vl.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Ua.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&pl(t[0],e,r+1),t[1]&&pl(t[1],e,r+1),e):[]}function sT(t){let e;for(let r of t)if(e=bl(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function bl(t,e,r=0){if(r>Ua.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,vl.isTapleaf)(e))return;let n=bl(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=bl(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function oT(t,e,r){let n=Uu(t)&&wo(e),i=wo(t)&&Uu(e),a=t===e&&Uu(e)&&wo(e);if(n||i||a)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function fT(t,e,r){let n=Du(t)&&wo(e),i=wo(t)&&Du(e),a=t===e&&Du(e)&&wo(e);if(n||i||a)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function cT(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(a=>ll(a,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(a=>ll(a,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>ll(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function ll(t,e){if(!e)return!0;let r=(0,Ua.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Ua.rootHashFromPath)(t.controlBlock,r).equals(e)}function uT(t,e){let r=(0,Ua.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>dT(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function dT(t,e){return Object.assign({positionInScript:(0,Lu.pubkeyPositionInScript)(e.pubkey,t)},e)}function hT(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,a)=>i.controlBlock.length-a.controlBlock.length).find(i=>lT(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function lT(t,e,r){let n=(0,Ua.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(a=>a.leafHash.equals(n))!==void 0}function wo(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var Sl=H(An=>{"use strict";g();m();var pT=An&&An.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bT=An&&An.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_l=An&&An.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pT(e,t,r);return bT(e,t),e};Object.defineProperty(An,"__esModule",{value:!0});An.getHashAndSighashType=An.Psbt=void 0;var Q6=X6(),e3=_l(Na()),Cr=cl(),t3=yo(),_o=Ba(),vT=tn(),En=_l(Ca()),yT=gu(),ea=_l(Gt()),mt=ps(),Je=yl(),Yt=ys(),Uf=$e(),gT=Gt(),mT=ls(),wT=Uf.signUtil.schnorr.secp256k1.schnorr,_T={network:vT.bitcoin,maximumFeeRate:5e3},So=class{static fromBase64(e,r={}){let n=b.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=b.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=Q6.Psbt.fromBuffer(e,ST),i=new So(r,n);return TT(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new Q6.Psbt(new ju)){this.data=r,this.opts=Object.assign({},_T,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,a,s,o)=>Object.defineProperty(i,a,{enumerable:s,writable:o});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,_o.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,t3.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,_o.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=So.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){Fu(e),this.opts.maximumFeeRate=e}setVersion(e){Fu(e),Nf(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){Fu(e),Nf(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){Fu(r),Nf(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Je.checkTaprootInputFields)(e,e,"addInput"),Nf(this.data.inputs,"addInput"),e.witnessScript&&Ku(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];u3(r,n);let i=this.data.inputs.length-1,a=this.data.inputs[i];return a.nonWitnessUtxo&&wl(this.__CACHE,a,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Nf(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,a=(0,t3.toOutputScript)(r,i);e=Object.assign(e,{script:a})}(0,Je.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(f3))throw new Error("Not finalized");let r=this.__CACHE;if(e||ET(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return b3(this.data.inputs,n,r,!0),n}getFeeRate(){return s3("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return s3("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Cr.checkForInput)(this.data.inputs,0),Hf(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Cr.checkForInput)(this.data.inputs,e);return(0,Je.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Je.tapScriptFinalizer){let i=(0,Cr.checkForInput)(this.data.inputs,e);if((0,Je.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=IT){let{script:i,isP2SH:a,isP2WSH:s,isSegwit:o}=CT(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);AT(r);let{finalScriptSig:f,finalScriptWitness:c}=n(e,r,i,o,a,s);if(f&&this.data.updateInput(e,{finalScriptSig:f}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!f&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Je.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let a=En.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,Yt.witnessStackToScriptWitness)(a.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:a}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:a})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Cr.checkForInput)(this.data.inputs,e),n=v3(e,r,this.__CACHE),i=Wu(n,e,"input",r.redeemScript||HT(r.finalScriptSig),r.witnessScript||UT(r.finalScriptWitness)),a=i.type==="raw"?"":i.type+"-",s=m3(i.meaningfulScript);return a+s}inputHasPubkey(e,r){let n=(0,Cr.checkForInput)(this.data.inputs,e);return kT(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Cr.checkForInput)(this.data.inputs,e),i=n3(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Cr.checkForOutput)(this.data.outputs,e);return NT(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Cr.checkForOutput)(this.data.outputs,e),i=n3(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Cr.checkForInput)(this.data.inputs,0),Hf(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Je.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],a=(i||{}).partialSig;if(!i||!a||a.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?a.filter(d=>d.pubkey.equals(n)):a;if(s.length<1)throw new Error("No signatures for this pubkey");let o=[],f,c,u;for(let d of s){let l=ea.signature.decode(d.signature),{hash:_,script:T}=u!==l.hashType?h3(e,Object.assign({},i,{sighashType:l.hashType}),this.__CACHE,!0):{hash:f,script:c};u=l.hashType,f=_,c=T,c3(d.pubkey,T,"verify"),o.push(r(d.pubkey,_,l.signature))}return o.every(d=>d===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],a=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!a&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Je.toXOnly)(n);let o=n?ml(e,i,this.data.inputs,n,this.__CACHE):BT(e,i,this.data.inputs,this.__CACHE);if(!o.length)throw new Error("No signatures for this pubkey");let f=o.find(c=>!!c.leafHash);if(a&&f&&!r(f.pubkey,f.hash,a))return!1;if(s)for(let c of s){let u=o.find(d=>c.pubkey.equals(d.pubkey));if(u&&!r(c.pubkey,u.hash,c.signature))return!1}return!0}signAllInputsHD(e,r=[mt.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of Hf(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[mt.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let a=[],s=[];for(let o of Hf(this.data.inputs.length))s.push(this.signInputHDAsync(o,e,r).then(()=>{a.push(!0)},()=>{a.push(!1)}));return Promise.all(s).then(()=>{if(a.every(o=>o===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[mt.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return o3(e,this.data.inputs,r).forEach(a=>this.signInput(e,a,n)),this}signInputHDAsync(e,r,n=[mt.Transaction.SIGHASH_ALL]){return new Promise((i,a)=>{if(!r||!r.publicKey||!r.fingerprint)return a(new Error("Need HDSigner to sign input"));let o=o3(e,this.data.inputs,r).map(f=>this.signInputAsync(e,f,n));return Promise.all(o).then(()=>{i()}).catch(a)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of Hf(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let a=[],s=[];for(let[o]of this.data.inputs.entries())s.push(this.signInputAsync(o,e,r).then(()=>{a.push(!0)},()=>{a.push(!1)}));return Promise.all(s).then(()=>{if(a.every(o=>o===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Cr.checkForInput)(this.data.inputs,e);return(0,Je.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let a=(0,Cr.checkForInput)(this.data.inputs,e);if((0,Je.isTaprootInput)(a))return this._signTaprootInput(e,a,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}getHashAndSighashType(e,r,n=[mt.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:a}=Df(this.data.inputs,e,r,this.__CACHE,n);return{hash:i,sighashType:a}}_signInput(e,r,n=[mt.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:a}=Df(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:ea.signature.encode(r.sign(i),a)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,i,a=[mt.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,a),o=s.filter(c=>!c.leafHash).map(c=>(0,Je.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType))[0],f=s.filter(c=>!!c.leafHash).map(c=>({pubkey:(0,Je.toXOnly)(n.publicKey),signature:(0,Je.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType),leafHash:c.leafHash}));return o&&this.data.updateInput(e,{tapKeySig:o}),f.length&&this.data.updateInput(e,{tapScriptSig:f}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Cr.checkForInput)(this.data.inputs,e);return(0,Je.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let a=(0,Cr.checkForInput)(this.data.inputs,e);if((0,Je.isTaprootInput)(a))return this._signTaprootInputAsync(e,a,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[mt.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:a}=Df(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{let o=[{pubkey:r.publicKey,signature:ea.signature.encode(s,a)}];this.data.updateInput(e,{partialSig:o})})}async _signTaprootInputAsync(e,r,n,i,a=[mt.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,i,a),o=[],f=s.filter(u=>!u.leafHash)[0];if(f){let u=Promise.resolve(n.signSchnorr(f.hash)).then(d=>({tapKeySig:(0,Je.serializeTaprootSignature)(d,r.sighashType)}));o.push(u)}let c=s.filter(u=>!!u.leafHash);if(c.length){let u=c.map(d=>Promise.resolve(n.signSchnorr(d.hash)).then(l=>({tapScriptSig:[{pubkey:(0,Je.toXOnly)(n.publicKey),signature:(0,Je.serializeTaprootSignature)(l,r.sighashType),leafHash:d.leafHash}]})));o.push(...u)}return Promise.all(o).then(u=>{u.forEach(d=>this.data.updateInput(e,d))})}checkTaprootHashesForSig(e,r,n,i,a){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=ml(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,a);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return gl(this.__CACHE),this.data.toBuffer()}toHex(){return gl(this.__CACHE),this.data.toHex()}toBase64(){return gl(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&Ku(r.witnessScript),(0,Je.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&wl(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Je.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}verify(e,r){let n=[mt.Transaction.SIGHASH_SINGLE|mt.Transaction.SIGHASH_ANYONECANPAY,mt.Transaction.SIGHASH_ALL,mt.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,Je.isTaprootInput)(this.data.inputs[i])){let a=b.Buffer.from((0,mT.taprootTweakPubkey)(e.slice(1))[0]),o=new _o.BufferReader(r).readVector(),f={publicKey:a,sign(d){return b.Buffer.alloc(64)},signSchnorr(d){return b.Buffer.alloc(64)}},u=this.checkTaprootHashesForSig(i,this.data.inputs[i],f,void 0,n).filter(d=>!d.leafHash)[0].hash;if(!wT.verify(Uf.base.toHex(o[0]),Uf.base.toHex(u),Uf.base.toHex(a)))return!1}else{let{hash:a}=Df(this.data.inputs,i,e,this.__CACHE,n),o=new _o.BufferReader(r).readVector(),f=gT.signature.decode(o[0]).signature,c=o[1];if(!e.equals(c))throw Error("pubKey error");if(!Uf.signUtil.secp256k1.verifyWithNoRecovery(a,f,e))return!1}return!0}};An.Psbt=So;var ST=t=>new ju(t),ju=class{constructor(e=b.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=mt.Transaction.fromBuffer(e),PT(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!b.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,_o.reverseBuffer)(b.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!b.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function xT(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return r3(1,t.partialSig);case"multisig":let n=En.p2ms({output:e});return r3(n.m,t.partialSig,n.pubkeys);default:return!1}}function gl(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function r3(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let a=DT(i);return e.find(s=>s.pubkey.equals(a))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function f3(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function n3(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function Fu(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function ET(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),a=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(a/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Nf(t,e){t.forEach(r=>{if((0,Je.isTaprootInput)(r)?(0,Je.checkTaprootInputForSigs)(r,e):(0,Yt.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function AT(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=ea.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function c3(t,e,r){if(!(0,Yt.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function PT(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function TT(t,e){t.ins.forEach(r=>{u3(e,r)})}function u3(t,e){let r=(0,_o.reverseBuffer)(b.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function d3(t,e){return(r,n,i,a)=>{let s=t({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${e} for ${a} #${r} doesn't match the scriptPubKey in the prevout`)}}var i3=d3(En.p2sh,"Redeem script"),a3=d3(En.p2wsh,"Witness script");function s3(t,e,r,n){if(!r.every(f3))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,a=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,a=!1):i=n.__TX.clone(),b3(r,i,n,a),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function IT(t,e,r,n,i,a){let s=m3(r);if(!xT(e,r,s))throw new Error(`Can not finalize input #${t}`);return OT(r,s,e.partialSig,n,i,a)}function OT(t,e,r,n,i,a){let s,o,f=MT(t,e,r),c=a?En.p2wsh({redeem:f}):null,u=i?En.p2sh({redeem:c||f}):null;return n?(c?o=(0,Yt.witnessStackToScriptWitness)(c.witness):o=(0,Yt.witnessStackToScriptWitness)(f.witness),u&&(s=u.input)):u?s=u.input:s=f.input,{finalScriptSig:s,finalScriptWitness:o}}function Df(t,e,r,n,i){let a=(0,Cr.checkForInput)(t,e),{hash:s,sighashType:o,script:f}=h3(e,a,n,!1,i);return c3(r,f,"sign"),{hash:s,sighashType:o}}An.getHashAndSighashType=Df;function h3(t,e,r,n,i){let a=r.__TX,s=e.sighashType||mt.Transaction.SIGHASH_ALL;l3(s,i);let o,f;if(e.nonWitnessUtxo){let d=zu(r,e,t),l=a.ins[t].hash,_=d.getHash();if(!l.equals(_))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let T=a.ins[t].index;f=d.outs[T]}else if(e.witnessUtxo)f=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:c,type:u}=Wu(f.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(u)>=0)o=a.hashForWitnessV0(t,c,f.value,s);else if((0,Yt.isP2WPKH)(c)){let d=En.p2pkh({hash:c.slice(2)}).output;o=a.hashForWitnessV0(t,d,f.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),o=a.hashForSignature(t,c,s)}return{script:c,sighashType:s,hash:o}}function BT(t,e,r,n){let i=[];if(e.tapInternalKey){let s=(0,Je.tweakInternalPubKey)(t,e);i.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(o=>o.pubkey);i.push(...s)}return i.map(s=>ml(t,e,r,s,n)).flat()}function ml(t,e,r,n,i,a,s){let o=i.__TX,f=e.sighashType||mt.Transaction.SIGHASH_DEFAULT;l3(f,s);let c=r.map((T,B)=>y3(B,T,i)),u=c.map(T=>T.script),d=c.map(T=>T.value),l=[];if(e.tapInternalKey&&!a){let T=(0,Je.tweakInternalPubKey)(t,e);if((0,Je.toXOnly)(n).equals(T)){let B=o.hashForWitnessV1(t,u,d,f);l.push({pubkey:n,hash:B})}}let _=(e.tapLeafScript||[]).filter(T=>(0,Yt.pubkeyInScript)(n,T.script)).map(T=>{let B=(0,yT.tapleafHash)({output:T.script,version:T.leafVersion});return Object.assign({hash:B},T)}).filter(T=>!a||a.equals(T.hash)).map(T=>{let B=o.hashForWitnessV1(t,u,d,mt.Transaction.SIGHASH_DEFAULT,T.hash);return{pubkey:n,hash:B,leafHash:T.hash}});return l.concat(_)}function l3(t,e){if(e&&e.indexOf(t)<0){let r=qT(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function MT(t,e,r){let n;switch(e){case"multisig":let i=RT(t,r);n=En.p2ms({output:t,signatures:i});break;case"pubkey":n=En.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=En.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=En.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function CT(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let a=zu(r,e,t),s=n.ins[t].index;i.script=a.outs[s].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Yt.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function o3(t,e,r){let n=(0,Cr.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(s=>{let o=r.derivePath(s.path);if(!s.pubkey.equals(o.publicKey))throw new Error("pubkey did not match bip32Derivation");return o})}function RT(t,e){return En.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function p3(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=e3.decode(t,e);return e+=e3.decode.bytes,s}function i(){return r(n())}function a(){let s=n(),o=[];for(let f=0;f<s;f++)o.push(i());return o}return a()}function qT(t){let e=t&mt.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case mt.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case mt.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case mt.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function wl(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=mt.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,a=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=i.__NON_WITNESS_UTXO_BUF_CACHE[a],o=i.__NON_WITNESS_UTXO_TX_CACHE[a];if(s!==void 0)return s;{let f=o.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[a]=f,f}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[a]=s}})}function b3(t,e,r,n){let i=0;t.forEach((f,c)=>{if(n&&f.finalScriptSig&&(e.ins[c].script=f.finalScriptSig),n&&f.finalScriptWitness&&(e.ins[c].witness=p3(f.finalScriptWitness)),f.witnessUtxo)i+=f.witnessUtxo.value;else if(f.nonWitnessUtxo){let u=zu(r,f,c),d=e.ins[c].index;i+=u.outs[d].value}});let a=e.outs.reduce((f,c)=>f+c.value,0),s=i-a;if(s<0)throw new Error("Outputs are spending more than Inputs");let o=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/o)}function zu(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||wl(t,e,r),n[r]}function v3(t,e,r){let{script:n}=y3(t,e,r);return n}function y3(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=zu(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function kT(t,e,r,n){let i=v3(r,e,n),{meaningfulScript:a}=Wu(i,r,"input",e.redeemScript,e.witnessScript);return(0,Yt.pubkeyInScript)(t,a)}function NT(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:a}=Wu(i,r,"output",e.redeemScript,e.witnessScript);return(0,Yt.pubkeyInScript)(t,a)}function HT(t){if(!t)return;let e=ea.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!b.Buffer.isBuffer(r)||g3(r)||LT(r)||!ea.decompile(r)))return r}function UT(t){if(!t)return;let e=p3(t),r=e[e.length-1];if(!(g3(r)||!ea.decompile(r)))return r}function DT(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function g3(t){return t.length===33&&ea.isCanonicalPubKey(t)}function LT(t){return ea.isCanonicalScriptSignature(t)}function Wu(t,e,r,n,i){let a=(0,Yt.isP2SHScript)(t),s=a&&n&&(0,Yt.isP2WSHScript)(n),o=(0,Yt.isP2WSHScript)(t);if(a&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((o||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let f;return s?(f=i,i3(e,t,n,r),a3(e,n,i,r),Ku(f)):o?(f=i,a3(e,t,i,r),Ku(f)):a?(f=n,i3(e,t,n,r)):f=t,{meaningfulScript:f,type:s?"p2sh-p2wsh":a?"p2sh":o?"p2wsh":"raw"}}function Ku(t){if((0,Yt.isP2WPKH)(t)||(0,Yt.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function m3(t){return(0,Yt.isP2WPKH)(t)?"witnesspubkeyhash":(0,Yt.isP2PKH)(t)?"pubkeyhash":(0,Yt.isP2MS)(t)?"multisig":(0,Yt.isP2PK)(t)?"pubkey":"nonstandard"}function Hf(t){return[...Array(t).keys()]}});var Al=H(xi=>{"use strict";g();m();Object.defineProperty(xi,"__esModule",{value:!0});xi.encode=xi.decode=xi.encodeRaw=xi.decodeRaw=void 0;var xl=$e();function w3(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}xi.decodeRaw=w3;function El(t,e,r){let n=b.Buffer.alloc(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}xi.encodeRaw=El;function FT(t,e){return w3(xl.base.fromBase58Check(t),e)}xi.decode=FT;function jT(t,e,r){return typeof t=="number"?xl.base.toBase58Check(El(t,e,r)):xl.base.toBase58Check(El(t.version,t.privateKey,t.compressed))}xi.encode=jT});var Gu=H(zr=>{"use strict";g();m();var KT=zr&&zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zT=zr&&zr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WT=zr&&zr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KT(e,t,r);return zT(e,t),e};Object.defineProperty(zr,"__esModule",{value:!0});zr.countAdjustedVsize=zr.convertScriptSigAsm=zr.countScriptSigops=void 0;var GT=fs(),VT=Ei(),_3=$e(),XT=WT(Pn());function Lf(t,e=!1,r=!1){if(!t?.length)return 0;let n=0;if(n+=t.match(/OP_CHECKSIG/g)?.length||0,e)n+=20*(t.match(/OP_CHECKMULTISIG/g)?.length||0);else{let i=t.matchAll(/(?:OP_(?:PUSHNUM_)?(\d+))? OP_CHECKMULTISIG/g);for(let a of i){let s=parseInt(a[1]);Number.isInteger(s)?n+=s:n+=20}}return r?n:n*4}zr.countScriptSigops=Lf;function Ff(t){if(t?.length==0)return"";let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>=1&&n<=78){r++;let i;n===76?(i=t.readUInt8(r),e.push("OP_PUSHDATA1"),r+=1):n===77?(i=t.readUInt16LE(r),e.push("OP_PUSHDATA2"),r+=2):n===78?(i=t.readUInt32LE(r),e.push("OP_PUSHDATA4"),r+=4):(i=n,e.push("OP_PUSHBYTES_"+i));let a=t.slice(r,r+i);if(a.length!==i)break;e.push(a.toString("hex")),r+=a.length}else{if(n===0)e.push("OP_0");else if(n===79)e.push("OP_PUSHNUM_NEG1");else if(n===177)e.push("OP_CLTV");else if(n===178)e.push("OP_CSV");else if(n===186)e.push("OP_CHECKSIGADD");else{let i=GT.REVERSE_OPS[n];i&&n<253?/^OP_(\d+)$/.test(i)?e.push(i.replace(/^OP_(\d+)$/,"OP_PUSHNUM_$1")):e.push(i):e.push("OP_RETURN_"+n)}r+=1}}return e.join(" ")}zr.convertScriptSigAsm=Ff;function YT(t,e,r){if(t==null)return 0;r==null&&(r=XT.networks.bitcoin);let n=0;(e!=null||null)&&e.length==t.ins.length&&t.ins.forEach((a,s)=>{if(a.script!=null&&(n+=Lf(Ff(a.script),!0)),e.length<=s||e[s]==null||null||e[s]=="")return;let o=(0,VT.getAddressType)(e[s],r);switch(!0){case(o==="segwit_nested"&&a.witness?.length===2&&a.script&&_3.base.toHex(a.script).startsWith("160014")):case o==="segwit_native":n+=1;break;case(o==="segwit_nested"&&a.witness?.length&&a.script&&_3.base.toHex(a.script).startsWith("220020")):case o==="segwit_native":a.witness?.length&&(n+=Lf(Ff(a.witness[a.witness.length-1]),!1,!0));break;case o==="segwit_nested":a.script&&(n+=Lf(Ff(a.script)));break}});for(let a of t.outs)a&&(n+=Lf(Ff(a.script),!0));let i=t.virtualSize();return i>n*5?i:n*5}zr.countAdjustedVsize=YT});var Ei=H(Me=>{"use strict";g();m();var $T=Me&&Me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JT=Me&&Me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jf=Me&&Me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$T(e,t,r);return JT(e,t),e};Object.defineProperty(Me,"__esModule",{value:!0});Me.estimateBchFee=Me.estimateBtcFee=Me.ValidSignedTransaction=Me.getMPCTransaction=Me.calculateBchTxSize=Me.calculateTxSize=Me.signBch=Me.getAddressType=Me.signBtc=Me.TxBuild=Me.private2Wif=Me.wif2Public=Me.sign=Me.private2public=Me.privateKeyFromWIF=Me.Array=void 0;var He=jf(Pn()),x3=Pn(),le=$e(),E3=jf(Al()),S3=yo(),A3=jf(Br()),P3=jf(ls()),ta=jf(Gt()),Da=fs(),ZT=Gu(),T3=le.signUtil.schnorr.secp256k1.schnorr;Me.Array=le.typeforce.Array;function Pl(t,e){let r=E3.decode(t),n=r.version;if((0,Me.Array)(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||He.networks.bitcoin,n!==e.wif)throw new Error("Invalid network version");return le.base.toHex(r.privateKey)}Me.privateKeyFromWIF=Pl;function Tl(t){return le.signUtil.secp256k1.publicKeyCreate(le.base.fromHex(t),!0)}Me.private2public=Tl;function Vu(t,e){let{signature:r}=le.signUtil.secp256k1.sign(t,le.base.fromHex(e));return b.Buffer.from(r)}Me.sign=Vu;function QT(t,e){let r=Pl(t,e);return Tl(r)}Me.wif2Public=QT;function Kf(t,e){return e=e||He.networks.bitcoin,E3.encode(e.wif,t,!0)}Me.private2Wif=Kf;var gs=class{constructor(e,r,n,i){this.tx=new He.Transaction,this.network=He.networks.bitcoin,e?this.tx.version=e:this.tx.version=2,r&&(this.network=r),this.inputs=[],this.outputs=[],this.bitcoinCash=n||!1,this.hardware=i||!1}addInput(e,r,n,i,a,s,o,f){this.inputs.push({txId:e,index:r,privateKey:n,address:i,script:a,value:s,publicKey:o,sequence:f})}addOutput(e,r,n){this.outputs.push({address:e,value:r,omniScript:n})}build(e){let r=[];for(let n of this.inputs){let i=le.base.reverseBuffer(b.Buffer.from(n.txId,"hex"));this.tx.addInput(i,n.index,n.sequence),n.privateKey?r.push(Pl(n.privateKey,this.network)):r.push("")}for(let n of this.outputs)if(n.omniScript)this.tx.addOutput(le.base.fromHex(n.omniScript),0);else{let i=He.address.toOutputScript(n.address,this.network);this.tx.addOutput(i,n.value)}if(this.hardware)return this.tx.toHex();for(let n=0;n<r.length;n++){let i=r[n],a;i?a=Tl(i):this.hardware||(a=le.base.fromHex(this.inputs[n].publicKey));let s,o=He.Transaction.SIGHASH_ALL;if(this.bitcoinCash){let f=He.payments.p2pkh({pubkey:a}).output;o=He.Transaction.SIGHASH_ALL|He.Transaction.SIGHASH_BITCOINCASHBIP143;let c=this.inputs[n].value||0;s=this.tx.hashForCashSignature(n,f,c,o);let u;e?(e.push(le.base.toHex(s)),u=b.Buffer.alloc(64,0)):u=Vu(s,i);let d=He.payments.p2pkh({output:f,pubkey:a,signature:He.script.signature.encode(u,o)});d.input&&(this.tx.ins[n].script=d.input)}else{let f=I3(this.inputs[n].address,this.network);if(f==="legacy"){let c=He.payments.p2pkh({pubkey:a}).output;s=this.tx.hashForSignature(n,c,o);let u;e?(e.push(le.base.toHex(s)),u=b.Buffer.alloc(64,0)):u=Vu(s,i);let d=He.payments.p2pkh({output:c,pubkey:a,signature:He.script.signature.encode(u,o)});d.input&&(this.tx.ins[n].script=d.input)}else if(f==="segwit_taproot"){let c=this.inputs.map(l=>He.address.toOutputScript(l.address,this.network)),u=this.inputs.map(l=>l.value);s=this.tx.hashForWitnessV1(n,c,u,He.Transaction.SIGHASH_DEFAULT);let d;if(e)e.push(le.base.toHex(s)),d=b.Buffer.alloc(64,0);else{let l=P3.taprootTweakPrivKey(le.base.fromHex(i));d=b.Buffer.from(T3.sign(s,l,le.base.randomBytes(32)))}this.tx.ins[n].witness=[b.Buffer.from(d)]}else{let c=A3.hash160(a),u=b.Buffer.of(25,118,169,20,...c,136,172),d=this.inputs[n].value||0;s=this.tx.hashForWitness(n,u,d,o);let l;e?(e.push(le.base.toHex(s)),l=b.Buffer.alloc(64,0)):l=Vu(s,i),this.tx.ins[n].witness=[],this.tx.ins[n].witness.push(He.script.signature.encode(l,o)),this.tx.ins[n].witness.push(a);let _=b.Buffer.of(22,0,20,...c);f!=="segwit_native"&&(this.tx.ins[n].script=_)}}}return this.tx.toHex()}virtualSize(){return(0,ZT.countAdjustedVsize)(this.tx,this.inputs.map(e=>e.address),this.network||He.networks.bitcoin)}};Me.TxBuild=gs;function eI(t,e,r,n,i,a){let s=t.inputs,o=t.outputs,f=t.address,c=t.feePerB||10,u=t.dustSize||546;if(r=r||He.networks.bitcoin,t.memo&&(le.base.isHexString(t.memo)?le.base.fromHex(t.memo):b.Buffer.from(le.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let d=e;if(d||(d=Kf(le.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),a){let{inputAmount:L,outputAmount:J,virtualSize:ne}=Xu(s,o,f,d,r,u,!1,t.memo,t.memoPos);return(L-J-ne*c).toString()}let{inputAmount:l,outputAmount:_,virtualSize:T}=Xu(s,o,f,d,r,u,!1,t.memo,t.memoPos),B=l-_-T*c,F=new gs(2,r,!1,i);for(let L=0;L<s.length;L++){let J=s[L],ne=J.privateKey||e,ie=J.address||f;F.addInput(J.txId,J.vOut,ne,ie,J.reedScript,J.amount,J.publicKey,J.sequence)}t.memo&&t.memoPos==0&&F.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(t.memo)?le.base.fromHex(t.memo):b.Buffer.from(le.base.toUtf8(t.memo))))));for(let L=0;L<o.length;L++){let J=o[L];F.addOutput(J.address,J.amount,J.omniScript),t.memo&&t.memoPos&&F.outputs.length==t.memoPos&&F.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(t.memo)?le.base.fromHex(t.memo):b.Buffer.from(le.base.toUtf8(t.memo))))))}return B>u&&(F.addOutput(f,B),t.memo&&t.memoPos&&F.outputs.length==t.memoPos&&F.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(t.memo)?le.base.fromHex(t.memo):b.Buffer.from(le.base.toUtf8(t.memo))))))),t.memo&&(t.memoPos==null||t.memoPos<0||t.memoPos>F.outputs.length)&&F.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(t.memo)?le.base.fromHex(t.memo):b.Buffer.from(le.base.toUtf8(t.memo)))))),F.build(n)}Me.signBtc=eI;function I3(t,e){let r,n;try{r=(0,S3.fromBase58Check)(t)}catch{}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,S3.fromBech32)(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0)return"segwit_native";if(n.version===1)return"segwit_taproot"}}return"legacy"}Me.getAddressType=I3;function tI(t,e,r,n,i){let a=t.inputs,s=t.outputs,o=t.address,f=t.feePerB||10,c=t.dustSize||546;r=r||He.networks.bitcoin;let u=e;u||(u=Kf(le.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:d,outputAmount:l,virtualSize:_}=Il(a,s,o,u,r,c),T=d-l-_*f,B=new gs(2,r,!0,i);for(let F=0;F<a.length;F++){let L=a[F];B.addInput(L.txId,L.vOut,e,o,void 0,L.amount,L.publicKey,L.sequence)}for(let F=0;F<s.length;F++){let L=s[F];B.addOutput(L.address,L.amount)}return T>c&&B.addOutput(o,T),B.build(n)}Me.signBch=tI;function Xu(t,e,r,n,i,a,s,o,f){let c=new gs(2,i,!1,s),u=0;for(let T=0;T<t.length;T++){let B=t[T],F=B.privateKey||n,L=B.address||r;c.addInput(B.txId,B.vOut,F,L,B.reedScript,B.amount,B.publicKey,B.sequence),u=u+(B.amount||0)}o&&f==0&&c.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(o)?le.base.fromHex(o):b.Buffer.from(le.base.toUtf8(o))))));let d=0;for(let T=0;T<e.length;T++){let B=e[T];c.addOutput(B.address,B.amount,B.omniScript),d=d+B.amount,o&&f&&c.outputs.length==f&&c.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(o)?le.base.fromHex(o):b.Buffer.from(le.base.toUtf8(o))))))}u-d>a&&(c.addOutput(r,u-d),o&&f&&c.outputs.length==f&&c.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(o)?le.base.fromHex(o):b.Buffer.from(le.base.toUtf8(o))))))),o&&(f==null||f<0||f>c.outputs.length)&&c.addOutput("",0,le.base.toHex(ta.compile([Da.OPS.OP_RETURN].concat(le.base.isHexString(o)?le.base.fromHex(o):b.Buffer.from(le.base.toUtf8(o))))));let l=c.build(),_=c.virtualSize();return{inputAmount:u,outputAmount:d,virtualSize:_,txHex:l}}Me.calculateTxSize=Xu;function Il(t,e,r,n,i,a,s){let o=new gs(2,i,!0,s),f=0;for(let l=0;l<t.length;l++){let _=t[l];o.addInput(_.txId,_.vOut,n,r,void 0,_.amount,_.publicKey,_.sequence),f=f+(_.amount||0)}let c=0;for(let l=0;l<e.length;l++){let _=e[l];o.addOutput(_.address,_.amount),c=c+_.amount}f-c>a&&o.addOutput(r,f-c);let u=o.build(),d=o.tx.virtualSize();return{inputAmount:f,outputAmount:c,virtualSize:d,txHex:u}}Me.calculateBchTxSize=Il;function rI(t,e,r){let n=x3.Transaction.fromBuffer(le.base.fromHex(t),!1);for(let i=0;i<n.ins.length;i++){let a=n.ins[i],s=le.base.fromHex(e[i]),o=He.Transaction.SIGHASH_ALL;if(r){o=He.Transaction.SIGHASH_ALL|He.Transaction.SIGHASH_BITCOINCASHBIP143;let f=He.payments.p2pkh({input:a.script}),c=He.payments.p2pkh({pubkey:f.pubkey,signature:He.script.signature.encode(s,o)});c.input&&(a.script=c.input)}else{let f;if(a.witness.length===2)f="segwit_native";else if(a.witness.length===1)f="segwit_taproot";else if(a.witness.length===0)f="legacy";else throw Error("unknown witness length");if(f==="legacy"){let c=He.payments.p2pkh({input:a.script}),u=He.payments.p2pkh({pubkey:c.pubkey,signature:He.script.signature.encode(s,o)});u.input&&(a.script=u.input)}else f==="segwit_taproot"?a.witness=[s]:a.witness[0]=He.script.signature.encode(s,o)}}return n.toHex()}Me.getMPCTransaction=rI;function nI(t,e,r){let n=x3.Transaction.fromBuffer(le.base.fromHex(t),!1);if(!e)return n;for(let i=0;i<n.ins.length;i++){let a=n.ins[i],s=e[i],o;if(a.witness.length===2)o="segwit_native";else if(a.witness.length===1)o="segwit_taproot";else if(a.witness.length===0)o="legacy";else throw Error("unknown witness length");if(o==="legacy"){let f=ta.decompile(a.script),c=f[0],u=f[1],d=He.script.signature.decode(c),l=He.address.toOutputScript(s.address,r),_=n.hashForSignature(i,l,d.hashType);if(!le.signUtil.secp256k1.verifyWithNoRecovery(_,d.signature,u))throw Error("signature error")}else if(o==="segwit_native"){let f=a.witness[0],c=a.witness[1],u=He.script.signature.decode(f),d=b.Buffer.of(25,118,169,20,...A3.hash160(c),136,172),l=n.hashForWitness(i,d,s.value,u.hashType);if(!le.signUtil.secp256k1.verifyWithNoRecovery(l,u.signature,c))throw Error("signature error")}else{let f=a.witness[0],c=e.map(_=>He.address.toOutputScript(_.address,r)),u=e.map(_=>_.value),d=n.hashForWitnessV1(i,c,u,He.Transaction.SIGHASH_DEFAULT),l=P3.taprootTweakPubkey(le.base.fromHex(s.publicKey).slice(1))[0];if(!T3.verify(le.base.toHex(f),le.base.toHex(d),le.base.toHex(l)))throw Error("signature error")}}for(let i of n.ins)i.hash=le.base.reverseBuffer(i.hash);return n}Me.ValidSignedTransaction=nI;function iI(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,a=t.dustSize||546;e=e||He.networks.bitcoin;let s=Kf(le.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:o}=Xu(r,n,t.address,s,e,a,!1,t.memo);return o*i}Me.estimateBtcFee=iI;function aI(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,a=t.dustSize||546;e=e||He.networks.bitcoin;let s=Kf(le.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:o}=Il(r,n,t.address,s,e,a);return o*i}Me.estimateBchFee=aI});var ms=H((az,Bl)=>{"use strict";g();m();var Ol=65536,sI=4294967295;function oI(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var fI=We().Buffer,Yu=globalThis.crypto||globalThis.msCrypto;Yu&&Yu.getRandomValues?Bl.exports=cI:Bl.exports=oI;function cI(t,e){if(t>sI)throw new RangeError("requested too many random bytes");var r=fI.allocUnsafe(t);if(t>0)if(t>Ol)for(var n=0;n<t;n+=Ol)Yu.getRandomValues(r.slice(n,n+Ol));else Yu.getRandomValues(r);return typeof e=="function"?q.nextTick(function(){e(null,r)}):r}});var Ae=H((fz,Ml)=>{g();m();typeof Object.create=="function"?Ml.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ml.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var R3={};Af(R3,{EventEmitter:()=>Ve,default:()=>uI});function La(){}function Ve(){Ve.init.call(this)}function O3(t){return t._maxListeners===void 0?Ve.defaultMaxListeners:t._maxListeners}function dI(t,e,r){if(e)t.call(r);else for(var n=t.length,i=zf(t,n),a=0;a<n;++a)i[a].call(r)}function hI(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,a=zf(t,i),s=0;s<i;++s)a[s].call(r,n)}function lI(t,e,r,n,i){if(e)t.call(r,n,i);else for(var a=t.length,s=zf(t,a),o=0;o<a;++o)s[o].call(r,n,i)}function pI(t,e,r,n,i,a){if(e)t.call(r,n,i,a);else for(var s=t.length,o=zf(t,s),f=0;f<s;++f)o[f].call(r,n,i,a)}function bI(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,a=zf(t,i),s=0;s<i;++s)a[s].apply(r,n)}function B3(t,e,r,n){var i,a,s;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(a=t._events,a?(a.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]):(a=t._events=new La,t._eventsCount=0),!s)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=O3(t),i&&i>0&&s.length>i)){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,vI(o)}return t}function vI(t){typeof console.warn=="function"?console.warn(t):console.log(t)}function M3(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function C3(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}function yI(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function zf(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function gI(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}var Cl,uI,q3=Gi(()=>{"use strict";g();m();La.prototype=Object.create(null);uI=Ve;Ve.EventEmitter=Ve;Ve.usingDomains=!1;Ve.prototype.domain=void 0;Ve.prototype._events=void 0;Ve.prototype._maxListeners=void 0;Ve.defaultMaxListeners=10;Ve.init=function(){this.domain=null,Ve.usingDomains&&Cl.active&&!(this instanceof Cl.Domain)&&(this.domain=Cl.active),(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new La,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ve.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};Ve.prototype.getMaxListeners=function(){return O3(this)};Ve.prototype.emit=function(e){var r,n,i,a,s,o,f,c=!1,u=e==="error";if(o=this._events,o)u=u&&o.error==null;else if(!u)return!1;if(f=this.domain,u){if(r=arguments[1],f)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=f,r.domainThrown=!1,f.emit("error",r);else{if(r instanceof Error)throw r;var d=new Error('Uncaught, unspecified "error" event. ('+r+")");throw d.context=r,d}return!1}if(n=o[e],!n)return!1;var l=typeof n=="function";switch(i=arguments.length,i){case 1:dI(n,l,this);break;case 2:hI(n,l,this,arguments[1]);break;case 3:lI(n,l,this,arguments[1],arguments[2]);break;case 4:pI(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(a=new Array(i-1),s=1;s<i;s++)a[s-1]=arguments[s];bI(n,l,this,a)}return c&&f.exit(),!0};Ve.prototype.addListener=function(e,r){return B3(this,e,r,!1)};Ve.prototype.on=Ve.prototype.addListener;Ve.prototype.prependListener=function(e,r){return B3(this,e,r,!0)};Ve.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,M3(this,e,r)),this};Ve.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,M3(this,e,r)),this};Ve.prototype.removeListener=function(e,r){var n,i,a,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount===0?this._events=new La:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length;s-- >0;)if(n[s]===r||n[s].listener&&n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new La,this;delete i[e]}else yI(n,a);i.removeListener&&this.emit("removeListener",e,o||r)}return this};Ve.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new La,this._eventsCount=0):n[e]&&(--this._eventsCount===0?this._events=new La:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),a=0,s;a<i.length;++a)s=i[a],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=new La,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};Ve.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=gI(r):n=[]):n=[],n};Ve.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):C3.call(t,e)};Ve.prototype.listenerCount=C3;Ve.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}});var Ju=H((lz,$u)=>{g();m();var ws=(q3(),Pf(R3));if(ws&&ws.default){$u.exports=ws.default;for(let t in ws)$u.exports[t]=ws[t]}else ws&&($u.exports=ws)});var Wf=H((vz,Rl)=>{"use strict";g();m();typeof q>"u"||!q.version||q.version.indexOf("v0.")===0||q.version.indexOf("v1.")===0&&q.version.indexOf("v1.8.")!==0?Rl.exports={nextTick:mI}:Rl.exports=q;function mI(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,a,s;switch(i){case 0:case 1:return q.nextTick(t);case 2:return q.nextTick(function(){t.call(null,e)});case 3:return q.nextTick(function(){t.call(null,e,r)});case 4:return q.nextTick(function(){t.call(null,e,r,n)});default:for(a=new Array(i-1),s=0;s<a.length;)a[s++]=arguments[s];return q.nextTick(function(){t.apply(null,a)})}}});var N3=H((mz,k3)=>{g();m();var wI={}.toString;k3.exports=Array.isArray||function(t){return wI.call(t)=="[object Array]"}});var ql=H((Sz,H3)=>{g();m();H3.exports=Ju().EventEmitter});var Gf=H((kl,D3)=>{g();m();var Zu=Wn(),ra=Zu.Buffer;function U3(t,e){for(var r in t)e[r]=t[r]}ra.from&&ra.alloc&&ra.allocUnsafe&&ra.allocUnsafeSlow?D3.exports=Zu:(U3(Zu,kl),kl.Buffer=xo);function xo(t,e,r){return ra(t,e,r)}U3(ra,xo);xo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ra(t,e,r)};xo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ra(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};xo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ra(t)};xo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zu.SlowBuffer(t)}});var Eo=H(wr=>{g();m();function _I(t){return Array.isArray?Array.isArray(t):Qu(t)==="[object Array]"}wr.isArray=_I;function SI(t){return typeof t=="boolean"}wr.isBoolean=SI;function xI(t){return t===null}wr.isNull=xI;function EI(t){return t==null}wr.isNullOrUndefined=EI;function AI(t){return typeof t=="number"}wr.isNumber=AI;function PI(t){return typeof t=="string"}wr.isString=PI;function TI(t){return typeof t=="symbol"}wr.isSymbol=TI;function II(t){return t===void 0}wr.isUndefined=II;function OI(t){return Qu(t)==="[object RegExp]"}wr.isRegExp=OI;function BI(t){return typeof t=="object"&&t!==null}wr.isObject=BI;function MI(t){return Qu(t)==="[object Date]"}wr.isDate=MI;function CI(t){return Qu(t)==="[object Error]"||t instanceof Error}wr.isError=CI;function RI(t){return typeof t=="function"}wr.isFunction=RI;function qI(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}wr.isPrimitive=qI;wr.isBuffer=b.Buffer.isBuffer;function Qu(t){return Object.prototype.toString.call(t)}});function L3(){throw new Error("setTimeout has not been defined")}function F3(){throw new Error("clearTimeout has not been defined")}function j3(t){if(Fa===setTimeout)return setTimeout(t,0);if((Fa===L3||!Fa)&&setTimeout)return Fa=setTimeout,setTimeout(t,0);try{return Fa(t,0)}catch{try{return Fa.call(null,t,0)}catch{return Fa.call(this,t,0)}}}function kI(t){if(ja===clearTimeout)return clearTimeout(t);if((ja===F3||!ja)&&clearTimeout)return ja=clearTimeout,clearTimeout(t);try{return ja(t)}catch{try{return ja.call(null,t)}catch{return ja.call(this,t)}}}function NI(){!Po||!_s||(Po=!1,_s.length?na=_s.concat(na):ed=-1,na.length&&K3())}function K3(){if(!Po){var t=j3(NI);Po=!0;for(var e=na.length;e;){for(_s=na,na=[];++ed<e;)_s&&_s[ed].run();ed=-1,e=na.length}_s=null,Po=!1,kI(t)}}function HI(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];na.push(new z3(t,e)),na.length===1&&!Po&&j3(K3)}function z3(t,e){this.fun=t,this.array=e}function Ss(){}function eO(t){throw new Error("process.binding is not supported")}function tO(){return"/"}function rO(t){throw new Error("process.chdir is not supported")}function nO(){return 0}function aO(t){var e=iO.call(Ao)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}function oO(){var t=new Date,e=t-sO;return e/1e3}var Fa,ja,na,Po,_s,ed,UI,DI,LI,FI,jI,KI,zI,WI,GI,VI,XI,YI,$I,JI,ZI,QI,Ao,iO,sO,fO,Vf,W3=Gi(()=>{g();m();Fa=L3,ja=F3;typeof globalThis.setTimeout=="function"&&(Fa=setTimeout);typeof globalThis.clearTimeout=="function"&&(ja=clearTimeout);na=[],Po=!1,ed=-1;z3.prototype.run=function(){this.fun.apply(null,this.array)};UI="browser",DI="browser",LI=!0,FI={},jI=[],KI="",zI={},WI={},GI={};VI=Ss,XI=Ss,YI=Ss,$I=Ss,JI=Ss,ZI=Ss,QI=Ss;Ao=globalThis.performance||{},iO=Ao.now||Ao.mozNow||Ao.msNow||Ao.oNow||Ao.webkitNow||function(){return new Date().getTime()};sO=new Date;fO={nextTick:HI,title:UI,browser:LI,env:FI,argv:jI,version:KI,versions:zI,on:VI,addListener:XI,once:YI,off:$I,removeListener:JI,removeAllListeners:ZI,emit:QI,binding:eO,cwd:tO,chdir:rO,umask:nO,hrtime:aO,platform:DI,release:WI,config:GI,uptime:oO},Vf=fO});var Nl,Hl,G3=Gi(()=>{g();m();typeof Object.create=="function"?Nl=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Nl=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};Hl=Nl});var ey={};Af(ey,{_extend:()=>Gl,debuglog:()=>V3,default:()=>gO,deprecate:()=>jl,format:()=>id,inherits:()=>Hl,inspect:()=>Pi,isArray:()=>Kl,isBoolean:()=>ad,isBuffer:()=>J3,isDate:()=>nd,isError:()=>Yf,isFunction:()=>$f,isNull:()=>Jf,isNullOrUndefined:()=>X3,isNumber:()=>zl,isObject:()=>xs,isPrimitive:()=>$3,isRegExp:()=>Xf,isString:()=>Zf,isSymbol:()=>Y3,isUndefined:()=>Ai,log:()=>Z3});function id(t){if(!Zf(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Pi(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(t).replace(cO,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return o}}),s=n[r];r<i;s=n[++r])Jf(s)||!xs(s)?a+=" "+s:a+=" "+Pi(s);return a}function jl(t,e){if(Ai(globalThis.process))return function(){return jl(t,e).apply(this,arguments)};if(Vf.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(Vf.throwDeprecation)throw new Error(e);Vf.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}function V3(t){if(Ai(Ul)&&(Ul=Vf.env.NODE_DEBUG||""),t=t.toUpperCase(),!td[t])if(new RegExp("\\b"+t+"\\b","i").test(Ul)){var e=0;td[t]=function(){var r=id.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else td[t]=function(){};return td[t]}function Pi(t,e){var r={seen:[],stylize:dO};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),ad(e)?r.showHidden=e:e&&Gl(r,e),Ai(r.showHidden)&&(r.showHidden=!1),Ai(r.depth)&&(r.depth=2),Ai(r.colors)&&(r.colors=!1),Ai(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=uO),rd(r,t,r.depth)}function uO(t,e){var r=Pi.styles[e];return r?"\x1B["+Pi.colors[r][0]+"m"+t+"\x1B["+Pi.colors[r][1]+"m":t}function dO(t,e){return t}function hO(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function rd(t,e,r){if(t.customInspect&&e&&$f(e.inspect)&&e.inspect!==Pi&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Zf(n)||(n=rd(t,n,r)),n}var i=lO(t,e);if(i)return i;var a=Object.keys(e),s=hO(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),Yf(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Dl(e);if(a.length===0){if($f(e)){var o=e.name?": "+e.name:"";return t.stylize("[Function"+o+"]","special")}if(Xf(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(nd(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Yf(e))return Dl(e)}var f="",c=!1,u=["{","}"];if(Kl(e)&&(c=!0,u=["[","]"]),$f(e)){var d=e.name?": "+e.name:"";f=" [Function"+d+"]"}if(Xf(e)&&(f=" "+RegExp.prototype.toString.call(e)),nd(e)&&(f=" "+Date.prototype.toUTCString.call(e)),Yf(e)&&(f=" "+Dl(e)),a.length===0&&(!c||e.length==0))return u[0]+f+u[1];if(r<0)return Xf(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var l;return c?l=pO(t,e,r,s,a):l=a.map(function(_){return Fl(t,e,r,s,_,c)}),t.seen.pop(),bO(l,f,u)}function lO(t,e){if(Ai(e))return t.stylize("undefined","undefined");if(Zf(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(zl(e))return t.stylize(""+e,"number");if(ad(e))return t.stylize(""+e,"boolean");if(Jf(e))return t.stylize("null","null")}function Dl(t){return"["+Error.prototype.toString.call(t)+"]"}function pO(t,e,r,n,i){for(var a=[],s=0,o=e.length;s<o;++s)Q3(e,String(s))?a.push(Fl(t,e,r,n,String(s),!0)):a.push("");return i.forEach(function(f){f.match(/^\d+$/)||a.push(Fl(t,e,r,n,f,!0))}),a}function Fl(t,e,r,n,i,a){var s,o,f;if(f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},f.get?f.set?o=t.stylize("[Getter/Setter]","special"):o=t.stylize("[Getter]","special"):f.set&&(o=t.stylize("[Setter]","special")),Q3(n,i)||(s="["+i+"]"),o||(t.seen.indexOf(f.value)<0?(Jf(r)?o=rd(t,f.value,null):o=rd(t,f.value,r-1),o.indexOf(`
`)>-1&&(a?o=o.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):o=`
`+o.split(`
`).map(function(c){return"   "+c}).join(`
`))):o=t.stylize("[Circular]","special")),Ai(s)){if(a&&i.match(/^\d+$/))return o;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+o}function bO(t,e,r){var n=0,i=t.reduce(function(a,s){return n++,s.indexOf(`
`)>=0&&n++,a+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function Kl(t){return Array.isArray(t)}function ad(t){return typeof t=="boolean"}function Jf(t){return t===null}function X3(t){return t==null}function zl(t){return typeof t=="number"}function Zf(t){return typeof t=="string"}function Y3(t){return typeof t=="symbol"}function Ai(t){return t===void 0}function Xf(t){return xs(t)&&Wl(t)==="[object RegExp]"}function xs(t){return typeof t=="object"&&t!==null}function nd(t){return xs(t)&&Wl(t)==="[object Date]"}function Yf(t){return xs(t)&&(Wl(t)==="[object Error]"||t instanceof Error)}function $f(t){return typeof t=="function"}function $3(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function J3(t){return b.Buffer.isBuffer(t)}function Wl(t){return Object.prototype.toString.call(t)}function Ll(t){return t<10?"0"+t.toString(10):t.toString(10)}function yO(){var t=new Date,e=[Ll(t.getHours()),Ll(t.getMinutes()),Ll(t.getSeconds())].join(":");return[t.getDate(),vO[t.getMonth()],e].join(" ")}function Z3(){console.log("%s - %s",yO(),id.apply(null,arguments))}function Gl(t,e){if(!e||!xs(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Q3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cO,td,Ul,vO,gO,ty=Gi(()=>{g();m();W3();G3();cO=/%[sdj%]/g;td={};Pi.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Pi.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};vO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gO={inherits:Hl,_extend:Gl,log:Z3,isBuffer:J3,isPrimitive:$3,isFunction:$f,isError:Yf,isDate:nd,isObject:xs,isRegExp:Xf,isUndefined:Ai,isSymbol:Y3,isString:Zf,isNumber:zl,isNullOrUndefined:X3,isNull:Jf,isBoolean:ad,isArray:Kl,inspect:Pi,deprecate:jl,format:id,debuglog:V3}});var Vl=H((Lz,sd)=>{g();m();var Es=(ty(),Pf(ey));if(Es&&Es.default){sd.exports=Es.default;for(let t in Es)sd.exports[t]=Es[t]}else Es&&(sd.exports=Es)});var ny=H((Kz,Xl)=>{"use strict";g();m();function mO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ry=Gf().Buffer,Qf=Vl();function wO(t,e,r){t.copy(e,r)}Xl.exports=function(){function t(){mO(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return ry.alloc(0);if(this.length===1)return this.head.data;for(var n=ry.allocUnsafe(r>>>0),i=this.head,a=0;i;)wO(i.data,n,a),a+=i.data.length,i=i.next;return n},t}();Qf&&Qf.inspect&&Qf.inspect.custom&&(Xl.exports.prototype[Qf.inspect.custom]=function(){var t=Qf.inspect({length:this.length});return this.constructor.name+" "+t})});var Yl=H((Gz,sy)=>{"use strict";g();m();var iy=Wf();function _O(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&iy.nextTick(ay,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?(iy.nextTick(ay,r,a),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(a)}),this)}function SO(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ay(t,e){t.emit("error",e)}sy.exports={destroy:_O,undestroy:SO}});var fy=H((Yz,oy)=>{g();m();oy.exports=xO;function xO(t,e){if($l("noDeprecation"))return t;var r=!1;function n(){if(!r){if($l("throwDeprecation"))throw new Error(e);$l("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function $l(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var cd=H((Zz,vy)=>{"use strict";g();m();var As=Wf();vy.exports=jt;function uy(t){var e=this;this.next=null,this.entry=null,this.finish=function(){FO(e,t)}}var EO=!q.browser&&["v0.10","v0.9."].indexOf(q.version.slice(0,5))>-1?setImmediate:As.nextTick,To;jt.WritableState=tc;var dy=Object.create(Eo());dy.inherits=Ae();var AO={deprecate:fy()},hy=ql(),fd=Gf().Buffer,PO=globalThis.Uint8Array||function(){};function TO(t){return fd.from(t)}function IO(t){return fd.isBuffer(t)||t instanceof PO}var ly=Yl();dy.inherits(jt,hy);function OO(){}function tc(t,e){To=To||Ka(),t=t||{};var r=e instanceof To;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){NO(e,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new uy(this)}tc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(tc.prototype,"buffer",{get:AO.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var od;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(od=Function.prototype[Symbol.hasInstance],Object.defineProperty(jt,Symbol.hasInstance,{value:function(t){return od.call(this,t)?!0:this!==jt?!1:t&&t._writableState instanceof tc}})):od=function(t){return t instanceof this};function jt(t){if(To=To||Ka(),!od.call(jt,this)&&!(this instanceof To))return new jt(t);this._writableState=new tc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),hy.call(this)}jt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function BO(t,e){var r=new Error("write after end");t.emit("error",r),As.nextTick(e,r)}function MO(t,e,r,n){var i=!0,a=!1;return r===null?a=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),As.nextTick(n,a),i=!1),i}jt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&IO(t);return a&&!fd.isBuffer(t)&&(t=TO(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=OO),n.ended?BO(this,r):(a||MO(this,n,t,r))&&(n.pendingcb++,i=RO(this,n,a,t,e,r)),i};jt.prototype.cork=function(){var t=this._writableState;t.corked++};jt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&py(this,t))};jt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function CO(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=fd.from(e,r)),e}Object.defineProperty(jt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function RO(t,e,r,n,i,a){if(!r){var s=CO(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=e.objectMode?1:n.length;e.length+=o;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Jl(t,e,!1,o,n,i,a);return f}function Jl(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function qO(t,e,r,n,i){--e.pendingcb,r?(As.nextTick(i,n),As.nextTick(ec,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),ec(t,e))}function kO(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function NO(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(kO(r),e)qO(t,r,n,e,i);else{var a=by(r);!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&py(t,r),n?EO(cy,t,r,a,i):cy(t,r,a,i)}}function cy(t,e,r,n){r||HO(t,e),e.pendingcb--,n(),ec(t,e)}function HO(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function py(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,o=!0;r;)i[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,Jl(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new uy(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,d=e.objectMode?1:f.length;if(Jl(t,e,!1,d,f,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}jt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};jt.prototype._writev=null;jt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&LO(this,n,r)};function by(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function UO(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),ec(t,e)})}function DO(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,As.nextTick(UO,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ec(t,e){var r=by(e);return r&&(DO(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function LO(t,e,r){e.ending=!0,ec(t,e),r&&(e.finished?As.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function FO(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(jt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});jt.prototype.destroy=ly.destroy;jt.prototype._undestroy=ly.undestroy;jt.prototype._destroy=function(t,e){this.end(),e(t)}});var Ka=H((tW,wy)=>{"use strict";g();m();var yy=Wf(),jO=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};wy.exports=ia;var gy=Object.create(Eo());gy.inherits=Ae();var my=ep(),Ql=cd();gy.inherits(ia,my);for(Zl=jO(Ql.prototype),ud=0;ud<Zl.length;ud++)dd=Zl[ud],ia.prototype[dd]||(ia.prototype[dd]=Ql.prototype[dd]);var Zl,dd,ud;function ia(t){if(!(this instanceof ia))return new ia(t);my.call(this,t),Ql.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",KO)}Object.defineProperty(ia.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function KO(){this.allowHalfOpen||this._writableState.ended||yy.nextTick(zO,this)}function zO(t){t.end()}Object.defineProperty(ia.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});ia.prototype._destroy=function(t,e){this.push(null),this.end(),yy.nextTick(e,t)}});var np=H(Sy=>{"use strict";g();m();var rp=Gf().Buffer,_y=rp.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function WO(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function GO(t){var e=WO(t);if(typeof e!="string"&&(rp.isEncoding===_y||!_y(t)))throw new Error("Unknown encoding: "+t);return e||t}Sy.StringDecoder=rc;function rc(t){this.encoding=GO(t);var e;switch(this.encoding){case"utf16le":this.text=ZO,this.end=QO,e=4;break;case"utf8":this.fillLast=YO,e=4;break;case"base64":this.text=eB,this.end=tB,e=3;break;default:this.write=rB,this.end=nB;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=rp.allocUnsafe(e)}rc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};rc.prototype.end=JO;rc.prototype.text=$O;rc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function tp(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function VO(t,e,r){var n=e.length-1;if(n<r)return 0;var i=tp(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=tp(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=tp(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function XO(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function YO(t){var e=this.lastTotal-this.lastNeed,r=XO(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function $O(t,e){var r=VO(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function JO(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function ZO(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function QO(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function eB(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function tB(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function rB(t){return t.toString(this.encoding)}function nB(t){return t&&t.length?this.write(t):""}});var ep=H((fW,qy)=>{"use strict";g();m();var Oo=Wf();qy.exports=st;var iB=N3(),nc;st.ReadableState=Oy;var oW=Ju().EventEmitter,Py=function(t,e){return t.listeners(e).length},fp=ql(),ic=Gf().Buffer,aB=globalThis.Uint8Array||function(){};function sB(t){return ic.from(t)}function oB(t){return ic.isBuffer(t)||t instanceof aB}var Ty=Object.create(Eo());Ty.inherits=Ae();var ip=Vl(),ze=void 0;ip&&ip.debuglog?ze=ip.debuglog("stream"):ze=function(){};var fB=ny(),Iy=Yl(),Io;Ty.inherits(st,fp);var ap=["error","close","destroy","pause","resume"];function cB(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):iB(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Oy(t,e){nc=nc||Ka(),t=t||{};var r=e instanceof nc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new fB,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Io||(Io=np().StringDecoder),this.decoder=new Io(t.encoding),this.encoding=t.encoding)}function st(t){if(nc=nc||Ka(),!(this instanceof st))return new st(t);this._readableState=new Oy(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),fp.call(this)}Object.defineProperty(st.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});st.prototype.destroy=Iy.destroy;st.prototype._undestroy=Iy.undestroy;st.prototype._destroy=function(t,e){this.push(null),e(t)};st.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ic.from(t,e),e=""),n=!0),By(this,t,e,!1,n)};st.prototype.unshift=function(t){return By(this,t,null,!0,!1)};function By(t,e,r,n,i){var a=t._readableState;if(e===null)a.reading=!1,lB(t,a);else{var s;i||(s=uB(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==ic.prototype&&(e=sB(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):sp(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?sp(t,a,e,!1):My(t,a)):sp(t,a,e,!1))):n||(a.reading=!1)}return dB(a)}function sp(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&hd(t)),My(t,e)}function uB(t,e){var r;return!oB(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function dB(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}st.prototype.isPaused=function(){return this._readableState.flowing===!1};st.prototype.setEncoding=function(t){return Io||(Io=np().StringDecoder),this._readableState.decoder=new Io(t),this._readableState.encoding=t,this};var xy=8388608;function hB(t){return t>=xy?t=xy:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Ey(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=hB(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}st.prototype.read=function(t){ze("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return ze("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?op(this):hd(this),null;if(t=Ey(t,e),t===0&&e.ended)return e.length===0&&op(this),null;var n=e.needReadable;ze("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ze("length less than watermark",n)),e.ended||e.reading?(n=!1,ze("reading or ended",n)):n&&(ze("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ey(r,e)));var i;return t>0?i=Cy(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&op(this)),i!==null&&this.emit("data",i),i};function lB(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,hd(t)}}function hd(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(ze("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Oo.nextTick(Ay,t):Ay(t))}function Ay(t){ze("emit readable"),t.emit("readable"),cp(t)}function My(t,e){e.readingMore||(e.readingMore=!0,Oo.nextTick(pB,t,e))}function pB(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(ze("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}st.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};st.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ze("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==q.stdout&&t!==q.stderr,a=i?o:F;n.endEmitted?Oo.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(L,J){ze("onunpipe"),L===r&&J&&J.hasUnpiped===!1&&(J.hasUnpiped=!0,u())}function o(){ze("onend"),t.end()}var f=bB(r);t.on("drain",f);var c=!1;function u(){ze("cleanup"),t.removeListener("close",T),t.removeListener("finish",B),t.removeListener("drain",f),t.removeListener("error",_),t.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",F),r.removeListener("data",l),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}var d=!1;r.on("data",l);function l(L){ze("ondata"),d=!1;var J=t.write(L);J===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ry(n.pipes,t)!==-1)&&!c&&(ze("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function _(L){ze("onerror",L),F(),t.removeListener("error",_),Py(t,"error")===0&&t.emit("error",L)}cB(t,"error",_);function T(){t.removeListener("finish",B),F()}t.once("close",T);function B(){ze("onfinish"),t.removeListener("close",T),F()}t.once("finish",B);function F(){ze("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ze("pipe resume"),r.resume()),t};function bB(t){return function(){var e=t._readableState;ze("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&Py(t,"data")&&(e.flowing=!0,cp(t))}}st.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var s=Ry(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};st.prototype.on=function(t,e){var r=fp.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&hd(this):Oo.nextTick(vB,this))}return r};st.prototype.addListener=st.prototype.on;function vB(t){ze("readable nexttick read 0"),t.read(0)}st.prototype.resume=function(){var t=this._readableState;return t.flowing||(ze("resume"),t.flowing=!0,yB(this,t)),this};function yB(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Oo.nextTick(gB,t,e))}function gB(t,e){e.reading||(ze("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),cp(t),e.flowing&&!e.reading&&t.read(0)}st.prototype.pause=function(){return ze("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ze("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function cp(t){var e=t._readableState;for(ze("flow",e.flowing);e.flowing&&t.read()!==null;);}st.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ze("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(ze("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var o=e.push(s);o||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var a=0;a<ap.length;a++)t.on(ap[a],this.emit.bind(this,ap[a]));return this._read=function(s){ze("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(st.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});st._fromList=Cy;function Cy(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=mB(t,e.buffer,e.decoder),r}function mB(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?wB(t,e):_B(t,e),n}function wB(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var a=r.data,s=t>a.length?a.length:t;if(s===a.length?i+=a:i+=a.slice(0,t),t-=s,t===0){s===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(s));break}++n}return e.length-=n,i}function _B(t,e){var r=ic.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var a=n.data,s=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,s),t-=s,t===0){s===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(s));break}++i}return e.length-=i,r}function op(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Oo.nextTick(SB,e,t))}function SB(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ry(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var up=H((dW,Hy)=>{"use strict";g();m();Hy.exports=aa;var ld=Ka(),Ny=Object.create(Eo());Ny.inherits=Ae();Ny.inherits(aa,ld);function xB(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function aa(t){if(!(this instanceof aa))return new aa(t);ld.call(this,t),this._transformState={afterTransform:xB.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",EB)}function EB(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){ky(t,e,r)}):ky(this,null,null)}aa.prototype.push=function(t,e){return this._transformState.needTransform=!1,ld.prototype.push.call(this,t,e)};aa.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};aa.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};aa.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};aa.prototype._destroy=function(t,e){var r=this;ld.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function ky(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var Fy=H((pW,Ly)=>{"use strict";g();m();Ly.exports=ac;var Uy=up(),Dy=Object.create(Eo());Dy.inherits=Ae();Dy.inherits(ac,Uy);function ac(t){if(!(this instanceof ac))return new ac(t);Uy.call(this,t)}ac.prototype._transform=function(t,e,r){r(null,t)}});var pd=H((Ti,jy)=>{g();m();Ti=jy.exports=ep();Ti.Stream=Ti;Ti.Readable=Ti;Ti.Writable=cd();Ti.Duplex=Ka();Ti.Transform=up();Ti.PassThrough=Fy()});var zy=H((mW,Ky)=>{g();m();Ky.exports=cd()});var Gy=H((SW,Wy)=>{g();m();Wy.exports=Ka()});var Xy=H((AW,Vy)=>{g();m();Vy.exports=pd().Transform});var $y=H((IW,Yy)=>{g();m();Yy.exports=pd().PassThrough});var Zy=H((MW,Jy)=>{g();m();Jy.exports=Ii;var dp=Ju().EventEmitter,AB=Ae();AB(Ii,dp);Ii.Readable=pd();Ii.Writable=zy();Ii.Duplex=Gy();Ii.Transform=Xy();Ii.PassThrough=$y();Ii.Stream=Ii;function Ii(){dp.call(this)}Ii.prototype.pipe=function(t,e){var r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",o));var a=!1;function s(){a||(a=!0,t.end())}function o(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function f(u){if(c(),dp.listenerCount(this,"error")===0)throw u}r.on("error",f),t.on("error",f);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",o),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}});var vd=H((qW,bd)=>{g();m();var Ps=Zy();if(Ps&&Ps.default){bd.exports=Ps.default;for(let t in Ps)bd.exports[t]=Ps[t]}else Ps&&(bd.exports=Ps)});var hp=H((HW,e4)=>{"use strict";g();m();var yd=We().Buffer,Qy=vd().Transform,PB=Ae();function TB(t,e){if(!yd.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function za(t){Qy.call(this),this._block=yd.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}PB(za,Qy);za.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};za.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};za.prototype.update=function(t,e){if(TB(t,"Data"),this._finalized)throw new Error("Digest already called");yd.isBuffer(t)||(t=yd.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};za.prototype._update=function(){throw new Error("_update is not implemented")};za.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};za.prototype._digest=function(){throw new Error("_digest is not implemented")};e4.exports=za});var wd=H((LW,r4)=>{"use strict";g();m();var IB=Ae(),t4=hp(),OB=We().Buffer,BB=new Array(16);function gd(){t4.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}IB(gd,t4);gd.prototype._update=function(){for(var t=BB,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=_r(r,n,i,a,t[0],3614090360,7),a=_r(a,r,n,i,t[1],3905402710,12),i=_r(i,a,r,n,t[2],606105819,17),n=_r(n,i,a,r,t[3],3250441966,22),r=_r(r,n,i,a,t[4],4118548399,7),a=_r(a,r,n,i,t[5],1200080426,12),i=_r(i,a,r,n,t[6],2821735955,17),n=_r(n,i,a,r,t[7],4249261313,22),r=_r(r,n,i,a,t[8],1770035416,7),a=_r(a,r,n,i,t[9],2336552879,12),i=_r(i,a,r,n,t[10],4294925233,17),n=_r(n,i,a,r,t[11],2304563134,22),r=_r(r,n,i,a,t[12],1804603682,7),a=_r(a,r,n,i,t[13],4254626195,12),i=_r(i,a,r,n,t[14],2792965006,17),n=_r(n,i,a,r,t[15],1236535329,22),r=Sr(r,n,i,a,t[1],4129170786,5),a=Sr(a,r,n,i,t[6],3225465664,9),i=Sr(i,a,r,n,t[11],643717713,14),n=Sr(n,i,a,r,t[0],3921069994,20),r=Sr(r,n,i,a,t[5],3593408605,5),a=Sr(a,r,n,i,t[10],38016083,9),i=Sr(i,a,r,n,t[15],3634488961,14),n=Sr(n,i,a,r,t[4],3889429448,20),r=Sr(r,n,i,a,t[9],568446438,5),a=Sr(a,r,n,i,t[14],3275163606,9),i=Sr(i,a,r,n,t[3],4107603335,14),n=Sr(n,i,a,r,t[8],1163531501,20),r=Sr(r,n,i,a,t[13],2850285829,5),a=Sr(a,r,n,i,t[2],4243563512,9),i=Sr(i,a,r,n,t[7],1735328473,14),n=Sr(n,i,a,r,t[12],2368359562,20),r=xr(r,n,i,a,t[5],4294588738,4),a=xr(a,r,n,i,t[8],2272392833,11),i=xr(i,a,r,n,t[11],1839030562,16),n=xr(n,i,a,r,t[14],4259657740,23),r=xr(r,n,i,a,t[1],2763975236,4),a=xr(a,r,n,i,t[4],1272893353,11),i=xr(i,a,r,n,t[7],4139469664,16),n=xr(n,i,a,r,t[10],3200236656,23),r=xr(r,n,i,a,t[13],681279174,4),a=xr(a,r,n,i,t[0],3936430074,11),i=xr(i,a,r,n,t[3],3572445317,16),n=xr(n,i,a,r,t[6],76029189,23),r=xr(r,n,i,a,t[9],3654602809,4),a=xr(a,r,n,i,t[12],3873151461,11),i=xr(i,a,r,n,t[15],530742520,16),n=xr(n,i,a,r,t[2],3299628645,23),r=Er(r,n,i,a,t[0],4096336452,6),a=Er(a,r,n,i,t[7],1126891415,10),i=Er(i,a,r,n,t[14],2878612391,15),n=Er(n,i,a,r,t[5],4237533241,21),r=Er(r,n,i,a,t[12],1700485571,6),a=Er(a,r,n,i,t[3],2399980690,10),i=Er(i,a,r,n,t[10],4293915773,15),n=Er(n,i,a,r,t[1],2240044497,21),r=Er(r,n,i,a,t[8],1873313359,6),a=Er(a,r,n,i,t[15],4264355552,10),i=Er(i,a,r,n,t[6],2734768916,15),n=Er(n,i,a,r,t[13],1309151649,21),r=Er(r,n,i,a,t[4],4149444226,6),a=Er(a,r,n,i,t[11],3174756917,10),i=Er(i,a,r,n,t[2],718787259,15),n=Er(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};gd.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=OB.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function md(t,e){return t<<e|t>>>32-e}function _r(t,e,r,n,i,a,s){return md(t+(e&r|~e&n)+i+a|0,s)+e|0}function Sr(t,e,r,n,i,a,s){return md(t+(e&n|r&~n)+i+a|0,s)+e|0}function xr(t,e,r,n,i,a,s){return md(t+(e^r^n)+i+a|0,s)+e|0}function Er(t,e,r,n,i,a,s){return md(t+(r^(e|~n))+i+a|0,s)+e|0}r4.exports=gd});var Sd=H((KW,c4)=>{"use strict";g();m();var lp=Wn().Buffer,MB=Ae(),f4=hp(),CB=new Array(16),sc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],oc=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fc=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cc=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],uc=[0,1518500249,1859775393,2400959708,2840853838],dc=[1352829926,1548603684,1836072691,2053994217,0];function _d(){f4.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}MB(_d,f4);_d.prototype._update=function(){for(var t=CB,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,f=this._b|0,c=this._c|0,u=this._d|0,d=this._e|0,l=0;l<80;l+=1){var _,T;l<16?(_=n4(r,n,i,a,s,t[sc[l]],uc[0],fc[l]),T=o4(o,f,c,u,d,t[oc[l]],dc[0],cc[l])):l<32?(_=i4(r,n,i,a,s,t[sc[l]],uc[1],fc[l]),T=s4(o,f,c,u,d,t[oc[l]],dc[1],cc[l])):l<48?(_=a4(r,n,i,a,s,t[sc[l]],uc[2],fc[l]),T=a4(o,f,c,u,d,t[oc[l]],dc[2],cc[l])):l<64?(_=s4(r,n,i,a,s,t[sc[l]],uc[3],fc[l]),T=i4(o,f,c,u,d,t[oc[l]],dc[3],cc[l])):(_=o4(r,n,i,a,s,t[sc[l]],uc[4],fc[l]),T=n4(o,f,c,u,d,t[oc[l]],dc[4],cc[l])),r=s,s=a,a=Ts(i,10),i=n,n=_,o=d,d=u,u=Ts(c,10),c=f,f=T}var B=this._b+i+u|0;this._b=this._c+a+d|0,this._c=this._d+s+o|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=B};_d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=lp.alloc?lp.alloc(20):new lp(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ts(t,e){return t<<e|t>>>32-e}function n4(t,e,r,n,i,a,s,o){return Ts(t+(e^r^n)+a+s|0,o)+i|0}function i4(t,e,r,n,i,a,s,o){return Ts(t+(e&r|~e&n)+a+s|0,o)+i|0}function a4(t,e,r,n,i,a,s,o){return Ts(t+((e|~r)^n)+a+s|0,o)+i|0}function s4(t,e,r,n,i,a,s,o){return Ts(t+(e&n|r&~n)+a+s|0,o)+i|0}function o4(t,e,r,n,i,a,s,o){return Ts(t+(e^(r|~n))+a+s|0,o)+i|0}c4.exports=_d});var Is=H((GW,d4)=>{g();m();var u4=We().Buffer;function xd(t,e){this._block=u4.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}xd.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=u4.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,f=Math.min(i-s,n-o),c=0;c<f;c++)r[o+c]=t[s+c];a+=f,s+=f,a%n===0&&this._update(r)}return this._len+=i,this};xd.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};xd.prototype._update=function(){throw new Error("_update must be implemented by subclass")};d4.exports=xd});var p4=H((YW,l4)=>{g();m();var RB=Ae(),h4=Is(),qB=We().Buffer,kB=[1518500249,1859775393,-1894007588,-899497514],NB=new Array(80);function hc(){this.init(),this._w=NB,h4.call(this,64,56)}RB(hc,h4);hc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function HB(t){return t<<5|t>>>27}function UB(t){return t<<30|t>>>2}function DB(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}hc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var f=0;f<80;++f){var c=~~(f/20),u=HB(r)+DB(c,n,i,a)+s+e[f]+kB[c]|0;s=a,a=i,i=UB(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};hc.prototype._hash=function(){var t=qB.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};l4.exports=hc});var y4=H((ZW,v4)=>{g();m();var LB=Ae(),b4=Is(),FB=We().Buffer,jB=[1518500249,1859775393,-1894007588,-899497514],KB=new Array(80);function lc(){this.init(),this._w=KB,b4.call(this,64,56)}LB(lc,b4);lc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zB(t){return t<<1|t>>>31}function WB(t){return t<<5|t>>>27}function GB(t){return t<<30|t>>>2}function VB(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}lc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=zB(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=WB(r)+VB(c,n,i,a)+s+e[f]+jB[c]|0;s=a,a=i,i=GB(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};lc.prototype._hash=function(){var t=FB.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};v4.exports=lc});var pp=H((tG,m4)=>{g();m();var XB=Ae(),g4=Is(),YB=We().Buffer,$B=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],JB=new Array(64);function pc(){this.init(),this._w=JB,g4.call(this,64,56)}XB(pc,g4);pc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ZB(t,e,r){return r^t&(e^r)}function QB(t,e,r){return t&e|r&(t|e)}function eM(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function tM(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function rM(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function nM(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}pc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=nM(e[u-2])+e[u-7]+rM(e[u-15])+e[u-16]|0;for(var d=0;d<64;++d){var l=c+tM(s)+ZB(s,o,f)+$B[d]+e[d]|0,_=eM(r)+QB(r,n,i)|0;c=f,f=o,o=s,s=a+l|0,a=i,i=n,n=r,r=l+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};pc.prototype._hash=function(){var t=YB.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};m4.exports=pc});var _4=H((iG,w4)=>{g();m();var iM=Ae(),aM=pp(),sM=Is(),oM=We().Buffer,fM=new Array(64);function Ed(){this.init(),this._w=fM,sM.call(this,64,56)}iM(Ed,aM);Ed.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ed.prototype._hash=function(){var t=oM.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};w4.exports=Ed});var bp=H((oG,I4)=>{g();m();var cM=Ae(),T4=Is(),uM=We().Buffer,S4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],dM=new Array(160);function bc(){this.init(),this._w=dM,T4.call(this,128,112)}cM(bc,T4);bc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function x4(t,e,r){return r^t&(e^r)}function E4(t,e,r){return t&e|r&(t|e)}function A4(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function P4(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function hM(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function lM(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function pM(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function bM(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function nr(t,e){return t>>>0<e>>>0?1:0}bc.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,d=this._bl|0,l=this._cl|0,_=this._dl|0,T=this._el|0,B=this._fl|0,F=this._gl|0,L=this._hl|0,J=0;J<32;J+=2)e[J]=t.readInt32BE(J*4),e[J+1]=t.readInt32BE(J*4+4);for(;J<160;J+=2){var ne=e[J-30],ie=e[J-15*2+1],te=hM(ne,ie),he=lM(ie,ne);ne=e[J-2*2],ie=e[J-2*2+1];var ae=pM(ne,ie),xe=bM(ie,ne),U=e[J-7*2],h=e[J-7*2+1],E=e[J-16*2],I=e[J-16*2+1],O=he+h|0,N=te+U+nr(O,he)|0;O=O+xe|0,N=N+ae+nr(O,xe)|0,O=O+I|0,N=N+E+nr(O,I)|0,e[J]=N,e[J+1]=O}for(var D=0;D<160;D+=2){N=e[D],O=e[D+1];var z=E4(r,n,i),R=E4(u,d,l),y=A4(r,u),k=A4(u,r),se=P4(s,T),oe=P4(T,s),ue=S4[D],be=S4[D+1],Ee=x4(s,o,f),Te=x4(T,B,F),Ue=L+oe|0,w=c+se+nr(Ue,L)|0;Ue=Ue+Te|0,w=w+Ee+nr(Ue,Te)|0,Ue=Ue+be|0,w=w+ue+nr(Ue,be)|0,Ue=Ue+O|0,w=w+N+nr(Ue,O)|0;var P=k+R|0,M=y+z+nr(P,k)|0;c=f,L=F,f=o,F=B,o=s,B=T,T=_+Ue|0,s=a+w+nr(T,_)|0,a=i,_=l,i=n,l=d,n=r,d=u,u=Ue+P|0,r=w+M+nr(u,Ue)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+l|0,this._dl=this._dl+_|0,this._el=this._el+T|0,this._fl=this._fl+B|0,this._gl=this._gl+F|0,this._hl=this._hl+L|0,this._ah=this._ah+r+nr(this._al,u)|0,this._bh=this._bh+n+nr(this._bl,d)|0,this._ch=this._ch+i+nr(this._cl,l)|0,this._dh=this._dh+a+nr(this._dl,_)|0,this._eh=this._eh+s+nr(this._el,T)|0,this._fh=this._fh+o+nr(this._fl,B)|0,this._gh=this._gh+f+nr(this._gl,F)|0,this._hh=this._hh+c+nr(this._hl,L)|0};bc.prototype._hash=function(){var t=uM.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};I4.exports=bc});var B4=H((uG,O4)=>{g();m();var vM=Ae(),yM=bp(),gM=Is(),mM=We().Buffer,wM=new Array(160);function Ad(){this.init(),this._w=wM,gM.call(this,128,112)}vM(Ad,yM);Ad.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ad.prototype._hash=function(){var t=mM.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};O4.exports=Ad});var Pd=H((sa,M4)=>{g();m();var sa=M4.exports=function(e){e=e.toLowerCase();var r=sa[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};sa.sha=p4();sa.sha1=y4();sa.sha224=_4();sa.sha256=pp();sa.sha384=B4();sa.sha512=bp()});var C4={};Af(C4,{StringDecoder:()=>Td});function SM(t){if(t&&!_M(t))throw new Error("Unknown encoding: "+t)}function Td(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),SM(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=EM;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=AM;break;default:this.write=xM;return}this.charBuffer=new Q(6),this.charReceived=0,this.charLength=0}function xM(t){return t.toString(this.encoding)}function EM(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function AM(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var _M,R4=Gi(()=>{g();m();I0();_M=Q.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};Td.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),e+=t.toString(this.encoding,0,n);var n=e.length-1,i=e.charCodeAt(n);if(i>=55296&&i<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),t.copy(this.charBuffer,0,0,a),e.substring(0,n)}return e};Td.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e};Td.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}});var q4=H((gG,Id)=>{g();m();var Os=(R4(),Pf(C4));if(Os&&Os.default){Id.exports=Os.default;for(let t in Os)Id.exports[t]=Os[t]}else Os&&(Id.exports=Os)});var oa=H((_G,H4)=>{g();m();var k4=We().Buffer,N4=vd().Transform,PM=q4().StringDecoder,TM=Ae();function Xn(t){N4.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}TM(Xn,N4);Xn.prototype.update=function(t,e,r){typeof t=="string"&&(t=k4.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Xn.prototype.setAutoPadding=function(){};Xn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Xn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Xn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Xn.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Xn.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Xn.prototype._finalOrDigest=function(t){var e=this.__final()||k4.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Xn.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new PM(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};H4.exports=Xn});var Bo=H((EG,D4)=>{"use strict";g();m();var IM=Ae(),OM=wd(),BM=Sd(),MM=Pd(),U4=oa();function Od(t){U4.call(this,"digest"),this._hash=t}IM(Od,U4);Od.prototype._update=function(t){this._hash.update(t)};Od.prototype._final=function(){return this._hash.digest()};D4.exports=function(e){return e=e.toLowerCase(),e==="md5"?new OM:e==="rmd160"||e==="ripemd160"?new BM:new Od(MM(e))}});var j4=H((TG,F4)=>{"use strict";g();m();var CM=Ae(),Bs=We().Buffer,L4=oa(),RM=Bs.alloc(128),Mo=64;function Bd(t,e){L4.call(this,"digest"),typeof e=="string"&&(e=Bs.from(e)),this._alg=t,this._key=e,e.length>Mo?e=t(e):e.length<Mo&&(e=Bs.concat([e,RM],Mo));for(var r=this._ipad=Bs.allocUnsafe(Mo),n=this._opad=Bs.allocUnsafe(Mo),i=0;i<Mo;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}CM(Bd,L4);Bd.prototype._update=function(t){this._hash.push(t)};Bd.prototype._final=function(){var t=this._alg(Bs.concat(this._hash));return this._alg(Bs.concat([this._opad,t]))};F4.exports=Bd});var vp=H((BG,K4)=>{g();m();var qM=wd();K4.exports=function(t){return new qM().update(t).digest()}});var mp=H((RG,W4)=>{"use strict";g();m();var kM=Ae(),NM=j4(),z4=oa(),vc=We().Buffer,HM=vp(),yp=Sd(),gp=Pd(),UM=vc.alloc(128);function yc(t,e){z4.call(this,"digest"),typeof e=="string"&&(e=vc.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new yp:gp(t);e=n.update(e).digest()}else e.length<r&&(e=vc.concat([e,UM],r));for(var i=this._ipad=vc.allocUnsafe(r),a=this._opad=vc.allocUnsafe(r),s=0;s<r;s++)i[s]=e[s]^54,a[s]=e[s]^92;this._hash=t==="rmd160"?new yp:gp(t),this._hash.update(i)}kM(yc,z4);yc.prototype._update=function(t){this._hash.update(t)};yc.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new yp:gp(this._alg);return e.update(this._opad).update(t).digest()};W4.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new yc("rmd160",r):e==="md5"?new NM(HM,r):new yc(e,r)}});var wp=H((NG,DM)=>{DM.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var V4=H((HG,G4)=>{g();m();G4.exports=wp()});var _p=H((LG,X4)=>{g();m();var LM=Math.pow(2,30)-1;X4.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>LM||e!==e)throw new TypeError("Bad key length")}});var Sp=H((KG,$4)=>{g();m();var Md;q.browser?Md="utf-8":q.version?(Y4=parseInt(q.version.split(".")[0].slice(1),10),Md=Y4>=6?"utf-8":"binary"):Md="utf-8";var Y4;$4.exports=Md});var Ep=H((GG,J4)=>{g();m();var xp=We().Buffer;J4.exports=function(t,e,r){if(xp.isBuffer(t))return t;if(typeof t=="string")return xp.from(t,e);if(ArrayBuffer.isView(t))return xp.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var Ap=H((YG,tg)=>{g();m();var FM=vp(),jM=Sd(),KM=Pd(),Ms=We().Buffer,zM=_p(),Z4=Sp(),Q4=Ep(),WM=Ms.alloc(128),Cd={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function eg(t,e,r){var n=GM(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Ms.concat([e,WM],i));for(var a=Ms.allocUnsafe(i+Cd[t]),s=Ms.allocUnsafe(i+Cd[t]),o=0;o<i;o++)a[o]=e[o]^54,s[o]=e[o]^92;var f=Ms.allocUnsafe(i+r+4);a.copy(f,0,0,i),this.ipad1=f,this.ipad2=a,this.opad=s,this.alg=t,this.blocksize=i,this.hash=n,this.size=Cd[t]}eg.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function GM(t){function e(n){return KM(t).update(n).digest()}function r(n){return new jM().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?FM:e}function VM(t,e,r,n,i){zM(r,n),t=Q4(t,Z4,"Password"),e=Q4(e,Z4,"Salt"),i=i||"sha1";var a=new eg(i,t,e.length),s=Ms.allocUnsafe(n),o=Ms.allocUnsafe(e.length+4);e.copy(o,0,0,e.length);for(var f=0,c=Cd[i],u=Math.ceil(n/c),d=1;d<=u;d++){o.writeUInt32BE(d,e.length);for(var l=a.run(o,a.ipad1),_=l,T=1;T<r;T++){_=a.run(_,a.ipad2);for(var B=0;B<c;B++)l[B]^=_[B]}l.copy(s,f),f+=c}return s}tg.exports=VM});var fg=H((ZG,og)=>{g();m();var ag=We().Buffer,XM=_p(),rg=Sp(),ng=Ap(),ig=Ep(),Rd,gc=globalThis.crypto&&globalThis.crypto.subtle,YM={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Pp=[];function $M(t){if(globalThis.process&&!globalThis.process.browser||!gc||!gc.importKey||!gc.deriveBits)return Promise.resolve(!1);if(Pp[t]!==void 0)return Pp[t];Rd=Rd||ag.alloc(8);var e=sg(Rd,Rd,10,128,t).then(function(){return!0}).catch(function(){return!1});return Pp[t]=e,e}function sg(t,e,r,n,i){return gc.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(a){return gc.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},a,n<<3)}).then(function(a){return ag.from(a)})}function JM(t,e){t.then(function(r){q.nextTick(function(){e(null,r)})},function(r){q.nextTick(function(){e(r)})})}og.exports=function(t,e,r,n,i,a){typeof i=="function"&&(a=i,i=void 0),i=i||"sha1";var s=YM[i.toLowerCase()];if(!s||typeof globalThis.Promise!="function")return q.nextTick(function(){var o;try{o=ng(t,e,r,n,i)}catch(f){return a(f)}a(null,o)});if(XM(r,n),t=ig(t,rg,"Password"),e=ig(e,rg,"Salt"),typeof a!="function")throw new Error("No callback provided to pbkdf2");JM($M(s).then(function(o){return o?sg(t,e,r,n,s):ng(t,e,r,n,i)}),a)}});var Ip=H(Tp=>{g();m();Tp.pbkdf2=fg();Tp.pbkdf2Sync=Ap()});var mc=H((iV,cg)=>{g();m();var Cs=We().Buffer,ZM=wd();function QM(t,e,r,n){if(Cs.isBuffer(t)||(t=Cs.from(t,"binary")),e&&(Cs.isBuffer(e)||(e=Cs.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,a=Cs.alloc(i),s=Cs.alloc(n||0),o=Cs.alloc(0);i>0||n>0;){var f=new ZM;f.update(o),f.update(t),e&&f.update(e),o=f.digest();var c=0;if(i>0){var u=a.length-i;c=Math.min(i,o.length),o.copy(a,u,0,c),i-=c}if(c<o.length&&n>0){var d=s.length-n,l=Math.min(n,o.length-c);o.copy(s,d,c,c+l),n-=l}}return o.fill(0),{key:a,iv:s}}cg.exports=QM});var ug=H(Op=>{g();m();Op.encrypt=function(t,e){return t._cipher.encryptBlock(e)};Op.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Co=H((uV,dg)=>{g();m();dg.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new b.Buffer(n),a=0;a<n;++a)i[a]=e[a]^r[a];return i}});var lg=H(Bp=>{g();m();var hg=Co();Bp.encrypt=function(t,e){var r=hg(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};Bp.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return hg(n,r)}});var vg=H(bg=>{g();m();var wc=We().Buffer,eC=Co();function pg(t,e,r){var n=e.length,i=eC(e,t._cache);return t._cache=t._cache.slice(n),t._prev=wc.concat([t._prev,r?e:i]),i}bg.encrypt=function(t,e,r){for(var n=wc.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=wc.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=wc.concat([n,pg(t,e.slice(0,i),r)]),e=e.slice(i);else{n=wc.concat([n,pg(t,e,r)]);break}return n}});var gg=H(yg=>{g();m();var Mp=We().Buffer;function tC(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=Mp.concat([t._prev.slice(1),Mp.from([r?e:i])]),i}yg.encrypt=function(t,e,r){for(var n=e.length,i=Mp.allocUnsafe(n),a=-1;++a<n;)i[a]=tC(t,e[a],r);return i}});var wg=H(mg=>{g();m();var qd=We().Buffer;function rC(t,e,r){for(var n,i=-1,a=8,s=0,o,f;++i<a;)n=t._cipher.encryptBlock(t._prev),o=e&1<<7-i?128:0,f=n[0]^o,s+=(f&128)>>i%8,t._prev=nC(t._prev,r?o:f);return s}function nC(t,e){var r=t.length,n=-1,i=qd.allocUnsafe(t.length);for(t=qd.concat([t,qd.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}mg.encrypt=function(t,e,r){for(var n=e.length,i=qd.allocUnsafe(n),a=-1;++a<n;)i[a]=rC(t,e[a],r);return i}});var Sg=H(_g=>{g();m();var iC=Co();function aC(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}_g.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=b.Buffer.concat([t._cache,aC(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),iC(e,r)}});var Cp=H((IV,xg)=>{g();m();function sC(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}xg.exports=sC});var qp=H(Ag=>{g();m();var oC=Co(),Eg=We().Buffer,fC=Cp();function cC(t){var e=t._cipher.encryptBlockRaw(t._prev);return fC(t._prev),e}var Rp=16;Ag.encrypt=function(t,e){var r=Math.ceil(e.length/Rp),n=t._cache.length;t._cache=Eg.concat([t._cache,Eg.allocUnsafe(r*Rp)]);for(var i=0;i<r;i++){var a=cC(t),s=n+i*Rp;t._cache.writeUInt32BE(a[0],s+0),t._cache.writeUInt32BE(a[1],s+4),t._cache.writeUInt32BE(a[2],s+8),t._cache.writeUInt32BE(a[3],s+12)}var o=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),oC(e,o)}});var kp=H((qV,uC)=>{uC.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var Nd=H((kV,Pg)=>{g();m();var dC={ECB:ug(),CBC:lg(),CFB:vg(),CFB8:gg(),CFB1:wg(),OFB:Sg(),CTR:qp(),GCM:qp()},kd=kp();for(Np in kd)kd[Np].module=dC[kd[Np].mode];var Np;Pg.exports=kd});var _c=H((UV,Ig)=>{g();m();var Hd=We().Buffer;function Up(t){Hd.isBuffer(t)||(t=Hd.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function Hp(t){for(var e=0;e<t.length;t++)t[e]=0}function Tg(t,e,r,n,i){for(var a=r[0],s=r[1],o=r[2],f=r[3],c=t[0]^e[0],u=t[1]^e[1],d=t[2]^e[2],l=t[3]^e[3],_,T,B,F,L=4,J=1;J<i;J++)_=a[c>>>24]^s[u>>>16&255]^o[d>>>8&255]^f[l&255]^e[L++],T=a[u>>>24]^s[d>>>16&255]^o[l>>>8&255]^f[c&255]^e[L++],B=a[d>>>24]^s[l>>>16&255]^o[c>>>8&255]^f[u&255]^e[L++],F=a[l>>>24]^s[c>>>16&255]^o[u>>>8&255]^f[d&255]^e[L++],c=_,u=T,d=B,l=F;return _=(n[c>>>24]<<24|n[u>>>16&255]<<16|n[d>>>8&255]<<8|n[l&255])^e[L++],T=(n[u>>>24]<<24|n[d>>>16&255]<<16|n[l>>>8&255]<<8|n[c&255])^e[L++],B=(n[d>>>24]<<24|n[l>>>16&255]<<16|n[c>>>8&255]<<8|n[u&255])^e[L++],F=(n[l>>>24]<<24|n[c>>>16&255]<<16|n[u>>>8&255]<<8|n[d&255])^e[L++],_=_>>>0,T=T>>>0,B=B>>>0,F=F>>>0,[_,T,B,F]}var hC=[0,1,2,4,8,16,32,64,128,27,54],Kt=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],a=[[],[],[],[]],s=0,o=0,f=0;f<256;++f){var c=o^o<<1^o<<2^o<<3^o<<4;c=c>>>8^c&255^99,r[s]=c,n[c]=s;var u=t[s],d=t[u],l=t[d],_=t[c]*257^c*16843008;i[0][s]=_<<24|_>>>8,i[1][s]=_<<16|_>>>16,i[2][s]=_<<8|_>>>24,i[3][s]=_,_=l*16843009^d*65537^u*257^s*16843008,a[0][c]=_<<24|_>>>8,a[1][c]=_<<16|_>>>16,a[2][c]=_<<8|_>>>24,a[3][c]=_,s===0?s=o=1:(s=u^t[t[t[l^u]]],o^=t[t[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:a}}();function Tn(t){this._key=Up(t),this._reset()}Tn.blockSize=4*4;Tn.keySize=256/8;Tn.prototype.blockSize=Tn.blockSize;Tn.prototype.keySize=Tn.keySize;Tn.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],a=0;a<e;a++)i[a]=t[a];for(a=e;a<n;a++){var s=i[a-1];a%e===0?(s=s<<8|s>>>24,s=Kt.SBOX[s>>>24]<<24|Kt.SBOX[s>>>16&255]<<16|Kt.SBOX[s>>>8&255]<<8|Kt.SBOX[s&255],s^=hC[a/e|0]<<24):e>6&&a%e===4&&(s=Kt.SBOX[s>>>24]<<24|Kt.SBOX[s>>>16&255]<<16|Kt.SBOX[s>>>8&255]<<8|Kt.SBOX[s&255]),i[a]=i[a-e]^s}for(var o=[],f=0;f<n;f++){var c=n-f,u=i[c-(f%4?0:4)];f<4||c<=4?o[f]=u:o[f]=Kt.INV_SUB_MIX[0][Kt.SBOX[u>>>24]]^Kt.INV_SUB_MIX[1][Kt.SBOX[u>>>16&255]]^Kt.INV_SUB_MIX[2][Kt.SBOX[u>>>8&255]]^Kt.INV_SUB_MIX[3][Kt.SBOX[u&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=o};Tn.prototype.encryptBlockRaw=function(t){return t=Up(t),Tg(t,this._keySchedule,Kt.SUB_MIX,Kt.SBOX,this._nRounds)};Tn.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Hd.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Tn.prototype.decryptBlock=function(t){t=Up(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Tg(t,this._invKeySchedule,Kt.INV_SUB_MIX,Kt.INV_SBOX,this._nRounds),n=Hd.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Tn.prototype.scrub=function(){Hp(this._keySchedule),Hp(this._invKeySchedule),Hp(this._key)};Ig.exports.AES=Tn});var Mg=H((FV,Bg)=>{g();m();var Ro=We().Buffer,lC=Ro.alloc(16,0);function pC(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Og(t){var e=Ro.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Sc(t){this.h=t,this.state=Ro.alloc(16,0),this.cache=Ro.allocUnsafe(0)}Sc.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Sc.prototype._multiply=function(){for(var t=pC(this.h),e=[0,0,0,0],r,n,i,a=-1;++a<128;){for(n=(this.state[~~(a/8)]&1<<7-a%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Og(e)};Sc.prototype.update=function(t){this.cache=Ro.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Sc.prototype.final=function(t,e){return this.cache.length&&this.ghash(Ro.concat([this.cache,lC],16)),this.ghash(Og([0,t,0,e])),this.state};Bg.exports=Sc});var Dp=H((zV,qg)=>{g();m();var bC=_c(),Wr=We().Buffer,Cg=oa(),vC=Ae(),Rg=Mg(),yC=Co(),gC=Cp();function mC(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function wC(t,e,r){if(e.length===12)return t._finID=Wr.concat([e,Wr.from([0,0,0,1])]),Wr.concat([e,Wr.from([0,0,0,2])]);var n=new Rg(r),i=e.length,a=i%16;n.update(e),a&&(a=16-a,n.update(Wr.alloc(a,0))),n.update(Wr.alloc(8,0));var s=i*8,o=Wr.alloc(8);o.writeUIntBE(s,0,8),n.update(o),t._finID=n.state;var f=Wr.from(t._finID);return gC(f),f}function Rs(t,e,r,n){Cg.call(this);var i=Wr.alloc(4,0);this._cipher=new bC.AES(e);var a=this._cipher.encryptBlock(i);this._ghash=new Rg(a),r=wC(this,r,a),this._prev=Wr.from(r),this._cache=Wr.allocUnsafe(0),this._secCache=Wr.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}vC(Rs,Cg);Rs.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Wr.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Rs.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=yC(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&mC(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Rs.prototype.getAuthTag=function(){if(this._decrypt||!Wr.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Rs.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Rs.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};qg.exports=Rs});var Fp=H((VV,Ng)=>{g();m();var _C=_c(),Lp=We().Buffer,kg=oa(),SC=Ae();function Ud(t,e,r,n){kg.call(this),this._cipher=new _C.AES(e),this._prev=Lp.from(r),this._cache=Lp.allocUnsafe(0),this._secCache=Lp.allocUnsafe(0),this._decrypt=n,this._mode=t}SC(Ud,kg);Ud.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};Ud.prototype._final=function(){this._cipher.scrub()};Ng.exports=Ud});var Lg=H(jp=>{g();m();var Hg=Nd(),xC=Dp(),fa=We().Buffer,EC=Fp(),Ug=oa(),AC=_c(),PC=mc(),TC=Ae();function xc(t,e,r){Ug.call(this),this._cache=new Dd,this._cipher=new AC.AES(e),this._prev=fa.from(r),this._mode=t,this._autopadding=!0}TC(xc,Ug);xc.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return fa.concat(n)};var IC=fa.alloc(16,16);xc.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(IC))throw this._cipher.scrub(),new Error("data not multiple of block length")};xc.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Dd(){this.cache=fa.allocUnsafe(0)}Dd.prototype.add=function(t){this.cache=fa.concat([this.cache,t])};Dd.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Dd.prototype.flush=function(){for(var t=16-this.cache.length,e=fa.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return fa.concat([this.cache,e])};function Dg(t,e,r){var n=Hg[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=fa.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=fa.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new EC(n.module,e,r):n.type==="auth"?new xC(n.module,e,r):new xc(n.module,e,r)}function OC(t,e){var r=Hg[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=PC(e,!1,r.key,r.iv);return Dg(t,n.key,n.iv)}jp.createCipheriv=Dg;jp.createCipher=OC});var zg=H(Kp=>{g();m();var BC=Dp(),qo=We().Buffer,Fg=Nd(),MC=Fp(),jg=oa(),CC=_c(),RC=mc(),qC=Ae();function Ec(t,e,r){jg.call(this),this._cache=new Ld,this._last=void 0,this._cipher=new CC.AES(e),this._prev=qo.from(r),this._mode=t,this._autopadding=!0}qC(Ec,jg);Ec.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return qo.concat(n)};Ec.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return kC(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Ec.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Ld(){this.cache=qo.allocUnsafe(0)}Ld.prototype.add=function(t){this.cache=qo.concat([this.cache,t])};Ld.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Ld.prototype.flush=function(){if(this.cache.length)return this.cache};function kC(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function Kg(t,e,r){var n=Fg[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=qo.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=qo.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new MC(n.module,e,r,!0):n.type==="auth"?new BC(n.module,e,r,!0):new Ec(n.module,e,r)}function NC(t,e){var r=Fg[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=RC(e,!1,r.key,r.iv);return Kg(t,n.key,n.iv)}Kp.createDecipher=NC;Kp.createDecipheriv=Kg});var Fd=H(Yn=>{g();m();var Wg=Lg(),Gg=zg(),HC=kp();function UC(){return Object.keys(HC)}Yn.createCipher=Yn.Cipher=Wg.createCipher;Yn.createCipheriv=Yn.Cipheriv=Wg.createCipheriv;Yn.createDecipher=Yn.Decipher=Gg.createDecipher;Yn.createDecipheriv=Yn.Decipheriv=Gg.createDecipheriv;Yn.listCiphers=Yn.getCiphers=UC});var Yg=H(In=>{"use strict";g();m();In.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};In.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};In.ip=function(e,r,n,i){for(var a=0,s=0,o=6;o>=0;o-=2){for(var f=0;f<=24;f+=8)a<<=1,a|=r>>>f+o&1;for(var f=0;f<=24;f+=8)a<<=1,a|=e>>>f+o&1}for(var o=6;o>=0;o-=2){for(var f=1;f<=25;f+=8)s<<=1,s|=r>>>f+o&1;for(var f=1;f<=25;f+=8)s<<=1,s|=e>>>f+o&1}n[i+0]=a>>>0,n[i+1]=s>>>0};In.rip=function(e,r,n,i){for(var a=0,s=0,o=0;o<4;o++)for(var f=24;f>=0;f-=8)a<<=1,a|=r>>>f+o&1,a<<=1,a|=e>>>f+o&1;for(var o=4;o<8;o++)for(var f=24;f>=0;f-=8)s<<=1,s|=r>>>f+o&1,s<<=1,s|=e>>>f+o&1;n[i+0]=a>>>0,n[i+1]=s>>>0};In.pc1=function(e,r,n,i){for(var a=0,s=0,o=7;o>=5;o--){for(var f=0;f<=24;f+=8)a<<=1,a|=r>>f+o&1;for(var f=0;f<=24;f+=8)a<<=1,a|=e>>f+o&1}for(var f=0;f<=24;f+=8)a<<=1,a|=r>>f+o&1;for(var o=1;o<=3;o++){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+o&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+o&1}for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+o&1;n[i+0]=a>>>0,n[i+1]=s>>>0};In.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var jd=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];In.pc2=function(e,r,n,i){for(var a=0,s=0,o=jd.length>>>1,f=0;f<o;f++)a<<=1,a|=e>>>jd[f]&1;for(var f=o;f<jd.length;f++)s<<=1,s|=r>>>jd[f]&1;n[i+0]=a>>>0,n[i+1]=s>>>0};In.expand=function(e,r,n){var i=0,a=0;i=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=e>>>s&63;for(var s=11;s>=3;s-=4)a|=e>>>s&63,a<<=6;a|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=a>>>0};var Vg=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];In.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var a=e>>>18-i*6&63,s=Vg[i*64+a];n<<=4,n|=s}for(var i=0;i<4;i++){var a=r>>>18-i*6&63,s=Vg[4*64+i*64+a];n<<=4,n|=s}return n>>>0};var Xg=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];In.permute=function(e){for(var r=0,n=0;n<Xg.length;n++)r<<=1,r|=e>>>Xg[n]&1;return r>>>0};In.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var a=[],s=0;s<r;s+=n)a.push(i.slice(s,s+n));return a.join(" ")}});var Gr=H((fX,Jg)=>{g();m();Jg.exports=$g;function $g(t,e){if(!t)throw new Error(e||"Assertion failed")}$g.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var Qg=H((dX,Zg)=>{"use strict";g();m();var DC=Gr();function On(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Zg.exports=On;On.prototype._init=function(){};On.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};On.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};On.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};On.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,a=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(a,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,a,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return a};On.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,a=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(a,n);return r+=this._buffer(e,r),a};On.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};On.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};On.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};On.prototype._unpad=function(e){return e};On.prototype._finalDecrypt=function(){DC.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var i8=H((pX,n8)=>{"use strict";g();m();var e8=Gr(),LC=Ae(),t8=Kd(),$t=t8.utils,r8=t8.Cipher;function FC(){this.tmp=new Array(2),this.keys=null}function Oi(t){r8.call(this,t);var e=new FC;this._desState=e,this.deriveKeys(e,t.key)}LC(Oi,r8);n8.exports=Oi;Oi.create=function(e){return new Oi(e)};var jC=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Oi.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),e8.equal(r.length,this.blockSize,"Invalid key length");var n=$t.readUInt32BE(r,0),i=$t.readUInt32BE(r,4);$t.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=jC[a>>>1];n=$t.r28shl(n,s),i=$t.r28shl(i,s),$t.pc2(n,i,e.keys,a)}};Oi.prototype._update=function(e,r,n,i){var a=this._desState,s=$t.readUInt32BE(e,r),o=$t.readUInt32BE(e,r+4);$t.ip(s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],this.type==="encrypt"?this._encrypt(a,s,o,a.tmp,0):this._decrypt(a,s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],$t.writeUInt32BE(n,s,i),$t.writeUInt32BE(n,o,i+4)};Oi.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};Oi.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)e8.equal(e[n],r);return e.slice(0,e.length-r)};Oi.prototype._encrypt=function(e,r,n,i,a){for(var s=r,o=n,f=0;f<e.keys.length;f+=2){var c=e.keys[f],u=e.keys[f+1];$t.expand(o,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var d=$t.substitute(c,u),l=$t.permute(d),_=o;o=(s^l)>>>0,s=_}$t.rip(o,s,i,a)};Oi.prototype._decrypt=function(e,r,n,i,a){for(var s=n,o=r,f=e.keys.length-2;f>=0;f-=2){var c=e.keys[f],u=e.keys[f+1];$t.expand(s,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var d=$t.substitute(c,u),l=$t.permute(d),_=s;s=(o^l)>>>0,o=_}$t.rip(s,o,i,a)}});var s8=H(a8=>{"use strict";g();m();var KC=Gr(),zC=Ae(),zd={};function WC(t){KC.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function GC(t){function e(a){t.call(this,a),this._cbcInit()}zC(e,t);for(var r=Object.keys(zd),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=zd[i]}return e.create=function(s){return new e(s)},e}a8.instantiate=GC;zd._cbcInit=function(){var e=new WC(this.options.iv);this._cbcState=e};zd._update=function(e,r,n,i){var a=this._cbcState,s=this.constructor.super_.prototype,o=a.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)o[f]^=e[r+f];s._update.call(this,o,0,n,i);for(var f=0;f<this.blockSize;f++)o[f]=n[i+f]}else{s._update.call(this,e,r,n,i);for(var f=0;f<this.blockSize;f++)n[i+f]^=o[f];for(var f=0;f<this.blockSize;f++)o[f]=e[r+f]}}});var u8=H((wX,c8)=>{"use strict";g();m();var VC=Gr(),XC=Ae(),o8=Kd(),f8=o8.Cipher,Wa=o8.DES;function YC(t,e){VC.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Wa.create({type:"encrypt",key:r}),Wa.create({type:"decrypt",key:n}),Wa.create({type:"encrypt",key:i})]:this.ciphers=[Wa.create({type:"decrypt",key:i}),Wa.create({type:"encrypt",key:n}),Wa.create({type:"decrypt",key:r})]}function qs(t){f8.call(this,t);var e=new YC(this.type,this.options.key);this._edeState=e}XC(qs,f8);c8.exports=qs;qs.create=function(e){return new qs(e)};qs.prototype._update=function(e,r,n,i){var a=this._edeState;a.ciphers[0]._update(e,r,n,i),a.ciphers[1]._update(n,i,n,i),a.ciphers[2]._update(n,i,n,i)};qs.prototype._pad=Wa.prototype._pad;qs.prototype._unpad=Wa.prototype._unpad});var Kd=H(ko=>{"use strict";g();m();ko.utils=Yg();ko.Cipher=Qg();ko.DES=i8();ko.CBC=s8();ko.EDE=u8()});var l8=H((PX,h8)=>{g();m();var d8=oa(),ca=Kd(),$C=Ae(),Ac={"des-ede3-cbc":ca.CBC.instantiate(ca.EDE),"des-ede3":ca.EDE,"des-ede-cbc":ca.CBC.instantiate(ca.EDE),"des-ede":ca.EDE,"des-cbc":ca.CBC.instantiate(ca.DES),"des-ecb":ca.DES};Ac.des=Ac["des-cbc"];Ac.des3=Ac["des-ede3-cbc"];h8.exports=Wd;$C(Wd,d8);function Wd(t){d8.call(this);var e=t.mode.toLowerCase(),r=Ac[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;(e==="des-ede"||e==="des-ede-cbc")&&(i=b.Buffer.concat([i,i.slice(0,8)]));var a=t.iv;this._des=r.create({key:i,iv:a,type:n})}Wd.prototype._update=function(t){return new b.Buffer(this._des.update(t))};Wd.prototype._final=function(){return new b.Buffer(this._des.final())}});var p8=H(ua=>{g();m();ua["des-ecb"]={key:8,iv:0};ua["des-cbc"]=ua.des={key:8,iv:8};ua["des-ede3-cbc"]=ua.des3={key:24,iv:8};ua["des-ede3"]={key:24,iv:0};ua["des-ede-cbc"]={key:16,iv:8};ua["des-ede"]={key:16,iv:0}});var m8=H($n=>{g();m();var b8=mc(),zp=Fd(),v8=l8(),da=p8(),Ga=Nd();function JC(t,e){var r,n;if(t=t.toLowerCase(),Ga[t])r=Ga[t].key,n=Ga[t].iv;else if(da[t])r=da[t].key*8,n=da[t].iv;else throw new TypeError("invalid suite type");var i=b8(e,!1,r,n);return y8(t,i.key,i.iv)}function ZC(t,e){var r,n;if(t=t.toLowerCase(),Ga[t])r=Ga[t].key,n=Ga[t].iv;else if(da[t])r=da[t].key*8,n=da[t].iv;else throw new TypeError("invalid suite type");var i=b8(e,!1,r,n);return g8(t,i.key,i.iv)}function y8(t,e,r){if(t=t.toLowerCase(),Ga[t])return zp.createCipheriv(t,e,r);if(da[t])return new v8({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function g8(t,e,r){if(t=t.toLowerCase(),Ga[t])return zp.createDecipheriv(t,e,r);if(da[t])return new v8({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}$n.createCipher=$n.Cipher=JC;$n.createCipheriv=$n.Cipheriv=y8;$n.createDecipher=$n.Decipher=ZC;$n.createDecipheriv=$n.Decipheriv=g8;function QC(){return Object.keys(da).concat(zp.getCiphers())}$n.listCiphers=$n.getCiphers=QC});var Ge=H((w8,Wp)=>{g();m();(function(t,e){"use strict";function r(U,h){if(!U)throw new Error(h||"Assertion failed")}function n(U,h){U.super_=h;var E=function(){};E.prototype=h.prototype,U.prototype=new E,U.prototype.constructor=U}function i(U,h,E){if(i.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((h==="le"||h==="be")&&(E=h,h=10),this._init(U||0,h||10,E||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{a=Wn().Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,E){return h.cmp(E)>0?h:E},i.min=function(h,E){return h.cmp(E)<0?h:E},i.prototype._init=function(h,E,I){if(typeof h=="number")return this._initNumber(h,E,I);if(typeof h=="object")return this._initArray(h,E,I);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),h=h.toString().replace(/\s+/g,"");var O=0;h[0]==="-"&&O++,E===16?this._parseHex(h,O):this._parseBase(h,E,O),h[0]==="-"&&(this.negative=1),this.strip(),I==="le"&&this._initArray(this.toArray(),E,I)},i.prototype._initNumber=function(h,E,I){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),E,I)},i.prototype._initArray=function(h,E,I){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var N,D,z=0;if(I==="be")for(O=h.length-1,N=0;O>=0;O-=3)D=h[O]|h[O-1]<<8|h[O-2]<<16,this.words[N]|=D<<z&67108863,this.words[N+1]=D>>>26-z&67108863,z+=24,z>=26&&(z-=26,N++);else if(I==="le")for(O=0,N=0;O<h.length;O+=3)D=h[O]|h[O+1]<<8|h[O+2]<<16,this.words[N]|=D<<z&67108863,this.words[N+1]=D>>>26-z&67108863,z+=24,z>=26&&(z-=26,N++);return this.strip()};function s(U,h,E){for(var I=0,O=Math.min(U.length,E),N=h;N<O;N++){var D=U.charCodeAt(N)-48;I<<=4,D>=49&&D<=54?I|=D-49+10:D>=17&&D<=22?I|=D-17+10:I|=D&15}return I}i.prototype._parseHex=function(h,E){this.length=Math.ceil((h.length-E)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var O,N,D=0;for(I=h.length-6,O=0;I>=E;I-=6)N=s(h,I,I+6),this.words[O]|=N<<D&67108863,this.words[O+1]|=N>>>26-D&4194303,D+=24,D>=26&&(D-=26,O++);I+6!==E&&(N=s(h,E,I+6),this.words[O]|=N<<D&67108863,this.words[O+1]|=N>>>26-D&4194303),this.strip()};function o(U,h,E,I){for(var O=0,N=Math.min(U.length,E),D=h;D<N;D++){var z=U.charCodeAt(D)-48;O*=I,z>=49?O+=z-49+10:z>=17?O+=z-17+10:O+=z}return O}i.prototype._parseBase=function(h,E,I){this.words=[0],this.length=1;for(var O=0,N=1;N<=67108863;N*=E)O++;O--,N=N/E|0;for(var D=h.length-I,z=D%O,R=Math.min(D,D-z)+I,y=0,k=I;k<R;k+=O)y=o(h,k,k+O,E),this.imuln(N),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(z!==0){var se=1;for(y=o(h,k,h.length,E),k=0;k<z;k++)se*=E;this.imuln(se),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}},i.prototype.copy=function(h){h.words=new Array(this.length);for(var E=0;E<this.length;E++)h.words[E]=this.words[E];h.length=this.length,h.negative=this.negative,h.red=this.red},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,E){h=h||10,E=E|0||1;var I;if(h===16||h==="hex"){I="";for(var O=0,N=0,D=0;D<this.length;D++){var z=this.words[D],R=((z<<O|N)&16777215).toString(16);N=z>>>24-O&16777215,N!==0||D!==this.length-1?I=f[6-R.length]+R+I:I=R+I,O+=2,O>=26&&(O-=26,D--)}for(N!==0&&(I=N.toString(16)+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(h===(h|0)&&h>=2&&h<=36){var y=c[h],k=u[h];I="";var se=this.clone();for(se.negative=0;!se.isZero();){var oe=se.modn(k).toString(h);se=se.idivn(k),se.isZero()?I=oe+I:I=f[y-oe.length]+oe+I}for(this.isZero()&&(I="0"+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(h,E){return r(typeof a<"u"),this.toArrayLike(a,h,E)},i.prototype.toArray=function(h,E){return this.toArrayLike(Array,h,E)},i.prototype.toArrayLike=function(h,E,I){var O=this.byteLength(),N=I||Math.max(1,O);r(O<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0"),this.strip();var D=E==="le",z=new h(N),R,y,k=this.clone();if(D){for(y=0;!k.isZero();y++)R=k.andln(255),k.iushrn(8),z[y]=R;for(;y<N;y++)z[y]=0}else{for(y=0;y<N-O;y++)z[y]=0;for(y=0;!k.isZero();y++)R=k.andln(255),k.iushrn(8),z[N-y-1]=R}return z},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var E=h,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},i.prototype._zeroBits=function(h){if(h===0)return 26;var E=h,I=0;return(E&8191)===0&&(I+=13,E>>>=13),(E&127)===0&&(I+=7,E>>>=7),(E&15)===0&&(I+=4,E>>>=4),(E&3)===0&&(I+=2,E>>>=2),(E&1)===0&&I++,I},i.prototype.bitLength=function(){var h=this.words[this.length-1],E=this._countBits(h);return(this.length-1)*26+E};function d(U){for(var h=new Array(U.bitLength()),E=0;E<h.length;E++){var I=E/26|0,O=E%26;h[E]=(U.words[I]&1<<O)>>>O}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(h+=I,I!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var E=0;E<h.length;E++)this.words[E]=this.words[E]|h.words[E];return this.strip()},i.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var E;this.length>h.length?E=h:E=this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&h.words[I];return this.length=E.length,this.strip()},i.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var E,I;this.length>h.length?(E=this,I=h):(E=h,I=this);for(var O=0;O<I.length;O++)this.words[O]=E.words[O]^I.words[O];if(this!==E)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=E.length,this.strip()},i.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var E=Math.ceil(h/26)|0,I=h%26;this._expand(E),I>0&&E--;for(var O=0;O<E;O++)this.words[O]=~this.words[O]&67108863;return I>0&&(this.words[O]=~this.words[O]&67108863>>26-I),this.strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,E){r(typeof h=="number"&&h>=0);var I=h/26|0,O=h%26;return this._expand(I+1),E?this.words[I]=this.words[I]|1<<O:this.words[I]=this.words[I]&~(1<<O),this.strip()},i.prototype.iadd=function(h){var E;if(this.negative!==0&&h.negative===0)return this.negative=0,E=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,E=this.isub(h),h.negative=1,E._normSign();var I,O;this.length>h.length?(I=this,O=h):(I=h,O=this);for(var N=0,D=0;D<O.length;D++)E=(I.words[D]|0)+(O.words[D]|0)+N,this.words[D]=E&67108863,N=E>>>26;for(;N!==0&&D<I.length;D++)E=(I.words[D]|0)+N,this.words[D]=E&67108863,N=E>>>26;if(this.length=I.length,N!==0)this.words[this.length]=N,this.length++;else if(I!==this)for(;D<I.length;D++)this.words[D]=I.words[D];return this},i.prototype.add=function(h){var E;return h.negative!==0&&this.negative===0?(h.negative=0,E=this.sub(h),h.negative^=1,E):h.negative===0&&this.negative!==0?(this.negative=0,E=h.sub(this),this.negative=1,E):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var E=this.iadd(h);return h.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var I=this.cmp(h);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,N;I>0?(O=this,N=h):(O=h,N=this);for(var D=0,z=0;z<N.length;z++)E=(O.words[z]|0)-(N.words[z]|0)+D,D=E>>26,this.words[z]=E&67108863;for(;D!==0&&z<O.length;z++)E=(O.words[z]|0)+D,D=E>>26,this.words[z]=E&67108863;if(D===0&&z<O.length&&O!==this)for(;z<O.length;z++)this.words[z]=O.words[z];return this.length=Math.max(this.length,z),O!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function l(U,h,E){E.negative=h.negative^U.negative;var I=U.length+h.length|0;E.length=I,I=I-1|0;var O=U.words[0]|0,N=h.words[0]|0,D=O*N,z=D&67108863,R=D/67108864|0;E.words[0]=z;for(var y=1;y<I;y++){for(var k=R>>>26,se=R&67108863,oe=Math.min(y,h.length-1),ue=Math.max(0,y-U.length+1);ue<=oe;ue++){var be=y-ue|0;O=U.words[be]|0,N=h.words[ue]|0,D=O*N+se,k+=D/67108864|0,se=D&67108863}E.words[y]=se|0,R=k|0}return R!==0?E.words[y]=R|0:E.length--,E.strip()}var _=function(h,E,I){var O=h.words,N=E.words,D=I.words,z=0,R,y,k,se=O[0]|0,oe=se&8191,ue=se>>>13,be=O[1]|0,Ee=be&8191,Te=be>>>13,Ue=O[2]|0,w=Ue&8191,P=Ue>>>13,M=O[3]|0,W=M&8191,X=M>>>13,$=O[4]|0,ee=$&8191,ce=$>>>13,Ne=O[5]|0,ve=Ne&8191,pe=Ne>>>13,p=O[6]|0,S=p&8191,A=p>>>13,K=O[7]|0,v=K&8191,x=K>>>13,C=O[8]|0,j=C&8191,G=C>>>13,V=O[9]|0,Y=V&8191,Z=V>>>13,re=N[0]|0,de=re&8191,me=re>>>13,Oe=N[1]|0,_e=Oe&8191,De=Oe>>>13,ur=N[2]|0,ft=ur&8191,ct=ur>>>13,Lb=N[3]|0,Et=Lb&8191,At=Lb>>>13,Fb=N[4]|0,Pt=Fb&8191,Tt=Fb>>>13,jb=N[5]|0,It=jb&8191,Ot=jb>>>13,Kb=N[6]|0,Bt=Kb&8191,Mt=Kb>>>13,zb=N[7]|0,Ct=zb&8191,Rt=zb>>>13,Wb=N[8]|0,qt=Wb&8191,kt=Wb>>>13,Gb=N[9]|0,Nt=Gb&8191,Ht=Gb>>>13;I.negative=h.negative^E.negative,I.length=19,R=Math.imul(oe,de),y=Math.imul(oe,me),y=y+Math.imul(ue,de)|0,k=Math.imul(ue,me);var r0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(r0>>>26)|0,r0&=67108863,R=Math.imul(Ee,de),y=Math.imul(Ee,me),y=y+Math.imul(Te,de)|0,k=Math.imul(Te,me),R=R+Math.imul(oe,_e)|0,y=y+Math.imul(oe,De)|0,y=y+Math.imul(ue,_e)|0,k=k+Math.imul(ue,De)|0;var n0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(n0>>>26)|0,n0&=67108863,R=Math.imul(w,de),y=Math.imul(w,me),y=y+Math.imul(P,de)|0,k=Math.imul(P,me),R=R+Math.imul(Ee,_e)|0,y=y+Math.imul(Ee,De)|0,y=y+Math.imul(Te,_e)|0,k=k+Math.imul(Te,De)|0,R=R+Math.imul(oe,ft)|0,y=y+Math.imul(oe,ct)|0,y=y+Math.imul(ue,ft)|0,k=k+Math.imul(ue,ct)|0;var i0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(i0>>>26)|0,i0&=67108863,R=Math.imul(W,de),y=Math.imul(W,me),y=y+Math.imul(X,de)|0,k=Math.imul(X,me),R=R+Math.imul(w,_e)|0,y=y+Math.imul(w,De)|0,y=y+Math.imul(P,_e)|0,k=k+Math.imul(P,De)|0,R=R+Math.imul(Ee,ft)|0,y=y+Math.imul(Ee,ct)|0,y=y+Math.imul(Te,ft)|0,k=k+Math.imul(Te,ct)|0,R=R+Math.imul(oe,Et)|0,y=y+Math.imul(oe,At)|0,y=y+Math.imul(ue,Et)|0,k=k+Math.imul(ue,At)|0;var a0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(a0>>>26)|0,a0&=67108863,R=Math.imul(ee,de),y=Math.imul(ee,me),y=y+Math.imul(ce,de)|0,k=Math.imul(ce,me),R=R+Math.imul(W,_e)|0,y=y+Math.imul(W,De)|0,y=y+Math.imul(X,_e)|0,k=k+Math.imul(X,De)|0,R=R+Math.imul(w,ft)|0,y=y+Math.imul(w,ct)|0,y=y+Math.imul(P,ft)|0,k=k+Math.imul(P,ct)|0,R=R+Math.imul(Ee,Et)|0,y=y+Math.imul(Ee,At)|0,y=y+Math.imul(Te,Et)|0,k=k+Math.imul(Te,At)|0,R=R+Math.imul(oe,Pt)|0,y=y+Math.imul(oe,Tt)|0,y=y+Math.imul(ue,Pt)|0,k=k+Math.imul(ue,Tt)|0;var s0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(s0>>>26)|0,s0&=67108863,R=Math.imul(ve,de),y=Math.imul(ve,me),y=y+Math.imul(pe,de)|0,k=Math.imul(pe,me),R=R+Math.imul(ee,_e)|0,y=y+Math.imul(ee,De)|0,y=y+Math.imul(ce,_e)|0,k=k+Math.imul(ce,De)|0,R=R+Math.imul(W,ft)|0,y=y+Math.imul(W,ct)|0,y=y+Math.imul(X,ft)|0,k=k+Math.imul(X,ct)|0,R=R+Math.imul(w,Et)|0,y=y+Math.imul(w,At)|0,y=y+Math.imul(P,Et)|0,k=k+Math.imul(P,At)|0,R=R+Math.imul(Ee,Pt)|0,y=y+Math.imul(Ee,Tt)|0,y=y+Math.imul(Te,Pt)|0,k=k+Math.imul(Te,Tt)|0,R=R+Math.imul(oe,It)|0,y=y+Math.imul(oe,Ot)|0,y=y+Math.imul(ue,It)|0,k=k+Math.imul(ue,Ot)|0;var o0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(o0>>>26)|0,o0&=67108863,R=Math.imul(S,de),y=Math.imul(S,me),y=y+Math.imul(A,de)|0,k=Math.imul(A,me),R=R+Math.imul(ve,_e)|0,y=y+Math.imul(ve,De)|0,y=y+Math.imul(pe,_e)|0,k=k+Math.imul(pe,De)|0,R=R+Math.imul(ee,ft)|0,y=y+Math.imul(ee,ct)|0,y=y+Math.imul(ce,ft)|0,k=k+Math.imul(ce,ct)|0,R=R+Math.imul(W,Et)|0,y=y+Math.imul(W,At)|0,y=y+Math.imul(X,Et)|0,k=k+Math.imul(X,At)|0,R=R+Math.imul(w,Pt)|0,y=y+Math.imul(w,Tt)|0,y=y+Math.imul(P,Pt)|0,k=k+Math.imul(P,Tt)|0,R=R+Math.imul(Ee,It)|0,y=y+Math.imul(Ee,Ot)|0,y=y+Math.imul(Te,It)|0,k=k+Math.imul(Te,Ot)|0,R=R+Math.imul(oe,Bt)|0,y=y+Math.imul(oe,Mt)|0,y=y+Math.imul(ue,Bt)|0,k=k+Math.imul(ue,Mt)|0;var f0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(f0>>>26)|0,f0&=67108863,R=Math.imul(v,de),y=Math.imul(v,me),y=y+Math.imul(x,de)|0,k=Math.imul(x,me),R=R+Math.imul(S,_e)|0,y=y+Math.imul(S,De)|0,y=y+Math.imul(A,_e)|0,k=k+Math.imul(A,De)|0,R=R+Math.imul(ve,ft)|0,y=y+Math.imul(ve,ct)|0,y=y+Math.imul(pe,ft)|0,k=k+Math.imul(pe,ct)|0,R=R+Math.imul(ee,Et)|0,y=y+Math.imul(ee,At)|0,y=y+Math.imul(ce,Et)|0,k=k+Math.imul(ce,At)|0,R=R+Math.imul(W,Pt)|0,y=y+Math.imul(W,Tt)|0,y=y+Math.imul(X,Pt)|0,k=k+Math.imul(X,Tt)|0,R=R+Math.imul(w,It)|0,y=y+Math.imul(w,Ot)|0,y=y+Math.imul(P,It)|0,k=k+Math.imul(P,Ot)|0,R=R+Math.imul(Ee,Bt)|0,y=y+Math.imul(Ee,Mt)|0,y=y+Math.imul(Te,Bt)|0,k=k+Math.imul(Te,Mt)|0,R=R+Math.imul(oe,Ct)|0,y=y+Math.imul(oe,Rt)|0,y=y+Math.imul(ue,Ct)|0,k=k+Math.imul(ue,Rt)|0;var c0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(c0>>>26)|0,c0&=67108863,R=Math.imul(j,de),y=Math.imul(j,me),y=y+Math.imul(G,de)|0,k=Math.imul(G,me),R=R+Math.imul(v,_e)|0,y=y+Math.imul(v,De)|0,y=y+Math.imul(x,_e)|0,k=k+Math.imul(x,De)|0,R=R+Math.imul(S,ft)|0,y=y+Math.imul(S,ct)|0,y=y+Math.imul(A,ft)|0,k=k+Math.imul(A,ct)|0,R=R+Math.imul(ve,Et)|0,y=y+Math.imul(ve,At)|0,y=y+Math.imul(pe,Et)|0,k=k+Math.imul(pe,At)|0,R=R+Math.imul(ee,Pt)|0,y=y+Math.imul(ee,Tt)|0,y=y+Math.imul(ce,Pt)|0,k=k+Math.imul(ce,Tt)|0,R=R+Math.imul(W,It)|0,y=y+Math.imul(W,Ot)|0,y=y+Math.imul(X,It)|0,k=k+Math.imul(X,Ot)|0,R=R+Math.imul(w,Bt)|0,y=y+Math.imul(w,Mt)|0,y=y+Math.imul(P,Bt)|0,k=k+Math.imul(P,Mt)|0,R=R+Math.imul(Ee,Ct)|0,y=y+Math.imul(Ee,Rt)|0,y=y+Math.imul(Te,Ct)|0,k=k+Math.imul(Te,Rt)|0,R=R+Math.imul(oe,qt)|0,y=y+Math.imul(oe,kt)|0,y=y+Math.imul(ue,qt)|0,k=k+Math.imul(ue,kt)|0;var u0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(u0>>>26)|0,u0&=67108863,R=Math.imul(Y,de),y=Math.imul(Y,me),y=y+Math.imul(Z,de)|0,k=Math.imul(Z,me),R=R+Math.imul(j,_e)|0,y=y+Math.imul(j,De)|0,y=y+Math.imul(G,_e)|0,k=k+Math.imul(G,De)|0,R=R+Math.imul(v,ft)|0,y=y+Math.imul(v,ct)|0,y=y+Math.imul(x,ft)|0,k=k+Math.imul(x,ct)|0,R=R+Math.imul(S,Et)|0,y=y+Math.imul(S,At)|0,y=y+Math.imul(A,Et)|0,k=k+Math.imul(A,At)|0,R=R+Math.imul(ve,Pt)|0,y=y+Math.imul(ve,Tt)|0,y=y+Math.imul(pe,Pt)|0,k=k+Math.imul(pe,Tt)|0,R=R+Math.imul(ee,It)|0,y=y+Math.imul(ee,Ot)|0,y=y+Math.imul(ce,It)|0,k=k+Math.imul(ce,Ot)|0,R=R+Math.imul(W,Bt)|0,y=y+Math.imul(W,Mt)|0,y=y+Math.imul(X,Bt)|0,k=k+Math.imul(X,Mt)|0,R=R+Math.imul(w,Ct)|0,y=y+Math.imul(w,Rt)|0,y=y+Math.imul(P,Ct)|0,k=k+Math.imul(P,Rt)|0,R=R+Math.imul(Ee,qt)|0,y=y+Math.imul(Ee,kt)|0,y=y+Math.imul(Te,qt)|0,k=k+Math.imul(Te,kt)|0,R=R+Math.imul(oe,Nt)|0,y=y+Math.imul(oe,Ht)|0,y=y+Math.imul(ue,Nt)|0,k=k+Math.imul(ue,Ht)|0;var d0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(d0>>>26)|0,d0&=67108863,R=Math.imul(Y,_e),y=Math.imul(Y,De),y=y+Math.imul(Z,_e)|0,k=Math.imul(Z,De),R=R+Math.imul(j,ft)|0,y=y+Math.imul(j,ct)|0,y=y+Math.imul(G,ft)|0,k=k+Math.imul(G,ct)|0,R=R+Math.imul(v,Et)|0,y=y+Math.imul(v,At)|0,y=y+Math.imul(x,Et)|0,k=k+Math.imul(x,At)|0,R=R+Math.imul(S,Pt)|0,y=y+Math.imul(S,Tt)|0,y=y+Math.imul(A,Pt)|0,k=k+Math.imul(A,Tt)|0,R=R+Math.imul(ve,It)|0,y=y+Math.imul(ve,Ot)|0,y=y+Math.imul(pe,It)|0,k=k+Math.imul(pe,Ot)|0,R=R+Math.imul(ee,Bt)|0,y=y+Math.imul(ee,Mt)|0,y=y+Math.imul(ce,Bt)|0,k=k+Math.imul(ce,Mt)|0,R=R+Math.imul(W,Ct)|0,y=y+Math.imul(W,Rt)|0,y=y+Math.imul(X,Ct)|0,k=k+Math.imul(X,Rt)|0,R=R+Math.imul(w,qt)|0,y=y+Math.imul(w,kt)|0,y=y+Math.imul(P,qt)|0,k=k+Math.imul(P,kt)|0,R=R+Math.imul(Ee,Nt)|0,y=y+Math.imul(Ee,Ht)|0,y=y+Math.imul(Te,Nt)|0,k=k+Math.imul(Te,Ht)|0;var h0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(h0>>>26)|0,h0&=67108863,R=Math.imul(Y,ft),y=Math.imul(Y,ct),y=y+Math.imul(Z,ft)|0,k=Math.imul(Z,ct),R=R+Math.imul(j,Et)|0,y=y+Math.imul(j,At)|0,y=y+Math.imul(G,Et)|0,k=k+Math.imul(G,At)|0,R=R+Math.imul(v,Pt)|0,y=y+Math.imul(v,Tt)|0,y=y+Math.imul(x,Pt)|0,k=k+Math.imul(x,Tt)|0,R=R+Math.imul(S,It)|0,y=y+Math.imul(S,Ot)|0,y=y+Math.imul(A,It)|0,k=k+Math.imul(A,Ot)|0,R=R+Math.imul(ve,Bt)|0,y=y+Math.imul(ve,Mt)|0,y=y+Math.imul(pe,Bt)|0,k=k+Math.imul(pe,Mt)|0,R=R+Math.imul(ee,Ct)|0,y=y+Math.imul(ee,Rt)|0,y=y+Math.imul(ce,Ct)|0,k=k+Math.imul(ce,Rt)|0,R=R+Math.imul(W,qt)|0,y=y+Math.imul(W,kt)|0,y=y+Math.imul(X,qt)|0,k=k+Math.imul(X,kt)|0,R=R+Math.imul(w,Nt)|0,y=y+Math.imul(w,Ht)|0,y=y+Math.imul(P,Nt)|0,k=k+Math.imul(P,Ht)|0;var l0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(l0>>>26)|0,l0&=67108863,R=Math.imul(Y,Et),y=Math.imul(Y,At),y=y+Math.imul(Z,Et)|0,k=Math.imul(Z,At),R=R+Math.imul(j,Pt)|0,y=y+Math.imul(j,Tt)|0,y=y+Math.imul(G,Pt)|0,k=k+Math.imul(G,Tt)|0,R=R+Math.imul(v,It)|0,y=y+Math.imul(v,Ot)|0,y=y+Math.imul(x,It)|0,k=k+Math.imul(x,Ot)|0,R=R+Math.imul(S,Bt)|0,y=y+Math.imul(S,Mt)|0,y=y+Math.imul(A,Bt)|0,k=k+Math.imul(A,Mt)|0,R=R+Math.imul(ve,Ct)|0,y=y+Math.imul(ve,Rt)|0,y=y+Math.imul(pe,Ct)|0,k=k+Math.imul(pe,Rt)|0,R=R+Math.imul(ee,qt)|0,y=y+Math.imul(ee,kt)|0,y=y+Math.imul(ce,qt)|0,k=k+Math.imul(ce,kt)|0,R=R+Math.imul(W,Nt)|0,y=y+Math.imul(W,Ht)|0,y=y+Math.imul(X,Nt)|0,k=k+Math.imul(X,Ht)|0;var p0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(p0>>>26)|0,p0&=67108863,R=Math.imul(Y,Pt),y=Math.imul(Y,Tt),y=y+Math.imul(Z,Pt)|0,k=Math.imul(Z,Tt),R=R+Math.imul(j,It)|0,y=y+Math.imul(j,Ot)|0,y=y+Math.imul(G,It)|0,k=k+Math.imul(G,Ot)|0,R=R+Math.imul(v,Bt)|0,y=y+Math.imul(v,Mt)|0,y=y+Math.imul(x,Bt)|0,k=k+Math.imul(x,Mt)|0,R=R+Math.imul(S,Ct)|0,y=y+Math.imul(S,Rt)|0,y=y+Math.imul(A,Ct)|0,k=k+Math.imul(A,Rt)|0,R=R+Math.imul(ve,qt)|0,y=y+Math.imul(ve,kt)|0,y=y+Math.imul(pe,qt)|0,k=k+Math.imul(pe,kt)|0,R=R+Math.imul(ee,Nt)|0,y=y+Math.imul(ee,Ht)|0,y=y+Math.imul(ce,Nt)|0,k=k+Math.imul(ce,Ht)|0;var b0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(b0>>>26)|0,b0&=67108863,R=Math.imul(Y,It),y=Math.imul(Y,Ot),y=y+Math.imul(Z,It)|0,k=Math.imul(Z,Ot),R=R+Math.imul(j,Bt)|0,y=y+Math.imul(j,Mt)|0,y=y+Math.imul(G,Bt)|0,k=k+Math.imul(G,Mt)|0,R=R+Math.imul(v,Ct)|0,y=y+Math.imul(v,Rt)|0,y=y+Math.imul(x,Ct)|0,k=k+Math.imul(x,Rt)|0,R=R+Math.imul(S,qt)|0,y=y+Math.imul(S,kt)|0,y=y+Math.imul(A,qt)|0,k=k+Math.imul(A,kt)|0,R=R+Math.imul(ve,Nt)|0,y=y+Math.imul(ve,Ht)|0,y=y+Math.imul(pe,Nt)|0,k=k+Math.imul(pe,Ht)|0;var v0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(v0>>>26)|0,v0&=67108863,R=Math.imul(Y,Bt),y=Math.imul(Y,Mt),y=y+Math.imul(Z,Bt)|0,k=Math.imul(Z,Mt),R=R+Math.imul(j,Ct)|0,y=y+Math.imul(j,Rt)|0,y=y+Math.imul(G,Ct)|0,k=k+Math.imul(G,Rt)|0,R=R+Math.imul(v,qt)|0,y=y+Math.imul(v,kt)|0,y=y+Math.imul(x,qt)|0,k=k+Math.imul(x,kt)|0,R=R+Math.imul(S,Nt)|0,y=y+Math.imul(S,Ht)|0,y=y+Math.imul(A,Nt)|0,k=k+Math.imul(A,Ht)|0;var y0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(y0>>>26)|0,y0&=67108863,R=Math.imul(Y,Ct),y=Math.imul(Y,Rt),y=y+Math.imul(Z,Ct)|0,k=Math.imul(Z,Rt),R=R+Math.imul(j,qt)|0,y=y+Math.imul(j,kt)|0,y=y+Math.imul(G,qt)|0,k=k+Math.imul(G,kt)|0,R=R+Math.imul(v,Nt)|0,y=y+Math.imul(v,Ht)|0,y=y+Math.imul(x,Nt)|0,k=k+Math.imul(x,Ht)|0;var g0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(g0>>>26)|0,g0&=67108863,R=Math.imul(Y,qt),y=Math.imul(Y,kt),y=y+Math.imul(Z,qt)|0,k=Math.imul(Z,kt),R=R+Math.imul(j,Nt)|0,y=y+Math.imul(j,Ht)|0,y=y+Math.imul(G,Nt)|0,k=k+Math.imul(G,Ht)|0;var m0=(z+R|0)+((y&8191)<<13)|0;z=(k+(y>>>13)|0)+(m0>>>26)|0,m0&=67108863,R=Math.imul(Y,Nt),y=Math.imul(Y,Ht),y=y+Math.imul(Z,Nt)|0,k=Math.imul(Z,Ht);var w0=(z+R|0)+((y&8191)<<13)|0;return z=(k+(y>>>13)|0)+(w0>>>26)|0,w0&=67108863,D[0]=r0,D[1]=n0,D[2]=i0,D[3]=a0,D[4]=s0,D[5]=o0,D[6]=f0,D[7]=c0,D[8]=u0,D[9]=d0,D[10]=h0,D[11]=l0,D[12]=p0,D[13]=b0,D[14]=v0,D[15]=y0,D[16]=g0,D[17]=m0,D[18]=w0,z!==0&&(D[19]=z,I.length++),I};Math.imul||(_=l);function T(U,h,E){E.negative=h.negative^U.negative,E.length=U.length+h.length;for(var I=0,O=0,N=0;N<E.length-1;N++){var D=O;O=0;for(var z=I&67108863,R=Math.min(N,h.length-1),y=Math.max(0,N-U.length+1);y<=R;y++){var k=N-y,se=U.words[k]|0,oe=h.words[y]|0,ue=se*oe,be=ue&67108863;D=D+(ue/67108864|0)|0,be=be+z|0,z=be&67108863,D=D+(be>>>26)|0,O+=D>>>26,D&=67108863}E.words[N]=z,I=D,D=O}return I!==0?E.words[N]=I:E.length--,E.strip()}function B(U,h,E){var I=new F;return I.mulp(U,h,E)}i.prototype.mulTo=function(h,E){var I,O=this.length+h.length;return this.length===10&&h.length===10?I=_(this,h,E):O<63?I=l(this,h,E):O<1024?I=T(this,h,E):I=B(this,h,E),I};function F(U,h){this.x=U,this.y=h}F.prototype.makeRBT=function(h){for(var E=new Array(h),I=i.prototype._countBits(h)-1,O=0;O<h;O++)E[O]=this.revBin(O,I,h);return E},F.prototype.revBin=function(h,E,I){if(h===0||h===I-1)return h;for(var O=0,N=0;N<E;N++)O|=(h&1)<<E-N-1,h>>=1;return O},F.prototype.permute=function(h,E,I,O,N,D){for(var z=0;z<D;z++)O[z]=E[h[z]],N[z]=I[h[z]]},F.prototype.transform=function(h,E,I,O,N,D){this.permute(D,h,E,I,O,N);for(var z=1;z<N;z<<=1)for(var R=z<<1,y=Math.cos(2*Math.PI/R),k=Math.sin(2*Math.PI/R),se=0;se<N;se+=R)for(var oe=y,ue=k,be=0;be<z;be++){var Ee=I[se+be],Te=O[se+be],Ue=I[se+be+z],w=O[se+be+z],P=oe*Ue-ue*w;w=oe*w+ue*Ue,Ue=P,I[se+be]=Ee+Ue,O[se+be]=Te+w,I[se+be+z]=Ee-Ue,O[se+be+z]=Te-w,be!==R&&(P=y*oe-k*ue,ue=y*ue+k*oe,oe=P)}},F.prototype.guessLen13b=function(h,E){var I=Math.max(E,h)|1,O=I&1,N=0;for(I=I/2|0;I;I=I>>>1)N++;return 1<<N+1+O},F.prototype.conjugate=function(h,E,I){if(!(I<=1))for(var O=0;O<I/2;O++){var N=h[O];h[O]=h[I-O-1],h[I-O-1]=N,N=E[O],E[O]=-E[I-O-1],E[I-O-1]=-N}},F.prototype.normalize13b=function(h,E){for(var I=0,O=0;O<E/2;O++){var N=Math.round(h[2*O+1]/E)*8192+Math.round(h[2*O]/E)+I;h[O]=N&67108863,N<67108864?I=0:I=N/67108864|0}return h},F.prototype.convert13b=function(h,E,I,O){for(var N=0,D=0;D<E;D++)N=N+(h[D]|0),I[2*D]=N&8191,N=N>>>13,I[2*D+1]=N&8191,N=N>>>13;for(D=2*E;D<O;++D)I[D]=0;r(N===0),r((N&-8192)===0)},F.prototype.stub=function(h){for(var E=new Array(h),I=0;I<h;I++)E[I]=0;return E},F.prototype.mulp=function(h,E,I){var O=2*this.guessLen13b(h.length,E.length),N=this.makeRBT(O),D=this.stub(O),z=new Array(O),R=new Array(O),y=new Array(O),k=new Array(O),se=new Array(O),oe=new Array(O),ue=I.words;ue.length=O,this.convert13b(h.words,h.length,z,O),this.convert13b(E.words,E.length,k,O),this.transform(z,D,R,y,O,N),this.transform(k,D,se,oe,O,N);for(var be=0;be<O;be++){var Ee=R[be]*se[be]-y[be]*oe[be];y[be]=R[be]*oe[be]+y[be]*se[be],R[be]=Ee}return this.conjugate(R,y,O),this.transform(R,y,ue,D,O,N),this.conjugate(ue,D,O),this.normalize13b(ue,O),I.negative=h.negative^E.negative,I.length=h.length+E.length,I.strip()},i.prototype.mul=function(h){var E=new i(null);return E.words=new Array(this.length+h.length),this.mulTo(h,E)},i.prototype.mulf=function(h){var E=new i(null);return E.words=new Array(this.length+h.length),B(this,h,E)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var E=0,I=0;I<this.length;I++){var O=(this.words[I]|0)*h,N=(O&67108863)+(E&67108863);E>>=26,E+=O/67108864|0,E+=N>>>26,this.words[I]=N&67108863}return E!==0&&(this.words[I]=E,this.length++),this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var E=d(h);if(E.length===0)return new i(1);for(var I=this,O=0;O<E.length&&E[O]===0;O++,I=I.sqr());if(++O<E.length)for(var N=I.sqr();O<E.length;O++,N=N.sqr())E[O]!==0&&(I=I.mul(N));return I},i.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var E=h%26,I=(h-E)/26,O=67108863>>>26-E<<26-E,N;if(E!==0){var D=0;for(N=0;N<this.length;N++){var z=this.words[N]&O,R=(this.words[N]|0)-z<<E;this.words[N]=R|D,D=z>>>26-E}D&&(this.words[N]=D,this.length++)}if(I!==0){for(N=this.length-1;N>=0;N--)this.words[N+I]=this.words[N];for(N=0;N<I;N++)this.words[N]=0;this.length+=I}return this.strip()},i.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,E,I){r(typeof h=="number"&&h>=0);var O;E?O=(E-E%26)/26:O=0;var N=h%26,D=Math.min((h-N)/26,this.length),z=67108863^67108863>>>N<<N,R=I;if(O-=D,O=Math.max(0,O),R){for(var y=0;y<D;y++)R.words[y]=this.words[y];R.length=D}if(D!==0)if(this.length>D)for(this.length-=D,y=0;y<this.length;y++)this.words[y]=this.words[y+D];else this.words[0]=0,this.length=1;var k=0;for(y=this.length-1;y>=0&&(k!==0||y>=O);y--){var se=this.words[y]|0;this.words[y]=k<<26-N|se>>>N,k=se&z}return R&&k!==0&&(R.words[R.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(h,E,I){return r(this.negative===0),this.iushrn(h,E,I)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var E=h%26,I=(h-E)/26,O=1<<E;if(this.length<=I)return!1;var N=this.words[I];return!!(N&O)},i.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var E=h%26,I=(h-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(E!==0&&I++,this.length=Math.min(I,this.length),E!==0){var O=67108863^67108863>>>E<<E;this.words[this.length-1]&=O}return this.strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},i.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,E,I){var O=h.length+I,N;this._expand(O);var D,z=0;for(N=0;N<h.length;N++){D=(this.words[N+I]|0)+z;var R=(h.words[N]|0)*E;D-=R&67108863,z=(D>>26)-(R/67108864|0),this.words[N+I]=D&67108863}for(;N<this.length-I;N++)D=(this.words[N+I]|0)+z,z=D>>26,this.words[N+I]=D&67108863;if(z===0)return this.strip();for(r(z===-1),z=0,N=0;N<this.length;N++)D=-(this.words[N]|0)+z,z=D>>26,this.words[N]=D&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(h,E){var I=this.length-h.length,O=this.clone(),N=h,D=N.words[N.length-1]|0,z=this._countBits(D);I=26-z,I!==0&&(N=N.ushln(I),O.iushln(I),D=N.words[N.length-1]|0);var R=O.length-N.length,y;if(E!=="mod"){y=new i(null),y.length=R+1,y.words=new Array(y.length);for(var k=0;k<y.length;k++)y.words[k]=0}var se=O.clone()._ishlnsubmul(N,1,R);se.negative===0&&(O=se,y&&(y.words[R]=1));for(var oe=R-1;oe>=0;oe--){var ue=(O.words[N.length+oe]|0)*67108864+(O.words[N.length+oe-1]|0);for(ue=Math.min(ue/D|0,67108863),O._ishlnsubmul(N,ue,oe);O.negative!==0;)ue--,O.negative=0,O._ishlnsubmul(N,1,oe),O.isZero()||(O.negative^=1);y&&(y.words[oe]=ue)}return y&&y.strip(),O.strip(),E!=="div"&&I!==0&&O.iushrn(I),{div:y||null,mod:O}},i.prototype.divmod=function(h,E,I){if(r(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var O,N,D;return this.negative!==0&&h.negative===0?(D=this.neg().divmod(h,E),E!=="mod"&&(O=D.div.neg()),E!=="div"&&(N=D.mod.neg(),I&&N.negative!==0&&N.iadd(h)),{div:O,mod:N}):this.negative===0&&h.negative!==0?(D=this.divmod(h.neg(),E),E!=="mod"&&(O=D.div.neg()),{div:O,mod:D.mod}):(this.negative&h.negative)!==0?(D=this.neg().divmod(h.neg(),E),E!=="div"&&(N=D.mod.neg(),I&&N.negative!==0&&N.isub(h)),{div:D.div,mod:N}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?E==="div"?{div:this.divn(h.words[0]),mod:null}:E==="mod"?{div:null,mod:new i(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modn(h.words[0]))}:this._wordDiv(h,E)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var E=this.divmod(h);if(E.mod.isZero())return E.div;var I=E.div.negative!==0?E.mod.isub(h):E.mod,O=h.ushrn(1),N=h.andln(1),D=I.cmp(O);return D<0||N===1&&D===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},i.prototype.modn=function(h){r(h<=67108863);for(var E=(1<<26)%h,I=0,O=this.length-1;O>=0;O--)I=(E*I+(this.words[O]|0))%h;return I},i.prototype.idivn=function(h){r(h<=67108863);for(var E=0,I=this.length-1;I>=0;I--){var O=(this.words[I]|0)+E*67108864;this.words[I]=O/h|0,E=O%h}return this.strip()},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var E=this,I=h.clone();E.negative!==0?E=E.umod(h):E=E.clone();for(var O=new i(1),N=new i(0),D=new i(0),z=new i(1),R=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++R;for(var y=I.clone(),k=E.clone();!E.isZero();){for(var se=0,oe=1;(E.words[0]&oe)===0&&se<26;++se,oe<<=1);if(se>0)for(E.iushrn(se);se-- >0;)(O.isOdd()||N.isOdd())&&(O.iadd(y),N.isub(k)),O.iushrn(1),N.iushrn(1);for(var ue=0,be=1;(I.words[0]&be)===0&&ue<26;++ue,be<<=1);if(ue>0)for(I.iushrn(ue);ue-- >0;)(D.isOdd()||z.isOdd())&&(D.iadd(y),z.isub(k)),D.iushrn(1),z.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(D),N.isub(z)):(I.isub(E),D.isub(O),z.isub(N))}return{a:D,b:z,gcd:I.iushln(R)}},i.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var E=this,I=h.clone();E.negative!==0?E=E.umod(h):E=E.clone();for(var O=new i(1),N=new i(0),D=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var z=0,R=1;(E.words[0]&R)===0&&z<26;++z,R<<=1);if(z>0)for(E.iushrn(z);z-- >0;)O.isOdd()&&O.iadd(D),O.iushrn(1);for(var y=0,k=1;(I.words[0]&k)===0&&y<26;++y,k<<=1);if(y>0)for(I.iushrn(y);y-- >0;)N.isOdd()&&N.iadd(D),N.iushrn(1);E.cmp(I)>=0?(E.isub(I),O.isub(N)):(I.isub(E),N.isub(O))}var se;return E.cmpn(1)===0?se=O:se=N,se.cmpn(0)<0&&se.iadd(h),se},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var E=this.clone(),I=h.clone();E.negative=0,I.negative=0;for(var O=0;E.isEven()&&I.isEven();O++)E.iushrn(1),I.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var N=E.cmp(I);if(N<0){var D=E;E=I,I=D}else if(N===0||I.cmpn(1)===0)break;E.isub(I)}while(!0);return I.iushln(O)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){r(typeof h=="number");var E=h%26,I=(h-E)/26,O=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=O,this;for(var N=O,D=I;N!==0&&D<this.length;D++){var z=this.words[D]|0;z+=N,N=z>>>26,z&=67108863,this.words[D]=z}return N!==0&&(this.words[D]=N,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var E=h<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var I;if(this.length>1)I=1;else{E&&(h=-h),r(h<=67108863,"Number is too big");var O=this.words[0]|0;I=O===h?0:O<h?-1:1}return this.negative!==0?-I|0:I},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var E=this.ucmp(h);return this.negative!==0?-E|0:E},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var O=this.words[I]|0,N=h.words[I]|0;if(O!==N){O<N?E=-1:O>N&&(E=1);break}}return E},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new ae(h)},i.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function J(U,h){this.name=U,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},J.prototype.ireduce=function(h){var E=h,I;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),I=E.bitLength();while(I>this.n);var O=I<this.n?-1:E.ucmp(this.p);return O===0?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},J.prototype.split=function(h,E){h.iushrn(this.n,0,E)},J.prototype.imulK=function(h){return h.imul(this.k)};function ne(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ne,J),ne.prototype.split=function(h,E){for(var I=4194303,O=Math.min(h.length,9),N=0;N<O;N++)E.words[N]=h.words[N];if(E.length=O,h.length<=9){h.words[0]=0,h.length=1;return}var D=h.words[9];for(E.words[E.length++]=D&I,N=10;N<h.length;N++){var z=h.words[N]|0;h.words[N-10]=(z&I)<<4|D>>>22,D=z}D>>>=22,h.words[N-10]=D,D===0&&h.length>10?h.length-=10:h.length-=9},ne.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var E=0,I=0;I<h.length;I++){var O=h.words[I]|0;E+=O*977,h.words[I]=E&67108863,E=O*64+(E/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function ie(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ie,J);function te(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(te,J);function he(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(he,J),he.prototype.imulK=function(h){for(var E=0,I=0;I<h.length;I++){var O=(h.words[I]|0)*19+E,N=O&67108863;O>>>=26,h.words[I]=N,E=O}return E!==0&&(h.words[h.length++]=E),h},i._prime=function(h){if(L[h])return L[h];var E;if(h==="k256")E=new ne;else if(h==="p224")E=new ie;else if(h==="p192")E=new te;else if(h==="p25519")E=new he;else throw new Error("Unknown prime "+h);return L[h]=E,E};function ae(U){if(typeof U=="string"){var h=i._prime(U);this.m=h.p,this.prime=h}else r(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}ae.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},ae.prototype._verify2=function(h,E){r((h.negative|E.negative)===0,"red works only with positives"),r(h.red&&h.red===E.red,"red works only with red numbers")},ae.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},ae.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},ae.prototype.add=function(h,E){this._verify2(h,E);var I=h.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},ae.prototype.iadd=function(h,E){this._verify2(h,E);var I=h.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},ae.prototype.sub=function(h,E){this._verify2(h,E);var I=h.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},ae.prototype.isub=function(h,E){this._verify2(h,E);var I=h.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},ae.prototype.shl=function(h,E){return this._verify1(h),this.imod(h.ushln(E))},ae.prototype.imul=function(h,E){return this._verify2(h,E),this.imod(h.imul(E))},ae.prototype.mul=function(h,E){return this._verify2(h,E),this.imod(h.mul(E))},ae.prototype.isqr=function(h){return this.imul(h,h.clone())},ae.prototype.sqr=function(h){return this.mul(h,h)},ae.prototype.sqrt=function(h){if(h.isZero())return h.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var I=this.m.add(new i(1)).iushrn(2);return this.pow(h,I)}for(var O=this.m.subn(1),N=0;!O.isZero()&&O.andln(1)===0;)N++,O.iushrn(1);r(!O.isZero());var D=new i(1).toRed(this),z=D.redNeg(),R=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new i(2*y*y).toRed(this);this.pow(y,R).cmp(z)!==0;)y.redIAdd(z);for(var k=this.pow(y,O),se=this.pow(h,O.addn(1).iushrn(1)),oe=this.pow(h,O),ue=N;oe.cmp(D)!==0;){for(var be=oe,Ee=0;be.cmp(D)!==0;Ee++)be=be.redSqr();r(Ee<ue);var Te=this.pow(k,new i(1).iushln(ue-Ee-1));se=se.redMul(Te),k=Te.redSqr(),oe=oe.redMul(k),ue=Ee}return se},ae.prototype.invm=function(h){var E=h._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},ae.prototype.pow=function(h,E){if(E.isZero())return new i(1).toRed(this);if(E.cmpn(1)===0)return h.clone();var I=4,O=new Array(1<<I);O[0]=new i(1).toRed(this),O[1]=h;for(var N=2;N<O.length;N++)O[N]=this.mul(O[N-1],h);var D=O[0],z=0,R=0,y=E.bitLength()%26;for(y===0&&(y=26),N=E.length-1;N>=0;N--){for(var k=E.words[N],se=y-1;se>=0;se--){var oe=k>>se&1;if(D!==O[0]&&(D=this.sqr(D)),oe===0&&z===0){R=0;continue}z<<=1,z|=oe,R++,!(R!==I&&(N!==0||se!==0))&&(D=this.mul(D,O[z]),R=0,z=0)}y=26}return D},ae.prototype.convertTo=function(h){var E=h.umod(this.m);return E===h?E.clone():E},ae.prototype.convertFrom=function(h){var E=h.clone();return E.red=null,E},i.mont=function(h){return new xe(h)};function xe(U){ae.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(xe,ae),xe.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},xe.prototype.convertFrom=function(h){var E=this.imod(h.mul(this.rinv));return E.red=null,E},xe.prototype.imul=function(h,E){if(h.isZero()||E.isZero())return h.words[0]=0,h.length=1,h;var I=h.imul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=I.isub(O).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},xe.prototype.mul=function(h,E){if(h.isZero()||E.isZero())return new i(0)._forceRed(this);var I=h.mul(E),O=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=I.isub(O).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},xe.prototype.invm=function(h){var E=this.imod(h._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(typeof Wp>"u"||Wp,w8)});var No=H((HX,Xp)=>{g();m();var Gp;Xp.exports=function(e){return Gp||(Gp=new Va(null)),Gp.generate(e)};function Va(t){this.rand=t}Xp.exports.Rand=Va;Va.prototype.generate=function(e){return this._rand(e)};Va.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Va.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Va.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Va.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Vp=Yp(),typeof Vp.randomBytes!="function")throw new Error("Not supported");Va.prototype._rand=function(e){return Vp.randomBytes(e)}}catch{}var Vp});var $p=H((LX,_8)=>{g();m();var ks=Ge(),eR=No();function Ns(t){this.rand=t||new eR.Rand}_8.exports=Ns;Ns.create=function(e){return new Ns(e)};Ns.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new ks(this.rand.generate(n));while(i.cmp(e)>=0);return i};Ns.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Ns.prototype.test=function(e,r,n){var i=e.bitLength(),a=ks.mont(e),s=new ks(1).toRed(a);r||(r=Math.max(1,i/48|0));for(var o=e.subn(1),f=0;!o.testn(f);f++);for(var c=e.shrn(f),u=o.toRed(a),d=!0;r>0;r--){var l=this._randrange(new ks(2),o);n&&n(l);var _=l.toRed(a).redPow(c);if(!(_.cmp(s)===0||_.cmp(u)===0)){for(var T=1;T<f;T++){if(_=_.redSqr(),_.cmp(s)===0)return!1;if(_.cmp(u)===0)break}if(T===f)return!1}}return d};Ns.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=ks.mont(e),a=new ks(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=e.subn(1),o=0;!s.testn(o);o++);for(var f=e.shrn(o),c=s.toRed(i);r>0;r--){var u=this._randrange(new ks(2),s),d=e.gcd(u);if(d.cmpn(1)!==0)return d;var l=u.toRed(i).redPow(f);if(!(l.cmp(a)===0||l.cmp(c)===0)){for(var _=1;_<o;_++){if(l=l.redSqr(),l.cmp(a)===0)return l.fromRed().subn(1).gcd(e);if(l.cmp(c)===0)break}if(_===o)return l=l.redSqr(),l.fromRed().subn(1).gcd(e)}}return!1}});var r1=H((VX,E8)=>{g();m();var tR=ms();E8.exports=t1;t1.simpleSieve=Qp;t1.fermatTest=e1;var pr=Ge(),rR=new pr(24),nR=$p(),S8=new nR,iR=new pr(1),Zp=new pr(2),aR=new pr(5),KX=new pr(16),zX=new pr(8),sR=new pr(10),oR=new pr(3),WX=new pr(7),fR=new pr(11),x8=new pr(4),GX=new pr(12),Jp=null;function cR(){if(Jp!==null)return Jp;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),a=0;a<r&&e[a]<=i&&n%e[a]!==0;a++);r!==a&&e[a]<=i||(e[r++]=n)}return Jp=e,e}function Qp(t){for(var e=cR(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function e1(t){var e=pr.mont(t);return Zp.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function t1(t,e){if(t<16)return e===2||e===5?new pr([140,123]):new pr([140,39]);e=new pr(e);for(var r,n;;){for(r=new pr(tR(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(iR),r.testn(1)||r.iadd(Zp),e.cmp(Zp)){if(!e.cmp(aR))for(;r.mod(sR).cmp(oR);)r.iadd(x8)}else for(;r.mod(rR).cmp(fR);)r.iadd(x8);if(n=r.shrn(1),Qp(n)&&Qp(r)&&e1(n)&&e1(r)&&S8.test(n)&&S8.test(r))return r}}});var A8=H(($X,uR)=>{uR.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var O8=H((JX,I8)=>{g();m();var Bn=Ge(),dR=$p(),P8=new dR,hR=new Bn(24),lR=new Bn(11),pR=new Bn(10),bR=new Bn(3),vR=new Bn(7),T8=r1(),yR=ms();I8.exports=ha;function gR(t,e){return e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e)),this._pub=new Bn(t),this}function mR(t,e){return e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e)),this._priv=new Bn(t),this}var Gd={};function wR(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in Gd)return Gd[n];var i=0;if(t.isEven()||!T8.simpleSieve||!T8.fermatTest(t)||!P8.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,Gd[n]=i,i;P8.test(t.shrn(1))||(i+=2);var a;switch(r){case"02":t.mod(hR).cmp(lR)&&(i+=8);break;case"05":a=t.mod(pR),a.cmp(bR)&&a.cmp(vR)&&(i+=8);break;default:i+=4}return Gd[n]=i,i}function ha(t,e,r){this.setGenerator(e),this.__prime=new Bn(t),this._prime=Bn.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=gR,this.setPrivateKey=mR):this._primeCode=8}Object.defineProperty(ha.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=wR(this.__prime,this.__gen)),this._primeCode}});ha.prototype.generateKeys=function(){return this._priv||(this._priv=new Bn(yR(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};ha.prototype.computeSecret=function(t){t=new Bn(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new b.Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new b.Buffer(n.length-r.length);i.fill(0),r=b.Buffer.concat([i,r])}return r};ha.prototype.getPublicKey=function(e){return Vd(this._pub,e)};ha.prototype.getPrivateKey=function(e){return Vd(this._priv,e)};ha.prototype.getPrime=function(t){return Vd(this.__prime,t)};ha.prototype.getGenerator=function(t){return Vd(this._gen,t)};ha.prototype.setGenerator=function(t,e){return e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e)),this.__gen=t,this._gen=new Bn(t),this};function Vd(t,e){var r=new b.Buffer(t.toArray());return e?r.toString(e):r}});var C8=H(Ho=>{g();m();var _R=r1(),B8=A8(),n1=O8();function SR(t){var e=new b.Buffer(B8[t].prime,"hex"),r=new b.Buffer(B8[t].gen,"hex");return new n1(e,r)}var xR={binary:!0,hex:!0,base64:!0};function M8(t,e,r,n){return b.Buffer.isBuffer(e)||xR[e]===void 0?M8(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new b.Buffer([2]),b.Buffer.isBuffer(r)||(r=new b.Buffer(r,n)),typeof t=="number"?new n1(_R(t,r),r,!0):(b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e)),new n1(t,r,!0)))}Ho.DiffieHellmanGroup=Ho.createDiffieHellmanGroup=Ho.getDiffieHellman=SR;Ho.createDiffieHellman=Ho.DiffieHellman=M8});var Xd=H((nY,N8)=>{g();m();var Xa=Ge(),R8=ms();N8.exports=q8;function ER(t){var e=k8(t),r=e.toRed(Xa.mont(t.modulus)).redPow(new Xa(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function q8(t,e){var r=ER(e),n=e.modulus.byteLength(),i=Xa.mont(e.modulus),a=new Xa(t).mul(r.blinder).umod(e.modulus),s=a.toRed(Xa.mont(e.prime1)),o=a.toRed(Xa.mont(e.prime2)),f=e.coefficient,c=e.prime1,u=e.prime2,d=s.redPow(e.exponent1),l=o.redPow(e.exponent2);d=d.fromRed(),l=l.fromRed();var _=d.isub(l).imul(f).umod(c);return _.imul(u),l.iadd(_),new b.Buffer(l.imul(r.unblinder).umod(e.modulus).toArray(!1,n))}q8.getr=k8;function k8(t){for(var e=t.modulus.byteLength(),r=new Xa(R8(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new Xa(R8(e));return r}});var H8=H((sY,AR)=>{AR.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var $d=H(L8=>{"use strict";g();m();var Yd=L8;function PR(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=i&255;a?r.push(a,s):r.push(s)}return r}Yd.toArray=PR;function U8(t){return t.length===1?"0"+t:t}Yd.zero2=U8;function D8(t){for(var e="",r=0;r<t.length;r++)e+=U8(t[r].toString(16));return e}Yd.toHex=D8;Yd.encode=function(e,r){return r==="hex"?D8(e):e}});var nn=H(F8=>{"use strict";g();m();var Jn=F8,TR=Ge(),IR=Gr(),Jd=$d();Jn.assert=IR;Jn.toArray=Jd.toArray;Jn.zero2=Jd.zero2;Jn.toHex=Jd.toHex;Jn.encode=Jd.encode;function OR(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),s=0;s<n.length;s++){var o,f=a.andln(i-1);a.isOdd()?(f>(i>>1)-1?o=(i>>1)-f:o=f,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n}Jn.getNAF=OR;function BR(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,o=e.andln(3)+i&3;s===3&&(s=-1),o===3&&(o=-1);var f;(s&1)===0?f=0:(a=t.andln(7)+n&7,(a===3||a===5)&&o===2?f=-s:f=s),r[0].push(f);var c;(o&1)===0?c=0:(a=e.andln(7)+i&7,(a===3||a===5)&&s===2?c=-o:c=o),r[1].push(c),2*n===f+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Jn.getJSF=BR;function MR(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Jn.cachedProperty=MR;function CR(t){return typeof t=="string"?Jn.toArray(t,"hex"):t}Jn.parseBytes=CR;function RR(t){return new TR(t,"hex","le")}Jn.intFromLE=RR});var Tc=H((lY,j8)=>{"use strict";g();m();var Hs=Ge(),Pc=nn(),Zd=Pc.getNAF,qR=Pc.getJSF,Qd=Pc.assert;function Ya(t,e){this.type=t,this.p=new Hs(e.p,16),this.red=e.prime?Hs.red(e.prime):Hs.mont(this.p),this.zero=new Hs(0).toRed(this.red),this.one=new Hs(1).toRed(this.red),this.two=new Hs(2).toRed(this.red),this.n=e.n&&new Hs(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}j8.exports=Ya;Ya.prototype.point=function(){throw new Error("Not implemented")};Ya.prototype.validate=function(){throw new Error("Not implemented")};Ya.prototype._fixedNafMul=function(e,r){Qd(e.precomputed);var n=e._getDoubles(),i=Zd(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=a;l>0;l--){for(o=0;o<s.length;o++)f=s[o],f===l?d=d.mixedAdd(n.points[o]):f===-l&&(d=d.mixedAdd(n.points[o].neg()));u=u.add(d)}return u.toP()};Ya.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Zd(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];Qd(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Ya.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,d,l;for(u=0;u<i;u++){l=r[u];var _=l._getNAFPoints(e);s[u]=_.wnd,o[u]=_.points}for(u=i-1;u>=1;u-=2){var T=u-1,B=u;if(s[T]!==1||s[B]!==1){f[T]=Zd(n[T],s[T],this._bitLength),f[B]=Zd(n[B],s[B],this._bitLength),c=Math.max(f[T].length,c),c=Math.max(f[B].length,c);continue}var F=[r[T],null,null,r[B]];r[T].y.cmp(r[B].y)===0?(F[1]=r[T].add(r[B]),F[2]=r[T].toJ().mixedAdd(r[B].neg())):r[T].y.cmp(r[B].y.redNeg())===0?(F[1]=r[T].toJ().mixedAdd(r[B]),F[2]=r[T].add(r[B].neg())):(F[1]=r[T].toJ().mixedAdd(r[B]),F[2]=r[T].toJ().mixedAdd(r[B].neg()));var L=[-3,-1,-5,-7,0,7,5,1,3],J=qR(n[T],n[B]);for(c=Math.max(J[0].length,c),f[T]=new Array(c),f[B]=new Array(c),d=0;d<c;d++){var ne=J[0][d]|0,ie=J[1][d]|0;f[T][d]=L[(ne+1)*3+(ie+1)],f[B][d]=0,o[T]=F}}var te=this.jpoint(null,null,null),he=this._wnafT4;for(u=c;u>=0;u--){for(var ae=0;u>=0;){var xe=!0;for(d=0;d<i;d++)he[d]=f[d][u]|0,he[d]!==0&&(xe=!1);if(!xe)break;ae++,u--}if(u>=0&&ae++,te=te.dblp(ae),u<0)break;for(d=0;d<i;d++){var U=he[d];U!==0&&(U>0?l=o[d][U-1>>1]:U<0&&(l=o[d][-U-1>>1].neg()),l.type==="affine"?te=te.mixedAdd(l):te=te.add(l))}}for(u=0;u<i;u++)o[u]=null;return a?te:te.toP()};function Mn(t,e){this.curve=t,this.type=e,this.precomputed=null}Ya.BasePoint=Mn;Mn.prototype.eq=function(){throw new Error("Not implemented")};Mn.prototype.validate=function(){return this.curve.validate(this)};Ya.prototype.decodePoint=function(e,r){e=Pc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Qd(e[e.length-1]%2===0):e[0]===7&&Qd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Mn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Mn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Mn.prototype.encode=function(e,r){return Pc.encode(this._encode(r),e)};Mn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Mn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Mn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Mn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Mn.prototype._getBeta=function(){return null};Mn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var z8=H((vY,K8)=>{"use strict";g();m();var kR=nn(),wt=Ge(),i1=Ae(),Uo=Tc(),NR=kR.assert;function Cn(t){Uo.call(this,"short",t),this.a=new wt(t.a,16).toRed(this.red),this.b=new wt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i1(Cn,Uo);K8.exports=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new wt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new wt(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],NR(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new wt(o.a,16),b:new wt(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Cn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:wt.mont(e),n=new wt(2).toRed(r).redInvm(),i=n.redNeg(),a=new wt(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Cn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new wt(1),s=new wt(0),o=new wt(0),f=new wt(1),c,u,d,l,_,T,B,F=0,L,J;n.cmpn(0)!==0;){var ne=i.div(n);L=i.sub(ne.mul(n)),J=o.sub(ne.mul(a));var ie=f.sub(ne.mul(s));if(!d&&L.cmp(r)<0)c=B.neg(),u=a,d=L.neg(),l=J;else if(d&&++F===2)break;B=L,i=n,n=L,o=a,a=J,f=s,s=ie}_=L.neg(),T=J;var te=d.sqr().add(l.sqr()),he=_.sqr().add(T.sqr());return he.cmp(te)>=0&&(_=c,T=u),d.negative&&(d=d.neg(),l=l.neg()),_.negative&&(_=_.neg(),T=T.neg()),[{a:d,b:l},{a:_,b:T}]};Cn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),d=e.sub(o).sub(f),l=c.add(u).neg();return{k1:d,k2:l}};Cn.prototype.pointFromX=function(e,r){e=new wt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Cn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Cn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),d=0;d<s*2;d++)i[d]=null,a[d]=null;return u};function ir(t,e,r,n){Uo.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new wt(e,16),this.y=new wt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i1(ir,Uo.BasePoint);Cn.prototype.point=function(e,r,n){return new ir(this,e,r,n)};Cn.prototype.pointFromJSON=function(e,r){return ir.fromJSON(this,e,r)};ir.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ir.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ir.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};ir.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ir.prototype.isInfinity=function(){return this.inf};ir.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ir.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};ir.prototype.getX=function(){return this.x.fromRed()};ir.prototype.getY=function(){return this.y.fromRed()};ir.prototype.mul=function(e){return e=new wt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ir.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};ir.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};ir.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ir.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ir.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function br(t,e,r,n){Uo.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new wt(0)):(this.x=new wt(e,16),this.y=new wt(r,16),this.z=new wt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i1(br,Uo.BasePoint);Cn.prototype.jpoint=function(e,r,n){return new br(this,e,r,n)};br.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};br.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};br.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),d=u.redMul(f),l=i.redMul(u),_=c.redSqr().redIAdd(d).redISub(l).redISub(l),T=c.redMul(l.redISub(_)).redISub(s.redMul(d)),B=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(_,T,B)};br.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),d=n.redMul(c),l=f.redSqr().redIAdd(u).redISub(d).redISub(d),_=f.redMul(d.redISub(l)).redISub(a.redMul(u)),T=this.z.redMul(o);return this.curve.jpoint(l,_,T)};br.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var d=s.redSqr(),l=u.redSqr(),_=l.redSqr(),T=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(c)),B=s.redMul(l),F=T.redSqr().redISub(B.redAdd(B)),L=B.redISub(F),J=T.redMul(L);J=J.redIAdd(J).redISub(_);var ne=u.redMul(f);r+1<e&&(c=c.redMul(_)),s=F,f=ne,u=J}return this.curve.jpoint(s,u.redMul(a),f)};br.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};br.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),l=this.y.redSqr(),_=l.redSqr(),T=this.x.redAdd(l).redSqr().redISub(d).redISub(_);T=T.redIAdd(T);var B=d.redAdd(d).redIAdd(d),F=B.redSqr(),L=_.redIAdd(_);L=L.redIAdd(L),L=L.redIAdd(L),e=F.redISub(T).redISub(T),r=B.redMul(T.redISub(e)).redISub(L),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};br.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),l=this.y.redSqr(),_=this.x.redMul(l),T=this.x.redSub(d).redMul(this.x.redAdd(d));T=T.redAdd(T).redIAdd(T);var B=_.redIAdd(_);B=B.redIAdd(B);var F=B.redAdd(B);e=T.redSqr().redISub(F),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(d);var L=l.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),r=T.redMul(B.redISub(e)).redISub(L)}return this.curve.jpoint(e,r,n)};br.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),d=f.redSqr().redISub(u.redAdd(u)),l=u.redISub(d),_=o.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=f.redMul(l).redISub(_),B=n.redAdd(n).redMul(i);return this.curve.jpoint(d,T,B)};br.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),d=r.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var l=this.x.redMul(f).redISub(d);l=l.redIAdd(l),l=l.redIAdd(l);var _=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(l,_,T)};br.prototype.mul=function(e,r){return e=new wt(e,r),this.curve._wnafMul(this,e)};br.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};br.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};br.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};br.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var V8=H((mY,G8)=>{"use strict";g();m();var Do=Ge(),W8=Ae(),eh=Tc(),HR=nn();function Lo(t){eh.call(this,"mont",t),this.a=new Do(t.a,16).toRed(this.red),this.b=new Do(t.b,16).toRed(this.red),this.i4=new Do(4).toRed(this.red).redInvm(),this.two=new Do(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}W8(Lo,eh);G8.exports=Lo;Lo.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function ar(t,e,r){eh.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Do(e,16),this.z=new Do(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}W8(ar,eh.BasePoint);Lo.prototype.decodePoint=function(e,r){return this.point(HR.toArray(e,r),1)};Lo.prototype.point=function(e,r){return new ar(this,e,r)};Lo.prototype.pointFromJSON=function(e){return ar.fromJSON(this,e)};ar.prototype.precompute=function(){};ar.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ar.fromJSON=function(e,r){return new ar(e,r[0],r[1]||e.one)};ar.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ar.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ar.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};ar.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ar.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};ar.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};ar.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ar.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ar.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ar.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ar.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var $8=H((SY,Y8)=>{"use strict";g();m();var UR=nn(),la=Ge(),X8=Ae(),th=Tc(),DR=UR.assert;function Bi(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,th.call(this,"edwards",t),this.a=new la(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new la(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new la(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),DR(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}X8(Bi,th);Y8.exports=Bi;Bi.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Bi.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Bi.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Bi.prototype.pointFromX=function(e,r){e=new la(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Bi.prototype.pointFromY=function(e,r){e=new la(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Bi.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Ze(t,e,r,n,i){th.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new la(e,16),this.y=new la(r,16),this.z=n?new la(n,16):this.curve.one,this.t=i&&new la(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}X8(Ze,th.BasePoint);Bi.prototype.pointFromJSON=function(e){return Ze.fromJSON(this,e)};Bi.prototype.point=function(e,r,n,i){return new Ze(this,e,r,n,i)};Ze.fromJSON=function(e,r){return new Ze(e,r[0],r[1],r[2])};Ze.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ze.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ze.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),d=a.redMul(f),l=o.redMul(s);return this.curve.point(c,u,l,d)};Ze.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Ze.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ze.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),d=f.redMul(c),l=s.redMul(c),_=o.redMul(f);return this.curve.point(u,d,_,l)};Ze.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),d,l;return this.curve.twisted?(d=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),l=o.redMul(f)):(d=r.redMul(f).redMul(a.redSub(i)),l=this.curve._mulC(o).redMul(f)),this.curve.point(u,d,l)};Ze.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ze.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ze.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ze.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ze.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ze.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ze.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ze.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ze.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ze.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ze.prototype.toP=Ze.prototype.normalize;Ze.prototype.mixedAdd=Ze.prototype.add});var a1=H(J8=>{"use strict";g();m();var rh=J8;rh.base=Tc();rh.short=z8();rh.mont=V8();rh.edwards=$8()});var Zn=H(Ye=>{"use strict";g();m();var LR=Gr(),FR=Ae();Ye.inherits=FR;function jR(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function KR(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):jR(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ye.toArray=KR;function zR(t){for(var e="",r=0;r<t.length;r++)e+=Q8(t[r].toString(16));return e}Ye.toHex=zR;function Z8(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ye.htonl=Z8;function WR(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Z8(i)),r+=e5(i.toString(16))}return r}Ye.toHex32=WR;function Q8(t){return t.length===1?"0"+t:t}Ye.zero2=Q8;function e5(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ye.zero8=e5;function GR(t,e,r,n){var i=r-e;LR(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Ye.join32=GR;function VR(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ye.split32=VR;function XR(t,e){return t>>>e|t<<32-e}Ye.rotr32=XR;function YR(t,e){return t<<e|t>>>32-e}Ye.rotl32=YR;function $R(t,e){return t+e>>>0}Ye.sum32=$R;function JR(t,e,r){return t+e+r>>>0}Ye.sum32_3=JR;function ZR(t,e,r,n){return t+e+r+n>>>0}Ye.sum32_4=ZR;function QR(t,e,r,n,i){return t+e+r+n+i>>>0}Ye.sum32_5=QR;function eq(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ye.sum64=eq;function tq(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ye.sum64_hi=tq;function rq(t,e,r,n){var i=e+n;return i>>>0}Ye.sum64_lo=rq;function nq(t,e,r,n,i,a,s,o){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var u=t+r+i+s+f;return u>>>0}Ye.sum64_4_hi=nq;function iq(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}Ye.sum64_4_lo=iq;function aq(t,e,r,n,i,a,s,o,f,c){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+o>>>0,u+=d<o?1:0,d=d+c>>>0,u+=d<c?1:0;var l=t+r+i+s+f+u;return l>>>0}Ye.sum64_5_hi=aq;function sq(t,e,r,n,i,a,s,o,f,c){var u=e+n+a+o+c;return u>>>0}Ye.sum64_5_lo=sq;function oq(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ye.rotr64_hi=oq;function fq(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ye.rotr64_lo=fq;function cq(t,e,r){return t>>>r}Ye.shr64_hi=cq;function uq(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ye.shr64_lo=uq});var Fo=H(r5=>{"use strict";g();m();var t5=Zn(),dq=Gr();function nh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r5.BlockHash=nh;nh.prototype.update=function(e,r){if(e=t5.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=t5.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};nh.prototype.digest=function(e){return this.update(this._pad()),dq(this.pending===null),this._digest(e)};nh.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i}});var s1=H(pa=>{"use strict";g();m();var hq=Zn(),Mi=hq.rotr32;function lq(t,e,r,n){if(t===0)return n5(e,r,n);if(t===1||t===3)return a5(e,r,n);if(t===2)return i5(e,r,n)}pa.ft_1=lq;function n5(t,e,r){return t&e^~t&r}pa.ch32=n5;function i5(t,e,r){return t&e^t&r^e&r}pa.maj32=i5;function a5(t,e,r){return t^e^r}pa.p32=a5;function pq(t){return Mi(t,2)^Mi(t,13)^Mi(t,22)}pa.s0_256=pq;function bq(t){return Mi(t,6)^Mi(t,11)^Mi(t,25)}pa.s1_256=bq;function vq(t){return Mi(t,7)^Mi(t,18)^t>>>3}pa.g0_256=vq;function yq(t){return Mi(t,17)^Mi(t,19)^t>>>10}pa.g1_256=yq});var f5=H((HY,o5)=>{"use strict";g();m();var jo=Zn(),gq=Fo(),mq=s1(),o1=jo.rotl32,Ic=jo.sum32,wq=jo.sum32_5,_q=mq.ft_1,s5=gq.BlockHash,Sq=[1518500249,1859775393,2400959708,3395469782];function Ci(){if(!(this instanceof Ci))return new Ci;s5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}jo.inherits(Ci,s5);o5.exports=Ci;Ci.blockSize=512;Ci.outSize=160;Ci.hmacStrength=80;Ci.padLength=64;Ci.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=o1(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),d=wq(o1(a,5),_q(u,s,o,f),c,n[i],Sq[u]);c=f,f=o,o=o1(s,30),s=a,a=d}this.h[0]=Ic(this.h[0],a),this.h[1]=Ic(this.h[1],s),this.h[2]=Ic(this.h[2],o),this.h[3]=Ic(this.h[3],f),this.h[4]=Ic(this.h[4],c)};Ci.prototype._digest=function(e){return e==="hex"?jo.toHex32(this.h,"big"):jo.split32(this.h,"big")}});var f1=H((LY,u5)=>{"use strict";g();m();var Ko=Zn(),xq=Fo(),zo=s1(),Eq=Gr(),Qn=Ko.sum32,Aq=Ko.sum32_4,Pq=Ko.sum32_5,Tq=zo.ch32,Iq=zo.maj32,Oq=zo.s0_256,Bq=zo.s1_256,Mq=zo.g0_256,Cq=zo.g1_256,c5=xq.BlockHash,Rq=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ri(){if(!(this instanceof Ri))return new Ri;c5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Rq,this.W=new Array(64)}Ko.inherits(Ri,c5);u5.exports=Ri;Ri.blockSize=512;Ri.outSize=256;Ri.hmacStrength=192;Ri.padLength=64;Ri.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Aq(Cq(n[i-2]),n[i-7],Mq(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],d=this.h[6],l=this.h[7];for(Eq(this.k.length===n.length),i=0;i<n.length;i++){var _=Pq(l,Bq(c),Tq(c,u,d),this.k[i],n[i]),T=Qn(Oq(a),Iq(a,s,o));l=d,d=u,u=c,c=Qn(f,_),f=o,o=s,s=a,a=Qn(_,T)}this.h[0]=Qn(this.h[0],a),this.h[1]=Qn(this.h[1],s),this.h[2]=Qn(this.h[2],o),this.h[3]=Qn(this.h[3],f),this.h[4]=Qn(this.h[4],c),this.h[5]=Qn(this.h[5],u),this.h[6]=Qn(this.h[6],d),this.h[7]=Qn(this.h[7],l)};Ri.prototype._digest=function(e){return e==="hex"?Ko.toHex32(this.h,"big"):Ko.split32(this.h,"big")}});var l5=H((KY,h5)=>{"use strict";g();m();var c1=Zn(),d5=f1();function ba(){if(!(this instanceof ba))return new ba;d5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c1.inherits(ba,d5);h5.exports=ba;ba.blockSize=512;ba.outSize=224;ba.hmacStrength=192;ba.padLength=64;ba.prototype._digest=function(e){return e==="hex"?c1.toHex32(this.h.slice(0,7),"big"):c1.split32(this.h.slice(0,7),"big")}});var h1=H((GY,y5)=>{"use strict";g();m();var Vr=Zn(),qq=Fo(),kq=Gr(),qi=Vr.rotr64_hi,ki=Vr.rotr64_lo,p5=Vr.shr64_hi,b5=Vr.shr64_lo,$a=Vr.sum64,u1=Vr.sum64_hi,d1=Vr.sum64_lo,Nq=Vr.sum64_4_hi,Hq=Vr.sum64_4_lo,Uq=Vr.sum64_5_hi,Dq=Vr.sum64_5_lo,v5=qq.BlockHash,Lq=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ei(){if(!(this instanceof ei))return new ei;v5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Lq,this.W=new Array(160)}Vr.inherits(ei,v5);y5.exports=ei;ei.blockSize=1024;ei.outSize=512;ei.hmacStrength=192;ei.padLength=128;ei.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=Jq(n[i-4],n[i-3]),s=Zq(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=Yq(n[i-30],n[i-29]),u=$q(n[i-30],n[i-29]),d=n[i-32],l=n[i-31];n[i]=Nq(a,s,o,f,c,u,d,l),n[i+1]=Hq(a,s,o,f,c,u,d,l)}};ei.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],d=this.h[7],l=this.h[8],_=this.h[9],T=this.h[10],B=this.h[11],F=this.h[12],L=this.h[13],J=this.h[14],ne=this.h[15];kq(this.k.length===n.length);for(var ie=0;ie<n.length;ie+=2){var te=J,he=ne,ae=Vq(l,_),xe=Xq(l,_),U=Fq(l,_,T,B,F,L),h=jq(l,_,T,B,F,L),E=this.k[ie],I=this.k[ie+1],O=n[ie],N=n[ie+1],D=Uq(te,he,ae,xe,U,h,E,I,O,N),z=Dq(te,he,ae,xe,U,h,E,I,O,N);te=Wq(i,a),he=Gq(i,a),ae=Kq(i,a,s,o,f,c),xe=zq(i,a,s,o,f,c);var R=u1(te,he,ae,xe),y=d1(te,he,ae,xe);J=F,ne=L,F=T,L=B,T=l,B=_,l=u1(u,d,D,z),_=d1(d,d,D,z),u=f,d=c,f=s,c=o,s=i,o=a,i=u1(D,z,R,y),a=d1(D,z,R,y)}$a(this.h,0,i,a),$a(this.h,2,s,o),$a(this.h,4,f,c),$a(this.h,6,u,d),$a(this.h,8,l,_),$a(this.h,10,T,B),$a(this.h,12,F,L),$a(this.h,14,J,ne)};ei.prototype._digest=function(e){return e==="hex"?Vr.toHex32(this.h,"big"):Vr.split32(this.h,"big")};function Fq(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function jq(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function Kq(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function zq(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function Wq(t,e){var r=qi(t,e,28),n=qi(e,t,2),i=qi(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Gq(t,e){var r=ki(t,e,28),n=ki(e,t,2),i=ki(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Vq(t,e){var r=qi(t,e,14),n=qi(t,e,18),i=qi(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function Xq(t,e){var r=ki(t,e,14),n=ki(t,e,18),i=ki(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function Yq(t,e){var r=qi(t,e,1),n=qi(t,e,8),i=p5(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function $q(t,e){var r=ki(t,e,1),n=ki(t,e,8),i=b5(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Jq(t,e){var r=qi(t,e,19),n=qi(e,t,29),i=p5(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function Zq(t,e){var r=ki(t,e,19),n=ki(e,t,29),i=b5(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}});var w5=H((YY,m5)=>{"use strict";g();m();var l1=Zn(),g5=h1();function va(){if(!(this instanceof va))return new va;g5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}l1.inherits(va,g5);m5.exports=va;va.blockSize=1024;va.outSize=384;va.hmacStrength=192;va.padLength=128;va.prototype._digest=function(e){return e==="hex"?l1.toHex32(this.h.slice(0,12),"big"):l1.split32(this.h.slice(0,12),"big")}});var _5=H(Wo=>{"use strict";g();m();Wo.sha1=f5();Wo.sha224=l5();Wo.sha256=f1();Wo.sha384=w5();Wo.sha512=h1()});var T5=H(P5=>{"use strict";g();m();var Us=Zn(),Qq=Fo(),ih=Us.rotl32,S5=Us.sum32,Oc=Us.sum32_3,x5=Us.sum32_4,A5=Qq.BlockHash;function Ni(){if(!(this instanceof Ni))return new Ni;A5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Us.inherits(Ni,A5);P5.ripemd160=Ni;Ni.blockSize=512;Ni.outSize=160;Ni.hmacStrength=192;Ni.padLength=64;Ni.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,u=a,d=s,l=o,_=0;_<80;_++){var T=S5(ih(x5(n,E5(_,i,a,s),e[rk[_]+r],ek(_)),ik[_]),o);n=o,o=s,s=ih(a,10),a=i,i=T,T=S5(ih(x5(f,E5(79-_,c,u,d),e[nk[_]+r],tk(_)),ak[_]),l),f=l,l=d,d=ih(u,10),u=c,c=T}T=Oc(this.h[1],a,d),this.h[1]=Oc(this.h[2],s,l),this.h[2]=Oc(this.h[3],o,f),this.h[3]=Oc(this.h[4],n,c),this.h[4]=Oc(this.h[0],i,u),this.h[0]=T};Ni.prototype._digest=function(e){return e==="hex"?Us.toHex32(this.h,"little"):Us.split32(this.h,"little")};function E5(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function ek(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function tk(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var rk=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nk=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ik=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ak=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var O5=H((i$,I5)=>{"use strict";g();m();var sk=Zn(),ok=Gr();function Go(t,e,r){if(!(this instanceof Go))return new Go(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(sk.toArray(e,r))}I5.exports=Go;Go.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ok(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Go.prototype.update=function(e,r){return this.inner.update(e,r),this};Go.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Vo=H(B5=>{g();m();var vr=B5;vr.utils=Zn();vr.common=Fo();vr.sha=_5();vr.ripemd=T5();vr.hmac=O5();vr.sha1=vr.sha.sha1;vr.sha256=vr.sha.sha256;vr.sha224=vr.sha.sha224;vr.sha384=vr.sha.sha384;vr.sha512=vr.sha.sha512;vr.ripemd160=vr.ripemd.ripemd160});var C5=H((u$,M5)=>{g();m();M5.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var ah=H(k5=>{"use strict";g();m();var b1=k5,Ja=Vo(),p1=a1(),fk=nn(),R5=fk.assert;function q5(t){t.type==="short"?this.curve=new p1.short(t):t.type==="edwards"?this.curve=new p1.edwards(t):this.curve=new p1.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,R5(this.g.validate(),"Invalid curve"),R5(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}b1.PresetCurve=q5;function Za(t,e){Object.defineProperty(b1,t,{configurable:!0,enumerable:!0,get:function(){var r=new q5(e);return Object.defineProperty(b1,t,{configurable:!0,enumerable:!0,value:r}),r}})}Za("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ja.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Za("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ja.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Za("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ja.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Za("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ja.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Za("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ja.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Za("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ja.sha256,gRed:!1,g:["9"]});Za("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ja.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v1;try{v1=C5()}catch{v1=void 0}Za("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ja.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v1]})});var y1=H((v$,H5)=>{"use strict";g();m();var ck=Vo(),Ds=$d(),N5=Gr();function Qa(t){if(!(this instanceof Qa))return new Qa(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ds.toArray(t.entropy,t.entropyEnc||"hex"),r=Ds.toArray(t.nonce,t.nonceEnc||"hex"),n=Ds.toArray(t.pers,t.persEnc||"hex");N5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}H5.exports=Qa;Qa.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Qa.prototype._hmac=function(){return new ck.hmac(this.hash,this.K)};Qa.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Qa.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ds.toArray(e,r),n=Ds.toArray(n,i),N5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Qa.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ds.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Ds.encode(s,r)}});var D5=H((m$,U5)=>{"use strict";g();m();var uk=Ge(),dk=nn(),g1=dk.assert;function Ar(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}U5.exports=Ar;Ar.fromPublic=function(e,r,n){return r instanceof Ar?r:new Ar(e,{pub:r,pubEnc:n})};Ar.fromPrivate=function(e,r,n){return r instanceof Ar?r:new Ar(e,{priv:r,privEnc:n})};Ar.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ar.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ar.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ar.prototype._importPrivate=function(e,r){this.priv=new uk(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ar.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?g1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&g1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ar.prototype.derive=function(e){return e.validate()||g1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ar.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ar.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ar.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var j5=H((S$,F5)=>{"use strict";g();m();var sh=Ge(),_1=nn(),hk=_1.assert;function oh(t,e){if(t instanceof oh)return t;this._importDER(t,e)||(hk(t.r&&t.s,"Signature without r or s"),this.r=new sh(t.r,16),this.s=new sh(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}F5.exports=oh;function lk(){this.place=0}function m1(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function L5(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}oh.prototype._importDER=function(e,r){e=_1.toArray(e,r);var n=new lk;if(e[n.place++]!==48)return!1;var i=m1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=m1(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=m1(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new sh(s),this.s=new sh(f),this.recoveryParam=null,!0};function w1(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}oh.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=L5(r),n=L5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];w1(i,r.length),i=i.concat(r),i.push(2),w1(i,n.length);var a=i.concat(n),s=[48];return w1(s,a.length),s=s.concat(a),_1.encode(s,e)}});var G5=H((A$,W5)=>{"use strict";g();m();var Ls=Ge(),K5=y1(),pk=nn(),S1=ah(),bk=No(),z5=pk.assert,x1=D5(),fh=j5();function Rn(t){if(!(this instanceof Rn))return new Rn(t);typeof t=="string"&&(z5(Object.prototype.hasOwnProperty.call(S1,t),"Unknown curve "+t),t=S1[t]),t instanceof S1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}W5.exports=Rn;Rn.prototype.keyPair=function(e){return new x1(this,e)};Rn.prototype.keyFromPrivate=function(e,r){return x1.fromPrivate(this,e,r)};Rn.prototype.keyFromPublic=function(e,r){return x1.fromPublic(this,e,r)};Rn.prototype.genKeyPair=function(e){e||(e={});for(var r=new K5({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||bk(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ls(2));;){var a=new Ls(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Rn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Rn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ls(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new K5({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Ls(1)),u=0;;u++){var d=i.k?i.k(u):new Ls(f.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(c)>=0)){var l=this.g.mul(d);if(!l.isInfinity()){var _=l.getX(),T=_.umod(this.n);if(T.cmpn(0)!==0){var B=d.invm(this.n).mul(T.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var F=(l.getY().isOdd()?1:0)|(_.cmp(T)!==0?2:0);return i.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),F^=1),new fh({r:T,s:B,recoveryParam:F})}}}}}};Rn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Ls(e,16)),n=this.keyFromPublic(n,i),r=new fh(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(e).umod(this.n),c=o.mul(a).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.eqXToP(a)):(u=this.g.mulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(a)===0)};Rn.prototype.recoverPubKey=function(t,e,r,n){z5((3&r)===r,"The recovery param is more than two bits"),e=new fh(e,n);var i=this.n,a=new Ls(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),d=i.sub(a).mul(u).umod(i),l=o.mul(u).umod(i);return this.g.mulAdd(d,s,l)};Rn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new fh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var $5=H((I$,Y5)=>{"use strict";g();m();var Bc=nn(),X5=Bc.assert,V5=Bc.parseBytes,Xo=Bc.cachedProperty;function sr(t,e){this.eddsa=t,this._secret=V5(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=V5(e.pub)}sr.fromPublic=function(e,r){return r instanceof sr?r:new sr(e,{pub:r})};sr.fromSecret=function(e,r){return r instanceof sr?r:new sr(e,{secret:r})};sr.prototype.secret=function(){return this._secret};Xo(sr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Xo(sr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Xo(sr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Xo(sr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Xo(sr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Xo(sr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});sr.prototype.sign=function(e){return X5(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};sr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};sr.prototype.getSecret=function(e){return X5(this._secret,"KeyPair is public only"),Bc.encode(this.secret(),e)};sr.prototype.getPublic=function(e){return Bc.encode(this.pubBytes(),e)};Y5.exports=sr});var Z5=H((M$,J5)=>{"use strict";g();m();var vk=Ge(),ch=nn(),yk=ch.assert,uh=ch.cachedProperty,gk=ch.parseBytes;function Fs(t,e){this.eddsa=t,typeof e!="object"&&(e=gk(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),yk(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof vk&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uh(Fs,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uh(Fs,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uh(Fs,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uh(Fs,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Fs.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Fs.prototype.toHex=function(){return ch.encode(this.toBytes(),"hex").toUpperCase()};J5.exports=Fs});var nm=H((q$,rm)=>{"use strict";g();m();var mk=Vo(),wk=ah(),Yo=nn(),_k=Yo.assert,em=Yo.parseBytes,tm=$5(),Q5=Z5();function Xr(t){if(_k(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Xr))return new Xr(t);t=wk[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=mk.sha512}rm.exports=Xr;Xr.prototype.sign=function(e,r){e=em(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};Xr.prototype.verify=function(e,r,n){e=em(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};Xr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Yo.intFromLE(e.digest()).umod(this.curve.n)};Xr.prototype.keyFromPublic=function(e){return tm.fromPublic(this,e)};Xr.prototype.keyFromSecret=function(e){return tm.fromSecret(this,e)};Xr.prototype.makeSignature=function(e){return e instanceof Q5?e:new Q5(this,e)};Xr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Xr.prototype.decodePoint=function(e){e=Yo.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Yo.intFromLE(n);return this.curve.pointFromY(a,i)};Xr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Xr.prototype.decodeInt=function(e){return Yo.intFromLE(e)};Xr.prototype.isPoint=function(e){return e instanceof this.pointClass}});var E1=H(im=>{"use strict";g();m();var js=im;js.version=H8().version;js.utils=nn();js.rand=No();js.curve=a1();js.curves=ah();js.ec=G5();js.eddsa=nm()});var um={};Af(um,{Script:()=>ti,createContext:()=>P1,createScript:()=>sm,default:()=>Ak,isContext:()=>T1,runInContext:()=>om,runInNewContext:()=>cm,runInThisContext:()=>fm});function Jo(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e}function $o(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)}function Sk(t,e,r){typeof A1!="function"&&(A1=xk),A1(t,e,r)}function xk(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch{return function(e,r,n){e[r]=n}}}function dh(){}function ti(t){if(!(this instanceof ti))return new ti(t);this.code=t}function Ek(t,e){var r=Jo(globalThis);r.push("with (this.__ctx__){return eval(this.__code__)}");var n=Function.apply(null,r);return n.apply({__code__:t,__ctx__:e})}function sm(t){return new ti(t)}function P1(t){if(T1(t))return t;var e=new dh;return typeof t=="object"&&$o(Jo(t),function(r){e[r]=t[r]}),e}function om(t,e,r){var n=new ti(t,r);return n.runInContext(e,r)}function fm(t,e){var r=new ti(t,e);return r.runInThisContext(e)}function T1(t){return t instanceof dh}function cm(t,e,r){var n=new ti(t,r);return n.runInNewContext(e,r)}function Tk(t,e){if(Pk)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var A1,am,Ak,Pk,dm=Gi(()=>{g();m();am=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];dh.prototype={};ti.prototype.runInContext=function(t){if(!(t instanceof dh))throw new TypeError("needs a 'context' argument.");if(globalThis.document){var e=globalThis.document.createElement("iframe");e.style||(e.style={}),e.style.display="none",globalThis.document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),$o(Jo(t),function(o){r[o]=t[o]}),$o(am,function(o){t[o]&&(r[o]=t[o])});var a=Jo(r),s=n.call(r,this.code);return $o(Jo(r),function(o){(o in t||Tk(a,o)===-1)&&(t[o]=r[o])}),$o(am,function(o){o in t||Sk(t,o,r[o])}),globalThis.document.body.removeChild(e),s}return Ek(this.code,t)};ti.prototype.runInThisContext=function(){var t=new Function("code","return eval(code);");return t.call(globalThis,this.code)};ti.prototype.runInNewContext=function(t){var e=P1(t),r=this.runInContext(e);return t&&$o(Jo(e),function(n){t[n]=e[n]}),r};Ak={runInContext:om,isContext:T1,createContext:P1,createScript:sm,Script:ti,runInThisContext:fm,runInNewContext:cm},Pk=[].indexOf});var hm=H((j$,hh)=>{g();m();var Ks=(dm(),Pf(um));if(Ks&&Ks.default){hh.exports=Ks.default;for(let t in Ks)hh.exports[t]=Ks[t]}else Ks&&(hh.exports=Ks)});var bm=H(pm=>{g();m();var lm=Qo(),Ik=Ae(),Ok=pm;Ok.define=function(e,r){return new Zo(e,r)};function Zo(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Zo.prototype._createNamed=function(e){var r;try{r=hm().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{r=function(i){this._initNamed(i)}}return Ik(r,e),r.prototype._initNamed=function(i){e.call(this,i)},new r(this)};Zo.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(lm.decoders[e])),this.decoders[e]};Zo.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};Zo.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(lm.encoders[e])),this.encoders[e]};Zo.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var ym=H(vm=>{g();m();var Bk=Ae();function qn(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}vm.Reporter=qn;qn.prototype.isError=function(e){return e instanceof ef};qn.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};qn.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};qn.prototype.enterKey=function(e){return this._reporterState.path.push(e)};qn.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};qn.prototype.leaveKey=function(e,r,n){var i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};qn.prototype.path=function(){return this._reporterState.path.join("/")};qn.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};qn.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};qn.prototype.error=function(e){var r,n=this._reporterState,i=e instanceof ef;if(i?r=e:r=new ef(n.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};qn.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function ef(t,e){this.path=t,this.rethrow(e)}Bk(ef,Error);ef.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ef),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var O1=H(I1=>{g();m();var Mk=Ae(),ph=tf().Reporter,Mc=Wn().Buffer;function Hi(t,e){if(ph.call(this,e),!Mc.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Mk(Hi,ph);I1.DecoderBuffer=Hi;Hi.prototype.save=function(){return{offset:this.offset,reporter:ph.prototype.save.call(this)}};Hi.prototype.restore=function(e){var r=new Hi(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,ph.prototype.restore.call(this,e.reporter),r};Hi.prototype.isEmpty=function(){return this.offset===this.length};Hi.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Hi.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");var n=new Hi(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Hi.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function lh(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return r instanceof lh||(r=new lh(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=Mc.byteLength(t);else if(Mc.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}I1.EncoderBuffer=lh;lh.prototype.join=function(e,r){return e||(e=new Mc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):Mc.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var wm=H((eJ,mm)=>{g();m();var Ck=tf().Reporter,Rk=tf().EncoderBuffer,qk=tf().DecoderBuffer,Rr=Gr(),gm=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],kk=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(gm),Nk=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Xe(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}mm.exports=Xe;var Hk=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Xe.prototype.clone=function(){var e=this._baseState,r={};Hk.forEach(function(i){r[i]=e[i]});var n=new this.constructor(r.parent);return n._baseState=r,n};Xe.prototype._wrap=function(){var e=this._baseState;kk.forEach(function(r){this[r]=function(){var i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Xe.prototype._init=function(e){var r=this._baseState;Rr(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Rr.equal(r.children.length,1,"Root node can have only one child")};Xe.prototype._useArgs=function(e){var r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Rr(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Rr(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;var a={};return Object.keys(i).forEach(function(s){s==(s|0)&&(s|=0);var o=i[s];a[o]=s}),a}))};Nk.forEach(function(t){Xe.prototype[t]=function(){var r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});gm.forEach(function(t){Xe.prototype[t]=function(){var r=this._baseState,n=Array.prototype.slice.call(arguments);return Rr(r.tag===null),r.tag=t,this._useArgs(n),this}});Xe.prototype.use=function(e){Rr(e);var r=this._baseState;return Rr(r.use===null),r.use=e,this};Xe.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this};Xe.prototype.def=function(e){var r=this._baseState;return Rr(r.default===null),r.default=e,r.optional=!0,this};Xe.prototype.explicit=function(e){var r=this._baseState;return Rr(r.explicit===null&&r.implicit===null),r.explicit=e,this};Xe.prototype.implicit=function(e){var r=this._baseState;return Rr(r.explicit===null&&r.implicit===null),r.implicit=e,this};Xe.prototype.obj=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Xe.prototype.key=function(e){var r=this._baseState;return Rr(r.key===null),r.key=e,this};Xe.prototype.any=function(){var e=this._baseState;return e.any=!0,this};Xe.prototype.choice=function(e){var r=this._baseState;return Rr(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Xe.prototype.contains=function(e){var r=this._baseState;return Rr(r.use===null),r.contains=e,this};Xe.prototype._decode=function(e,r){var n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));var i=n.default,a=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){var o=null;if(n.explicit!==null?o=n.explicit:n.implicit!==null?o=n.implicit:n.tag!==null&&(o=n.tag),o===null&&!n.any){var f=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),a=!0}catch{a=!1}e.restore(f)}else if(a=this._peekTag(e,o,n.any),e.isError(a))return a}var c;if(n.obj&&a&&(c=e.enterObject()),a){if(n.explicit!==null){var u=this._decodeTag(e,n.explicit);if(e.isError(u))return u;e=u}var d=e.offset;if(n.use===null&&n.choice===null){if(n.any)var f=e.save();var l=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(l))return l;n.any?i=e.raw(f):e=l}if(r&&r.track&&n.tag!==null&&r.track(e.path(),d,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any?i=i:n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(B){B._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){var _=new qk(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(_,r)}}return n.obj&&a&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||a===!0)?e.leaveKey(s,n.key,i):s!==null&&e.exitKey(s),i};Xe.prototype._decodeGeneric=function(e,r,n){var i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Xe.prototype._getUse=function(e,r){var n=this._baseState;return n.useDecoder=this._use(e,r),Rr(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Xe.prototype._decodeChoice=function(e,r){var n=this._baseState,i=null,a=!1;return Object.keys(n.choice).some(function(s){var o=e.save(),f=n.choice[s];try{var c=f._decode(e,r);if(e.isError(c))return!1;i={type:s,value:c},a=!0}catch{return e.restore(o),!1}return!0},this),a?i:e.error("Choice not matched")};Xe.prototype._createEncoderBuffer=function(e){return new Rk(e,this.reporter)};Xe.prototype._encode=function(e,r,n){var i=this._baseState;if(!(i.default!==null&&i.default===e)){var a=this._encodeValue(e,r,n);if(a!==void 0&&!this._skipDefault(a,r,n))return a}};Xe.prototype._encodeValue=function(e,r,n){var i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new Ck);var f=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;var a=null,s=!1;if(i.any)f=this._createEncoderBuffer(e);else if(i.choice)f=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),s=!0;else if(i.children)a=i.children.map(function(d){if(d._baseState.tag==="null_")return d._encode(null,r,e);if(d._baseState.key===null)return r.error("Child should have a key");var l=r.enterKey(d._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");var _=d._encode(e[d._baseState.key],r,e);return r.leaveKey(l),_},this).filter(function(d){return d}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");var o=this.clone();o._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(d){var l=this._baseState;return this._getUse(l.args[0],e)._encode(d,r)},o))}else i.use!==null?f=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),s=!0);var f;if(!i.any&&i.choice===null){var c=i.implicit!==null?i.implicit:i.tag,u=i.implicit===null?"universal":"context";c===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(f=this._encodeComposite(c,s,u,a))}return i.explicit!==null&&(f=this._encodeComposite(i.explicit,!1,"context",f)),f};Xe.prototype._encodeChoice=function(e,r){var n=this._baseState,i=n.choice[e.type];return i||Rr(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Xe.prototype._encodePrimitive=function(e,r){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Xe.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Xe.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}});var tf=H(_m=>{g();m();var bh=_m;bh.Reporter=ym().Reporter;bh.DecoderBuffer=O1().DecoderBuffer;bh.EncoderBuffer=O1().EncoderBuffer;bh.Node=wm()});var xm=H(zs=>{g();m();var Sm=B1();zs.tagClass={0:"universal",1:"application",2:"context",3:"private"};zs.tagClassByName=Sm._reverse(zs.tagClass);zs.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};zs.tagByName=Sm._reverse(zs.tag)});var B1=H(Am=>{g();m();var Em=Am;Em._reverse=function(e){var r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);var i=e[n];r[i]=n}),r};Em.der=xm()});var R1=H((hJ,Om)=>{g();m();var Uk=Ae(),M1=Qo(),vh=M1.base,Dk=M1.bignum,Pm=M1.constants.der;function Tm(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new an,this.tree._init(t.body)}Om.exports=Tm;Tm.prototype.decode=function(e,r){return e instanceof vh.DecoderBuffer||(e=new vh.DecoderBuffer(e,r)),this.tree._decode(e,r)};function an(t){vh.Node.call(this,"der",t)}Uk(an,vh.Node);an.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;var i=e.save(),a=C1(e,'Failed to peek tag: "'+r+'"');return e.isError(a)?a:(e.restore(i),a.tag===r||a.tagStr===r||a.tagStr+"of"===r||n)};an.prototype._decodeTag=function(e,r,n){var i=C1(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;var a=Im(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(a))return a;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+r+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(a=e.offset-s.offset,e.restore(s),e.skip(a,'Failed to match body of: "'+r+'"'))};an.prototype._skipUntilEnd=function(e,r){for(;;){var n=C1(e,r);if(e.isError(n))return n;var i=Im(e,n.primitive,r);if(e.isError(i))return i;var a;if(n.primitive||i!==null?a=e.skip(i):a=this._skipUntilEnd(e,r),e.isError(a))return a;if(n.tagStr==="end")break}};an.prototype._decodeList=function(e,r,n,i){for(var a=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=n.decode(e,"der",i);if(e.isError(o)&&s)break;a.push(o)}return a};an.prototype._decodeStr=function(e,r){if(r==="bitstr"){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){var i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var a="",s=0;s<i.length/2;s++)a+=String.fromCharCode(i.readUInt16BE(s*2));return a}else if(r==="numstr"){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){var f=e.raw().toString("ascii");return this._isPrintstr(f)?f:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};an.prototype._decodeObjid=function(e,r,n){for(var i,a=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=o&127,(o&128)===0&&(a.push(s),s=0)}o&128&&a.push(s);var f=a[0]/40|0,c=a[0]%40;if(n?i=a:i=[f,c].concat(a.slice(1)),r){var u=r[i.join(" ")];u===void 0&&(u=r[i.join(".")]),u!==void 0&&(i=u)}return i};an.prototype._decodeTime=function(e,r){var n=e.raw().toString();if(r==="gentime")var i=n.slice(0,4)|0,a=n.slice(4,6)|0,s=n.slice(6,8)|0,o=n.slice(8,10)|0,f=n.slice(10,12)|0,c=n.slice(12,14)|0;else if(r==="utctime"){var i=n.slice(0,2)|0,a=n.slice(2,4)|0,s=n.slice(4,6)|0,o=n.slice(6,8)|0,f=n.slice(8,10)|0,c=n.slice(10,12)|0;i<70?i=2e3+i:i=1900+i}else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,a-1,s,o,f,c,0)};an.prototype._decodeNull=function(e){return null};an.prototype._decodeBool=function(e){var r=e.readUInt8();return e.isError(r)?r:r!==0};an.prototype._decodeInt=function(e,r){var n=e.raw(),i=new Dk(n);return r&&(i=r[i.toString(10)]||i),i};an.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function C1(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=Pm.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){var a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;var s=Pm.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}function Im(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;var i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(var a=0;a<i;a++){n<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}});var Mm=H((bJ,Bm)=>{g();m();var Lk=Ae(),Fk=Wn().Buffer,q1=R1();function k1(t){q1.call(this,t),this.enc="pem"}Lk(k1,q1);Bm.exports=k1;k1.prototype.decode=function(e,r){for(var n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,o=-1,f=0;f<n.length;f++){var c=n[f].match(a);if(c!==null&&c[2]===i)if(s===-1){if(c[1]!=="BEGIN")break;s=f}else{if(c[1]!=="END")break;o=f;break}}if(s===-1||o===-1)throw new Error("PEM section not found for: "+i);var u=n.slice(s+1,o).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new Fk(u,"base64");return q1.prototype.decode.call(this,d,r)}});var qm=H(Rm=>{g();m();var Cm=Rm;Cm.der=R1();Cm.pem=Mm()});var H1=H((_J,Um)=>{g();m();var jk=Ae(),ya=Wn().Buffer,km=Qo(),Nm=km.base,N1=km.constants.der;function Hm(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ri,this.tree._init(t.body)}Um.exports=Hm;Hm.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function ri(t){Nm.Node.call(this,"der",t)}jk(ri,Nm.Node);ri.prototype._encodeComposite=function(e,r,n,i){var a=Kk(e,r,n,this.reporter);if(i.length<128){var f=new ya(2);return f[0]=a,f[1]=i.length,this._createEncoderBuffer([f,i])}for(var s=1,o=i.length;o>=256;o>>=8)s++;var f=new ya(1+1+s);f[0]=a,f[1]=128|s;for(var o=1+s,c=i.length;c>0;o--,c>>=8)f[o]=c&255;return this._createEncoderBuffer([f,i])};ri.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){for(var n=new ya(e.length*2),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};ri.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}for(var a=0,i=0;i<e.length;i++){var s=e[i];for(a++;s>=128;s>>=7)a++}for(var o=new ya(a),f=o.length-1,i=e.length-1;i>=0;i--){var s=e[i];for(o[f--]=s&127;(s>>=7)>0;)o[f--]=128|s&127}return this._createEncoderBuffer(o)};function kn(t){return t<10?"0"+t:t}ri.prototype._encodeTime=function(e,r){var n,i=new Date(e);return r==="gentime"?n=[kn(i.getFullYear()),kn(i.getUTCMonth()+1),kn(i.getUTCDate()),kn(i.getUTCHours()),kn(i.getUTCMinutes()),kn(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[kn(i.getFullYear()%100),kn(i.getUTCMonth()+1),kn(i.getUTCDate()),kn(i.getUTCHours()),kn(i.getUTCMinutes()),kn(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};ri.prototype._encodeNull=function(){return this._createEncoderBuffer("")};ri.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!ya.isBuffer(e)){var n=e.toArray();!e.sign&&n[0]&128&&n.unshift(0),e=new ya(n)}if(ya.isBuffer(e)){var i=e.length;e.length===0&&i++;var s=new ya(i);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var i=1,a=e;a>=256;a>>=8)i++;for(var s=new Array(i),a=s.length-1;a>=0;a--)s[a]=e&255,e>>=8;return s[0]&128&&s.unshift(0),this._createEncoderBuffer(new ya(s))};ri.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};ri.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};ri.prototype._skipDefault=function(e,r,n){var i=this._baseState,a;if(i.default===null)return!1;var s=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),s.length!==i.defaultBuffer.length)return!1;for(a=0;a<s.length;a++)if(s[a]!==i.defaultBuffer[a])return!1;return!0};function Kk(t,e,r,n){var i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),N1.tagByName.hasOwnProperty(t))i=N1.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=N1.tagClassByName[r||"universal"]<<6,i)}});var Lm=H((EJ,Dm)=>{g();m();var zk=Ae(),U1=H1();function D1(t){U1.call(this,t),this.enc="pem"}zk(D1,U1);Dm.exports=D1;D1.prototype.encode=function(e,r){for(var n=U1.prototype.encode.call(this,e),i=n.toString("base64"),a=["-----BEGIN "+r.label+"-----"],s=0;s<i.length;s+=64)a.push(i.slice(s,s+64));return a.push("-----END "+r.label+"-----"),a.join(`
`)}});var Km=H(jm=>{g();m();var Fm=jm;Fm.der=H1();Fm.pem=Lm()});var Qo=H(zm=>{g();m();var rf=zm;rf.bignum=Ge();rf.define=bm().define;rf.base=tf();rf.constants=B1();rf.decoders=qm();rf.encoders=Km()});var Xm=H((RJ,Vm)=>{"use strict";g();m();var ni=Qo(),Wm=ni.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Wk=ni.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),L1=ni.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),Gk=ni.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(L1),this.key("subjectPublicKey").bitstr())}),Vk=ni.define("RelativeDistinguishedName",function(){this.setof(Wk)}),Xk=ni.define("RDNSequence",function(){this.seqof(Vk)}),Gm=ni.define("Name",function(){this.choice({rdnSequence:this.use(Xk)})}),Yk=ni.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Wm),this.key("notAfter").use(Wm))}),$k=ni.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Jk=ni.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(L1),this.key("issuer").use(Gm),this.key("validity").use(Yk),this.key("subject").use(Gm),this.key("subjectPublicKeyInfo").use(Gk),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof($k).optional())}),Zk=ni.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Jk),this.key("signatureAlgorithm").use(L1),this.key("signatureValue").bitstr())});Vm.exports=Zk});var $m=H(ai=>{"use strict";g();m();var ii=Qo();ai.certificate=Xm();var Qk=ii.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ai.RSAPrivateKey=Qk;var eN=ii.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ai.RSAPublicKey=eN;var tN=ii.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Ym),this.key("subjectPublicKey").bitstr())});ai.PublicKey=tN;var Ym=ii.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),rN=ii.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Ym),this.key("subjectPrivateKey").octstr())});ai.PrivateKey=rN;var nN=ii.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ai.EncryptedPrivateKey=nN;var iN=ii.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ai.DSAPrivateKey=iN;ai.DSAparam=ii.define("DSAparam",function(){this.int()});var aN=ii.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(sN),this.key("publicKey").optional().explicit(1).bitstr())});ai.ECPrivateKey=aN;var sN=ii.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ai.signature=ii.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var Jm=H((DJ,oN)=>{oN.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var Qm=H((LJ,Zm)=>{g();m();var fN=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,cN=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,uN=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,dN=mc(),hN=Fd();Zm.exports=function(t,e){var r=t.toString(),n=r.match(fN),i;if(n){var s="aes"+n[1],o=new b.Buffer(n[2],"hex"),f=new b.Buffer(n[3].replace(/\r?\n/g,""),"base64"),c=dN(e,o.slice(0,8),parseInt(n[1],10)).key,u=[],d=hN.createDecipheriv(s,c,o);u.push(d.update(f)),u.push(d.final()),i=b.Buffer.concat(u)}else{var a=r.match(uN);i=new b.Buffer(a[2].replace(/\r?\n/g,""),"base64")}var l=r.match(cN)[1];return{tag:l,data:i}}});var Cc=H((KJ,t9)=>{g();m();var Yr=$m(),lN=Jm(),pN=Qm(),bN=Fd(),vN=Ip();t9.exports=e9;function e9(t){var e;typeof t=="object"&&!b.Buffer.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=new b.Buffer(t));var r=pN(t,e),n=r.tag,i=r.data,a,s;switch(n){case"CERTIFICATE":s=Yr.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=Yr.PublicKey.decode(i,"der")),a=s.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return Yr.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=Yr.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+n);case"ENCRYPTED PRIVATE KEY":i=Yr.EncryptedPrivateKey.decode(i,"der"),i=yN(i,e);case"PRIVATE KEY":switch(s=Yr.PrivateKey.decode(i,"der"),a=s.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return Yr.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:Yr.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=Yr.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+n);case"RSA PUBLIC KEY":return Yr.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Yr.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Yr.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Yr.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}e9.signature=Yr.signature;function yN(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=lN[t.algorithm.decrypt.cipher.algo.join(".")],a=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,o=parseInt(i.split("-")[1],10)/8,f=vN.pbkdf2Sync(e,r,n,o),c=bN.createDecipheriv(i,f,a),u=[];return u.push(c.update(s)),u.push(c.final()),b.Buffer.concat(u)}});var F1=H((GJ,gN)=>{gN.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var i9=H((VJ,gh)=>{g();m();var Ws=mp(),mN=Xd(),wN=E1().ec,yh=Ge(),_N=Cc(),SN=F1();function xN(t,e,r,n,i){var a=_N(e);if(a.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return EN(t,a)}else if(a.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return AN(t,a,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");t=b.Buffer.concat([i,t]);for(var s=a.modulus.byteLength(),o=[0,1];t.length+o.length+1<s;)o.push(255);o.push(0);for(var f=-1;++f<t.length;)o.push(t[f]);var c=mN(o,a);return c}function EN(t,e){var r=SN[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new wN(r),i=n.keyFromPrivate(e.privateKey),a=i.sign(t);return new b.Buffer(a.toDER())}function AN(t,e,r){for(var n=e.params.priv_key,i=e.params.p,a=e.params.q,s=e.params.g,o=new yh(0),f,c=j1(t,a).mod(a),u=!1,d=r9(n,a,t,r);u===!1;)f=n9(a,d,r),o=IN(s,f,i,a),u=f.invm(a).imul(c.add(n.mul(o))).mod(a),u.cmpn(0)===0&&(u=!1,o=new yh(0));return PN(o,u)}function PN(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),new b.Buffer(n)}function r9(t,e,r,n){if(t=new b.Buffer(t.toArray()),t.length<e.byteLength()){var i=new b.Buffer(e.byteLength()-t.length);i.fill(0),t=b.Buffer.concat([i,t])}var a=r.length,s=TN(r,e),o=new b.Buffer(a);o.fill(1);var f=new b.Buffer(a);return f.fill(0),f=Ws(n,f).update(o).update(new b.Buffer([0])).update(t).update(s).digest(),o=Ws(n,f).update(o).digest(),f=Ws(n,f).update(o).update(new b.Buffer([1])).update(t).update(s).digest(),o=Ws(n,f).update(o).digest(),{k:f,v:o}}function j1(t,e){var r=new yh(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function TN(t,e){t=j1(t,e),t=t.mod(e);var r=new b.Buffer(t.toArray());if(r.length<e.byteLength()){var n=new b.Buffer(e.byteLength()-r.length);n.fill(0),r=b.Buffer.concat([n,r])}return r}function n9(t,e,r){var n,i;do{for(n=new b.Buffer(0);n.length*8<t.bitLength();)e.v=Ws(r,e.k).update(e.v).digest(),n=b.Buffer.concat([n,e.v]);i=j1(n,t),e.k=Ws(r,e.k).update(e.v).update(new b.Buffer([0])).digest(),e.v=Ws(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function IN(t,e,r,n){return t.toRed(yh.mont(r)).redPow(e).fromRed().mod(n)}gh.exports=xN;gh.exports.getKey=r9;gh.exports.makeKey=n9});var f9=H(($J,o9)=>{g();m();var Rc=Ge(),ON=E1().ec,s9=Cc(),BN=F1();function MN(t,e,r,n,i){var a=s9(r);if(a.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return CN(t,e,a)}else if(a.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return RN(t,e,a)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=b.Buffer.concat([i,e]);for(var s=a.modulus.byteLength(),o=[1],f=0;e.length+o.length+2<s;)o.push(255),f++;o.push(0);for(var c=-1;++c<e.length;)o.push(e[c]);o=new b.Buffer(o);var u=Rc.mont(a.modulus);t=new Rc(t).toRed(u),t=t.redPow(new Rc(a.publicExponent)),t=new b.Buffer(t.fromRed().toArray());var d=f<8?1:0;for(s=Math.min(t.length,o.length),t.length!==o.length&&(d=1),c=-1;++c<s;)d|=t[c]^o[c];return d===0}function CN(t,e,r){var n=BN[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new ON(n),a=r.data.subjectPrivateKey.data;return i.verify(e,t,a)}function RN(t,e,r){var n=r.data.p,i=r.data.q,a=r.data.g,s=r.data.pub_key,o=s9.signature.decode(t,"der"),f=o.s,c=o.r;a9(f,i),a9(c,i);var u=Rc.mont(n),d=f.invm(i),l=a.toRed(u).redPow(new Rc(e).mul(d).mod(i)).fromRed().mul(s.toRed(u).redPow(c.mul(d).mod(i)).fromRed()).mod(n).mod(i);return l.cmp(c)===0}function a9(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}o9.exports=MN});var p9=H((QJ,l9)=>{g();m();var d9=Bo(),mh=vd(),h9=Ae(),qN=i9(),kN=f9(),Gs=wp();Object.keys(Gs).forEach(function(t){Gs[t].id=new b.Buffer(Gs[t].id,"hex"),Gs[t.toLowerCase()]=Gs[t]});function qc(t){mh.Writable.call(this);var e=Gs[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=d9(e.hash),this._tag=e.id,this._signType=e.sign}h9(qc,mh.Writable);qc.prototype._write=function(e,r,n){this._hash.update(e),n()};qc.prototype.update=function(e,r){return typeof e=="string"&&(e=new b.Buffer(e,r)),this._hash.update(e),this};qc.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=qN(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function kc(t){mh.Writable.call(this);var e=Gs[t];if(!e)throw new Error("Unknown message digest");this._hash=d9(e.hash),this._tag=e.id,this._signType=e.sign}h9(kc,mh.Writable);kc.prototype._write=function(e,r,n){this._hash.update(e),n()};kc.prototype.update=function(e,r){return typeof e=="string"&&(e=new b.Buffer(e,r)),this._hash.update(e),this};kc.prototype.verify=function(e,r,n){typeof r=="string"&&(r=new b.Buffer(r,n)),this.end();var i=this._hash.digest();return kN(r,i,e,this._signType,this._tag)};function c9(t){return new qc(t)}function u9(t){return new kc(t)}l9.exports={Sign:c9,Verify:u9,createSign:c9,createVerify:u9}});var b9=H((rZ,NN)=>{NN.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var sn=H(v9=>{"use strict";g();m();var si=v9,HN=Ge(),UN=Gr(),wh=$d();si.assert=UN;si.toArray=wh.toArray;si.zero2=wh.zero2;si.toHex=wh.toHex;si.encode=wh.encode;function DN(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),s=0;s<n.length;s++){var o,f=a.andln(i-1);a.isOdd()?(f>(i>>1)-1?o=(i>>1)-f:o=f,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n}si.getNAF=DN;function LN(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,o=e.andln(3)+i&3;s===3&&(s=-1),o===3&&(o=-1);var f;(s&1)===0?f=0:(a=t.andln(7)+n&7,(a===3||a===5)&&o===2?f=-s:f=s),r[0].push(f);var c;(o&1)===0?c=0:(a=e.andln(7)+i&7,(a===3||a===5)&&s===2?c=-o:c=o),r[1].push(c),2*n===f+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}si.getJSF=LN;function FN(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}si.cachedProperty=FN;function jN(t){return typeof t=="string"?si.toArray(t,"hex"):t}si.parseBytes=jN;function KN(t){return new HN(t,"hex","le")}si.intFromLE=KN});var Hc=H((sZ,y9)=>{"use strict";g();m();var Vs=Ge(),Nc=sn(),_h=Nc.getNAF,zN=Nc.getJSF,Sh=Nc.assert;function es(t,e){this.type=t,this.p=new Vs(e.p,16),this.red=e.prime?Vs.red(e.prime):Vs.mont(this.p),this.zero=new Vs(0).toRed(this.red),this.one=new Vs(1).toRed(this.red),this.two=new Vs(2).toRed(this.red),this.n=e.n&&new Vs(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}y9.exports=es;es.prototype.point=function(){throw new Error("Not implemented")};es.prototype.validate=function(){throw new Error("Not implemented")};es.prototype._fixedNafMul=function(e,r){Sh(e.precomputed);var n=e._getDoubles(),i=_h(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=a;l>0;l--){for(o=0;o<s.length;o++)f=s[o],f===l?d=d.mixedAdd(n.points[o]):f===-l&&(d=d.mixedAdd(n.points[o].neg()));u=u.add(d)}return u.toP()};es.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=_h(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];Sh(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};es.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,d,l;for(u=0;u<i;u++){l=r[u];var _=l._getNAFPoints(e);s[u]=_.wnd,o[u]=_.points}for(u=i-1;u>=1;u-=2){var T=u-1,B=u;if(s[T]!==1||s[B]!==1){f[T]=_h(n[T],s[T],this._bitLength),f[B]=_h(n[B],s[B],this._bitLength),c=Math.max(f[T].length,c),c=Math.max(f[B].length,c);continue}var F=[r[T],null,null,r[B]];r[T].y.cmp(r[B].y)===0?(F[1]=r[T].add(r[B]),F[2]=r[T].toJ().mixedAdd(r[B].neg())):r[T].y.cmp(r[B].y.redNeg())===0?(F[1]=r[T].toJ().mixedAdd(r[B]),F[2]=r[T].add(r[B].neg())):(F[1]=r[T].toJ().mixedAdd(r[B]),F[2]=r[T].toJ().mixedAdd(r[B].neg()));var L=[-3,-1,-5,-7,0,7,5,1,3],J=zN(n[T],n[B]);for(c=Math.max(J[0].length,c),f[T]=new Array(c),f[B]=new Array(c),d=0;d<c;d++){var ne=J[0][d]|0,ie=J[1][d]|0;f[T][d]=L[(ne+1)*3+(ie+1)],f[B][d]=0,o[T]=F}}var te=this.jpoint(null,null,null),he=this._wnafT4;for(u=c;u>=0;u--){for(var ae=0;u>=0;){var xe=!0;for(d=0;d<i;d++)he[d]=f[d][u]|0,he[d]!==0&&(xe=!1);if(!xe)break;ae++,u--}if(u>=0&&ae++,te=te.dblp(ae),u<0)break;for(d=0;d<i;d++){var U=he[d];U!==0&&(U>0?l=o[d][U-1>>1]:U<0&&(l=o[d][-U-1>>1].neg()),l.type==="affine"?te=te.mixedAdd(l):te=te.add(l))}}for(u=0;u<i;u++)o[u]=null;return a?te:te.toP()};function Nn(t,e){this.curve=t,this.type=e,this.precomputed=null}es.BasePoint=Nn;Nn.prototype.eq=function(){throw new Error("Not implemented")};Nn.prototype.validate=function(){return this.curve.validate(this)};es.prototype.decodePoint=function(e,r){e=Nc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Sh(e[e.length-1]%2===0):e[0]===7&&Sh(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nn.prototype.encode=function(e,r){return Nc.encode(this._encode(r),e)};Nn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Nn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Nn.prototype._getBeta=function(){return null};Nn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var m9=H((cZ,g9)=>{"use strict";g();m();var WN=sn(),_t=Ge(),K1=Ae(),nf=Hc(),GN=WN.assert;function Hn(t){nf.call(this,"short",t),this.a=new _t(t.a,16).toRed(this.red),this.b=new _t(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}K1(Hn,nf);g9.exports=Hn;Hn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new _t(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new _t(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],GN(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new _t(o.a,16),b:new _t(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Hn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:_t.mont(e),n=new _t(2).toRed(r).redInvm(),i=n.redNeg(),a=new _t(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Hn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new _t(1),s=new _t(0),o=new _t(0),f=new _t(1),c,u,d,l,_,T,B,F=0,L,J;n.cmpn(0)!==0;){var ne=i.div(n);L=i.sub(ne.mul(n)),J=o.sub(ne.mul(a));var ie=f.sub(ne.mul(s));if(!d&&L.cmp(r)<0)c=B.neg(),u=a,d=L.neg(),l=J;else if(d&&++F===2)break;B=L,i=n,n=L,o=a,a=J,f=s,s=ie}_=L.neg(),T=J;var te=d.sqr().add(l.sqr()),he=_.sqr().add(T.sqr());return he.cmp(te)>=0&&(_=c,T=u),d.negative&&(d=d.neg(),l=l.neg()),_.negative&&(_=_.neg(),T=T.neg()),[{a:d,b:l},{a:_,b:T}]};Hn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),d=e.sub(o).sub(f),l=c.add(u).neg();return{k1:d,k2:l}};Hn.prototype.pointFromX=function(e,r){e=new _t(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Hn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Hn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),d=0;d<s*2;d++)i[d]=null,a[d]=null;return u};function or(t,e,r,n){nf.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _t(e,16),this.y=new _t(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}K1(or,nf.BasePoint);Hn.prototype.point=function(e,r,n){return new or(this,e,r,n)};Hn.prototype.pointFromJSON=function(e,r){return or.fromJSON(this,e,r)};or.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};or.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};or.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};or.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};or.prototype.isInfinity=function(){return this.inf};or.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};or.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};or.prototype.getX=function(){return this.x.fromRed()};or.prototype.getY=function(){return this.y.fromRed()};or.prototype.mul=function(e){return e=new _t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};or.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};or.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};or.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};or.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};or.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(t,e,r,n){nf.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _t(0)):(this.x=new _t(e,16),this.y=new _t(r,16),this.z=new _t(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}K1(yr,nf.BasePoint);Hn.prototype.jpoint=function(e,r,n){return new yr(this,e,r,n)};yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),d=u.redMul(f),l=i.redMul(u),_=c.redSqr().redIAdd(d).redISub(l).redISub(l),T=c.redMul(l.redISub(_)).redISub(s.redMul(d)),B=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(_,T,B)};yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),d=n.redMul(c),l=f.redSqr().redIAdd(u).redISub(d).redISub(d),_=f.redMul(d.redISub(l)).redISub(a.redMul(u)),T=this.z.redMul(o);return this.curve.jpoint(l,_,T)};yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var d=s.redSqr(),l=u.redSqr(),_=l.redSqr(),T=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(c)),B=s.redMul(l),F=T.redSqr().redISub(B.redAdd(B)),L=B.redISub(F),J=T.redMul(L);J=J.redIAdd(J).redISub(_);var ne=u.redMul(f);r+1<e&&(c=c.redMul(_)),s=F,f=ne,u=J}return this.curve.jpoint(s,u.redMul(a),f)};yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),l=this.y.redSqr(),_=l.redSqr(),T=this.x.redAdd(l).redSqr().redISub(d).redISub(_);T=T.redIAdd(T);var B=d.redAdd(d).redIAdd(d),F=B.redSqr(),L=_.redIAdd(_);L=L.redIAdd(L),L=L.redIAdd(L),e=F.redISub(T).redISub(T),r=B.redMul(T.redISub(e)).redISub(L),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),l=this.y.redSqr(),_=this.x.redMul(l),T=this.x.redSub(d).redMul(this.x.redAdd(d));T=T.redAdd(T).redIAdd(T);var B=_.redIAdd(_);B=B.redIAdd(B);var F=B.redAdd(B);e=T.redSqr().redISub(F),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(d);var L=l.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),r=T.redMul(B.redISub(e)).redISub(L)}return this.curve.jpoint(e,r,n)};yr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),d=f.redSqr().redISub(u.redAdd(u)),l=u.redISub(d),_=o.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=f.redMul(l).redISub(_),B=n.redAdd(n).redMul(i);return this.curve.jpoint(d,T,B)};yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),d=r.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var l=this.x.redMul(f).redISub(d);l=l.redIAdd(l),l=l.redIAdd(l);var _=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var T=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(l,_,T)};yr.prototype.mul=function(e,r){return e=new _t(e,r),this.curve._wnafMul(this,e)};yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};yr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var S9=H((hZ,_9)=>{"use strict";g();m();var af=Ge(),w9=Ae(),xh=Hc(),VN=sn();function sf(t){xh.call(this,"mont",t),this.a=new af(t.a,16).toRed(this.red),this.b=new af(t.b,16).toRed(this.red),this.i4=new af(4).toRed(this.red).redInvm(),this.two=new af(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}w9(sf,xh);_9.exports=sf;sf.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function fr(t,e,r){xh.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new af(e,16),this.z=new af(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}w9(fr,xh.BasePoint);sf.prototype.decodePoint=function(e,r){return this.point(VN.toArray(e,r),1)};sf.prototype.point=function(e,r){return new fr(this,e,r)};sf.prototype.pointFromJSON=function(e){return fr.fromJSON(this,e)};fr.prototype.precompute=function(){};fr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};fr.fromJSON=function(e,r){return new fr(e,r[0],r[1]||e.one)};fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};fr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};fr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};fr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};fr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};fr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};fr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var A9=H((bZ,E9)=>{"use strict";g();m();var XN=sn(),ga=Ge(),x9=Ae(),Eh=Hc(),YN=XN.assert;function Ui(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Eh.call(this,"edwards",t),this.a=new ga(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ga(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ga(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),YN(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}x9(Ui,Eh);E9.exports=Ui;Ui.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ui.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ui.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Ui.prototype.pointFromX=function(e,r){e=new ga(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Ui.prototype.pointFromY=function(e,r){e=new ga(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Ui.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Qe(t,e,r,n,i){Eh.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ga(e,16),this.y=new ga(r,16),this.z=n?new ga(n,16):this.curve.one,this.t=i&&new ga(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}x9(Qe,Eh.BasePoint);Ui.prototype.pointFromJSON=function(e){return Qe.fromJSON(this,e)};Ui.prototype.point=function(e,r,n,i){return new Qe(this,e,r,n,i)};Qe.fromJSON=function(e,r){return new Qe(e,r[0],r[1],r[2])};Qe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Qe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Qe.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),d=a.redMul(f),l=o.redMul(s);return this.curve.point(c,u,l,d)};Qe.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Qe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Qe.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),d=f.redMul(c),l=s.redMul(c),_=o.redMul(f);return this.curve.point(u,d,_,l)};Qe.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),d,l;return this.curve.twisted?(d=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),l=o.redMul(f)):(d=r.redMul(f).redMul(a.redSub(i)),l=this.curve._mulC(o).redMul(f)),this.curve.point(u,d,l)};Qe.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Qe.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Qe.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Qe.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Qe.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Qe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Qe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Qe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Qe.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Qe.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Qe.prototype.toP=Qe.prototype.normalize;Qe.prototype.mixedAdd=Qe.prototype.add});var z1=H(P9=>{"use strict";g();m();var Ah=P9;Ah.base=Hc();Ah.short=m9();Ah.mont=S9();Ah.edwards=A9()});var I9=H((_Z,T9)=>{g();m();T9.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Ph=H(M9=>{"use strict";g();m();var G1=M9,ts=Vo(),W1=z1(),$N=sn(),O9=$N.assert;function B9(t){t.type==="short"?this.curve=new W1.short(t):t.type==="edwards"?this.curve=new W1.edwards(t):this.curve=new W1.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,O9(this.g.validate(),"Invalid curve"),O9(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}G1.PresetCurve=B9;function rs(t,e){Object.defineProperty(G1,t,{configurable:!0,enumerable:!0,get:function(){var r=new B9(e);return Object.defineProperty(G1,t,{configurable:!0,enumerable:!0,value:r}),r}})}rs("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ts.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});rs("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ts.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});rs("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ts.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});rs("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ts.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});rs("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ts.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});rs("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ts.sha256,gRed:!1,g:["9"]});rs("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ts.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var V1;try{V1=I9()}catch{V1=void 0}rs("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ts.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",V1]})});var R9=H((TZ,C9)=>{"use strict";g();m();var JN=Ge(),ZN=sn(),X1=ZN.assert;function Pr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}C9.exports=Pr;Pr.fromPublic=function(e,r,n){return r instanceof Pr?r:new Pr(e,{pub:r,pubEnc:n})};Pr.fromPrivate=function(e,r,n){return r instanceof Pr?r:new Pr(e,{priv:r,privEnc:n})};Pr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Pr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Pr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Pr.prototype._importPrivate=function(e,r){this.priv=new JN(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Pr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?X1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&X1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Pr.prototype.derive=function(e){return e.validate()||X1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Pr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Pr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Pr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var N9=H((BZ,k9)=>{"use strict";g();m();var Th=Ge(),J1=sn(),QN=J1.assert;function Ih(t,e){if(t instanceof Ih)return t;this._importDER(t,e)||(QN(t.r&&t.s,"Signature without r or s"),this.r=new Th(t.r,16),this.s=new Th(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}k9.exports=Ih;function eH(){this.place=0}function Y1(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function q9(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Ih.prototype._importDER=function(e,r){e=J1.toArray(e,r);var n=new eH;if(e[n.place++]!==48)return!1;var i=Y1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Y1(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Y1(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Th(s),this.s=new Th(f),this.recoveryParam=null,!0};function $1(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Ih.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=q9(r),n=q9(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];$1(i,r.length),i=i.concat(r),i.push(2),$1(i,n.length);var a=i.concat(n),s=[48];return $1(s,a.length),s=s.concat(a),J1.encode(s,e)}});var L9=H((RZ,D9)=>{"use strict";g();m();var Xs=Ge(),H9=y1(),tH=sn(),Z1=Ph(),rH=No(),U9=tH.assert,Q1=R9(),Oh=N9();function Un(t){if(!(this instanceof Un))return new Un(t);typeof t=="string"&&(U9(Object.prototype.hasOwnProperty.call(Z1,t),"Unknown curve "+t),t=Z1[t]),t instanceof Z1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}D9.exports=Un;Un.prototype.keyPair=function(e){return new Q1(this,e)};Un.prototype.keyFromPrivate=function(e,r){return Q1.fromPrivate(this,e,r)};Un.prototype.keyFromPublic=function(e,r){return Q1.fromPublic(this,e,r)};Un.prototype.genKeyPair=function(e){e||(e={});for(var r=new H9({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rH(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Xs(2));;){var a=new Xs(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Un.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Un.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Xs(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new H9({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Xs(1)),u=0;;u++){var d=i.k?i.k(u):new Xs(f.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(c)>=0)){var l=this.g.mul(d);if(!l.isInfinity()){var _=l.getX(),T=_.umod(this.n);if(T.cmpn(0)!==0){var B=d.invm(this.n).mul(T.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var F=(l.getY().isOdd()?1:0)|(_.cmp(T)!==0?2:0);return i.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),F^=1),new Oh({r:T,s:B,recoveryParam:F})}}}}}};Un.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Xs(e,16)),n=this.keyFromPublic(n,i),r=new Oh(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(e).umod(this.n),c=o.mul(a).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.eqXToP(a)):(u=this.g.mulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(a)===0)};Un.prototype.recoverPubKey=function(t,e,r,n){U9((3&r)===r,"The recovery param is more than two bits"),e=new Oh(e,n);var i=this.n,a=new Xs(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=e.r.invm(i),d=i.sub(a).mul(u).umod(i),l=o.mul(u).umod(i);return this.g.mulAdd(d,s,l)};Un.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Oh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var z9=H((NZ,K9)=>{"use strict";g();m();var Uc=sn(),j9=Uc.assert,F9=Uc.parseBytes,of=Uc.cachedProperty;function cr(t,e){this.eddsa=t,this._secret=F9(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=F9(e.pub)}cr.fromPublic=function(e,r){return r instanceof cr?r:new cr(e,{pub:r})};cr.fromSecret=function(e,r){return r instanceof cr?r:new cr(e,{secret:r})};cr.prototype.secret=function(){return this._secret};of(cr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});of(cr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});of(cr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});of(cr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});of(cr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});of(cr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});cr.prototype.sign=function(e){return j9(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};cr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};cr.prototype.getSecret=function(e){return j9(this._secret,"KeyPair is public only"),Uc.encode(this.secret(),e)};cr.prototype.getPublic=function(e){return Uc.encode(this.pubBytes(),e)};K9.exports=cr});var G9=H((DZ,W9)=>{"use strict";g();m();var nH=Ge(),Bh=sn(),iH=Bh.assert,Mh=Bh.cachedProperty,aH=Bh.parseBytes;function Ys(t,e){this.eddsa=t,typeof e!="object"&&(e=aH(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),iH(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof nH&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Mh(Ys,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Mh(Ys,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Mh(Ys,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Mh(Ys,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ys.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ys.prototype.toHex=function(){return Bh.encode(this.toBytes(),"hex").toUpperCase()};W9.exports=Ys});var J9=H((jZ,$9)=>{"use strict";g();m();var sH=Vo(),oH=Ph(),ff=sn(),fH=ff.assert,X9=ff.parseBytes,Y9=z9(),V9=G9();function $r(t){if(fH(t==="ed25519","only tested with ed25519 so far"),!(this instanceof $r))return new $r(t);t=oH[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=sH.sha512}$9.exports=$r;$r.prototype.sign=function(e,r){e=X9(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};$r.prototype.verify=function(e,r,n){e=X9(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};$r.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ff.intFromLE(e.digest()).umod(this.curve.n)};$r.prototype.keyFromPublic=function(e){return Y9.fromPublic(this,e)};$r.prototype.keyFromSecret=function(e){return Y9.fromSecret(this,e)};$r.prototype.makeSignature=function(e){return e instanceof V9?e:new V9(this,e)};$r.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};$r.prototype.decodePoint=function(e){e=ff.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=ff.intFromLE(n);return this.curve.pointFromY(a,i)};$r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};$r.prototype.decodeInt=function(e){return ff.intFromLE(e)};$r.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Q9=H(Z9=>{"use strict";g();m();var $s=Z9;$s.version=b9().version;$s.utils=sn();$s.rand=No();$s.curve=z1();$s.curves=Ph();$s.ec=L9();$s.eddsa=J9()});var t7=H((XZ,e7)=>{g();m();var cH=Q9(),uH=Ge();e7.exports=function(e){return new Js(e)};var on={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};on.p224=on.secp224r1;on.p256=on.secp256r1=on.prime256v1;on.p192=on.secp192r1=on.prime192v1;on.p384=on.secp384r1;on.p521=on.secp521r1;function Js(t){this.curveType=on[t],this.curveType||(this.curveType={name:t}),this.curve=new cH.ec(this.curveType.name),this.keys=void 0}Js.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Js.prototype.computeSecret=function(t,e,r){e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return eb(i,r,this.curveType.byteLength)};Js.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),eb(r,t)};Js.prototype.getPrivateKey=function(t){return eb(this.keys.getPrivate(),t)};Js.prototype.setPublicKey=function(t,e){return e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e)),this.keys._importPublic(t),this};Js.prototype.setPrivateKey=function(t,e){e=e||"utf8",b.Buffer.isBuffer(t)||(t=new b.Buffer(t,e));var r=new uH(t);return r=r.toString(16),this.keys._importPrivate(r),this};function eb(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new b.Buffer(t);if(r&&n.length<r){var i=new b.Buffer(r-n.length);i.fill(0),n=b.Buffer.concat([i,n])}return e?n.toString(e):n}});var tb=H((JZ,r7)=>{g();m();var dH=Bo();r7.exports=function(t,e){for(var r=new b.Buffer(""),n=0,i;r.length<e;)i=hH(n++),r=b.Buffer.concat([r,dH("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function hH(t){var e=new b.Buffer(4);return e.writeUInt32BE(t,0),e}});var rb=H((eQ,n7)=>{g();m();n7.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var nb=H((nQ,a7)=>{g();m();var i7=Ge();function lH(t,e){return new b.Buffer(t.toRed(i7.mont(e.modulus)).redPow(new i7(e.publicExponent)).fromRed().toArray())}a7.exports=lH});var c7=H((sQ,f7)=>{g();m();var pH=Cc(),ib=ms(),bH=Bo(),s7=tb(),o7=rb(),ab=Ge(),vH=nb(),yH=Xd();f7.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var a=pH(e),s;if(i===4)s=gH(a,r);else if(i===1)s=mH(a,r,n);else if(i===3){if(s=new ab(r),s.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?yH(s,a):vH(s,a)};function gH(t,e){var r=t.modulus.byteLength(),n=e.length,i=bH("sha1").update(new b.Buffer("")).digest(),a=i.length,s=2*a;if(n>r-s-2)throw new Error("message too long");var o=new b.Buffer(r-n-s-2);o.fill(0);var f=r-a-1,c=ib(a),u=o7(b.Buffer.concat([i,o,new b.Buffer([1]),e],f),s7(c,f)),d=o7(c,s7(u,a));return new ab(b.Buffer.concat([new b.Buffer([0]),d,u],r))}function mH(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var a;return r?(a=new b.Buffer(i-n-3),a.fill(255)):a=wH(i-n-3),new ab(b.Buffer.concat([new b.Buffer([0,r?1:2]),a,new b.Buffer([0]),e],i))}function wH(t,e){for(var r=new b.Buffer(t),n=0,i=ib(t*2),a=0,s;n<t;)a===i.length&&(i=ib(t*2),a=0),s=i[a++],s&&(r[n++]=s);return r}});var p7=H((cQ,l7)=>{g();m();var _H=Cc(),u7=tb(),d7=rb(),h7=Ge(),SH=Xd(),xH=Bo(),EH=nb();l7.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var a=_H(e),s=a.modulus.byteLength();if(r.length>s||new h7(r).cmp(a.modulus)>=0)throw new Error("decryption error");var o;n?o=EH(new h7(r),a):o=SH(r,a);var f=new b.Buffer(s-o.length);if(f.fill(0),o=b.Buffer.concat([f,o],s),i===4)return AH(a,o);if(i===1)return PH(a,o,n);if(i===3)return o;throw new Error("unknown padding")};function AH(t,e){var r=t.modulus,n=t.modulus.byteLength(),i=e.length,a=xH("sha1").update(new b.Buffer("")).digest(),s=a.length,o=2*s;if(e[0]!==0)throw new Error("decryption error");var f=e.slice(1,s+1),c=e.slice(s+1),u=d7(f,u7(c,s)),d=d7(c,u7(u,n-s-1));if(TH(a,d.slice(0,s)))throw new Error("decryption error");for(var l=s;d[l]===0;)l++;if(d[l++]!==1)throw new Error("decryption error");return d.slice(l)}function PH(t,e,r){for(var n=e.slice(0,2),i=2,a=0;e[i++]!==0;)if(i>=e.length){a++;break}var s=e.slice(2,i-1),o=e.slice(i-1,i);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&a++,s.length<8&&a++,a)throw new Error("decryption error");return e.slice(i)}function TH(t,e){t=new b.Buffer(t),e=new b.Buffer(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var b7=H(Zs=>{g();m();Zs.publicEncrypt=c7();Zs.privateDecrypt=p7();Zs.privateEncrypt=function(e,r){return Zs.publicEncrypt(e,r,!0)};Zs.publicDecrypt=function(e,r){return Zs.privateDecrypt(e,r,!0)}});var A7=H(Dc=>{"use strict";g();m();function v7(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var g7=We(),y7=ms(),m7=g7.Buffer,w7=g7.kMaxLength,sb=globalThis.crypto||globalThis.msCrypto,_7=Math.pow(2,32)-1;function S7(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>_7||t<0)throw new TypeError("offset must be a uint32");if(t>w7||t>e)throw new RangeError("offset out of range")}function x7(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>_7||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>w7)throw new RangeError("buffer too small")}sb&&sb.getRandomValues||!q.browser?(Dc.randomFill=IH,Dc.randomFillSync=OH):(Dc.randomFill=v7,Dc.randomFillSync=v7);function IH(t,e,r,n){if(!m7.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return S7(e,t.length),x7(r,e,t.length),E7(t,e,r,n)}function E7(t,e,r,n){if(q.browser){var i=t.buffer,a=new Uint8Array(i,e,r);if(sb.getRandomValues(a),n){q.nextTick(function(){n(null,t)});return}return t}if(n){y7(r,function(o,f){if(o)return n(o);f.copy(t,e),n(null,t)});return}var s=y7(r);return s.copy(t,e),t}function OH(t,e,r){if(typeof e>"u"&&(e=0),!m7.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return S7(e,t.length),r===void 0&&(r=t.length-e),x7(r,e,t.length),E7(t,e,r)}});var I7=H(Ce=>{"use strict";g();m();Ce.randomBytes=Ce.rng=Ce.pseudoRandomBytes=Ce.prng=ms();Ce.createHash=Ce.Hash=Bo();Ce.createHmac=Ce.Hmac=mp();var BH=V4(),MH=Object.keys(BH),CH=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(MH);Ce.getHashes=function(){return CH};var P7=Ip();Ce.pbkdf2=P7.pbkdf2;Ce.pbkdf2Sync=P7.pbkdf2Sync;var Di=m8();Ce.Cipher=Di.Cipher;Ce.createCipher=Di.createCipher;Ce.Cipheriv=Di.Cipheriv;Ce.createCipheriv=Di.createCipheriv;Ce.Decipher=Di.Decipher;Ce.createDecipher=Di.createDecipher;Ce.Decipheriv=Di.Decipheriv;Ce.createDecipheriv=Di.createDecipheriv;Ce.getCiphers=Di.getCiphers;Ce.listCiphers=Di.listCiphers;var Lc=C8();Ce.DiffieHellmanGroup=Lc.DiffieHellmanGroup;Ce.createDiffieHellmanGroup=Lc.createDiffieHellmanGroup;Ce.getDiffieHellman=Lc.getDiffieHellman;Ce.createDiffieHellman=Lc.createDiffieHellman;Ce.DiffieHellman=Lc.DiffieHellman;var Ch=p9();Ce.createSign=Ch.createSign;Ce.Sign=Ch.Sign;Ce.createVerify=Ch.createVerify;Ce.Verify=Ch.Verify;Ce.createECDH=t7();var Rh=b7();Ce.publicEncrypt=Rh.publicEncrypt;Ce.privateEncrypt=Rh.privateEncrypt;Ce.publicDecrypt=Rh.publicDecrypt;Ce.privateDecrypt=Rh.privateDecrypt;var T7=A7();Ce.randomFill=T7.randomFill;Ce.randomFillSync=T7.randomFillSync;Ce.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Ce.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Yp=H((_Q,qh)=>{g();m();var Qs=I7();if(Qs&&Qs.default){qh.exports=Qs.default;for(let t in Qs)qh.exports[t]=Qs[t]}else Qs&&(qh.exports=Qs)});var hb=H(Se=>{"use strict";g();m();var RH=Se&&Se.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qH=Se&&Se.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M7=Se&&Se.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RH(e,t,r);return qH(e,t),e};Object.defineProperty(Se,"__esModule",{value:!0});Se.generateMPCSignedPSBT=Se.generateMPCUnsignedPSBT=Se.generateMPCSignedBuyingTx=Se.generateMPCUnsignedBuyingPSBT=Se.generateMPCSignedListingPSBT=Se.generateMPCUnsignedListingPSBT=Se.generateSignedBuyingTx=Se.mergeSignedBuyingPsbt=Se.generateUnsignedBuyingPsbt=Se.generateSignedListingPsbt=Se.generateUnsignedListingPsbt=Se.extractPsbtTransaction=Se.psbtSignImpl=Se.signPsbtWithKeyPathAndScriptPathImpl=Se.signPsbtWithKeyPathAndScriptPath=Se.signPsbtWithKeyPathAndScriptPathBatch=Se.psbtDecode=Se.psbtSign=Se.classicToPsbt=Se.buildPsbt=void 0;var Jr=Sl(),Ie=$e(),gr=Ei(),ke=Pn(),cf=M7(ls()),ns=yl(),kH=yo(),NH=Ba(),O7=ys(),ob=M7(Gt()),HH=Br(),UH=Yp(),kh=Ie.signUtil.schnorr.secp256k1.schnorr,Fc=5e3;function fb(t,e,r){return C7(t,e,r).toHex()}Se.buildPsbt=fb;function C7(t,e,r){let n=new Jr.Psbt({network:e,maximumFeeRate:r||Fc});return t.inputs.forEach(i=>{let a=(0,kH.toOutputScript)(i.address,e),s={hash:i.txId,index:i.vOut,witnessUtxo:{script:a,value:i.amount}},o=(0,gr.getAddressType)(i.address,e||ke.networks.bitcoin);i.bip32Derivation&&(o==="segwit_taproot"?s.tapBip32Derivation=i.bip32Derivation.map(f=>{let c=Ie.base.fromHex(f.pubkey);return c.length!=32&&(c=c.slice(1)),{masterFingerprint:Ie.base.fromHex(f.masterFingerprint),pubkey:c,path:f.path,leafHashes:f.leafHashes.map(u=>b.Buffer.from(u,"hex"))}}):s.bip32Derivation=i.bip32Derivation.map(f=>({masterFingerprint:Ie.base.fromHex(f.masterFingerprint),pubkey:Ie.base.fromHex(f.pubkey),path:f.path}))),o==="legacy"?s.nonWitnessUtxo=Ie.base.fromHex(i.nonWitnessUtxo):o==="segwit_taproot"?i.publicKey&&(s.tapInternalKey=(0,ns.toXOnly)(Ie.base.fromHex(i.publicKey))):o==="segwit_nested"&&(s.redeemScript=ke.payments.p2wpkh({pubkey:b.Buffer.from(i.publicKey,"hex"),network:e}).output),i.sighashType&&(s.sighashType=i.sighashType),n.addInput(s)}),t.outputs.forEach(i=>{if(i.omniScript)n.addOutput({script:Ie.base.fromHex(i.omniScript),value:0});else{let a={address:i.address,value:i.amount};i.bip32Derivation&&(a.bip32Derivation=i.bip32Derivation.map(s=>({masterFingerprint:Ie.base.fromHex(s.masterFingerprint),pubkey:Ie.base.fromHex(s.pubkey),path:s.path}))),n.addOutput(a)}}),n}Se.classicToPsbt=C7;function cb(t,e,r,n){let i=Jr.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||Fc});return k7(i,e,r),i.toBase64()}Se.psbtSign=cb;function DH(t,e,r){try{let n=Jr.Psbt.fromHex(t,{network:e,maximumFeeRate:r||Fc});return n.txInputs?n.txInputs.filter(i=>!i.hash.equals(b.Buffer.alloc(32))).map(i=>({txId:Ie.base.toHex(Ie.base.reverseBuffer(i.hash)),vOut:i.index})):[]}catch{let i=Jr.Psbt.fromBase64(t,{network:e,maximumFeeRate:r||Fc});return i.txInputs?i.txInputs.filter(a=>!a.hash.equals(b.Buffer.alloc(32))).map(a=>({txId:Ie.base.toHex(Ie.base.reverseBuffer(a.hash)),vOut:a.index})):[]}}Se.psbtDecode=DH;function LH(t,e,r,n){if(t==null||t.length==0)return[];let i=[],a=n==null?0:n.length,s=0;for(s=0;s<t.length;s++){let o={};s<a&&n&&(o=n[s]);let f=R7(t[s],e,r,{autoFinalized:o.autoFinalized,toSignInputs:o.toSignInputs});i.push(f)}return i}Se.signPsbtWithKeyPathAndScriptPathBatch=LH;function R7(t,e,r,n={}){let i=db(t,r);return q7(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}Se.signPsbtWithKeyPathAndScriptPath=R7;function q7(t,e,r,n,i){r=r||ke.networks.bitcoin;let a=(0,gr.privateKeyFromWIF)(e,r),s=new Map;i?.map(c=>{s.set(c.index,c)});let o={psbtIndex:0,needTweak:!0,tweakHash:b.Buffer.alloc(0),toSignInputsMap:s,publicKey:b.Buffer.alloc(0),sign(c){return(0,gr.sign)(c,a)},signSchnorr(c){let u=cf.taprootTweakPrivKey(Ie.base.fromHex(a));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?b.Buffer.from(kh.sign(c,a,Ie.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(u=cf.taprootTweakPrivKey(Ie.base.fromHex(a),this.tweakHash)),b.Buffer.from(kh.sign(c,u,Ie.base.randomBytes(32)))):b.Buffer.from(kh.sign(c,a,Ie.base.randomBytes(32)))}},f=[ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_ALL,ke.Transaction.SIGHASH_DEFAULT];for(let c=0;c<t.inputCount;c++){if(s?.size>0&&!s?.has(c))continue;o.psbtIndex=c;let u=t.data.inputs[c];(0,ns.isTaprootInput)(u)?(u.tapInternalKey||(u.tapInternalKey=(0,ns.toXOnly)((0,gr.wif2Public)(e,r))),o.needTweak=!0,o.publicKey=b.Buffer.from(cf.taprootTweakPubkey((0,ns.toXOnly)((0,gr.wif2Public)(e,r)))[0]),s?.has(c)&&s?.get(c)?.disableTweakSigner&&(o.publicKey=(0,gr.wif2Public)(e,r),o.needTweak=!1),u.tapLeafScript&&u.tapLeafScript?.length>0&&!u.tapMerkleRoot?u.tapLeafScript.map(d=>{d.controlBlock&&d.script&&(o.publicKey=(0,gr.wif2Public)(e,r),o.needTweak=!1)}):u.tapMerkleRoot&&(o.needTweak=!0,o.tweakHash=u.tapMerkleRoot,o.publicKey=b.Buffer.from(cf.taprootTweakPubkey((0,ns.toXOnly)((0,gr.wif2Public)(e,r)),u.tapMerkleRoot)[0]))):(o.needTweak=!1,o.tweakHash=b.Buffer.alloc(0),o.publicKey=(0,gr.wif2Public)(e,r));try{if(s?.has(c)){let d=s?.get(c)?.sighashTypes;d!=null&&(f=d)}if(t.signInput(c,o,f),n!=null&&!n)continue;t.finalizeInput(c)}catch(d){if(s?.size>0&&s?.has(c))throw d}}}Se.signPsbtWithKeyPathAndScriptPathImpl=q7;function k7(t,e,r){r=r||ke.networks.bitcoin;let n=(0,gr.privateKeyFromWIF)(e,r),i={publicKey:b.Buffer.alloc(0),sign(s){return(0,gr.sign)(s,n)},signSchnorr(s){let o=cf.taprootTweakPrivKey(Ie.base.fromHex(n));return b.Buffer.from(kh.sign(s,o,Ie.base.randomBytes(32)))}},a=[ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_ALL|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_ALL,ke.Transaction.SIGHASH_DEFAULT];for(let s=0;s<t.inputCount;s++){if((0,ns.isTaprootInput)(t.data.inputs[s])){let o=t.data.inputs[s];o.tapInternalKey||(o.tapInternalKey=(0,ns.toXOnly)((0,gr.wif2Public)(e,r))),i.publicKey=b.Buffer.from(cf.taprootTweakPubkey((0,ns.toXOnly)((0,gr.wif2Public)(e,r)))[0])}else i.publicKey=(0,gr.wif2Public)(e,r);try{t.signInput(s,i,a)}catch{}}}Se.psbtSignImpl=k7;function ub(t,e,r){let n=Jr.Psbt.fromHex(t,{network:e,maximumFeeRate:r||Fc}),i;try{i=n.finalizeAllInputs().extractTransaction()}catch(a){i=n.extractTransaction(),console.log(a)}return i.toHex()}Se.extractPsbtTransaction=ub;function N7(t,e,r){let n=ke.address.toOutputScript(t.nftAddress,e);if(((0,O7.isP2SHScript)(n)||(0,O7.isP2TR)(n))&&!r)throw new Error("Missing publicKey");let i={inputs:[],outputs:[]},a="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===ke.networks.testnet&&(a="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:a},{txId:"0".repeat(64),vOut:1,amount:0,address:a}),i.outputs.push({address:a,amount:0},{address:a,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});let s=fb(i,e);return Ie.base.toBase64(Ie.base.fromHex(s))}Se.generateUnsignedListingPsbt=N7;function FH(t,e,r){let n=Ie.base.toHex((0,gr.wif2Public)(e,r));return cb(N7(t,r,n),e,r)}Se.generateSignedListingPsbt=FH;var is=2,jH=600,KH=546;function H7(t,e,r){let n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach(s=>{n.inputs.push({txId:s.txHash,vOut:s.vout,address:t.paymentAndChangeAddress,amount:s.coinAmount,publicKey:r,nonWitnessUtxo:s.rawTransation})}),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce((s,o)=>s+o.coinAmount,0)});let i=[];t.sellerPsbts.forEach(s=>{let o=Jr.Psbt.fromBase64(s,{network:e}),f=o.data.globalMap.unsignedTx.tx.ins[is];i.push(o.data.globalMap.unsignedTx.tx.outs[is]);let c=o.data.inputs[is].witnessUtxo;c||(c=ke.Transaction.fromBuffer(o.data.inputs[is].nonWitnessUtxo).outs[f.index]),n.inputs.push({txId:Ie.base.toHex((0,NH.reverseBuffer)(f.hash)),vOut:f.index,address:ke.address.fromOutputScript(c.script,e),amount:c.value,sighashType:ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:c.value})}),i.forEach(s=>{n.outputs.push({address:ke.address.fromOutputScript(s.script,e),amount:s.value})}),t.paymentUtxos.forEach(s=>{n.inputs.push({txId:s.txHash,vOut:s.vout,address:t.paymentAndChangeAddress,amount:s.coinAmount,publicKey:r,nonWitnessUtxo:s.rawTransation})}),t.dummyUtxos.forEach(()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:jH})});let a=parseInt((0,gr.signBtc)(n,"",e,void 0,!1,!0));return a>=KH&&n.outputs.push({address:t.paymentAndChangeAddress,amount:a}),Ie.base.toBase64(Ie.base.fromHex(fb(n,e)))}Se.generateUnsignedBuyingPsbt=H7;function U7(t,e){let r=Jr.Psbt.fromBase64(t),n=e.length+1;return e.forEach((i,a)=>{let s=Jr.Psbt.fromBase64(i);r.data.globalMap.unsignedTx.tx.ins[n+a]=s.data.globalMap.unsignedTx.tx.ins[is],r.data.inputs[n+a]=s.data.inputs[is]}),r}Se.mergeSignedBuyingPsbt=U7;function zH(t,e,r){let n=Ie.base.toHex((0,gr.wif2Public)(e,r)),i=cb(H7(t,r,n),e,r);return ub(U7(i,t.sellerPsbts).toHex(),r)}Se.generateSignedBuyingTx=zH;function WH(t,e,r){let n=Jr.Psbt.fromBase64(t,{network:r}),i=Ie.base.fromHex(e),a=[ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY],s=[];for(let o=0;o<n.inputCount;o++){if(o!=is)continue;let{hash:f,sighashType:c}=n.getHashAndSighashType(o,i,a);s.push(Ie.base.toHex(f))}return{psbtBase64:t,signHashList:s}}Se.generateMPCUnsignedListingPSBT=WH;function GH(t,e,r,n){let i=Jr.Psbt.fromBase64(t,{network:n}),s=[{pubkey:Ie.base.fromHex(e),signature:ob.signature.encode(Ie.base.fromHex(r),ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY)}];return i.data.updateInput(is,{partialSig:s}),i.toBase64()}Se.generateMPCSignedListingPSBT=GH;function VH(t,e,r,n=1){let i=Jr.Psbt.fromBase64(t,{network:r}),a=Ie.base.fromHex(e),s=[ke.Transaction.SIGHASH_ALL],o=[],f=n+1;for(let c=0;c<i.inputCount;c++){if(c>=f&&c<f+n)continue;let{hash:u,sighashType:d}=i.getHashAndSighashType(c,a,s);o.push(Ie.base.toHex(u))}return{psbtBase64:t,signHashList:o}}Se.generateMPCUnsignedBuyingPSBT=VH;function XH(t,e,r,n,i=1){let a=Jr.Psbt.fromBase64(t,{network:n}),s=Ie.base.fromHex(e),o=i+1;for(let f=0;f<a.inputCount;f++){if(f>=o&&f<o+i)continue;let c=[{pubkey:s,signature:ob.signature.encode(Ie.base.fromHex(r[f]),ke.Transaction.SIGHASH_ALL)}];a.data.updateInput(f,{partialSig:c})}return ub(a.toHex(),n)}Se.generateMPCSignedBuyingTx=XH;function D7(t,e,r){let n=db(t,r),i=Ie.base.fromHex(e),a=[ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_SINGLE|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_ALL|ke.Transaction.SIGHASH_ANYONECANPAY,ke.Transaction.SIGHASH_ALL,ke.Transaction.SIGHASH_DEFAULT],s=[];for(let f=0;f<n.inputCount;f++)try{let{hash:c,sighashType:u}=n.getHashAndSighashType(f,i,a);s.push(Ie.base.toHex(c))}catch{let u=B7();s.push(u)}let o=new Map;return s.map((f,c)=>{let u=o.get(f);u=u??0,u!=null&&u>=1&&(s[c]=B7()),o.set(f,u+1)}),{psbtStr:t,signHashList:s}}Se.generateMPCUnsignedPSBT=D7;function B7(){let t=(0,HH.sha256)((0,UH.randomBytes)(32)),e=Ie.base.toHex(t.slice(0,28));return"ffffffff"+e}function YH(t,e,r,n){let i=db(t,n),a=Ie.base.fromHex(e),s=ke.Transaction.SIGHASH_ALL,f=D7(t,e,n).signHashList;for(let c=0;c<i.inputCount;c++){if(f[c].slice(0,8)=="ffffffff")continue;i.data.inputs[c].sighashType!=null&&(s=i.data.inputs[c].sighashType);let u=[{pubkey:a,signature:ob.signature.encode(Ie.base.fromHex(r[c]),s)}];try{i.data.updateInput(c,{partialSig:u})}catch{}}return i.toHex()}Se.generateMPCSignedPSBT=YH;function db(t,e){let r;return Ie.base.isHexString("0x"+t)?r=Jr.Psbt.fromHex(t,{network:e}):r=Jr.Psbt.fromBase64(t,{network:e}),r}});var G7=H(df=>{"use strict";g();m();Object.defineProperty(df,"__esModule",{value:!0});df.verifySimple=df.signSimple=void 0;var uf=$e(),F7=yo(),j7=ps(),K7=Sl(),L7=j0(),$H=hb(),JH=Ei(),z7=ys();function W7(t){let e="BIP0322-signed-message",r=uf.base.sha256(b.Buffer.from(e)),n=uf.base.sha256(b.Buffer.concat([r,r,b.Buffer.from(t)]));return uf.base.toHex(n)}async function ZH(t,e,r,n){let i=(0,F7.toOutputScript)(e,n),a=b.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),s=4294967295,o=0,f=b.Buffer.concat([b.Buffer.from("0020","hex"),b.Buffer.from(W7(t),"hex")]),c=new j7.Transaction;c.version=0,c.addInput(a,s,o,f),c.addOutput(i,0);let u=new K7.Psbt({network:n});u.setVersion(0),u.addInput({hash:c.getHash(),index:0,sequence:0,witnessUtxo:{script:i,value:0}}),(0,z7.isP2TR)(i)&&u.updateInput(0,{tapInternalKey:(0,JH.wif2Public)(r,n).slice(1)}),u.addOutput({script:b.Buffer.from("6a","hex"),value:0}),(0,$H.psbtSignImpl)(u,r,n),u.finalizeAllInputs();let d=u.extractTransaction();function l(B){return b.Buffer.concat([(0,L7.encode)(B.byteLength),B])}let _=(0,L7.encode)(d.ins[0].witness.length),T=b.Buffer.concat([_,...d.ins[0].witness.map(B=>l(B))]);return uf.base.toBase64(T)}df.signSimple=ZH;function QH(t,e,r,n,i){let a=(0,F7.toOutputScript)(e,i),s=b.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=4294967295,f=0,c=b.Buffer.concat([b.Buffer.from("0020","hex"),b.Buffer.from(W7(t),"hex")]),u=new j7.Transaction;u.version=0,u.addInput(s,o,f,c),u.addOutput(a,0);let d=new K7.Psbt;d.setVersion(0),d.addInput({hash:u.getHash(),index:0,sequence:0,witnessUtxo:{script:a,value:0}});let l=uf.base.fromHex(n);return(0,z7.isP2TR)(a)&&d.updateInput(0,{tapInternalKey:l.slice(1)}),d.addOutput({script:b.Buffer.from("6a","hex"),value:0}),d.verify(l,b.Buffer.from(uf.base.fromBase64(r)))}df.verifySimple=QH});var Pn=H(ht=>{"use strict";g();m();var eU=ht&&ht.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tU=ht&&ht.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hf=ht&&ht.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eU(e,t,r);return tU(e,t),e};Object.defineProperty(ht,"__esModule",{value:!0});ht.BufferWriter=ht.Transaction=ht.bip0322=ht.script=ht.payments=ht.networks=ht.crypto=ht.address=void 0;var rU=hf(yo());ht.address=rU;var nU=hf(Br());ht.crypto=nU;var iU=hf(tn());ht.networks=iU;var aU=hf(Ca());ht.payments=aU;var sU=hf(Gt());ht.script=sU;var oU=hf(G7());ht.bip0322=oU;var fU=ps();Object.defineProperty(ht,"Transaction",{enumerable:!0,get:function(){return fU.Transaction}});var cU=Ba();Object.defineProperty(ht,"BufferWriter",{enumerable:!0,get:function(){return cU.BufferWriter}})});var Hh=H(Nh=>{"use strict";g();m();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.validate=void 0;function uU(t,e){if(!t)throw new Error(e)}Nh.validate=uU});var Y7=H(lf=>{"use strict";g();m();Object.defineProperty(lf,"__esModule",{value:!0});lf.decode=lf.encode=void 0;var X7=Hh(),dU="qpzry9x8gf2tvdw0s3jn54khce6mua7l",V7={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function hU(t){for(var e="",r=0;r<t.length;++r){var n=t[r];(0,X7.validate)(0<=n&&n<32,"Invalid value: "+n+"."),e+=dU[n]}return e}lf.encode=hU;function lU(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];(0,X7.validate)(n in V7,"Invalid value: "+n+"."),e[r]=V7[n]}return e}lf.decode=lU});var $7=H((DQ,Uh)=>{g();m();var zt=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=u(n),a=Math.log(n);function s(v,x){return typeof v>"u"?s[0]:typeof x<"u"?+x==10?A(v):ee(v,x):A(v)}function o(v,x){this.value=v,this.sign=x,this.isSmall=!1}o.prototype=Object.create(s.prototype);function f(v){this.value=v,this.sign=v<0,this.isSmall=!0}f.prototype=Object.create(s.prototype);function c(v){return-n<v&&v<n}function u(v){return v<1e7?[v]:v<1e14?[v%1e7,Math.floor(v/1e7)]:[v%1e7,Math.floor(v/1e7)%1e7,Math.floor(v/1e14)]}function d(v){l(v);var x=v.length;if(x<4&&z(v,i)<0)switch(x){case 0:return 0;case 1:return v[0];case 2:return v[0]+v[1]*e;default:return v[0]+(v[1]+v[2]*e)*e}return v}function l(v){for(var x=v.length;v[--x]===0;);v.length=x+1}function _(v){for(var x=new Array(v),C=-1;++C<v;)x[C]=0;return x}function T(v){return v>0?Math.floor(v):Math.ceil(v)}function B(v,x){var C=v.length,j=x.length,G=new Array(C),V=0,Y=e,Z,re;for(re=0;re<j;re++)Z=v[re]+x[re]+V,V=Z>=Y?1:0,G[re]=Z-V*Y;for(;re<C;)Z=v[re]+V,V=Z===Y?1:0,G[re++]=Z-V*Y;return V>0&&G.push(V),G}function F(v,x){return v.length>=x.length?B(v,x):B(x,v)}function L(v,x){var C=v.length,j=new Array(C),G=e,V,Y;for(Y=0;Y<C;Y++)V=v[Y]-G+x,x=Math.floor(V/G),j[Y]=V-x*G,x+=1;for(;x>0;)j[Y++]=x%G,x=Math.floor(x/G);return j}o.prototype.add=function(v){var x=A(v);if(this.sign!==x.sign)return this.subtract(x.negate());var C=this.value,j=x.value;return x.isSmall?new o(L(C,Math.abs(j)),this.sign):new o(F(C,j),this.sign)},o.prototype.plus=o.prototype.add,f.prototype.add=function(v){var x=A(v),C=this.value;if(C<0!==x.sign)return this.subtract(x.negate());var j=x.value;if(x.isSmall){if(c(C+j))return new f(C+j);j=u(Math.abs(j))}return new o(L(j,Math.abs(C)),C<0)},f.prototype.plus=f.prototype.add;function J(v,x){var C=v.length,j=x.length,G=new Array(C),V=0,Y=e,Z,re;for(Z=0;Z<j;Z++)re=v[Z]-V-x[Z],re<0?(re+=Y,V=1):V=0,G[Z]=re;for(Z=j;Z<C;Z++){if(re=v[Z]-V,re<0)re+=Y;else{G[Z++]=re;break}G[Z]=re}for(;Z<C;Z++)G[Z]=v[Z];return l(G),G}function ne(v,x,C){var j;return z(v,x)>=0?j=J(v,x):(j=J(x,v),C=!C),j=d(j),typeof j=="number"?(C&&(j=-j),new f(j)):new o(j,C)}function ie(v,x,C){var j=v.length,G=new Array(j),V=-x,Y=e,Z,re;for(Z=0;Z<j;Z++)re=v[Z]+V,V=Math.floor(re/Y),re%=Y,G[Z]=re<0?re+Y:re;return G=d(G),typeof G=="number"?(C&&(G=-G),new f(G)):new o(G,C)}o.prototype.subtract=function(v){var x=A(v);if(this.sign!==x.sign)return this.add(x.negate());var C=this.value,j=x.value;return x.isSmall?ie(C,Math.abs(j),this.sign):ne(C,j,this.sign)},o.prototype.minus=o.prototype.subtract,f.prototype.subtract=function(v){var x=A(v),C=this.value;if(C<0!==x.sign)return this.add(x.negate());var j=x.value;return x.isSmall?new f(C-j):ie(j,Math.abs(C),C>=0)},f.prototype.minus=f.prototype.subtract,o.prototype.negate=function(){return new o(this.value,!this.sign)},f.prototype.negate=function(){var v=this.sign,x=new f(-this.value);return x.sign=!v,x},o.prototype.abs=function(){return new o(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))};function te(v,x){var C=v.length,j=x.length,G=C+j,V=_(G),Y=e,Z,re,de,me,Oe;for(de=0;de<C;++de){me=v[de];for(var _e=0;_e<j;++_e)Oe=x[_e],Z=me*Oe+V[de+_e],re=Math.floor(Z/Y),V[de+_e]=Z-re*Y,V[de+_e+1]+=re}return l(V),V}function he(v,x){var C=v.length,j=new Array(C),G=e,V=0,Y,Z;for(Z=0;Z<C;Z++)Y=v[Z]*x+V,V=Math.floor(Y/G),j[Z]=Y-V*G;for(;V>0;)j[Z++]=V%G,V=Math.floor(V/G);return j}function ae(v,x){for(var C=[];x-- >0;)C.push(0);return C.concat(v)}function xe(v,x){var C=Math.max(v.length,x.length);if(C<=30)return te(v,x);C=Math.ceil(C/2);var j=v.slice(C),G=v.slice(0,C),V=x.slice(C),Y=x.slice(0,C),Z=xe(G,Y),re=xe(j,V),de=xe(F(G,j),F(Y,V)),me=F(F(Z,ae(J(J(de,Z),re),C)),ae(re,2*C));return l(me),me}function U(v,x){return-.012*v-.012*x+15e-6*v*x>0}o.prototype.multiply=function(v){var x=A(v),C=this.value,j=x.value,G=this.sign!==x.sign,V;if(x.isSmall){if(j===0)return s[0];if(j===1)return this;if(j===-1)return this.negate();if(V=Math.abs(j),V<e)return new o(he(C,V),G);j=u(V)}return U(C.length,j.length)?new o(xe(C,j),G):new o(te(C,j),G)},o.prototype.times=o.prototype.multiply;function h(v,x,C){return v<e?new o(he(x,v),C):new o(te(x,u(v)),C)}f.prototype._multiplyBySmall=function(v){return c(v.value*this.value)?new f(v.value*this.value):h(Math.abs(v.value),u(Math.abs(this.value)),this.sign!==v.sign)},o.prototype._multiplyBySmall=function(v){return v.value===0?s[0]:v.value===1?this:v.value===-1?this.negate():h(Math.abs(v.value),this.value,this.sign!==v.sign)},f.prototype.multiply=function(v){return A(v)._multiplyBySmall(this)},f.prototype.times=f.prototype.multiply;function E(v){var x=v.length,C=_(x+x),j=e,G,V,Y,Z,re;for(Y=0;Y<x;Y++){Z=v[Y],V=0-Z*Z;for(var de=Y;de<x;de++)re=v[de],G=2*(Z*re)+C[Y+de]+V,V=Math.floor(G/j),C[Y+de]=G-V*j;C[Y+x]=V}return l(C),C}o.prototype.square=function(){return new o(E(this.value),!1)},f.prototype.square=function(){var v=this.value*this.value;return c(v)?new f(v):new o(E(u(Math.abs(this.value))),!1)};function I(v,x){var C=v.length,j=x.length,G=e,V=_(x.length),Y=x[j-1],Z=Math.ceil(G/(2*Y)),re=he(v,Z),de=he(x,Z),me,Oe,_e,De,ur,ft,ct;for(re.length<=C&&re.push(0),de.push(0),Y=de[j-1],Oe=C-j;Oe>=0;Oe--){for(me=G-1,re[Oe+j]!==Y&&(me=Math.floor((re[Oe+j]*G+re[Oe+j-1])/Y)),_e=0,De=0,ft=de.length,ur=0;ur<ft;ur++)_e+=me*de[ur],ct=Math.floor(_e/G),De+=re[Oe+ur]-(_e-ct*G),_e=ct,De<0?(re[Oe+ur]=De+G,De=-1):(re[Oe+ur]=De,De=0);for(;De!==0;){for(me-=1,_e=0,ur=0;ur<ft;ur++)_e+=re[Oe+ur]-G+de[ur],_e<0?(re[Oe+ur]=_e+G,_e=0):(re[Oe+ur]=_e,_e=1);De+=_e}V[Oe]=me}return re=N(re,Z)[0],[d(V),d(re)]}function O(v,x){for(var C=v.length,j=x.length,G=[],V=[],Y=e,Z,re,de,me,Oe;C;){if(V.unshift(v[--C]),l(V),z(V,x)<0){G.push(0);continue}re=V.length,de=V[re-1]*Y+V[re-2],me=x[j-1]*Y+x[j-2],re>j&&(de=(de+1)*Y),Z=Math.ceil(de/me);do{if(Oe=he(x,Z),z(Oe,V)<=0)break;Z--}while(Z);G.push(Z),V=J(V,Oe)}return G.reverse(),[d(G),d(V)]}function N(v,x){var C=v.length,j=_(C),G=e,V,Y,Z,re;for(Z=0,V=C-1;V>=0;--V)re=Z*G+v[V],Y=T(re/x),Z=re-Y*x,j[V]=Y|0;return[j,Z|0]}function D(v,x){var C,j=A(x),G=v.value,V=j.value,Y;if(V===0)throw new Error("Cannot divide by zero");if(v.isSmall)return j.isSmall?[new f(T(G/V)),new f(G%V)]:[s[0],v];if(j.isSmall){if(V===1)return[v,s[0]];if(V==-1)return[v.negate(),s[0]];var Z=Math.abs(V);if(Z<e){C=N(G,Z),Y=d(C[0]);var re=C[1];return v.sign&&(re=-re),typeof Y=="number"?(v.sign!==j.sign&&(Y=-Y),[new f(Y),new f(re)]):[new o(Y,v.sign!==j.sign),new f(re)]}V=u(Z)}var de=z(G,V);if(de===-1)return[s[0],v];if(de===0)return[s[v.sign===j.sign?1:-1],s[0]];G.length+V.length<=200?C=I(G,V):C=O(G,V),Y=C[0];var me=v.sign!==j.sign,Oe=C[1],_e=v.sign;return typeof Y=="number"?(me&&(Y=-Y),Y=new f(Y)):Y=new o(Y,me),typeof Oe=="number"?(_e&&(Oe=-Oe),Oe=new f(Oe)):Oe=new o(Oe,_e),[Y,Oe]}o.prototype.divmod=function(v){var x=D(this,v);return{quotient:x[0],remainder:x[1]}},f.prototype.divmod=o.prototype.divmod,o.prototype.divide=function(v){return D(this,v)[0]},f.prototype.over=f.prototype.divide=o.prototype.over=o.prototype.divide,o.prototype.mod=function(v){return D(this,v)[1]},f.prototype.remainder=f.prototype.mod=o.prototype.remainder=o.prototype.mod,o.prototype.pow=function(v){var x=A(v),C=this.value,j=x.value,G,V,Y;if(j===0)return s[1];if(C===0)return s[0];if(C===1)return s[1];if(C===-1)return x.isEven()?s[1]:s[-1];if(x.sign)return s[0];if(!x.isSmall)throw new Error("The exponent "+x.toString()+" is too large.");if(this.isSmall&&c(G=Math.pow(C,j)))return new f(T(G));for(V=this,Y=s[1];j&!0&&(Y=Y.times(V),--j),j!==0;)j/=2,V=V.square();return Y},f.prototype.pow=o.prototype.pow,o.prototype.modPow=function(v,x){if(v=A(v),x=A(x),x.isZero())throw new Error("Cannot take modPow with modulus 0");for(var C=s[1],j=this.mod(x);v.isPositive();){if(j.isZero())return s[0];v.isOdd()&&(C=C.multiply(j).mod(x)),v=v.divide(2),j=j.square().mod(x)}return C},f.prototype.modPow=o.prototype.modPow;function z(v,x){if(v.length!==x.length)return v.length>x.length?1:-1;for(var C=v.length-1;C>=0;C--)if(v[C]!==x[C])return v[C]>x[C]?1:-1;return 0}o.prototype.compareAbs=function(v){var x=A(v),C=this.value,j=x.value;return x.isSmall?1:z(C,j)},f.prototype.compareAbs=function(v){var x=A(v),C=Math.abs(this.value),j=x.value;return x.isSmall?(j=Math.abs(j),C===j?0:C>j?1:-1):-1},o.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var x=A(v),C=this.value,j=x.value;return this.sign!==x.sign?x.sign?1:-1:x.isSmall?this.sign?-1:1:z(C,j)*(this.sign?-1:1)},o.prototype.compareTo=o.prototype.compare,f.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var x=A(v),C=this.value,j=x.value;return x.isSmall?C==j?0:C>j?1:-1:C<0!==x.sign?C<0?-1:1:C<0?1:-1},f.prototype.compareTo=f.prototype.compare,o.prototype.equals=function(v){return this.compare(v)===0},f.prototype.eq=f.prototype.equals=o.prototype.eq=o.prototype.equals,o.prototype.notEquals=function(v){return this.compare(v)!==0},f.prototype.neq=f.prototype.notEquals=o.prototype.neq=o.prototype.notEquals,o.prototype.greater=function(v){return this.compare(v)>0},f.prototype.gt=f.prototype.greater=o.prototype.gt=o.prototype.greater,o.prototype.lesser=function(v){return this.compare(v)<0},f.prototype.lt=f.prototype.lesser=o.prototype.lt=o.prototype.lesser,o.prototype.greaterOrEquals=function(v){return this.compare(v)>=0},f.prototype.geq=f.prototype.greaterOrEquals=o.prototype.geq=o.prototype.greaterOrEquals,o.prototype.lesserOrEquals=function(v){return this.compare(v)<=0},f.prototype.leq=f.prototype.lesserOrEquals=o.prototype.leq=o.prototype.lesserOrEquals,o.prototype.isEven=function(){return(this.value[0]&1)===0},f.prototype.isEven=function(){return(this.value&1)===0},o.prototype.isOdd=function(){return(this.value[0]&1)===1},f.prototype.isOdd=function(){return(this.value&1)===1},o.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return this.value>0},o.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},o.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return Math.abs(this.value)===1},o.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return this.value===0},o.prototype.isDivisibleBy=function(v){var x=A(v),C=x.value;return C===0?!1:C===1?!0:C===2?this.isEven():this.mod(x).equals(s[0])},f.prototype.isDivisibleBy=o.prototype.isDivisibleBy;function R(v){var x=v.abs();if(x.isUnit())return!1;if(x.equals(2)||x.equals(3)||x.equals(5))return!0;if(x.isEven()||x.isDivisibleBy(3)||x.isDivisibleBy(5))return!1;if(x.lesser(49))return!0}function y(v,x){for(var C=v.prev(),j=C,G=0,V,Y,Z,re;j.isEven();)j=j.divide(2),G++;e:for(Z=0;Z<x.length;Z++)if(!v.lesser(x[Z])&&(re=zt(x[Z]).modPow(j,v),!(re.equals(s[1])||re.equals(C)))){for(V=G-1;V!=0;V--){if(re=re.square().mod(v),re.isUnit())return!1;if(re.equals(C))continue e}return!1}return!0}o.prototype.isPrime=function(v){var x=R(this);if(x!==t)return x;var C=this.abs(),j=C.bitLength();if(j<=64)return y(C,[2,325,9375,28178,450775,9780504,1795265022]);for(var G=Math.log(2)*j,V=Math.ceil(v===!0?2*Math.pow(G,2):G),Y=[],Z=0;Z<V;Z++)Y.push(zt(Z+2));return y(C,Y)},f.prototype.isPrime=o.prototype.isPrime,o.prototype.isProbablePrime=function(v){var x=R(this);if(x!==t)return x;for(var C=this.abs(),j=v===t?5:v,G=[],V=0;V<j;V++)G.push(zt.randBetween(2,C.minus(2)));return y(C,G)},f.prototype.isProbablePrime=o.prototype.isProbablePrime,o.prototype.modInv=function(v){for(var x=zt.zero,C=zt.one,j=A(v),G=this.abs(),V,Y,Z;!G.equals(zt.zero);)V=j.divide(G),Y=x,Z=j,x=C,j=G,C=Y.subtract(V.multiply(C)),G=Z.subtract(V.multiply(G));if(!j.equals(1))throw new Error(this.toString()+" and "+v.toString()+" are not co-prime");return x.compare(0)===-1&&(x=x.add(v)),this.isNegative()?x.negate():x},f.prototype.modInv=o.prototype.modInv,o.prototype.next=function(){var v=this.value;return this.sign?ie(v,1,this.sign):new o(L(v,1),this.sign)},f.prototype.next=function(){var v=this.value;return v+1<n?new f(v+1):new o(i,!1)},o.prototype.prev=function(){var v=this.value;return this.sign?new o(L(v,1),!0):ie(v,1,this.sign)},f.prototype.prev=function(){var v=this.value;return v-1>-n?new f(v-1):new o(i,!0)};for(var k=[1];2*k[k.length-1]<=e;)k.push(2*k[k.length-1]);var se=k.length,oe=k[se-1];function ue(v){return(typeof v=="number"||typeof v=="string")&&+Math.abs(v)<=e||v instanceof o&&v.value.length<=1}o.prototype.shiftLeft=function(v){if(!ue(v))throw new Error(String(v)+" is too large for shifting.");if(v=+v,v<0)return this.shiftRight(-v);var x=this;if(x.isZero())return x;for(;v>=se;)x=x.multiply(oe),v-=se-1;return x.multiply(k[v])},f.prototype.shiftLeft=o.prototype.shiftLeft,o.prototype.shiftRight=function(v){var x;if(!ue(v))throw new Error(String(v)+" is too large for shifting.");if(v=+v,v<0)return this.shiftLeft(-v);for(var C=this;v>=se;){if(C.isZero()||C.isNegative()&&C.isUnit())return C;x=D(C,oe),C=x[1].isNegative()?x[0].prev():x[0],v-=se-1}return x=D(C,k[v]),x[1].isNegative()?x[0].prev():x[0]},f.prototype.shiftRight=o.prototype.shiftRight;function be(v,x,C){x=A(x);for(var j=v.isNegative(),G=x.isNegative(),V=j?v.not():v,Y=G?x.not():x,Z=0,re=0,de=null,me=null,Oe=[];!V.isZero()||!Y.isZero();)de=D(V,oe),Z=de[1].toJSNumber(),j&&(Z=oe-1-Z),me=D(Y,oe),re=me[1].toJSNumber(),G&&(re=oe-1-re),V=de[0],Y=me[0],Oe.push(C(Z,re));for(var _e=C(j?1:0,G?1:0)!==0?zt(-1):zt(0),De=Oe.length-1;De>=0;De-=1)_e=_e.multiply(oe).add(zt(Oe[De]));return _e}o.prototype.not=function(){return this.negate().prev()},f.prototype.not=o.prototype.not,o.prototype.and=function(v){return be(this,v,function(x,C){return x&C})},f.prototype.and=o.prototype.and,o.prototype.or=function(v){return be(this,v,function(x,C){return x|C})},f.prototype.or=o.prototype.or,o.prototype.xor=function(v){return be(this,v,function(x,C){return x^C})},f.prototype.xor=o.prototype.xor;var Ee=1<<30,Te=(e&-e)*(e&-e)|Ee;function Ue(v){var x=v.value,C=typeof x=="number"?x|Ee:x[0]+x[1]*e|Te;return C&-C}function w(v,x){if(x.compareTo(v)<=0){var C=w(v,x.square(x)),j=C.p,G=C.e,V=j.multiply(x);return V.compareTo(v)<=0?{p:V,e:G*2+1}:{p:j,e:G*2}}return{p:zt(1),e:0}}o.prototype.bitLength=function(){var v=this;return v.compareTo(zt(0))<0&&(v=v.negate().subtract(zt(1))),v.compareTo(zt(0))===0?zt(0):zt(w(v,zt(2)).e).add(zt(1))},f.prototype.bitLength=o.prototype.bitLength;function P(v,x){return v=A(v),x=A(x),v.greater(x)?v:x}function M(v,x){return v=A(v),x=A(x),v.lesser(x)?v:x}function W(v,x){if(v=A(v).abs(),x=A(x).abs(),v.equals(x))return v;if(v.isZero())return x;if(x.isZero())return v;for(var C=s[1],j,G;v.isEven()&&x.isEven();)j=Math.min(Ue(v),Ue(x)),v=v.divide(j),x=x.divide(j),C=C.multiply(j);for(;v.isEven();)v=v.divide(Ue(v));do{for(;x.isEven();)x=x.divide(Ue(x));v.greater(x)&&(G=x,x=v,v=G),x=x.subtract(v)}while(!x.isZero());return C.isUnit()?v:v.multiply(C)}function X(v,x){return v=A(v).abs(),x=A(x).abs(),v.divide(W(v,x)).multiply(x)}function $(v,x){v=A(v),x=A(x);var C=M(v,x),j=P(v,x),G=j.subtract(C).add(1);if(G.isSmall)return C.add(Math.floor(Math.random()*G));for(var V=G.value.length-1,Y=[],Z=!0,re=V;re>=0;re--){var de=Z?G.value[re]:e,me=T(Math.random()*de);Y.unshift(me),me<de&&(Z=!1)}return Y=d(Y),C.add(typeof Y=="number"?new f(Y):new o(Y,!1))}var ee=function(v,x){for(var C=v.length,j,G=Math.abs(x),j=0;j<C;j++){var V=v[j].toLowerCase();if(V!=="-"&&/[a-z0-9]/.test(V)){if(/[0-9]/.test(V)&&+V>=G){if(V==="1"&&G===1)continue;throw new Error(V+" is not a valid digit in base "+x+".")}else if(V.charCodeAt(0)-87>=G)throw new Error(V+" is not a valid digit in base "+x+".")}}if(2<=x&&x<=36&&C<=a/Math.log(x)){var Y=parseInt(v,x);if(isNaN(Y))throw new Error(V+" is not a valid digit in base "+x+".");return new f(parseInt(v,x))}x=A(x);var Z=[],re=v[0]==="-";for(j=re?1:0;j<v.length;j++){var V=v[j].toLowerCase(),de=V.charCodeAt(0);if(48<=de&&de<=57)Z.push(A(V));else if(97<=de&&de<=122)Z.push(A(V.charCodeAt(0)-87));else if(V==="<"){var me=j;do j++;while(v[j]!==">");Z.push(A(v.slice(me+1,j)))}else throw new Error(V+" is not a valid character")}return ce(Z,x,re)};function ce(v,x,C){var j=s[0],G=s[1],V;for(V=v.length-1;V>=0;V--)j=j.add(v[V].times(G)),G=G.times(x);return C?j.negate():j}function Ne(v){return v<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(v):"<"+v+">"}function ve(v,x){if(x=zt(x),x.isZero()){if(v.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(x.equals(-1)){if(v.isZero())return{value:[0],isNegative:!1};if(v.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-v)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var C=Array.apply(null,Array(+v-1)).map(Array.prototype.valueOf,[0,1]);return C.unshift([1]),{value:[].concat.apply([],C),isNegative:!1}}var j=!1;if(v.isNegative()&&x.isPositive()&&(j=!0,v=v.abs()),x.equals(1))return v.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+v)).map(Number.prototype.valueOf,1),isNegative:j};for(var G=[],V=v,Y;V.isNegative()||V.compareAbs(x)>=0;){Y=V.divmod(x),V=Y.quotient;var Z=Y.remainder;Z.isNegative()&&(Z=x.minus(Z).abs(),V=V.next()),G.push(Z.toJSNumber())}return G.push(V.toJSNumber()),{value:G.reverse(),isNegative:j}}function pe(v,x){var C=ve(v,x);return(C.isNegative?"-":"")+C.value.map(Ne).join("")}o.prototype.toArray=function(v){return ve(this,v)},f.prototype.toArray=function(v){return ve(this,v)},o.prototype.toString=function(v){if(v===t&&(v=10),v!==10)return pe(this,v);for(var x=this.value,C=x.length,j=String(x[--C]),G="0000000",V;--C>=0;)V=String(x[C]),j+=G.slice(V.length)+V;var Y=this.sign?"-":"";return Y+j},f.prototype.toString=function(v){return v===t&&(v=10),v!=10?pe(this,v):String(this.value)},o.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},o.prototype.valueOf=function(){return parseInt(this.toString(),10)},o.prototype.toJSNumber=o.prototype.valueOf,f.prototype.valueOf=function(){return this.value},f.prototype.toJSNumber=f.prototype.valueOf;function p(v){if(c(+v)){var x=+v;if(x===T(x))return new f(x);throw new Error("Invalid integer: "+v)}var C=v[0]==="-";C&&(v=v.slice(1));var j=v.split(/e/i);if(j.length>2)throw new Error("Invalid integer: "+j.join("e"));if(j.length===2){var G=j[1];if(G[0]==="+"&&(G=G.slice(1)),G=+G,G!==T(G)||!c(G))throw new Error("Invalid integer: "+G+" is not a valid exponent.");var V=j[0],Y=V.indexOf(".");if(Y>=0&&(G-=V.length-Y-1,V=V.slice(0,Y)+V.slice(Y+1)),G<0)throw new Error("Cannot include negative exponent part for integers");V+=new Array(G+1).join("0"),v=V}var Z=/^([0-9][0-9]*)$/.test(v);if(!Z)throw new Error("Invalid integer: "+v);for(var re=[],de=v.length,me=r,Oe=de-me;de>0;)re.push(+v.slice(Oe,de)),Oe-=me,Oe<0&&(Oe=0),de-=me;return l(re),new o(re,C)}function S(v){if(c(v)){if(v!==T(v))throw new Error(v+" is not an integer.");return new f(v)}return p(v.toString())}function A(v){return typeof v=="number"?S(v):typeof v=="string"?p(v):v}for(var K=0;K<1e3;K++)s[K]=new f(K),K>0&&(s[-K]=new f(-K));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=P,s.min=M,s.gcd=W,s.lcm=X,s.isInstance=function(v){return v instanceof o||v instanceof f},s.randBetween=$,s.fromArray=function(v,x,C){return ce(v.map(A),A(x||10),C)},s}();typeof Uh<"u"&&Uh.hasOwnProperty("exports")&&(Uh.exports=zt);typeof define=="function"&&define.amd&&define("big-integer",[],function(){return zt})});var Z7=H(Dh=>{"use strict";g();m();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.convert=void 0;var J7=Hh();function pU(t,e,r,n){for(var i=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),a=(1<<r)-1,s=new Uint8Array(i),o=0,f=0,c=0,u=0;u<t.length;++u){var d=t[u];for((0,J7.validate)(0<=d&&d>>e===0,"Invalid value: "+d+"."),f=f<<e|d,c+=e;c>=r;)c-=r,s[o]=f>>c&a,++o}return n?(0,J7.validate)(c<e&&(f<<r-c&a)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):c>0&&(s[o]=f<<r-c&a,++o),s}Dh.convert=pU});var iw=H(Dn=>{"use strict";g();m();var bU=Dn&&Dn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vU=Dn&&Dn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Q7=Dn&&Dn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bU(e,t,r);return vU(e,t),e};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.decode=Dn.encode=void 0;var ew=Q7(Y7()),yU=$7(),tw=Q7(Z7()),lb=Hh();function gU(t,e,r){let n=eo(rw(t),new Uint8Array(1)),i=_U(e)+xU(r),a=AU(eo(new Uint8Array([i]),r)),s=eo(eo(n,a),new Uint8Array(8)),o=eo(a,wU(nw(s)));return t+":"+ew.encode(o)}Dn.encode=gU;function mU(t){let e=t.toLowerCase().split(":");(0,lb.validate)(e.length===2,"Missing prefix: "+t+".");let r=e[0],n=ew.decode(e[1]);(0,lb.validate)(TU(r,n),"Invalid checksum: "+t+".");let i=PU(n.subarray(0,-8)),a=i[0],s=i.subarray(1);(0,lb.validate)(EU(a)===s.length*8,"Invalid hash size: "+t+".");let o=SU(a);return{prefix:r,type:o,hash:s}}Dn.decode=mU;function rw(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function wU(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function _U(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}function SU(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}function xU(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}function EU(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function AU(t){return tw.convert(t,8,5,!1)}function PU(t){return tw.convert(t,5,8,!0)}function eo(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function nw(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=yU(1),n=0;n<t.length;++n){var i=t[n],a=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var s=0;s<e.length;++s)a.shiftRight(s).and(1).equals(1)&&(r=r.xor(e[s]))}return r.xor(1)}function TU(t,e){var r=eo(rw(t),new Uint8Array(1)),n=eo(r,e);return nw(n).equals(0)}});var fw=H(Wt=>{"use strict";g();m();var IU=Wt&&Wt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OU=Wt&&Wt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sw=Wt&&Wt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IU(e,t,r);return OU(e,t),e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.convert2LegacyAddress=Wt.isCashAddress=Wt.ValidateBitcashP2PkHAddress=Wt.GetBitcashP2PkHAddressByPublicKey=Wt.GetBitcashAddressByPublicKey=Wt.GetBitcashAddressByHash=void 0;var ow=Br(),Lh=sw(iw()),aw=sw(Ca());function pb(t,e,r){return Lh.encode(t,e,r)}Wt.GetBitcashAddressByHash=pb;function BU(t,e,r){let n=(0,ow.hash160)(b.Buffer.from(r));return pb(t,e,n)}Wt.GetBitcashAddressByPublicKey=BU;function MU(t){let e=(0,ow.hash160)(b.Buffer.from(t));return pb("bitcoincash","P2PKH",e)}Wt.GetBitcashP2PkHAddressByPublicKey=MU;function CU(t){try{t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{prefix:e,type:r,hash:n}=Lh.decode(t);return r==="P2PKH"&&n.length===20}catch{return!1}}Wt.ValidateBitcashP2PkHAddress=CU;function RU(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,Lh.decode(t)),!0}catch{return!1}}Wt.isCashAddress=RU;function qU(t,e){t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{type:r,hash:n}=Lh.decode(t);if(r=="P2PKH")return aw.p2pkh({hash:b.Buffer.from(n),network:e}).address;if(r=="P2SH")return aw.p2sh({hash:b.Buffer.from(n),network:e}).address;throw new Error("convert2LegacyAddress error")}Wt.convert2LegacyAddress=qU});var uw=H(cw=>{"use strict";g();m();Object.defineProperty(cw,"__esModule",{value:!0})});var bw=H(Ln=>{"use strict";g();m();var kU=Ln&&Ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NU=Ln&&Ln.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bb=Ln&&Ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kU(e,t,r);return NU(e,t),e};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.srcInscribe=Ln.SrcInscriptionTool=void 0;var Tr=bb(Pn()),to=$e(),HU=bb(ls()),UU=bb(Br()),jc=Ei(),DU=Pn(),dw=Gu(),LU=to.signUtil.schnorr.secp256k1.schnorr,FU=2,hw=31,jU=4294967293,KU=7800,zU=7800,eee=4e6/10,pf=class{constructor(){this.network=Tr.networks.bitcoin,this.revealTxs=[],this.commitTx=new Tr.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(e,r){let n=new pf;n.network=e;let i=r.revealOutValue||KU,a=r.minChangeValue||zU;return n.buildCommitTx(e,r.inscriptionData,i,r.commitTxPrevOutputList,r.changeAddress,r.commitFeeRate,a)||n.signCommitTx(r.commitTxPrevOutputList),n}buildCommitTx(e,r,n,i,a,s,o){let f=b.Buffer.from(r.contentType),c=b.Buffer.from(r.body);for(;c[c.length-1]==0;)c=c.slice(0,c.length-1);let u=2+f.length+c.length,d=u%62==0?u:u+62-u%62,l=DU.BufferWriter.withCapacity(d);l.writeSlice(b.Buffer.from([(f.length+c.length)/256,(f.length+c.length)%256])),l.writeSlice(f),l.writeSlice(c),d>u&&l.writeSlice(b.Buffer.alloc(d-u));let _=l.end(),T=to.base.fromHex(XU(i[0].txId,_.toString("hex"))),B=0,F=0,L=new Tr.Transaction;for(L.version=FU,F+=n,L.addOutput(Tr.address.toOutputScript(r.revealAddr,e),n);T.length;){let ae=T.slice(0,Math.min(hw,T.length)),xe=ae.toString("hex");xe.length<62&&(xe=xe+"0".repeat(62-xe.length)),T=T.slice(ae.length);let h=T.slice(0,Math.min(hw,T.length)).toString("hex");h.length<62&&(h=h+"0".repeat(62-h.length)),T=T.slice(ae.length);let E=["03"+xe+"00","02"+h+"00","020202020202020202020202020202020202020202020202020202020202020202"].map(O=>b.Buffer.from(O,"hex")),I=Tr.payments.p2ms({m:1,pubkeys:E});L.addOutput(I.output,n),F+=n}i.forEach(ae=>{let xe=to.base.reverseBuffer(to.base.fromHex(ae.txId));L.addInput(xe,ae.vOut,jU),this.commitTxPrevOutputFetcher.push(ae.amount),B+=ae.amount});let J=Tr.address.toOutputScript(a,e);L.addOutput(J,0);let ne=L.clone();lw(ne,i,this.network);let ie=(0,dw.countAdjustedVsize)(ne,i.map(ae=>ae.address),e),te=Math.floor(ie*s),he=B-F-te;if(he>=o)L.outs[L.outs.length-1].value=he;else{L.outs=L.outs.slice(0,L.outs.length-1),ne.outs=ne.outs.slice(0,ne.outs.length-1);let ae=(0,dw.countAdjustedVsize)(ne,i.map(U=>U.address),e),xe=Math.floor(ae*s);if(B-F-xe<0)return this.mustCommitTxFee=te,!0}return this.commitTx=L,!1}signCommitTx(e){lw(this.commitTx,e,this.network)}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let a=0;a+=this.revealTxPrevOutputFetcher[i],a-=n.outs[0].value,r.push(a)}),{commitTxFee:e,revealTxFees:r}}};Ln.SrcInscriptionTool=pf;function lw(t,e,r){t.ins.forEach((n,i)=>{let a=(0,jc.getAddressType)(e[i].address,r),s=to.base.fromHex((0,jc.privateKeyFromWIF)(e[i].privateKey,r)),o=to.base.toHex(s),f=(0,jc.private2public)(o);if(a==="segwit_taproot"){let c=e.map(T=>Tr.address.toOutputScript(T.address,r)),u=e.map(T=>T.amount),d=t.hashForWitnessV1(i,c,u,Tr.Transaction.SIGHASH_DEFAULT),l=HU.taprootTweakPrivKey(s),_=b.Buffer.from(LU.sign(d,l,to.base.randomBytes(32)));n.witness=[b.Buffer.from(_)]}else if(a==="legacy"){let c=Tr.address.toOutputScript(e[i].address,r),u=t.hashForSignature(i,c,Tr.Transaction.SIGHASH_ALL),d=(0,jc.sign)(u,o),l=Tr.payments.p2pkh({signature:Tr.script.signature.encode(d,Tr.Transaction.SIGHASH_ALL),pubkey:f});n.script=l.input}else{let c=UU.hash160(f),u=b.Buffer.of(25,118,169,20,...c,136,172),d=e[i].amount,l=t.hashForWitness(i,u,d,Tr.Transaction.SIGHASH_ALL),_=(0,jc.sign)(l,o);n.witness=[Tr.script.signature.encode(_,Tr.Transaction.SIGHASH_ALL),f];let T=b.Buffer.of(22,0,20,...c);a==="segwit_nested"&&(n.script=T)}})}function WU(t,e){let r=pf.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ln.srcInscribe=WU;function GU(t,e){for(var r=[],n=0,i,a="",s=0;s<256;s++)r[s]=s;for(s=0;s<256;s++)n=(n+r[s]+t.charCodeAt(s%t.length))%256,i=r[s],r[s]=r[n],r[n]=i;s=0,n=0;for(var o=0;o<e.length;o++)s=(s+1)%256,n=(n+r[s])%256,i=r[s],r[s]=r[n],r[n]=i,a+=String.fromCharCode(e.charCodeAt(o)^r[(r[s]+r[n])%256]);return a}function pw(t){for(var e=[],r,n=0;n<t.length-1;n+=2){var i=parseInt(t.substr(n,2),16);e.push(i)}return r=String.fromCharCode.apply(String,e),r}function VU(t){var e,r,n="",i;for(t+="",e=0,r=t.length;e<r;e++)i=t.charCodeAt(e).toString(16),n+=i.length<2?"0"+i:i;return n}function XU(t,e){return VU(GU(pw(t),pw(e)))}});var xw=H(Ir=>{"use strict";g();m();var YU=Ir&&Ir.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$U=Ir&&Ir.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gb=Ir&&Ir.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YU(e,t,r);return $U(e,t),e};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.inscribeForMPCSigned=Ir.inscribeForMPCUnsigned=Ir.inscribe=Ir.InscriptionTool=void 0;var Pe=gb(Pn()),Zr=$e(),JU=gb(ls()),yw=gb(Br()),gw=ps(),ro=Ei(),vb=ys(),Fh=Gu(),mb=Zr.signUtil.schnorr.secp256k1.schnorr,jh=2,Kh=4294967293,mw=546,ww=546,vw=4e6/10,bf=class{constructor(){this.network=Pe.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Pe.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new bf;n.network=e;let i=r.revealOutValue||mw,a=r.minChangeValue||ww,s=r.commitTxPrevOutputList[0].privateKey;r.inscriptionDataList.forEach(c=>{n.inscriptionTxCtxDataList.push(_w(e,c,s))});let o=n.buildEmptyRevealTx(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,o,r.commitFeeRate,a)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n){let i=0,a=[],s=[],o=[];return this.inscriptionTxCtxDataList.forEach((f,c)=>{let u=new Pe.Transaction;u.version=jh,u.addInput(b.Buffer.alloc(32),c,Kh),u.addOutput(f.revealPkScript,r);let d=b.Buffer.alloc(64),l=b.Buffer.alloc(33),_=[];_.push(d),_.push(f.inscriptionScript),_.push(l);let T=Math.floor((u.byteLength()+Math.floor(((0,gw.vectorSize)(_)+2+3)/4))*n),B=r+T;f.revealTxPrevOutput={pkScript:f.commitTxAddressPkScript,value:B},i+=B,a.push(u),s.push(T),o.push(f.commitTxAddress)}),this.revealTxs=a,this.mustRevealTxFees=s,this.commitAddrs=o,i}buildCommitTx(e,r,n,i,a,s){let o=0,f=new Pe.Transaction;f.version=jh,r.forEach(T=>{let B=Zr.base.reverseBuffer(Zr.base.fromHex(T.txId));f.addInput(B,T.vOut,Kh),this.commitTxPrevOutputFetcher.push(T.amount),o+=T.amount}),this.inscriptionTxCtxDataList.forEach(T=>{f.addOutput(T.revealTxPrevOutput.pkScript,T.revealTxPrevOutput.value)});let c=Pe.address.toOutputScript(n,e);f.addOutput(c,0);let u=f.clone();yb(u,r,this.network);let d=(0,Fh.countAdjustedVsize)(u,r.map(T=>T.address),e),l=Math.floor(d*a),_=o-i-l;if(_>=s)f.outs[f.outs.length-1].value=_;else{f.outs=f.outs.slice(0,f.outs.length-1),u.outs=u.outs.slice(0,u.outs.length-1);let T=(0,Fh.countAdjustedVsize)(u,r.map(F=>F.address),e),B=Math.floor(T*a);if(o-i-B<0)return this.mustCommitTxFee=l,!0}return this.commitTx=f,!1}signCommitTx(e){yb(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let a=e.hashForWitnessV1(0,n,i,Pe.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),s=b.Buffer.from(mb.sign(a,this.inscriptionTxCtxDataList[r].privateKey,Zr.base.randomBytes(32)));e.ins[0].witness=[b.Buffer.from(s),...this.inscriptionTxCtxDataList[r].witness];let o=e.weight();if(o>vw)throw new Error(`reveal(index ${r}) transaction weight greater than ${vw} (MAX_STANDARD_TX_WEIGHT): ${o}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let a=0;a+=this.revealTxPrevOutputFetcher[i],a-=n.outs[0].value,r.push(a)}),{commitTxFee:e,revealTxFees:r}}};Ir.InscriptionTool=bf;function yb(t,e,r){t.ins.forEach((n,i)=>{let a=(0,ro.getAddressType)(e[i].address,r),s=Zr.base.fromHex((0,ro.privateKeyFromWIF)(e[i].privateKey,r)),o=Zr.base.toHex(s),f=(0,ro.private2public)(o);if(a==="segwit_taproot"){let c=e.map(T=>Pe.address.toOutputScript(T.address,r)),u=e.map(T=>T.amount),d=t.hashForWitnessV1(i,c,u,Pe.Transaction.SIGHASH_DEFAULT),l=JU.taprootTweakPrivKey(s),_=b.Buffer.from(mb.sign(d,l,Zr.base.randomBytes(32)));n.witness=[b.Buffer.from(_)]}else if(a==="legacy"){let c=Pe.address.toOutputScript(e[i].address,r),u=t.hashForSignature(i,c,Pe.Transaction.SIGHASH_ALL),d=(0,ro.sign)(u,o),l=Pe.payments.p2pkh({signature:Pe.script.signature.encode(d,Pe.Transaction.SIGHASH_ALL),pubkey:f});n.script=l.input}else{let c=yw.hash160(f),u=b.Buffer.of(25,118,169,20,...c,136,172),d=e[i].amount,l=t.hashForWitness(i,u,d,Pe.Transaction.SIGHASH_ALL),_=(0,ro.sign)(l,o);n.witness=[Pe.script.signature.encode(_,Pe.Transaction.SIGHASH_ALL),f];let T=b.Buffer.of(22,0,20,...c);a==="segwit_nested"&&(n.script=T)}})}function _w(t,e,r){let n=Zr.base.fromHex((0,ro.privateKeyFromWIF)(r,t)),i=(0,ro.wif2Public)(r,t).slice(1),a=Pe.script.OPS,s=[];s.push(i),s.push(a.OP_CHECKSIG),s.push(a.OP_FALSE),s.push(a.OP_IF),s.push(b.Buffer.from("ord")),s.push(a.OP_DATA_1),s.push(a.OP_DATA_1),s.push(b.Buffer.from(e.contentType)),s.push(a.OP_0);let o=520,f=b.Buffer.from(e.body),c=f.length;for(let L=0;L<c;L+=o){let J=L+o;J>c&&(J=c),s.push(f.slice(L,J))}s.push(a.OP_ENDIF);let u=Pe.script.compile(s),d={output:u},l={output:u,redeemVersion:192},{output:_,witness:T,hash:B,address:F}=Pe.payments.p2tr({internalPubkey:i,scriptTree:d,redeem:l,network:t});return{privateKey:n,inscriptionScript:u,commitTxAddress:F,commitTxAddressPkScript:_,witness:T,hash:B,revealTxPrevOutput:{pkScript:b.Buffer.alloc(0),value:0},revealPkScript:Pe.address.toOutputScript(e.revealAddr,t)}}function ZU(t,e){let r=bf.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ir.inscribe=ZU;function Sw(t,e,r,n){let i=t.commitTxPrevOutputList[0].privateKey,a=[];t.inscriptionDataList.forEach(te=>{a.push(_w(e,te,i))});let s=0,o=t.revealOutValue||mw,f=[];a.forEach((te,he)=>{let ae=new Pe.Transaction;ae.version=jh,ae.addInput(b.Buffer.alloc(32),he,Kh),ae.addOutput(te.revealPkScript,o),f.push(ae);let xe=b.Buffer.alloc(64),U=b.Buffer.alloc(33),h=[];h.push(xe),h.push(te.inscriptionScript),h.push(U);let E=Math.floor((ae.byteLength()+Math.floor(((0,gw.vectorSize)(h)+2+3)/4))*t.revealFeeRate),I=o+E;te.revealTxPrevOutput={pkScript:te.commitTxAddressPkScript,value:I},s+=I});let c=0,u=new Pe.Transaction;u.version=jh,t.commitTxPrevOutputList.forEach(te=>{u.addInput(Zr.base.reverseBuffer(Zr.base.fromHex(te.txId)),te.vOut,Kh),c+=te.amount});let d=[];a.forEach(te=>{u.addOutput(te.revealTxPrevOutput.pkScript,te.revealTxPrevOutput.value),d.push(te.commitTxAddress)});let l=Pe.address.toOutputScript(t.changeAddress,e);u.addOutput(l,0);let _=u.clone();yb(_,t.commitTxPrevOutputList,e);let T=(0,Fh.countAdjustedVsize)(_,t.commitTxPrevOutputList.map(te=>te.address),e),B=Math.floor(T*t.commitFeeRate),F=c-s-B;if(F>=(t.minChangeValue||ww))u.outs[u.outs.length-1].value=F;else{u.outs=u.outs.slice(0,u.outs.length-1),_.outs=_.outs.slice(0,_.outs.length-1);let te=(0,Fh.countAdjustedVsize)(_,t.commitTxPrevOutputList.map(ae=>ae.address),e),he=Math.floor(te*t.commitFeeRate);if(c-s-he<0)throw new Error("insufficient balance")}let L=eD(u,t.commitTxPrevOutputList,e),J=u.getHash();n&&(J=n),f.forEach((te,he)=>{te.ins[0].hash=J;let ae=[a[he].revealTxPrevOutput.pkScript],xe=[a[he].revealTxPrevOutput.value],U=te.hashForWitnessV1(0,ae,xe,Pe.Transaction.SIGHASH_DEFAULT,a[he].hash),h=b.Buffer.from(mb.sign(U,a[he].privateKey,Zr.base.randomBytes(32)));te.ins[0].witness=[h,...a[he].witness]});let ne=0;u.ins.forEach((te,he)=>{ne+=t.commitTxPrevOutputList[he].amount}),u.outs.forEach(te=>{ne-=te.value});let ie=[];return f.forEach((te,he)=>{let ae=0;ae+=a[he].revealTxPrevOutput.value,ae-=te.outs[0].value,ie.push(ae)}),{signHashList:L,commitTx:u.toHex(),revealTxs:f.map(te=>te.toHex()),commitTxFee:ne,revealTxFees:ie,commitAddrs:d}}Ir.inscribeForMPCUnsigned=Sw;function QU(t,e){let r=t.commitTx,n=t.signatureList,i=Pe.Transaction.fromHex(r),a=i.getHash();i.ins.forEach((f,c)=>{let u=Zr.base.fromHex(n[c]);f.witness?f.witness[0]=Pe.script.signature.encode(u,Pe.Transaction.SIGHASH_ALL):f.script=Pe.payments.p2pkh({pubkey:Pe.payments.p2pkh({input:f.script}).pubkey,signature:Pe.script.signature.encode(u,Pe.Transaction.SIGHASH_ALL)}).input});let s=i.getHash(),o=Sw(t,e,a,s);return{signHashList:null,commitTx:i.toHex(),revealTxs:o.revealTxs,commitTxFee:o.commitTxFee,revealTxFees:o.revealTxFees,commitAddrs:o.commitAddrs}}Ir.inscribeForMPCSigned=QU;function eD(t,e,r){let n=[];return t.ins.forEach((i,a)=>{let s=Zr.base.fromHex(e[a].publicKey),o=Pe.address.toOutputScript(e[a].address,r),f=b.Buffer.alloc(64,0),c;if((0,vb.isP2TR)(o)){let u=e.map(l=>Pe.address.toOutputScript(l.address,r)),d=e.map(l=>l.amount);c=t.hashForWitnessV1(a,u,d,Pe.Transaction.SIGHASH_DEFAULT),i.witness=[f]}else if((0,vb.isP2PKH)(o)){let u=Pe.address.toOutputScript(e[a].address,r);c=t.hashForSignature(a,u,Pe.Transaction.SIGHASH_ALL),i.script=Pe.payments.p2pkh({pubkey:s,signature:Pe.script.signature.encode(f,Pe.Transaction.SIGHASH_ALL)}).input}else{let u=yw.hash160(s),d=b.Buffer.of(25,118,169,20,...u,136,172);c=t.hashForWitness(a,d,e[a].amount,Pe.Transaction.SIGHASH_ALL),i.witness=Pe.payments.p2wpkh({pubkey:s,signature:Pe.script.signature.encode(f,Pe.Transaction.SIGHASH_ALL)}).witness;let l=b.Buffer.of(22,0,20,...u);(0,vb.isP2SHScript)(o)&&(i.script=l)}n.push(Zr.base.toHex(c))}),n}});var Ow=H(St=>{"use strict";g();m();var tD=St&&St.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rD=St&&St.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sb=St&&St.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tD(e,t,r);return rD(e,t),e};Object.defineProperty(St,"__esModule",{value:!0});St.dogInscribe=St.DogInscriptionTool=St.DogScript=St.bufferToChunk=St.bufferToBuffer=St.CHANGE_OUTPUT_MAX_SIZE=void 0;var et=Sb(Pn()),Li=$e(),nD=Sb(Br()),Fn=Ei(),Iw=Pn(),qr=fs(),iD=Sb(Ca()),as=Ba();St.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;var Ew=2,wb=4294967293,aD=1e5,sD=1e5,oD=240,Aw=1500;function Pw(t){return{buf:t<=16?void 0:t<128?b.Buffer.from([t]):b.Buffer.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:t==0?0:t<=16?80+t:t<128?1:2}}function Kc(t){let e=vf(t),r=as.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===qr.OPS.OP_PUSHDATA1||n===qr.OPS.OP_PUSHDATA2||n===qr.OPS.OP_PUSHDATA4)&&(r+=as.varuint.encodingLength(e.len)),r+=e.buf.length);let i=Iw.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<qr.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===qr.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===qr.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===qr.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}St.bufferToBuffer=Kc;function vf(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}St.bufferToChunk=vf;function _b(t){return{opcodenum:t}}var yf=class{constructor(){this.chunks=[]}total(){return this.chunks.length==0?0:this.chunks.map(r=>{let n=as.varuint.encodingLength(r.opcodenum);var i=r.opcodenum;return r.buf&&(i<qr.OPS.OP_PUSHDATA1||(i===qr.OPS.OP_PUSHDATA1||i===qr.OPS.OP_PUSHDATA2||i===qr.OPS.OP_PUSHDATA4)&&(n+=as.varuint.encodingLength(r.len)),n+=r.buf.length),n}).reduce((r,n)=>r+n)}toBuffer(){let e=this.total(),r=Iw.BufferWriter.withCapacity(e);for(var n=0;n<this.chunks.length;n++){var i=this.chunks[n],a=i.opcodenum;r.writeUInt8(i.opcodenum),i.buf&&(a<qr.OPS.OP_PUSHDATA1?r.writeSlice(i.buf):a===qr.OPS.OP_PUSHDATA1?(r.writeUInt8(i.len),r.writeSlice(i.buf)):a===qr.OPS.OP_PUSHDATA2?(r.writeUInt64(i.len),r.writeSlice(i.buf)):a===qr.OPS.OP_PUSHDATA4&&(r.writeUInt32(i.len),r.writeSlice(i.buf)))}return r.end()}};St.DogScript=yf;var gf=class{constructor(){this.network=et.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new et.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(e,r){let n=new gf;n.network=e;let i=r.revealOutValue||aD,a=r.minChangeValue||sD,s=r.commitTxPrevOutputList[0].privateKey;n.inscriptionTxCtxDataList=fD(e,r.inscriptionData,s),n.revealAddr=r.inscriptionData.revealAddr;let o=Li.base.toHex(Li.base.fromHex((0,Fn.privateKeyFromWIF)(s,e))),f=(0,Fn.private2public)(o);n.fromAddr=et.payments.p2pkh({pubkey:f,network:e}).address;let c=n.buildEmptyRevealTxs(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,c,i,r.commitFeeRate,a)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTxs(e,r,n){let i=0,a=[],s=[],o=[],f=0;for(let c=this.inscriptionTxCtxDataList.length-1;c>-1;c--){let u=this.inscriptionTxCtxDataList[c],d=new et.Transaction;d.version=Ew,d.addInput(b.Buffer.alloc(32),0,wb),d.addInput(b.Buffer.alloc(32),1,wb),d.addOutput(c!=this.inscriptionTxCtxDataList.length-1?u.commitTxAddressPkScript:u.revealPkScript,r);let l=b.Buffer.alloc(72),_=b.Buffer.concat([u.inscriptionScript,Kc(l),Kc(u.redeemScript)]);d.ins[0].script=_,c!=this.inscriptionTxCtxDataList.length-1&&d.addOutput(et.address.toOutputScript(this.fromAddr,e),f),d.ins[1].script=b.Buffer.alloc(106);let T=Math.floor((d.dogeByteLength()+St.CHANGE_OUTPUT_MAX_SIZE)*n);f+=T;let B=T;u.revealTxPrevOutput={pkScript:u.commitTxAddressPkScript,value:B},i+=B,a.push(d),s.push(T),o.push(u.commitTxAddress)}for(let c=0,u=a.length-1;c<u;c++,u--)[a[c],a[u]]=[a[u],a[c]],[s[c],s[u]]=[s[u],s[c]],[o[c],o[u]]=[o[u],o[c]];return this.revealTxs=a,this.mustRevealTxFees=s,this.commitAddrs=o,i+=r,i}buildCommitTx(e,r,n,i,a,s,o){let f=0,c=new et.Transaction;c.version=Ew,r.forEach(T=>{let B=Li.base.reverseBuffer(Li.base.fromHex(T.txId));c.addInput(B,T.vOut,wb),this.commitTxPrevOutputFetcher.push(T.amount),f+=T.amount}),c.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,a),c.addOutput(et.address.toOutputScript(this.fromAddr,e),i);let u=et.address.toOutputScript(n,e);c.addOutput(u,0);let d=c.clone();Tw(d,r,this.network);let l=Math.floor((d.dogeByteLength()+St.CHANGE_OUTPUT_MAX_SIZE)*s),_=f-i-l;if(_>=o)c.outs[c.outs.length-1].value=_;else{c.outs=c.outs.slice(0,c.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);let T=Math.floor(d.dogeByteLength()*s);if(f-i-T<0)return this.mustCommitTxFee=l,!0}return this.commitTx=c,!1}signCommitTx(e){Tw(this.commitTx,e,this.network)}completeRevealTx(){for(let e=0;e<this.revealTxs.length;e++){let r=this.revealTxs[e];r.ins[0].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),r.ins[1].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);let n=this.inscriptionTxCtxDataList[e].redeemScript,i=r.hashForSignature(0,n,et.Transaction.SIGHASH_ALL),a=Li.base.toHex(this.inscriptionTxCtxDataList[e].privateKey),s=(0,Fn.sign)(i,a),o=et.script.signature.encode(s,et.Transaction.SIGHASH_ALL);r.ins[0].script=b.Buffer.concat([this.inscriptionTxCtxDataList[e].inscriptionScript,Kc(o),Kc(this.inscriptionTxCtxDataList[e].redeemScript)]);let f=et.address.toOutputScript(this.fromAddr,this.network),c=r.hashForSignature(1,f,et.Transaction.SIGHASH_ALL),u=(0,Fn.sign)(c,a),d=et.payments.p2pkh({signature:et.script.signature.encode(u,et.Transaction.SIGHASH_ALL),pubkey:(0,Fn.private2public)(a)});r.ins[1].script=d.input}}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let a=0;a=this.revealTxPrevOutputFetcher[i],r.push(a)}),{commitTxFee:e,revealTxFees:r}}};St.DogInscriptionTool=gf;function Tw(t,e,r){t.ins.forEach((n,i)=>{let a=(0,Fn.getAddressType)(e[i].address,r),s=Li.base.fromHex((0,Fn.privateKeyFromWIF)(e[i].privateKey,r)),o=Li.base.toHex(s),f=(0,Fn.private2public)(o);if(a==="legacy"){let c=et.address.toOutputScript(e[i].address,r),u=t.hashForSignature(i,c,et.Transaction.SIGHASH_ALL),d=(0,Fn.sign)(u,o),l=et.payments.p2pkh({signature:et.script.signature.encode(d,et.Transaction.SIGHASH_ALL),pubkey:f});n.script=l.input}else{let c=nD.hash160(f),u=b.Buffer.of(25,118,169,20,...c,136,172),d=e[i].amount,l=t.hashForWitness(i,u,d,et.Transaction.SIGHASH_ALL),_=(0,Fn.sign)(l,o);n.witness=[et.script.signature.encode(_,et.Transaction.SIGHASH_ALL),f];let T=b.Buffer.of(22,0,20,...c);a==="segwit_nested"&&(n.script=T)}})}function fD(t,e,r){let n=Li.base.fromHex((0,Fn.privateKeyFromWIF)(r,t)),i=(0,Fn.wif2Public)(r,t),a=et.script.OPS,s;typeof e.body=="string"?s=b.Buffer.from(e.body):s=e.body;let o=[];for(;s.length;){let u=s.slice(0,Math.min(oD,s.length));s=s.slice(u.length),o.push(u)}let f=new yf;f.chunks.push(vf(b.Buffer.from("ord"))),f.chunks.push(Pw(o.length)),f.chunks.push(vf(b.Buffer.from(e.contentType))),o.forEach((u,d)=>{f.chunks.push(Pw(o.length-d-1)),f.chunks.push(vf(u))});let c=[];for(;f.chunks.length;){let u=new yf;for(c.length==0&&u.chunks.push(f.chunks.shift());u.total()<=Aw&&f.chunks.length;)u.chunks.push(f.chunks.shift()),u.chunks.push(f.chunks.shift());u.total()>Aw&&(f.chunks.unshift(u.chunks.pop()),f.chunks.unshift(u.chunks.pop()));let d=new yf;d.chunks.push(vf(i)),d.chunks.push(_b(a.OP_CHECKSIGVERIFY)),u.chunks.forEach(()=>{d.chunks.push(_b(a.OP_DROP))}),d.chunks.push(_b(a.OP_TRUE));let l=Li.base.ripemd160(Li.base.sha256(d.toBuffer())),{output:_,address:T}=iD.p2sh({hash:b.Buffer.from(l),network:t}),B={privateKey:n,inscriptionScript:u.toBuffer(),redeemScript:d.toBuffer(),commitTxAddress:T,commitTxAddressPkScript:_,revealTxPrevOutput:{pkScript:b.Buffer.alloc(0),value:1e5},revealPkScript:et.address.toOutputScript(e.revealAddr,t)};c.push(B)}return c}function cD(t,e){let r=gf.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}St.dogInscribe=cD});var Rw=H(Qr=>{"use strict";g();m();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.verifyWithAddress=Qr.getMPCSignedMessage=Qr.verify=Qr.sign=Qr.toCompact=Qr.magicHash=void 0;var bt=$e(),uD=Ei(),dD=b.Buffer.from(`Bitcoin Signed Message:
`);function Bw(t){let e;return t<253?(e=b.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=b.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=b.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=b.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function Wh(t,e){let r=e?b.Buffer.from(e,"utf8"):dD,n=Bw(r.length),i=b.Buffer.from(t),a=Bw(i.length),s=b.Buffer.concat([n,r,a,i]);return bt.base.doubleSha256(s)}Qr.magicHash=Wh;function Eb(t,e,r){if(!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");let n=t+27+4;return r||(n=n-4),b.Buffer.concat([Uint8Array.of(n),Uint8Array.from(e)])}Qr.toCompact=Eb;function hD(t,e,r,n){let i=Wh(e,n);if(!t)return bt.base.toHex(i);let a=bt.base.fromHex((0,uD.privateKeyFromWIF)(t,r)),{signature:s,recovery:o}=bt.signUtil.secp256k1.sign(b.Buffer.from(i),a);return bt.base.toBase64(Eb(o,s,!0))}Qr.sign=hD;function lD(t,e,r,n){let i=Wh(e,n),a=bt.base.fromBase64(r),s=a[0]-27-4,o=a.slice(1);return bt.signUtil.secp256k1.verify(b.Buffer.from(i),o,s,bt.base.fromHex(t))}Qr.verify=lD;function pD(t,e,r){let n=bt.base.fromHex(e),i=n.slice(0,32),a=n.slice(32,64),s=bt.signUtil.secp256k1.getV(bt.base.fromHex(t),bt.base.toHex(i),bt.base.toHex(a),bt.base.fromHex(r));return bt.base.toBase64(Eb(s,n,!0))}Qr.getMPCSignedMessage=pD;function bD(t,e,r,n){let i=Wh(e,n),a=bt.base.fromBase64(r),s=a[0]-27,o=a.slice(1),f=s&3,c=s&8?s&4?xb.P2WPKH:xb.P2SH_P2WPKH:null,u=!!(s&12),d=bt.signUtil.secp256k1.recover(o,f,b.Buffer.from(i),u);if(d==null)return!1;let l=b.Buffer.from(bt.base.hash160(d)),_,T;if(c)c===xb.P2SH_P2WPKH?(_=Cw(l),T=bt.base.fromBase58Check(t).slice(1)):(_=l,T=Mw(t));else try{return T=Mw(t),zh(l,T)}catch{let F=Cw(l),L=bt.base.fromBase58Check(t).slice(1);return zh(l,L)||zh(F,L)}return zh(_,T)}Qr.verifyWithAddress=bD;var xb={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function Mw(t){let e=bt.base.bech32.decode(t),r=bt.base.bech32.fromWords(e.words.slice(1));return b.Buffer.from(r)}function Cw(t){let e=b.Buffer.concat([b.Buffer.from("0014","hex"),t]);return b.Buffer.from(bt.base.hash160(e))}function zh(t,e){if(!b.Buffer.isBuffer(t)||!b.Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var Fi=H((lee,qw)=>{g();m();qw.exports=globalThis["ok-metax-base"]});var ji=H(xt=>{"use strict";g();m();var vD=xt&&xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yD=xt&&xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gD=xt&&xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vD(e,t,r);return yD(e,t),e};Object.defineProperty(xt,"__esModule",{value:!0});xt.convert2UtxoTx=xt.number2Hex=xt.TBtcWallet=xt.BtcWallet=xt.BITCOIN_MESSAGE_BIP0322_SIMPLE=xt.BITCOIN_MESSAGE_ECDSA=void 0;var ge=Fi(),mf=$e(),fe=gD(en()),lt=en();xt.BITCOIN_MESSAGE_ECDSA=0;xt.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;var Gh=class extends ge.BaseWallet{network(){return fe.networks.bitcoin}async getDerivedPath(e){return e.segwitType?e.segwitType==ge.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${e.index}`:e.segwitType==ge.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${e.index}`:e.segwitType==ge.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${e.index}`:e.segwitType==ge.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${e.index}`:Promise.reject(ge.DerivePathError):`m/44'/0'/0'/0/${e.index}`}async validPrivateKey(e){let r;try{let{version:i}=fe.wif.decode(e.privateKey);r=i===this.network().wif}catch{r=!1}let n={isValid:r,privateKey:e.privateKey};return Promise.resolve(n)}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=e.addressType||"Legacy",a=fe.wif2Public(n,r),s;i==="Legacy"?s=fe.payments.p2pkh({pubkey:a,network:r}).address:i==="segwit_native"?s=fe.payments.p2wpkh({pubkey:a,network:r}).address:i==="segwit_nested"?s=fe.payments.p2sh({redeem:fe.payments.p2wpkh({pubkey:a,network:r})}).address:i==="segwit_taproot"&&(s=fe.payments.p2tr({internalPubkey:a.slice(1),network:r}).address);let o={address:s||"",publicKey:mf.base.toHex(i==="segwit_taproot"?a.slice(1):a),compressedPublicKey:mf.base.toHex(a)};return Promise.resolve(o)}catch{return Promise.reject(ge.NewAddressError)}}async validAddress(e){let r=!1,n=this.network();try{fe.address.toOutputScript(e.address,n)&&(r=!0)}catch{}e.addressType&&(r=e.addressType===fe.getAddressType(e.address,n));let i={isValid:r,address:e.address};return Promise.resolve(i)}async signTransaction(e){let r=e.data.type||0;if(r===fe.BtcXrcTypes.INSCRIBE)try{return Promise.resolve(fe.inscribe(this.network(),e.data))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT)try{return Promise.resolve(fe.psbtSign(e.data.psbt,e.privateKey,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_DEODE)try{return Promise.resolve(fe.psbtDecode(e.data.psbt,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_UNSIGNED_LIST)try{return Promise.resolve(fe.generateMPCUnsignedListingPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_SIGNED_LIST)try{return Promise.resolve(fe.generateMPCSignedListingPSBT(e.data.psbt,e.data.publicKey,e.data.signature,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_UNSIGNED_BUY)try{return Promise.resolve(fe.generateMPCUnsignedBuyingPSBT(e.data.psbt,e.data.publicKey,this.network(),e.data.batchSize))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_SIGNED_BUY)try{return Promise.resolve(fe.generateMPCSignedBuyingTx(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network(),e.data.batchSize))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_UNSIGNED)try{return Promise.resolve(fe.generateMPCUnsignedPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_MPC_SIGNED)try{return Promise.resolve(fe.generateMPCSignedPSBT(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network()))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH)try{return Promise.resolve(fe.signPsbtWithKeyPathAndScriptPath(e.data.psbt,e.privateKey,this.network(),{autoFinalized:e.data.autoFinalized,toSignInputs:e.data.toSignInputs}))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH_BATCH)try{return Promise.resolve(fe.signPsbtWithKeyPathAndScriptPathBatch(e.data.psbtHexs,e.privateKey,this.network(),e.data.options))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.SRC20)try{return Promise.resolve(fe.srcInscribe(this.network(),e.data))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.RUNE)try{let n=new lt.RuneWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.RUNEMAIN)try{let n=new lt.RuneMainWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneMainTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.ARC20)try{let n=new lt.AtomicalWallet;return this.network()===lt.networks.testnet&&(n=new lt.AtomicalTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(ge.SignTxError)}else if(r===fe.BtcXrcTypes.PSBT_RUNEMAIN)try{let n=new lt.RuneMainWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(ge.SignTxError)}else{let n=null;try{let i=e.privateKey,a=zc(e.data);return n=fe.signBtc(a,i,this.network()),Promise.resolve(n)}catch{return Promise.reject(ge.SignTxError)}}}getRandomPrivateKey(){try{let e=this.network();for(;;){let r=mf.base.randomBytes(32);if((0,ge.secp256k1SignTest)(r)){let n=fe.private2Wif(r,e);return Promise.resolve(n)}}}catch{return Promise.reject(ge.GenPrivateKeyError)}}getDerivedPrivateKey(e){let r=this.network();return mf.bip39.mnemonicToSeed(e.mnemonic).then(n=>{let i=mf.bip32.fromSeed(n).derivePath(e.hdPath);if(!i.privateKey)return Promise.reject(ge.GenPrivateKeyError);let a=fe.private2Wif(i.privateKey,r);return Promise.resolve(a)}).catch(n=>Promise.reject(ge.GenPrivateKeyError))}getAddressByPublicKey(e){try{let r=this.network(),n=mf.base.fromHex(e.publicKey);if(e.addressType){if(e.addressType==="Legacy")return Promise.resolve(fe.payments.p2pkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_nested")return Promise.resolve(fe.payments.p2sh({redeem:fe.payments.p2wpkh({pubkey:n,network:r})}).address);if(e.addressType==="segwit_native")return Promise.resolve(fe.payments.p2wpkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_taproot")return Promise.resolve(fe.payments.p2tr({internalPubkey:n.slice(1),network:r}).address)}else{let i=[];return i.push({addressType:"Legacy",address:fe.payments.p2pkh({pubkey:n,network:r}).address}),i.push({addressType:"segwit_nested",address:fe.payments.p2sh({redeem:fe.payments.p2wpkh({pubkey:n,network:r})}).address}),i.push({addressType:"segwit_native",address:fe.payments.p2wpkh({pubkey:n,network:r}).address}),Promise.resolve(i)}}catch{}return Promise.reject(ge.NewAddressError)}getMPCRawTransaction(e){try{let r=zc(e.data),n=[],a={raw:fe.signBtc(r,"",this.network(),n),hash:n};return Promise.resolve(a)}catch{return Promise.reject(ge.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=fe.getMPCTransaction(e.raw,e.sigs,!1);return Promise.resolve(r)}catch{return Promise.reject(ge.GetMpcTransactionError)}}async getMPCRawMessage(e){try{let r=await this.signMessage(e);return Promise.resolve({hash:r})}catch{return Promise.reject(ge.GetMpcRawTransactionError)}}async getMPCSignedMessage(e){try{return Promise.resolve(fe.message.getMPCSignedMessage(e.hash,e.sigs,e.publicKey))}catch{return Promise.reject(ge.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=zc(e.data);if(r===2){let i=fe.signBtc(n,"",this.network(),void 0,!0,!0),a=n.dustSize||546;if(parseInt(i)>=a){let o={address:n.address,amount:parseInt(i),bip32Derivation:n.bip32Derivation};n.outputs.push(o)}let s=fe.buildPsbt(n,this.network());return Promise.resolve(s)}else{let i=fe.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(i)}}catch{return Promise.reject(ge.GetHardwareRawTransactionError)}}async calcTxHash(e){try{return Promise.resolve(fe.Transaction.fromHex(e.data).getId())}catch{return Promise.reject(ge.CalcTxHashError)}}signMessage(e){try{let r=e.data,n;return r.type===xt.BITCOIN_MESSAGE_ECDSA?n=fe.message.sign(e.privateKey,r.message,this.network()):n=fe.bip0322.signSimple(r.message,r.address,e.privateKey,this.network()),Promise.resolve(n)}catch{return Promise.reject(ge.SignMsgError)}}async verifyMessage(e){try{let r=e.data;if(r.type===xt.BITCOIN_MESSAGE_ECDSA){let n=fe.message.verify(r.publicKey,r.message,e.signature);return Promise.resolve(n)}else{let n=fe.bip0322.verifySimple(r.message,r.address,e.signature,r.publicKey,this.network());return Promise.resolve(n)}}catch{return Promise.reject(ge.SignMsgError)}}static async extractPsbtTransaction(e){try{return Promise.resolve(fe.extractPsbtTransaction(e))}catch{return Promise.reject(ge.SignMsgError)}}async validSignedTransaction(e){try{e.data&&e.data.forEach(n=>n.value=n.amount);let r=fe.ValidSignedTransaction(e.tx,e.data,this.network());return Promise.resolve((0,ge.jsonStringifyUniform)(r))}catch{return Promise.reject(ge.validSignedTransactionError)}}async estimateFee(e){try{let r=e.data.type||0;if(r===fe.BtcXrcTypes.INSCRIBE)return Promise.reject(ge.EstimateFeeError);if(r===fe.BtcXrcTypes.PSBT)return Promise.reject(ge.EstimateFeeError);if(r===fe.BtcXrcTypes.RUNE)try{let n=new lt.RuneWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(ge.EstimateFeeError)}else if(r===fe.BtcXrcTypes.RUNEMAIN)try{let n=new lt.RuneMainWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneMainTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(ge.EstimateFeeError)}else if(r===fe.BtcXrcTypes.ARC20)try{let n=new lt.AtomicalWallet;return this.network()===lt.networks.testnet&&(n=new lt.AtomicalTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(ge.EstimateFeeError)}else{let n=zc(e.data),i=fe.estimateBtcFee(n,this.network());return Promise.resolve(i)}}catch{return Promise.reject(ge.EstimateFeeError)}}static async oneKeyBuildBtcTx(e){try{return Promise.resolve(fe.oneKeyBuildBtcTx(e))}catch{return Promise.reject(ge.SignTxError)}}async buildPsbt(e){if((e.data.type||0)===fe.BtcXrcTypes.RUNEMAIN)try{let n=new lt.RuneMainWallet;return this.network()===lt.networks.testnet&&(n=new lt.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(ge.SignTxError)}else{let n=null;try{return Promise.resolve(n)}catch{return Promise.reject(ge.SignTxError)}}}};xt.BtcWallet=Gh;var Ab=class extends Gh{network(){return fe.networks.testnet}};xt.TBtcWallet=Ab;function mD(t,e){let r=t.toString(16),n=e-r.length;if(n>0)for(let i=0;i<n;i++)r="0"+r;return r}xt.number2Hex=mD;function zc(t){let e=(0,ge.cloneObject)(t);return e.inputs.forEach(r=>{r.amount=(0,ge.convert2Number)(r.amount)}),e.outputs.forEach(r=>{r.amount=(0,ge.convert2Number)(r.amount)}),e.omni&&(e.omni.amount=(0,ge.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,ge.convert2Number)(t.dustSize)),e}xt.convert2UtxoTx=zc});var Nw=H(Ki=>{"use strict";g();m();var wD=Ki&&Ki.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_D=Ki&&Ki.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SD=Ki&&Ki.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wD(e,t,r);return _D(e,t),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.BchWallet=void 0;var wf=Fi(),kw=$e(),Wc=ji(),tt=SD(en()),Pb=class extends Wc.BtcWallet{async getDerivedPath(e){return`m/44'/145'/0'/0/${e.index}`}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=tt.wif2Public(n,r),o={address:tt.GetBitcashP2PkHAddressByPublicKey(i).replace("bitcoincash:","")||"",publicKey:kw.base.toHex(i)};return Promise.resolve(o)}catch{return Promise.reject(wf.NewAddressError)}}async validAddress(e){let r=!1;try{let i=this.network();tt.address.toOutputScript(e.address,i)&&(r=!0)}catch{}r||(r=tt.ValidateBitcashP2PkHAddress(e.address));let n={isValid:r,address:e.address};return Promise.resolve(n)}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,Wc.convert2UtxoTx)(e.data);return i.outputs.forEach(a=>{tt.isCashAddress(a.address)&&(a.address=tt.convert2LegacyAddress(a.address,this.network()))}),tt.isCashAddress(i.address)&&(i.address=tt.convert2LegacyAddress(i.address,this.network())),r=tt.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(wf.SignTxError)}}async estimateFee(e){try{let r=(0,Wc.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{tt.isCashAddress(i.address)&&(i.address=tt.convert2LegacyAddress(i.address,this.network()))}),tt.isCashAddress(r.address)&&(r.address=tt.convert2LegacyAddress(r.address,this.network()));let n=tt.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(wf.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,Wc.convert2UtxoTx)(e.data);r.outputs.forEach(s=>{tt.isCashAddress(s.address)&&(s.address=tt.convert2LegacyAddress(s.address,this.network()))}),tt.isCashAddress(r.address)&&(r.address=tt.convert2LegacyAddress(r.address,this.network()));let n=[],a={raw:tt.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(a)}catch{return Promise.reject(wf.GetMpcRawTransactionError)}}getAddressByPublicKey(e){let r=kw.base.fromHex(e.publicKey),n=tt.GetBitcashP2PkHAddressByPublicKey(r);return Promise.resolve(n.replace("bitcoincash:",""))}getMPCTransaction(e){try{let r=tt.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(wf.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,Wc.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{tt.isCashAddress(i.address)&&(i.address=tt.convert2LegacyAddress(i.address,this.network()))}),tt.isCashAddress(r.address)&&(r.address=tt.convert2LegacyAddress(r.address,this.network()));let n=tt.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(wf.GetHardwareRawTransactionError)}}};Ki.BchWallet=Pb});var Hw=H(zi=>{"use strict";g();m();var xD=zi&&zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ED=zi&&zi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AD=zi&&zi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xD(e,t,r);return ED(e,t),e};Object.defineProperty(zi,"__esModule",{value:!0});zi.BsvWallet=void 0;var Gc=Fi(),Vc=ji(),Xc=AD(en()),Tb=class extends Vc.BtcWallet{async getDerivedPath(e){return`m/44'/236'/0'/0/${e.index}`}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,Vc.convert2UtxoTx)(e.data);return r=Xc.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(Gc.SignTxError)}}async estimateFee(e){try{let r=(0,Vc.convert2UtxoTx)(e.data),n=Xc.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(Gc.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,Vc.convert2UtxoTx)(e.data),n=[],a={raw:Xc.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(a)}catch{return Promise.reject(Gc.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=Xc.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(Gc.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,Vc.convert2UtxoTx)(e.data),n=Xc.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(Gc.GetHardwareRawTransactionError)}}};zi.BsvWallet=Tb});var Uw=H(Or=>{"use strict";g();m();var PD=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TD=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ID=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PD(e,t,r);return TD(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.DogeWallet=Or.dogeCoin=void 0;var Vh=ID(en()),Xh=Fi(),OD=ji();Or.dogeCoin={messagePrefix:`Dogecoin Signed Message:
`,bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};var Ib=class extends OD.BtcWallet{network(){return Or.dogeCoin}async signTransaction(e){let r=e.data.type||0;if(r===1)try{return Promise.resolve(Vh.dogInscribe(Or.dogeCoin,e.data))}catch{return Promise.reject(Xh.SignTxError)}else if(r===2)try{return Promise.resolve(Vh.psbtSign(e.data.psbt,e.privateKey,this.network(),e.data.maximumFeeRate?e.data.maximumFeeRate:1e5))}catch{return Promise.reject(Xh.SignTxError)}else return super.signTransaction(e)}signMessage(e){try{let r=e.data,n=Vh.message.sign(e.privateKey,r.message,this.network(),Or.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(Xh.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=Vh.message.verify(r.publicKey,r.message,e.signature,Or.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(Xh.SignMsgError)}}};Or.DogeWallet=Ib});var Lw=H(kr=>{"use strict";g();m();var BD=kr&&kr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MD=kr&&kr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CD=kr&&kr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BD(e,t,r);return MD(e,t),e};Object.defineProperty(kr,"__esModule",{value:!0});kr.LtcWallet=kr.litecoin=void 0;var _f=Fi(),RD=ji(),Dw=CD(en());kr.litecoin={messagePrefix:`Litecoin Signed Message:
`,bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};var Ob=class extends RD.BtcWallet{network(){return kr.litecoin}async getDerivedPath(e){return e.segwitType?e.segwitType==_f.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${e.index}`:e.segwitType==_f.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${e.index}`:e.segwitType==_f.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${e.index}`:Promise.reject(_f.DerivePathError):`m/44'/2'/0'/0/${e.index}`}signMessage(e){try{let r=e.data,n=Dw.message.sign(e.privateKey,r.message,this.network(),kr.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(_f.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=Dw.message.verify(r.publicKey,r.message,e.signature,kr.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(_f.SignMsgError)}}};kr.LtcWallet=Ob});var Fw=H(jn=>{"use strict";g();m();var qD=jn&&jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kD=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ND=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qD(e,t,r);return kD(e,t),e};Object.defineProperty(jn,"__esModule",{value:!0});jn.UsdtTestWallet=jn.UsdtWallet=void 0;var Sf=Fi(),Wi=ji(),xf=ND(en()),Yh=class extends Wi.BtcWallet{async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,Wi.convert2UtxoTx)(e.data);if(!i.omni)return Promise.reject(Sf.SignTxError);let a=(0,Wi.number2Hex)(i.omni.coinType||31,8),s=(0,Wi.number2Hex)(i.omni.amount,16),o="6a146f6d6e6900000000"+a+s,f={address:"",amount:0,omniScript:o};return i.outputs.push(f),r=xf.signBtc(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(Sf.SignTxError)}}async estimateFee(e){try{let r=(0,Wi.convert2UtxoTx)(e.data);if(!r.omni)return Promise.reject(Sf.EstimateFeeError);let n=(0,Wi.number2Hex)(r.omni.coinType||31,8),i=(0,Wi.number2Hex)(r.omni.amount,16),a="6a146f6d6e6900000000"+n+i,s={address:"",amount:0,omniScript:a};r.outputs.push(s);let o=xf.estimateBtcFee(r,this.network());return Promise.resolve(o)}catch{return Promise.reject(Sf.EstimateFeeError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=(0,Wi.convert2UtxoTx)(e.data);if(!n.omni)return Promise.reject(Sf.SignTxError);let i=(0,Wi.number2Hex)(n.omni.coinType||31,8),a=(0,Wi.number2Hex)(n.omni.amount,16),s="6a146f6d6e6900000000"+i+a,o={address:"",amount:0,omniScript:s};n.outputs.push(o);let f;if(r===2){let c=xf.signBtc(n,"",this.network(),void 0,!0,!0),u={address:n.address,amount:parseInt(c),bip32Derivation:n.bip32Derivation};n.outputs.push(u),f=xf.buildPsbt(n,this.network())}else f=xf.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(f)}catch{return Promise.reject(Sf.GetHardwareRawTransactionError)}}};jn.UsdtWallet=Yh;var Bb=class extends Yh{network(){return xf.networks.testnet}};jn.UsdtTestWallet=Bb});var Cb=H(pt=>{"use strict";g();m();var HD=pt&&pt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UD=pt&&pt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DD=pt&&pt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HD(e,t,r);return UD(e,t),e};Object.defineProperty(pt,"__esModule",{value:!0});pt.buildRuneMainMintOp=pt.buildRuneMainMintData=pt.buildRuneData=pt.encodeToVecV2=pt.toVarIntV2=pt.fromVarInt=pt.encodeToVec=pt.toVarInt=void 0;var Mb=DD(Gt()),Yc=fs(),jw=Jh(),LD=$e(),Kw=BigInt(0),qee=BigInt(2),kee=BigInt(4),Nee=BigInt(6),Hee=BigInt(8),Uee=BigInt(10),Dee=BigInt(12),Lee=BigInt(14),Fee=BigInt(16),jee=BigInt(118),$h=BigInt(20),zw=BigInt(22),Kee=BigInt(126),zee=BigInt(1),Wee=BigInt(3),Gee=BigInt(5),Vee=BigInt(127);function FD(t){let e=[];return Ef(t,e),new Uint8Array(e)}pt.toVarInt=FD;function Ef(t,e){let r=18,n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=Number(t&BigInt(255))|128;e.push(...n.slice(r))}pt.encodeToVec=Ef;function jD(t){let e=[];return Jt(t,e),new Uint8Array(e)}pt.toVarIntV2=jD;function Jt(t,e){for(;t>>7n>0n;)e.push(Number(t&0x7fn|0x80n)),t>>=7n;return e.push(Number(t&0x7fn)),e}pt.encodeToVecV2=Jt;function KD(t){let e=BigInt(0),r=0;for(;;){let n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e=e*BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}}pt.fromVarInt=KD;function zD(t,e){let r=[];for(let a of e)typeof a.amount=="string"&&(a.amount=BigInt(a.amount));if(e.length>0){Ef(Kw,r),e.sort((s,o)=>s.id-o.id);let a=0;for(let s of e)Ef(BigInt(s.id-a),r),Ef(BigInt(s.amount),r),Ef(BigInt(s.output),r),a=s.id}let n;return t?n="R":n="RUNE_TEST",Mb.compile([Yc.OPS.OP_RETURN,b.Buffer.from(n),b.Buffer.from(r)])}pt.buildRuneData=zD;function WD(t,e,r,n,i,a){let s=[];for(let f of e)typeof f.amount=="string"&&(f.amount=BigInt(f.amount));if(i!=null&&i&&e[0].block!=null&&(Jt($h,s),Jt(BigInt(e[0].block),s),Jt($h,s),Jt(BigInt(e[0].id),s)),r&&(Jt(zw,s),Jt(BigInt(n),s)),e.length>0){Jt(Kw,s),e.sort((u,d)=>u.block===d.block?u.id<d.id?-1:u.id>d.id?1:0:u.block-d.block);let f=0,c=0;for(let u of e)Jt(BigInt(u.block-c),s),Jt(BigInt(u.id-f),s),Jt(BigInt(u.amount),s),Jt(BigInt(u.output),s),f=u.id,c=u.block}if(s.length>80)throw new Error(JSON.stringify({errCode:jw.ErrCodeOpreturnExceeds,date:{payloadLenth:s.length}}));return Mb.compile([Yc.OPS.OP_RETURN,Yc.OPS.OP_13,b.Buffer.from(s)])}pt.buildRuneMainMintData=WD;function GD(t,e,r,n){let i=[],a=parseInt(t.split(":")[0]),s=parseInt(t.split(":")[1]);if(n!=null&&n&&s!=null&&(Jt($h,i),Jt(BigInt(a),i),Jt($h,i),Jt(BigInt(s),i)),e&&(Jt(zw,i),Jt(BigInt(r),i)),i.length>80)throw new Error(JSON.stringify({errCode:jw.ErrCodeOpreturnExceeds,date:{payloadLenth:i.length}}));let o=Mb.compile([Yc.OPS.OP_RETURN,Yc.OPS.OP_13,b.Buffer.from(i)]);return{address:"",amount:0,omniScript:LD.base.toHex(o)}}pt.buildRuneMainMintOp=GD});var Vw=H(Kn=>{"use strict";g();m();var VD=Kn&&Kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XD=Kn&&Kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YD=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VD(e,t,r);return XD(e,t),e};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.RuneTestWallet=Kn.RuneWallet=void 0;var $D=Fi(),JD=ji(),Gw=YD(en()),Ww=en(),ZD=Cb(),QD=$e(),Zh=class extends JD.BtcWallet{convert2RuneTx(e){let r=(0,$D.cloneObject)(e);for(let d of r.inputs){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l)typeof _.amount=="string"&&(_.amount=BigInt(_.amount))}for(let d of r.outputs){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l)typeof _.amount=="string"&&(_.amount=BigInt(_.amount))}let n=r.inputs,i=new Map;for(let d of n){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l){let T=_.id,B=BigInt(_.amount);if(T==null||B==null)continue;let F=i.get(T);F==null?i.set(T,B):i.set(T,BigInt(F)+BigInt(B))}}let a=r.outputs,s=new Map;for(let d of a){let l=d.data;if(l!=null){let _=l.id,T=BigInt(l.amount);if(_==null||T==null)continue;let B=s.get(_);B==null?s.set(_,T):s.set(_,BigInt(B)+BigInt(T))}}let o=!1;for(let d of i.keys()){let l=i.get(d),_=s.get(d);(l!=null&&_!=null&&l>_||l!=null&&_==null)&&(o=!0),o=!0}let f=0,c=[];if(o){let d={address:r.address,amount:546};c.push(d),f++}let u=[];for(let d of a){let l=d.data;if(l!=null){let _=l.id,T=BigInt(l.amount);if(_==null||T==null)continue;let B={id:parseInt("0x"+_),amount:BigInt(T),output:f};u.push(B)}d.data=null,c.push(d),f++}return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:u,etching:r.runeData.etching,burn:r.runeData.burn}}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let a=this.convert2RuneTx(e.data),s=this.getOpReturnOutput(r,a.runeData);return a.outputs.push(s),n=(0,Ww.signBtc)(a,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}getOpReturnOutput(e,r){let n=!1;Ww.networks.bitcoin===e&&(n=!0),r.edicts==null&&(r.edicts=[]);let i=(0,ZD.buildRuneData)(n,r.edicts);return{address:"",amount:0,omniScript:QD.base.toHex(i)}}async estimateFee(e){try{if(!e.data.runeData)return Promise.reject("missing runeData");let r=this.convert2RuneTx(e.data),n=this.getOpReturnOutput(this.network(),r.runeData);r.outputs.push(n);let i=Gw.estimateBtcFee(r,this.network());return Promise.resolve(i)}catch(r){return Promise.reject(r)}}};Kn.RuneWallet=Zh;var Rb=class extends Zh{network(){return Gw.networks.testnet}};Kn.RuneTestWallet=Rb});var Xw=H(vt=>{"use strict";g();m();var eL=vt&&vt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tL=vt&&vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rL=vt&&vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eL(e,t,r);return tL(e,t),e};Object.defineProperty(vt,"__esModule",{value:!0});vt.RuneMainTestWallet=vt.RuneMainWallet=vt.ErrCodeMultipleRuneId=vt.ErrCodeRuneIdNotStandard=vt.ErrCodeOpreturnExceeds=vt.ErrCodeLessRunesMainAmt=void 0;var $c=Fi(),nL=ji(),no=rL(en()),zn=en(),qb=Cb(),iL=$e();vt.ErrCodeLessRunesMainAmt=2010300;vt.ErrCodeOpreturnExceeds=2010301;vt.ErrCodeRuneIdNotStandard=2010302;vt.ErrCodeMultipleRuneId=2010303;var Qh=class extends nL.BtcWallet{convert2RuneTx(e){let r=(0,$c.cloneObject)(e);r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput==null&&(r.runeData.defaultOutput=0),r.runeData.mint==!0&&r.runeData.mintNum==null&&(r.runeData.mintNUm=1);for(let d of r.inputs){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l)typeof _.amount=="string"&&(r.runeData.mint?_.amount=BigInt(1):_.amount=BigInt(_.amount))}for(let d of r.outputs){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l)typeof _.amount=="string"&&(r.runeData.mint?_.amount=BigInt(1):_.amount=BigInt(_.amount))}let n=r.inputs,i=new Map;for(let d of n){let l=d.data;if(l!=null&&l instanceof Array)for(let _ of l){let T=_.id,B=BigInt(1);if(r.runeData.mint||(B=BigInt(_.amount)),T==null||B==null)continue;if(T.split(":").length<=1)throw new Error(JSON.stringify({errCode:vt.ErrCodeRuneIdNotStandard,date:{runeId:T}}));let F=i.get(T);F==null?i.set(T,B):i.set(T,BigInt(F)+BigInt(B))}}if(i.size>1)throw new Error(JSON.stringify({errCode:vt.ErrCodeMultipleRuneId,date:{runeInputMapSize:i.size}}));let a=r.outputs,s=new Map;for(let d of a){let l=d.data;if(l!=null){let _=l.id,T=BigInt(1);if(r.runeData.mint||(T=BigInt(l.amount)),_==null||T==null)continue;let B=s.get(_);B==null?s.set(_,T):s.set(_,BigInt(B)+BigInt(T))}}let o=!1;for(let d of i.keys()){let l=i.get(d),_=s.get(d);(l!=null&&_!=null&&l>_||l!=null&&_==null)&&r.runeData.useDefaultOutput==!1&&(o=!0)}let f=0,c=[];if(o){let d={address:r.address,amount:546};c.push(d),f++}let u=[];for(let d of a){let l=d.data;if(l!=null){let _=l.id,T=BigInt(1);if(r.runeData.mint||(T=BigInt(l.amount)),_==null||T==null)continue;let B={block:parseInt(_.split(":")[0]),id:parseInt(_.split(":")[1]),amount:BigInt(T),output:f};u.push(B)}d.data=null,c.push(d),f++}if(r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput>c.length-1)throw new Error(JSON.stringify({errCode:vt.ErrCodeLessRunesMainAmt,date:{defaultOutput:r.runeData.defaultOutput,ouputLenth:c.length}}));return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:u,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}getMockMinRuneTx(e,r){let n=(0,$c.cloneObject)(e),i=[],a={block:parseInt(r.id.split(":")[0]),id:parseInt(r.id.split(":")[1]),amount:BigInt(1),output:0};return i.push(a),{inputs:[{txId:n.inputs[0].txId,vOut:0,amount:600,data:[r]}],outputs:[{address:n.address,amount:546,data:r}],address:n.address,feePerB:n.feePerB,runeData:{edicts:i,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}getMinRuneTx(e,r,n,i){let a=(0,$c.cloneObject)(e);return{inputs:[n],outputs:[i],address:a.address,feePerB:a.feePerB,RuneData:a.runeData}}async signTransaction(e){let r=this.network(),n=null;if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let a=this.convert2RuneTx(e.data),s=this.getRuneMainOpReturnOutput(r,a.runeData);return a.outputs.push(s),n=(0,zn.signBtc)(a,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}else if(e.data.runeData.mint&&!e.data.runeData.serialMint)try{let i=[],a=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},o=this.getMockMinRuneTx(e.data,s),f=this.getRuneMainOpReturnOutput(r,o.runeData);o.outputs.push(f),n=(0,zn.signBtc)(o,a,r);let c=no.estimateBtcFee(o,this.network())+546,u=this.convert2RuneTx(e.data),d=u.outputs.length;for(let T=0;T<s.mintNum-1;T++)u.outputs.push({address:e.data.address,amount:c});let l=this.getRuneMainOpReturnOutput(r,u.runeData);u.outputs.push(l),n=(0,zn.signBtc)(u,a,r);let _=zn.Transaction.fromHex(n).getId();i.push(n);for(let T=0;T<s.mintNum-1;T++){let B={txId:_,vOut:d,address:e.data.address,amount:c,data:[s]},F={address:e.data.address,amount:546};d+=1;let L=this.getMinRuneTx(e.data,s,B,F);L.outputs.push(l);let J=(0,zn.signBtc)(L,a,r);i.push(J)}return Promise.resolve(i)}catch(i){return Promise.reject(i)}else try{let i=[],a=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},o=this.getMockMinRuneTx(e.data,s),f=(0,qb.buildRuneMainMintOp)(s.id,!1,0,!0);o.outputs.push(f);let c=no.estimateBtcFee(o,this.network()),u=(s.mintNum-1)*c+546,d=this.convert2RuneTxSerialMint(e.data,u);d.outputs.push(f),n=(0,zn.signBtc)(d,a,r);let l=zn.Transaction.fromHex(n).getId();i.push(n);for(let _=1;_<s.mintNum;_++){let T={txId:l,vOut:0,address:e.data.address,amount:u};u=u-c;let B={address:e.data.address,amount:u},F=this.getMinRuneTx(e.data,s,T,B);F.outputs.push(f);let L=(0,zn.signBtc)(F,a,r);l=zn.Transaction.fromHex(L).getId(),i.push(L)}return i}catch(i){return Promise.reject(i)}}getRuneMainOpReturnOutput(e,r){let n=!1;zn.networks.bitcoin===e&&(n=!0),r.useDefaultOutput==null&&(r.useDefaultOutput=!1),r.defaultOutput==null&&(r.defaultOutput=0),r.mint==null&&(r.mint=!1),r.mintNum==null&&(r.mintNum=0);let i=(0,qb.buildRuneMainMintData)(n,r.edicts,r.useDefaultOutput,r.defaultOutput,r.mint,r.mintNum);return{address:"",amount:0,omniScript:iL.base.toHex(i)}}async estimateFee(e){try{let r=this.network();if(!e.data.runeData)return Promise.reject("missing runeData");let n=this.convert2RuneTx(e.data),i=this.getRuneMainOpReturnOutput(this.network(),n.runeData);n.outputs.push(i);let a={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},s=n.outputs.length;for(let f=0;f<a.mintNum-1;f++)n.outputs.push({address:e.data.address,amount:8e3});let o=no.estimateBtcFee(n,this.network());if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)return Promise.resolve(o);if(e.data.runeData.mint&&!e.data.runeData.serialMint){let f=[];f.push(o);let c={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},u=this.getMockMinRuneTx(e.data,c),d=this.getRuneMainOpReturnOutput(this.network(),u.runeData);u.outputs.push(d);let l=no.estimateBtcFee(u,this.network());for(let _=0;_<e.data.runeData.mintNum-1;_++)f.push(l);return Promise.resolve(f)}else if(e.data.runeData.mint&&e.data.runeData.serialMint){let f=[];if(!e.data.runeData)return Promise.reject("missing runeData");let c={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},u=this.getMockMinRuneTx(e.data,c),d=(0,qb.buildRuneMainMintOp)(c.id,!1,0,!0);u.outputs.push(d);let l=no.estimateBtcFee(u,this.network()),_=(c.mintNum-1)*l+546,T=this.convert2RuneTxSerialMint(e.data,_);T.outputs.push(d);let B=no.estimateBtcFee(T,r);f.push(B);for(let F=1;F<c.mintNum;F++)f.push(l);return Promise.resolve(f)}}catch(r){return Promise.reject(r)}}convert2RuneTxSerialMint(e,r){let n=(0,$c.cloneObject)(e),i=[{address:n.address,amount:r}];return{inputs:n.inputs,outputs:i,address:n.address,feePerB:n.feePerB,runeData:{edicts:n.runeData.edicts,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}convert2RuneTxPsbt(e){let r=(0,$c.cloneObject)(e);return{inputs:r.inputs,outputs:r.outputs,address:r.address,feePerB:r.feePerB,runeData:{edicts:r.runeData.edicts,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}async buildPsbt(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let a=this.convert2RuneTxPsbt(e.data),s=this.getRuneMainOpReturnOutput(r,a.runeData);a.outputs.push(s);let o="KwdkfXMV2wxDVDMPPuFZsio3NeCskAUd4N2U4PriTgpj2MqAGmmc";a.dustSize==null&&(a.dustSize=546);let{inputAmount:f,outputAmount:c,virtualSize:u}=(0,zn.calculateTxSize)(a.inputs,a.outputs,a.address,o,r,a.dustSize),d=f-c-u*a.feePerB;d>a.dustSize&&a.outputs.push({address:a.address,amount:d});let _=[(0,zn.buildPsbt)(a,r),d];return Promise.resolve(_)}catch(i){return Promise.reject(i)}}};vt.RuneMainWallet=Qh;var kb=class extends Qh{network(){return no.networks.testnet}};vt.RuneMainTestWallet=kb});var $w=H(qe=>{"use strict";g();m();var aL=qe&&qe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sL=qe&&qe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oL=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aL(e,t,r);return sL(e,t),e};Object.defineProperty(qe,"__esModule",{value:!0});qe.AtomicalTestWallet=qe.AtomicalWallet=qe.ErrCodeInvalidInputAsset=qe.ErrCodeAtomicalNotFullyAllocated=qe.ErrCodeSemiColorOuput=qe.ErrCodeMul=qe.ErrCodeUnknownAsset=qe.ErrCodeCommon=qe.ErrCodeVoutDust=qe.ErrCodeAtomicalChangeFail=qe.ErrCodeLessAtomicalAmt=void 0;var fL=Fi(),cL=ji(),Yw=oL(en()),uL=en();qe.ErrCodeLessAtomicalAmt=2011400;qe.ErrCodeAtomicalChangeFail=2011401;qe.ErrCodeVoutDust=2011402;qe.ErrCodeCommon=2011403;qe.ErrCodeUnknownAsset=2011404;qe.ErrCodeMul=2011420;qe.ErrCodeSemiColorOuput=2011405;qe.ErrCodeAtomicalNotFullyAllocated=2011406;qe.ErrCodeInvalidInputAsset=2011407;var e0=class extends cL.BtcWallet{convert2AtomicalTx(e){let r=(0,fL.cloneObject)(e),n=new Map,i=new Map,a=new Map,s=[],o=r.feePerB||10,f=r.dustSize||546,c=r.inputs;for(let l of c){let _=l.data;if(_!=null&&_ instanceof Array)for(let T of _){let B=T.atomicalId,F=T.type,L=Number(T.amount);if(B==null||L==null||F==null||F!="FT"&&F!="NFT")continue;if(L>l.amount)throw new Error(JSON.stringify({errCode:qe.ErrCodeInvalidInputAsset}));i.get(B)==null&&i.set(B,F);let J=n.get(B);J==null?n.set(B,L):n.set(B,J+L)}if(Object.keys(n).length>1)throw new Error(JSON.stringify({errCode:qe.ErrCodeMul}))}let u=r.outputs,d=0;for(let l of u){let _=l.data;if(_!=null&&_ instanceof Array)for(let T of _){let B=T.atomicalId,F=Number(T.amount),L=T.type;if(L=="FT"&&F!=l.amount&&F>f)throw new Error(JSON.stringify({errCode:qe.ErrCodeSemiColorOuput}));if(B==null||F==null||L==null||L!="FT"&&L!="NFT")continue;if(L=="FT"&&F!=l.amount&&(d+=1,d==2))throw new Error(JSON.stringify({errCode:qe.ErrCodeSemiColorOuput}));if(i.get(B)!=L)throw new Error(JSON.stringify({errCode:qe.ErrCodeUnknownAsset}));let J=a.get(B);if(J==null)a.set(B,F);else if(a.set(B,J+F),L=="NFT")throw new Error(JSON.stringify({errCode:qe.ErrCodeMul}))}if(Object.keys(a).length>1)throw new Error(JSON.stringify({errCode:qe.ErrCodeMul}));s.push({amount:l.amount,address:l.address})}for(let l of n.keys()){let _=n.get(l),T=a.get(l);if(_!=T)throw new Error(JSON.stringify({errCode:qe.ErrCodeAtomicalNotFullyAllocated,date:{atomicalId:l,inputAmount:_,sendAmount:T}}))}for(let[l,_]of s.entries())if(_.amount<f)throw new Error(JSON.stringify({errCode:qe.ErrCodeVoutDust,vOut:l}));return{inputs:r.inputs,outputs:s,address:r.address,feePerB:o}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey,a=this.convert2AtomicalTx(e.data);return n=(0,uL.signBtc)(a,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async estimateFee(e){try{let r=this.convert2AtomicalTx(e.data),n=Yw.estimateBtcFee(r,this.network());return Promise.resolve(n)}catch(r){return Promise.reject(r)}}};qe.AtomicalWallet=e0;var Nb=class extends e0{network(){return Yw.networks.testnet}};qe.AtomicalTestWallet=Nb});var Jh=H(Nr=>{"use strict";g();m();var dL=Nr&&Nr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ma=Nr&&Nr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dL(e,t,r)};Object.defineProperty(Nr,"__esModule",{value:!0});ma(ji(),Nr);ma(Nw(),Nr);ma(Hw(),Nr);ma(Uw(),Nr);ma(Lw(),Nr);ma(Fw(),Nr);ma(Vw(),Nr);ma(Xw(),Nr);ma($w(),Nr)});var Zw=H(t0=>{"use strict";g();m();Object.defineProperty(t0,"__esModule",{value:!0});t0.oneKeyBuildBtcTx=void 0;var hL=Pn(),lL=Ba(),Hb=$e(),Ub=Jh(),Db=Ei(),pL=tn(),bL={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},vL={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function yL(t,e=pL.bitcoin){let r=(0,Ub.convert2UtxoTx)(t);if(r.omni){let f=(0,Ub.number2Hex)(r.omni.coinType||31,8),c=(0,Ub.number2Hex)(r.omni.amount,16),u="6f6d6e6900000000"+f+c;r.outputs.push({address:"",amount:0,omniScript:u})}let n=parseInt((0,Db.signBtc)(r,"",e,void 0,!0,!0)),i=t.dustSize||546;n>=i&&r.outputs.push({address:r.address,amount:n,derivationPath:r.derivationPath,isChange:!0});let a=[],s=[];r.inputs.forEach(f=>{let c=Jw(f.derivationPath);a.push({address_n:c,prev_hash:f.txId,prev_index:f.vOut,amount:f.amount.toString(),script_type:bL[(0,Db.getAddressType)(f.address,e)]}),s.push(gL(f.nonWitnessUtxo,f.txId))});let o=[];return r.outputs.forEach(f=>{f.isChange?o.push({address_n:Jw(f.derivationPath),amount:f.amount.toString(),script_type:vL[(0,Db.getAddressType)(f.address,e)]}):f.omniScript?o.push({amount:"0",op_return_data:f.omniScript,script_type:"PAYTOOPRETURN"}):o.push({address:f.address,amount:f.amount.toString(),script_type:"PAYTOADDRESS"})}),{inputs:a,outputs:o,refTxs:s,coin:"btc"}}t0.oneKeyBuildBtcTx=yL;function gL(t,e){let r=hL.Transaction.fromHex(t),n=[];r.ins.forEach(a=>{n.push({prev_hash:Hb.base.toHex((0,lL.reverseBuffer)(a.hash)),prev_index:a.index,script_sig:Hb.base.toHex(a.script),sequence:a.sequence})});let i=[];return r.outs.forEach(a=>{i.push({amount:a.value,script_pubkey:Hb.base.toHex(a.script)})}),{hash:e,inputs:n,bin_outputs:i,lock_time:r.locktime,version:r.version}}function Jw(t){let e=t.split("/");e[0]==="m"&&(e=e.slice(1));let r=[];return e.forEach(n=>{let i;n.slice(-1)==="'"?i=mL(parseInt(n.slice(0,-1),10)):i=parseInt(n,10),r.push(i)}),r}function mL(t){return 2147483648+t}});var Qw=H(Jc=>{"use strict";g();m();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.BtcXrcTypes=void 0;var wL;(function(t){t[t.INSCRIBE=1]="INSCRIBE",t[t.PSBT=2]="PSBT",t[t.PSBT_MPC_UNSIGNED_LIST=21]="PSBT_MPC_UNSIGNED_LIST",t[t.PSBT_MPC_SIGNED_LIST=22]="PSBT_MPC_SIGNED_LIST",t[t.PSBT_MPC_UNSIGNED_BUY=23]="PSBT_MPC_UNSIGNED_BUY",t[t.PSBT_MPC_SIGNED_BUY=24]="PSBT_MPC_SIGNED_BUY",t[t.PSBT_MPC_UNSIGNED=25]="PSBT_MPC_UNSIGNED",t[t.PSBT_MPC_SIGNED=26]="PSBT_MPC_SIGNED",t[t.PSBT_RUNEMAIN=27]="PSBT_RUNEMAIN",t[t.PSBT_KEY_SCRIPT_PATH=3]="PSBT_KEY_SCRIPT_PATH",t[t.PSBT_KEY_SCRIPT_PATH_BATCH=4]="PSBT_KEY_SCRIPT_PATH_BATCH",t[t.SRC20=101]="SRC20",t[t.RUNE=102]="RUNE",t[t.RUNEMAIN=103]="RUNEMAIN",t[t.PSBT_DEODE=104]="PSBT_DEODE",t[t.ARC20=114]="ARC20"})(wL=Jc.BtcXrcTypes||(Jc.BtcXrcTypes={}))});var en=H(ot=>{g();m();var e_=ot&&ot.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_L=ot&&ot.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oi=ot&&ot.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&e_(e,t,r)},t_=ot&&ot.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e_(e,t,r);return _L(e,t),e};Object.defineProperty(ot,"__esModule",{value:!0});ot.message=ot.wif=void 0;oi(Pn(),ot);oi(fw(),ot);oi(Ei(),ot);oi(uw(),ot);ot.wif=t_(Al());oi(bw(),ot);oi(xw(),ot);oi(Ow(),ot);oi(hb(),ot);ot.message=t_(Rw());oi(Jh(),ot);oi(Zw(),ot);oi(Qw(),ot)});module.exports=en();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
