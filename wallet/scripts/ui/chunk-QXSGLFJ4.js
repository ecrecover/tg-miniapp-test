import{b as D,c as U}from"./chunk-A7QDOMG2.js";import{b as x,c as K}from"./chunk-UV4CBWDM.js";import{n as W}from"./chunk-JZYFGUUR.js";import{a as B}from"./chunk-SPMBQ3GG.js";import{a as C}from"./chunk-4Z4GXCHB.js";import{xb as g,y as N}from"./chunk-FK3ETA6I.js";import{a as J}from"./chunk-EJQOS3F4.js";import{Gc as A,Kb as z,ib as R,kb as f,lb as _,o as I,za as v}from"./chunk-QG673PNL.js";import{G as y}from"./chunk-6MTHEPGF.js";import{I as j,w as h}from"./chunk-ZQQ7HNWV.js";import{a as q}from"./chunk-ADZWCU3Q.js";import{f as u,m as o,o as l}from"./chunk-REC7XVZY.js";o();l();var H=u(q()),L=u(N()),b=u(J());j();o();l();var Y=u(N());function k(){return(0,Y.useSelector)(B)}o();l();v();z();var G=({walletAccounts:n,rpcData:m,assetsMap:r,showNftAmount:p,selectedCurrency:d,hiddenSmallAsset:c})=>{let a=n.map(t=>{if(!t)return{walletAsset:"0",platformAsset:"0"};let{walletId:e}=t;if(!!m){let{chainTokensAccountMap:E}=m,i=t?.account?.[I];if(!i||[A.HD_KEYRING,A.SIMPLE_KEYRING,A.MPC_KEYRING].indexOf(t?.initialType)<0)return{unsupported:!0,walletAsset:"0",platformAsset:"0",...t};let{balance:F="0"}=E[i]?.filter(({address:O})=>!O)[0]||{};return{walletAsset:F,platformAsset:"0",...t}}let s=r.get(e),T=(s?[s.tokenTotalAssetsUSD,s.defiTotalAssetsUSD,p?s.nftTotalAssetsUSD:"0"]:[]).reduce((E,i)=>f(E,i),"0");return{walletAsset:s?R(c?_(T,s.smallTotalAssetsUSD):T,d.usdToThisRate):"--",platformAsset:s?s.platformTotalAssetsUSD:"--",...t}}),{walletAsset:w,platformAsset:M}=a.reduce((t,e)=>({walletAsset:f(t.walletAsset,e.walletAsset==="--"?"0":e.walletAsset),platformAsset:f(t.platformAsset,e.platformAsset==="--"?"0":e.platformAsset)}),{walletAsset:"0",platformAsset:"0"});return{walletAccountsWidthBalance:a,walletAsset:w,platformAsset:M}};var Q=n=>{let m=(0,b.useHistory)(),r=W(n),[p]=K(x.showNftAmount),d=D(),c=U(d),a=k(),w=(0,L.useSelector)(g);return r||(y.error(h("wallet_extension_top_error_parameters")),m.push(C)),(0,H.useMemo)(()=>{let{walletIdentities:M}=r,{walletAccountsWidthBalance:t,walletAsset:e,platformAsset:S}=G({walletAccounts:M,showNftAmount:p,rpcData:null,selectedCurrency:c,assetsMap:a,hiddenSmallAsset:w});return{...r,walletAsset:e,platformAsset:S,walletIdentities:t}},[r,p,c,a])},Et=Q;export{k as a,G as b,Et as c};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-QXSGLFJ4.js.map
