import{h as F}from"./chunk-7DP5LYUM.js";import{b as R}from"./chunk-WY46TT4P.js";import{M as L}from"./chunk-7KCWBFQ2.js";import{f as q}from"./chunk-7Y44NCE5.js";import{a as B,v as N}from"./chunk-6FOZGMAL.js";import{Nb as w,jb as h,kb as b,y as W}from"./chunk-HPXM6RSK.js";import{a as S}from"./chunk-6DDC4Y2S.js";import{f as d,m as f,o as m}from"./chunk-EQYVU4XP.js";f();m();var P=d(S()),p=d(W());function k(e){let r=(0,p.useSelector)(h),n=(0,p.useSelector)(b),i=F(),a=e??i;return(0,P.useCallback)(t=>t?q({coins:t,walletIdentityMap:r,createdMap:n,walletId:a}):[],[r,n,a])}f();m();var c=d(S());var C=d(W());var K=e=>{let r=(0,c.useMemo)(()=>n=>R(n,{enableEmptyAccount:e}),[e]);return(0,C.useSelector)(r)},re=(e,{beforeRequest:r,onFinally:n,reloadDeps:i,enableEmptyAccountCoins:a=!1,enable:t,filter:v=!0}={})=>{let U=K(a),x=(0,C.useSelector)(w),g=(0,c.useRef)(null),D=k(),z=B(async(o=0)=>{if(t===!1)return{list:[],pageNo:o,isNoMore:!0};let I=await r?.();if(I)return I;let y=0,l=null,s=null,M=o;e?.chainIds||(e.chainIds=U.map(H=>H.chainId));do s=await L({...e,userUniqueId:x,pageNo:o}),v?l=D(s):l=s,M++,y++;while(s&&s.length>0&&l?.length===0&&y<5);return{list:l,pageNo:M,isNoMore:l.length===0}}),u;typeof t=="boolean"?i?u=[...i,t]:u=[t]:u=i;let{data:A,loading:G,loadingMore:j,reload:E}=N(o=>z(o?.pageNo??0),{target:g,isNoMore:o=>o?.isNoMore,onFinally:n,reloadDeps:u});return{data:A,loading:G,loadingMore:j,listRef:g,reload:E}};export{k as a,re as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-LXF4L5CX.js.map
