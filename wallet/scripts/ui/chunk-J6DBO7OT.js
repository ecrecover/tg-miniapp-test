import{a as Ue,b as on,c as Va}from"./chunk-COK7OTEE.js";import{a as mo}from"./chunk-PIGJQYQ3.js";import{a as Da}from"./chunk-BDEVQ2S7.js";import{d as Rt}from"./chunk-EWYZZSY3.js";import{L as ve}from"./chunk-FHQVMQUK.js";import{c as g,m as s,n as l,o as a}from"./chunk-REC7XVZY.js";var nr=g(rr=>{"use strict";s();a();Object.defineProperty(rr,"__esModule",{value:!0});rr.crc16=void 0;function Ka(t){let r=0,n=l.Buffer.alloc(t.length+2);n.set(t);for(let o of n){let i=128;for(;i>0;)r<<=1,o&i&&(r+=1),i>>=1,r>65535&&(r&=65535,r^=4129)}return l.Buffer.from([Math.floor(r/256),r%256])}rr.crc16=Ka});var X=g(se=>{"use strict";s();a();var La=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Co;Object.defineProperty(se,"__esModule",{value:!0});se.address=se.Address=void 0;var Fa=La(Ue()),Po=nr(),sn=17,wo=81,an=128;function So(t){if(typeof t=="string"&&!k.isFriendly(t))throw new Error("Unknown address type");let e=l.Buffer.isBuffer(t)?t:l.Buffer.from(t,"base64");if(e.length!==36)throw new Error("Unknown address type: byte length is not equal to 36");let r=e.subarray(0,34),n=e.subarray(34,36),o=(0,Po.crc16)(r);if(!(o[0]===n[0]&&o[1]===n[1]))throw new Error("Invalid checksum: "+t);let i=r[0],u=!1,f=!1;if(i&an&&(u=!0,i=i^an),i!==sn&&i!==wo)throw"Unknown address tag";f=i===sn;let c=null;r[1]===255?c=-1:c=r[1];let h=r.subarray(2,34);return{isTestOnly:u,isBounceable:f,workchain:c,hashPart:h}}var k=class{static isAddress(e){return e instanceof k}static isFriendly(e){return!(e.length!==48||!/[A-Za-z0-9+/_-]+/.test(e))}static isRaw(e){if(e.indexOf(":")===-1)return!1;let[r,n]=e.split(":");return!(!Number.isInteger(parseFloat(r))||!/[a-f0-9]+/.test(n.toLowerCase())||n.length!==64)}static normalize(e){return typeof e=="string"?k.parse(e).toString():e.toString()}static parse(e){if(k.isFriendly(e))return this.parseFriendly(e).address;if(k.isRaw(e))return this.parseRaw(e);throw new Error("Unknown address type: "+e)}static parseRaw(e){let r=parseInt(e.split(":")[0]),n=l.Buffer.from(e.split(":")[1],"hex");return new k(r,n)}static parseFriendly(e){if(l.Buffer.isBuffer(e)){let r=So(e);return{isBounceable:r.isBounceable,isTestOnly:r.isTestOnly,address:new k(r.workchain,r.hashPart)}}else{let r=e.replace(/\-/g,"+").replace(/_/g,"/"),n=So(r);return{isBounceable:n.isBounceable,isTestOnly:n.isTestOnly,isUrlSafe:!(e.includes("/")||e.includes("+")),address:new k(n.workchain,n.hashPart)}}}constructor(e,r){if(this.toRawString=()=>this.workChain+":"+this.hash.toString("hex"),this.toRaw=()=>{let n=l.Buffer.alloc(36);return n.set(this.hash),n.set([this.workChain,this.workChain,this.workChain,this.workChain],32),n},this.toStringBuffer=n=>{let o=n&&n.testOnly!==void 0?n.testOnly:!1,u=(n&&n.bounceable!==void 0?n.bounceable:!0)?sn:wo;o&&(u|=an);let f=l.Buffer.alloc(34);f[0]=u,f[1]=this.workChain,f.set(this.hash,2);let c=l.Buffer.alloc(36);return c.set(f),c.set((0,Po.crc16)(f),34),c},this.toString=n=>{let o=n&&n.urlSafe!==void 0?n.urlSafe:!0,i=this.toStringBuffer(n);return o?i.toString("base64").replace(/\+/g,"-").replace(/\//g,"_"):i.toString("base64")},this[Co]=()=>this.toString(),r.length!==32)throw new Error("Invalid address hash length: "+r.length);this.workChain=e,this.hash=r,Object.freeze(this)}equals(e){return e.workChain!==this.workChain?!1:e.hash.equals(this.hash)}};se.Address=k;Co=Fa.default;function za(t){return k.parse(t)}se.address=za});var or=g(Ie=>{"use strict";s();a();var Ha=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xo;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.ExternalAddress=void 0;var Wa=Ha(Ue()),kt=class{static isAddress(e){return e instanceof kt}constructor(e,r){this[xo]=()=>this.toString(),this.value=e,this.bits=r}toString(){return`External<${this.bits}:${this.value}>`}};Ie.ExternalAddress=kt;xo=Wa.default});var un=g(Te=>{"use strict";s();a();Object.defineProperty(Te,"__esModule",{value:!0});Te.base32Decode=Te.base32Encode=void 0;var ln="abcdefghijklmnopqrstuvwxyz234567";function $a(t){let e=t.byteLength,r=0,n=0,o="";for(let i=0;i<e;i++)for(n=n<<8|t[i],r+=8;r>=5;)o+=ln[n>>>r-5&31],r-=5;return r>0&&(o+=ln[n<<5-r&31]),o}Te.base32Encode=$a;function Qa(t,e){let r=t.indexOf(e);if(r===-1)throw new Error("Invalid character found: "+e);return r}function Ga(t){let e;e=t.toLowerCase();let{length:r}=e,n=0,o=0,i=0,u=l.Buffer.alloc(r*5/8|0);for(let f=0;f<r;f++)o=o<<5|Qa(ln,e[f]),n+=5,n>=8&&(u[i++]=o>>>n-8&255,n-=8);return u}Te.base32Decode=Ga});var Uo=g(Ee=>{"use strict";s();a();var Ya=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},vo;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ADNLAddress=void 0;var Xa=Ya(Ue()),Ao=un(),Mo=nr(),Oe=class{static parseFriendly(e){if(e.length!==55)throw Error("Invalid address");e="f"+e;let r=(0,Ao.base32Decode)(e);if(r[0]!==45)throw Error("Invalid address");let n=r.slice(33);if(!(0,Mo.crc16)(r.slice(0,33)).equals(n))throw Error("Invalid address");return new Oe(r.slice(1,33))}static parseRaw(e){let r=l.Buffer.from(e,"base64");return new Oe(r)}constructor(e){if(this.toRaw=()=>this.address.toString("hex").toUpperCase(),this.toString=()=>{let r=l.Buffer.concat([l.Buffer.from([45]),this.address]),n=(0,Mo.crc16)(r);return r=l.Buffer.concat([r,n]),(0,Ao.base32Encode)(r).slice(1)},this[vo]=()=>this.toString(),e.length!==32)throw Error("Invalid address");this.address=e}equals(e){return this.address.equals(e.address)}};Ee.ADNLAddress=Oe;vo=Xa.default});var qt=g(Re=>{"use strict";s();a();Object.defineProperty(Re,"__esModule",{value:!0});Re.paddedBufferToBits=Re.bitsToPaddedBuffer=void 0;var Za=jt(),Ja=Z();function el(t){let e=new Za.BitBuilder(Math.ceil(t.length/8)*8);e.writeBits(t);let r=Math.ceil(t.length/8)*8-t.length;for(let n=0;n<r;n++)n===0?e.writeBit(1):e.writeBit(0);return e.buffer()}Re.bitsToPaddedBuffer=el;function tl(t){let e=0;for(let r=t.length-1;r>=0;r--)if(t[r]!==0){let n=t[r],o=n&-n;(o&1)==0&&(o=Math.log2(o)+1),r>0&&(e=r<<3),e+=8-o;break}return new Ja.BitString(t,0,e)}Re.paddedBufferToBits=tl});var Z=g(ke=>{"use strict";s();a();var rl=ke&&ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Io;Object.defineProperty(ke,"__esModule",{value:!0});ke.BitString=void 0;var nl=qt(),ol=rl(Ue()),J=class{static isBitString(e){return e instanceof J}constructor(e,r,n){if(this[Io]=()=>this.toString(),n<0)throw new Error(`Length ${n} is out of bounds`);this._length=n,this._data=e,this._offset=r}get length(){return this._length}at(e){if(e>=this._length)throw new Error(`Index ${e} > ${this._length} is out of bounds`);if(e<0)throw new Error(`Index ${e} < 0 is out of bounds`);let r=this._offset+e>>3,n=7-(this._offset+e)%8;return(this._data[r]&1<<n)!==0}substring(e,r){if(e>this._length)throw new Error(`Offset(${e}) > ${this._length} is out of bounds`);if(e<0)throw new Error(`Offset(${e}) < 0 is out of bounds`);if(r===0)return J.EMPTY;if(e+r>this._length)throw new Error(`Offset ${e} + Length ${r} > ${this._length} is out of bounds`);return new J(this._data,this._offset+e,r)}subbuffer(e,r){if(e>this._length)throw new Error(`Offset ${e} is out of bounds`);if(e<0)throw new Error(`Offset ${e} is out of bounds`);if(e+r>this._length)throw new Error(`Offset + Lenght = ${e+r} is out of bounds`);if(r%8!==0||(this._offset+e)%8!==0)return null;let n=this._offset+e>>3,o=n+(r>>3);return this._data.subarray(n,o)}equals(e){if(this._length!==e._length)return!1;for(let r=0;r<this._length;r++)if(this.at(r)!==e.at(r))return!1;return!0}toString(){let e=(0,nl.bitsToPaddedBuffer)(this);if(this._length%4===0){let r=e.subarray(0,Math.ceil(this._length/8)).toString("hex").toUpperCase();return this._length%8===0?r:r.substring(0,r.length-1)}else{let r=e.toString("hex").toUpperCase();return this._length%8<=4?r.substring(0,r.length-1)+"_":r+"_"}}};ke.BitString=J;Io=ol.default;J.EMPTY=new J(l.Buffer.alloc(0),0,0)});var jt=g(ir=>{"use strict";s();a();Object.defineProperty(ir,"__esModule",{value:!0});ir.BitBuilder=void 0;var il=X(),sl=or(),al=Z(),dn=class{constructor(e=1023){this._buffer=l.Buffer.alloc(Math.ceil(e/8)),this._length=0}get length(){return this._length}writeBit(e){let r=this._length;if(r>this._buffer.length*8)throw new Error("BitBuilder overflow");(typeof e=="boolean"&&e===!0||typeof e=="number"&&e>0)&&(this._buffer[r/8|0]|=1<<7-r%8),this._length++}writeBits(e){for(let r=0;r<e.length;r++)this.writeBit(e.at(r))}writeBuffer(e){if(this._length%8===0){if(this._length+e.length*8>this._buffer.length*8)throw new Error("BitBuilder overflow");e.copy(this._buffer,this._length/8),this._length+=e.length*8}else for(let r=0;r<e.length;r++)this.writeUint(e[r],8)}writeUint(e,r){if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);let n=BigInt(e);if(r===0){if(n!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}let o=1n<<BigInt(r);if(n<0||n>=o)throw Error(`bitLength is too small for a value ${e}. Got ${r}`);if(this._length+r>this._buffer.length*8)throw new Error("BitBuilder overflow");let i=8-this._length%8;if(i>0){let u=Math.floor(this._length/8);if(r<i){let f=Number(n);this._buffer[u]|=f<<i-r,this._length+=r}else{let f=Number(n>>BigInt(r-i));this._buffer[u]|=f,this._length+=i}}for(r-=i;r>0;)r>=8?(this._buffer[this._length/8]=Number(n>>BigInt(r-8)&0xffn),this._length+=8,r-=8):(this._buffer[this._length/8]=Number(n<<BigInt(8-r)&0xffn),this._length+=r,r=0)}writeInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(r===0){if(e!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}if(r===1){if(e!==-1n&&e!==0n)throw Error(`value is not zero or -1 for ${r} bits. Got ${e}`);this.writeBit(e===-1n);return}let o=1n<<BigInt(r)-1n;if(n<-o||n>=o)throw Error(`value is out of range for ${r} bits. Got ${e}`);n<0?(this.writeBit(!0),n=o+n):this.writeBit(!1),this.writeUint(n,r-1)}writeVarUint(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n<0)throw Error(`value is negative. Got ${e}`);if(n===0n){this.writeUint(0,r);return}let o=Math.ceil(n.toString(2).length/8),i=o*8;this.writeUint(o,r),this.writeUint(n,i)}writeVarInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n===0n){this.writeUint(0,r);return}let o=n>0?n:-n,i=1+Math.ceil(o.toString(2).length/8),u=i*8;this.writeUint(i,r),this.writeInt(n,u)}writeCoins(e){this.writeVarUint(e,4)}writeAddress(e){if(e==null){this.writeUint(0,2);return}if(il.Address.isAddress(e)){this.writeUint(2,2),this.writeUint(0,1),this.writeInt(e.workChain,8),this.writeBuffer(e.hash);return}if(sl.ExternalAddress.isAddress(e)){this.writeUint(1,2),this.writeUint(e.bits,9),this.writeUint(e.value,e.bits);return}throw Error(`Invalid address. Got ${e}`)}build(){return new al.BitString(this._buffer,0,this._length)}buffer(){if(this._length%8!==0)throw new Error("BitBuilder buffer is not byte aligned");return this._buffer.subarray(0,this._length/8)}};ir.BitBuilder=dn});var qe=g(Nt=>{"use strict";s();a();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.CellType=void 0;var ll;(function(t){t[t.Ordinary=-1]="Ordinary",t[t.PrunedBranch=1]="PrunedBranch",t[t.Library=2]="Library",t[t.MerkleProof=3]="MerkleProof",t[t.MerkleUpdate=4]="MerkleUpdate"})(ll=Nt.CellType||(Nt.CellType={}))});var To=g(sr=>{"use strict";s();a();Object.defineProperty(sr,"__esModule",{value:!0});sr.readUnaryLength=void 0;function ul(t){let e=0;for(;t.loadBit();)e++;return e}sr.readUnaryLength=ul});var ee=g(ar=>{"use strict";s();a();Object.defineProperty(ar,"__esModule",{value:!0});ar.BitReader=void 0;var dl=X(),fl=or(),Dt=class{constructor(e,r=0){this._checkpoints=[],this._bits=e,this._offset=r}get offset(){return this._offset}get remaining(){return this._bits.length-this._offset}skip(e){if(e<0||this._offset+e>this._bits.length)throw new Error(`Index ${this._offset+e} is out of bounds`);this._offset+=e}reset(){this._checkpoints.length>0?this._offset=this._checkpoints.pop():this._offset=0}save(){this._checkpoints.push(this._offset)}loadBit(){let e=this._bits.at(this._offset);return this._offset++,e}preloadBit(){return this._bits.at(this._offset)}loadBits(e){let r=this._bits.substring(this._offset,e);return this._offset+=e,r}preloadBits(e){return this._bits.substring(this._offset,e)}loadBuffer(e){let r=this._preloadBuffer(e,this._offset);return this._offset+=e*8,r}preloadBuffer(e){return this._preloadBuffer(e,this._offset)}loadUint(e){return Number(this.loadUintBig(e))}loadUintBig(e){let r=this.preloadUintBig(e);return this._offset+=e,r}preloadUint(e){return Number(this._preloadUint(e,this._offset))}preloadUintBig(e){return this._preloadUint(e,this._offset)}loadInt(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,Number(r)}loadIntBig(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,r}preloadInt(e){return Number(this._preloadInt(e,this._offset))}preloadIntBig(e){return this._preloadInt(e,this._offset)}loadVarUint(e){let r=Number(this.loadUint(e));return Number(this.loadUintBig(r*8))}loadVarUintBig(e){let r=Number(this.loadUint(e));return this.loadUintBig(r*8)}preloadVarUint(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadUint(r*8,this._offset+e))}preloadVarUintBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadUint(r*8,this._offset+e)}loadVarInt(e){let r=Number(this.loadUint(e));return Number(this.loadIntBig(r*8))}loadVarIntBig(e){let r=Number(this.loadUint(e));return this.loadIntBig(r*8)}preloadVarInt(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadInt(r*8,this._offset+e))}preloadVarIntBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadInt(r*8,this._offset+e)}loadCoins(){return this.loadVarUintBig(4)}preloadCoins(){return this.preloadVarUintBig(4)}loadAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===2)return this._loadInternalAddress();throw new Error("Invalid address: "+e)}loadMaybeAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();throw new Error("Invalid address")}loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadMaybeExternalAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadAddressAny(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();if(e===1)return this._loadExternalAddress();throw Error(e===3?"Unsupported":"Unreachable")}loadPaddedBits(e){if(e%8!==0)throw new Error("Invalid number of bits");let r=e;for(;;)if(this._bits.at(this._offset+r-1)){r--;break}else r--;let n=this._bits.substring(this._offset,r);return this._offset+=e,n}clone(){return new Dt(this._bits,this._offset)}_preloadInt(e,r){if(e==0)return 0n;let n=this._bits.at(r),o=0n;for(let i=0;i<e-1;i++)this._bits.at(r+1+i)&&(o+=1n<<BigInt(e-i-1-1));return n&&(o=o-(1n<<BigInt(e-1))),o}_preloadUint(e,r){if(e==0)return 0n;let n=0n;for(let o=0;o<e;o++)this._bits.at(r+o)&&(n+=1n<<BigInt(e-o-1));return n}_preloadBuffer(e,r){let n=this._bits.subbuffer(r,e*8);if(n)return n;let o=l.Buffer.alloc(e);for(let i=0;i<e;i++)o[i]=Number(this._preloadUint(8,r+i*8));return o}_loadInternalAddress(){if(Number(this._preloadUint(2,this._offset))!==2||this._preloadUint(1,this._offset+2)!==0n)throw Error("Invalid address");let r=Number(this._preloadInt(8,this._offset+3)),n=this._preloadBuffer(32,this._offset+11);return this._offset+=267,new dl.Address(r,n)}_loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))!==1)throw Error("Invalid address");let r=Number(this._preloadUint(9,this._offset+2)),n=this._preloadUint(r,this._offset+11);return this._offset+=11+r,new fl.ExternalAddress(n,r)}};ar.BitReader=Dt});var Vt=g(je=>{"use strict";s();a();Object.defineProperty(je,"__esModule",{value:!0});je.convertToMerkleProof=je.exoticMerkleProof=void 0;var cl=ee(),hl=w();function gl(t,e){let r=new cl.BitReader(t),n=8+256+16;if(t.length!==n)throw new Error(`Merkle Proof cell must have exactly (8 + 256 + 16) bits, got "${t.length}"`);if(e.length!==1)throw new Error(`Merkle Proof cell must have exactly 1 ref, got "${e.length}"`);let o=r.loadUint(8);if(o!==3)throw new Error(`Merkle Proof cell must have type 3, got "${o}"`);let i=r.loadBuffer(32),u=r.loadUint(16),f=e[0].hash(0),c=e[0].depth(0);if(u!==c)throw new Error(`Merkle Proof cell ref depth must be exactly "${u}", got "${c}"`);if(!i.equals(f))throw new Error(`Merkle Proof cell ref hash must be exactly "${i.toString("hex")}", got "${f.toString("hex")}"`);return{proofDepth:u,proofHash:i}}je.exoticMerkleProof=gl;function pl(t){return(0,hl.beginCell)().storeUint(3,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).storeRef(t).endCell({exotic:!0})}je.convertToMerkleProof=pl});var lr=g(Ne=>{"use strict";s();a();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.generateMerkleProof=Ne.generateMerkleProofDirect=void 0;var cn=w(),yl=To(),_l=Vt();function bl(t){return(0,cn.beginCell)().storeUint(1,8).storeUint(1,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).endCell({exotic:!0})}function fn(t,e,r,n){let o=e.asCell();if(n.length==0)return bl(o);let i=e.loadBit()?1:0,u=0,f=t;if(i===0){u=(0,yl.readUnaryLength)(e);for(let c=0;c<u;c++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let h=0;h<u;h++)f+=e.loadBit()?"1":"0"}else{let h=e.loadBit()?"1":"0";u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let y=0;y<u;y++)f+=h}if(r-u===0)return o;{let c=o.beginParse(),h=c.loadRef(),y=c.loadRef();if(!h.isExotic){let B=n.filter(_=>f+"0"===_.slice(0,f.length+1));h=fn(f+"0",h.beginParse(),r-u-1,B)}if(!y.isExotic){let B=n.filter(_=>f+"1"===_.slice(0,f.length+1));y=fn(f+"1",y.beginParse(),r-u-1,B)}return(0,cn.beginCell)().storeSlice(c).storeRef(h).storeRef(y).endCell()}}function Oo(t,e,r){e.forEach(o=>{if(!t.has(o))throw new Error(`Trying to generate merkle proof for a missing key "${o}"`)});let n=(0,cn.beginCell)().storeDictDirect(t).asSlice();return fn("",n,r.bits,e.map(o=>r.serialize(o).toString(2).padStart(r.bits,"0")))}Ne.generateMerkleProofDirect=Oo;function Bl(t,e,r){return(0,_l.convertToMerkleProof)(Oo(t,e,r))}Ne.generateMerkleProof=Bl});var hn=g(ur=>{"use strict";s();a();Object.defineProperty(ur,"__esModule",{value:!0});ur.generateMerkleUpdate=void 0;var ml=w(),Eo=lr();function Sl(t,e){return(0,ml.beginCell)().storeUint(4,8).storeBuffer(t.hash(0)).storeBuffer(e.hash(0)).storeUint(t.depth(0),16).storeUint(e.depth(0),16).storeRef(t).storeRef(e).endCell({exotic:!0})}function Cl(t,e,r,n){let o=(0,Eo.generateMerkleProof)(t,[e],r).refs[0];t.set(e,n);let i=(0,Eo.generateMerkleProof)(t,[e],r).refs[0];return Sl(o,i)}ur.generateMerkleUpdate=Cl});var Ro=g(dr=>{"use strict";s();a();Object.defineProperty(dr,"__esModule",{value:!0});dr.parseDict=void 0;function Pl(t){let e=0;for(;t.loadBit();)e++;return e}function gn(t,e,r,n,o){let i=e.loadBit()?1:0,u=0,f=t;if(i===0){u=Pl(e);for(let c=0;c<u;c++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let h=0;h<u;h++)f+=e.loadBit()?"1":"0"}else{let h=e.loadBit()?"1":"0";u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let y=0;y<u;y++)f+=h}if(r-u===0)n.set(BigInt("0b"+f),o(e));else{let c=e.loadRef(),h=e.loadRef();c.isExotic||gn(f+"0",c.beginParse(),r-u-1,n,o),h.isExotic||gn(f+"1",h.beginParse(),r-u-1,n,o)}}function wl(t,e,r){let n=new Map;return t&&gn("",t,e,n,r),n}dr.parseDict=wl});var ko=g(fr=>{"use strict";s();a();Object.defineProperty(fr,"__esModule",{value:!0});fr.findCommonPrefix=void 0;function xl(t,e=0){if(t.length===0)return"";let r=t[0].slice(e);for(let n=1;n<t.length;n++){let o=t[n];for(;o.indexOf(r,e)!==e;)if(r=r.substring(0,r.length-1),r==="")return r}return r}fr.findCommonPrefix=xl});var Lo=g(O=>{"use strict";s();a();Object.defineProperty(O,"__esModule",{value:!0});O.serializeDict=O.detectLabelType=O.writeLabelSame=O.writeLabelLong=O.writeLabelShort=O.buildTree=void 0;var qo=w(),Al=ko();function Ml(t,e){for(;t.length<e;)t="0"+t;return t}function vl(t,e){if(t.size===0)throw Error("Internal inconsistency");let r=new Map,n=new Map;for(let[o,i]of t.entries())o[e]==="0"?r.set(o,i):n.set(o,i);if(r.size===0)throw Error("Internal inconsistency. Left emtpy.");if(n.size===0)throw Error("Internal inconsistency. Right emtpy.");return{left:r,right:n}}function Ul(t,e){if(t.size===0)throw Error("Internal inconsistency");if(t.size===1)return{type:"leaf",value:Array.from(t.values())[0]};let{left:r,right:n}=vl(t,e);return{type:"fork",left:pn(r,e+1),right:pn(n,e+1)}}function pn(t,e=0){if(t.size===0)throw Error("Internal inconsistency");let r=(0,Al.findCommonPrefix)(Array.from(t.keys()),e);return{label:r,node:Ul(t,r.length+e)}}function jo(t,e){let r=new Map;for(let n of Array.from(t.keys())){let o=Ml(n.toString(2),e);r.set(o,t.get(n))}return pn(r)}O.buildTree=jo;function No(t,e){e.storeBit(0);for(let r=0;r<t.length;r++)e.storeBit(1);return e.storeBit(0),t.length>0&&e.storeUint(BigInt("0b"+t),t.length),e}O.writeLabelShort=No;function Il(t){return 1+t.length+1+t.length}function Do(t,e,r){r.storeBit(1),r.storeBit(0);let n=Math.ceil(Math.log2(e+1));return r.storeUint(t.length,n),t.length>0&&r.storeUint(BigInt("0b"+t),t.length),r}O.writeLabelLong=Do;function Tl(t,e){return 1+1+Math.ceil(Math.log2(e+1))+t.length}function Vo(t,e,r,n){n.storeBit(1),n.storeBit(1),n.storeBit(t);let o=Math.ceil(Math.log2(r+1));n.storeUint(e,o)}O.writeLabelSame=Vo;function Ol(t){return 1+1+1+Math.ceil(Math.log2(t+1))}function El(t){if(t.length===0||t.length===1)return!0;for(let e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0}function Ko(t,e){let r="short",n=Il(t),o=Tl(t,e);if(o<n&&(n=o,r="long"),El(t)){let i=Ol(e);i<n&&(n=i,r="same")}return r}O.detectLabelType=Ko;function Rl(t,e,r){let n=Ko(t,e);n==="short"?No(t,r):n==="long"?Do(t,e,r):n==="same"&&Vo(t[0]==="1",t.length,e,r)}function kl(t,e,r,n){if(t.type==="leaf"&&r(t.value,n),t.type==="fork"){let o=(0,qo.beginCell)(),i=(0,qo.beginCell)();yn(t.left,e-1,r,o),yn(t.right,e-1,r,i),n.storeRef(o),n.storeRef(i)}}function yn(t,e,r,n){Rl(t.label,e,n),kl(t.node,e-t.label.length,r,n)}function ql(t,e,r,n){let o=jo(t,e);yn(o,e,r,n)}O.serializeDict=ql});var zo=g(De=>{"use strict";s();a();Object.defineProperty(De,"__esModule",{value:!0});De.deserializeInternalKey=De.serializeInternalKey=void 0;var Fo=X(),_n=Z(),jl=qt();function Nl(t){if(typeof t=="number"){if(!Number.isSafeInteger(t))throw Error("Invalid key type: not a safe integer: "+t);return"n:"+t.toString(10)}else{if(typeof t=="bigint")return"b:"+t.toString(10);if(Fo.Address.isAddress(t))return"a:"+t.toString();if(l.Buffer.isBuffer(t))return"f:"+t.toString("hex");if(_n.BitString.isBitString(t))return"B:"+t.toString();throw Error("Invalid key type")}}De.serializeInternalKey=Nl;function Dl(t){let e=t.slice(0,2),r=t.slice(2);if(e==="n:")return parseInt(r,10);if(e==="b:")return BigInt(r);if(e==="a:")return Fo.Address.parse(r);if(e==="f:")return l.Buffer.from(r,"hex");if(e==="B:"){let n=r.slice(-1)=="_";if(n||r.length%2!=0){let i=n?r.length-1:r.length,u=r.substr(0,i)+"0";return!n&&(i&1)!==0?new _n.BitString(l.Buffer.from(u,"hex"),0,i<<2):(0,jl.paddedBufferToBits)(l.Buffer.from(u,"hex"))}else return new _n.BitString(l.Buffer.from(r,"hex"),0,r.length<<2)}throw Error("Invalid key type: "+e)}De.deserializeInternalKey=Dl});var ae=g(cr=>{"use strict";s();a();Object.defineProperty(cr,"__esModule",{value:!0});cr.Dictionary=void 0;var Vl=X(),U=w(),Ho=le(),Kl=Z(),Wo=lr(),Ll=hn(),Fl=Ro(),$o=Lo(),te=zo(),E=class{static empty(e,r){return e&&r?new E(new Map,e,r):new E(new Map,null,null)}static load(e,r,n){let o;if(n instanceof Ho.Cell){if(n.isExotic)return E.empty(e,r);o=n.beginParse()}else o=n;let i=o.loadMaybeRef();return i&&!i.isExotic?E.loadDirect(e,r,i.beginParse()):E.empty(e,r)}static loadDirect(e,r,n){if(!n)return E.empty(e,r);let o;n instanceof Ho.Cell?o=n.beginParse():o=n;let i=(0,Fl.parseDict)(o,e.bits,r.parse),u=new Map;for(let[f,c]of i)u.set((0,te.serializeInternalKey)(e.parse(f)),c);return new E(u,e,r)}constructor(e,r,n){this._key=r,this._value=n,this._map=e}get size(){return this._map.size}get(e){return this._map.get((0,te.serializeInternalKey)(e))}has(e){return this._map.has((0,te.serializeInternalKey)(e))}set(e,r){return this._map.set((0,te.serializeInternalKey)(e),r),this}delete(e){let r=(0,te.serializeInternalKey)(e);return this._map.delete(r)}clear(){this._map.clear()}*[Symbol.iterator](){for(let[e,r]of this._map)yield[(0,te.deserializeInternalKey)(e),r]}keys(){return Array.from(this._map.keys()).map(e=>(0,te.deserializeInternalKey)(e))}values(){return Array.from(this._map.values())}store(e,r,n){if(this._map.size===0)e.storeBit(0);else{let o=this._key;r!=null&&(o=r);let i=this._value;if(n!=null&&(i=n),!o)throw Error("Key serializer is not defined");if(!i)throw Error("Value serializer is not defined");let u=new Map;for(let[c,h]of this._map)u.set(o.serialize((0,te.deserializeInternalKey)(c)),h);e.storeBit(1);let f=(0,U.beginCell)();(0,$o.serializeDict)(u,o.bits,i.serialize,f),e.storeRef(f.endCell())}}storeDirect(e,r,n){if(this._map.size===0)throw Error("Cannot store empty dictionary directly");let o=this._key;r!=null&&(o=r);let i=this._value;if(n!=null&&(i=n),!o)throw Error("Key serializer is not defined");if(!i)throw Error("Value serializer is not defined");let u=new Map;for(let[f,c]of this._map)u.set(o.serialize((0,te.deserializeInternalKey)(f)),c);(0,$o.serializeDict)(u,o.bits,i.serialize,e)}generateMerkleProof(e){return(0,Wo.generateMerkleProof)(this,e,this._key)}generateMerkleProofDirect(e){return(0,Wo.generateMerkleProofDirect)(this,e,this._key)}generateMerkleUpdate(e,r){return(0,Ll.generateMerkleUpdate)(this,e,this._key,r)}};cr.Dictionary=E;E.Keys={Address:()=>zl(),BigInt:t=>Hl(t),Int:t=>Wl(t),BigUint:t=>$l(t),Uint:t=>Ql(t),Buffer:t=>Gl(t),BitString:t=>Yl(t)};E.Values={BigInt:t=>Zl(t),Int:t=>Xl(t),BigVarInt:t=>Jl(t),BigUint:t=>ru(t),Uint:t=>tu(t),BigVarUint:t=>eu(t),Bool:()=>nu(),Address:()=>ou(),Cell:()=>iu(),Buffer:t=>au(t),BitString:t=>lu(t),Dictionary:(t,e)=>su(t,e)};function zl(){return{bits:267,serialize:t=>{if(!Vl.Address.isAddress(t))throw Error("Key is not an address");return(0,U.beginCell)().storeAddress(t).endCell().beginParse().preloadUintBig(267)},parse:t=>(0,U.beginCell)().storeUint(t,267).endCell().beginParse().loadAddress()}}function Hl(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");return(0,U.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadIntBig(t)}}function Wl(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);return(0,U.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadInt(t)}}function $l(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");if(e<0)throw Error("Key is negative: "+e);return(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)}}function Ql(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);if(e<0)throw Error("Key is negative: "+e);return(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>Number((0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUint(t))}}function Gl(t){return{bits:t*8,serialize:e=>{if(!l.Buffer.isBuffer(e))throw Error("Key is not a buffer");return(0,U.beginCell)().storeBuffer(e).endCell().beginParse().loadUintBig(t*8)},parse:e=>(0,U.beginCell)().storeUint(e,t*8).endCell().beginParse().loadBuffer(t)}}function Yl(t){return{bits:t,serialize:e=>{if(!Kl.BitString.isBitString(e))throw Error("Key is not a BitString");return(0,U.beginCell)().storeBits(e).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadBits(t)}}function Xl(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadInt(t)}}function Zl(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadIntBig(t)}}function Jl(t){return{serialize:(e,r)=>{r.storeVarInt(e,t)},parse:e=>e.loadVarIntBig(t)}}function eu(t){return{serialize:(e,r)=>{r.storeVarUint(e,t)},parse:e=>e.loadVarUintBig(t)}}function tu(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUint(t)}}function ru(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUintBig(t)}}function nu(){return{serialize:(t,e)=>{e.storeBit(t)},parse:t=>t.loadBit()}}function ou(){return{serialize:(t,e)=>{e.storeAddress(t)},parse:t=>t.loadAddress()}}function iu(){return{serialize:(t,e)=>{e.storeRef(t)},parse:t=>t.loadRef()}}function su(t,e){return{serialize:(r,n)=>{r.store(n)},parse:r=>E.load(t,e,r)}}function au(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid buffer size");r.storeBuffer(e)},parse:e=>e.loadBuffer(t)}}function lu(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid BitString size");r.storeBits(e)},parse:e=>e.loadBits(t)}}});var Bn=g(ue=>{"use strict";s();a();Object.defineProperty(ue,"__esModule",{value:!0});ue.writeString=ue.stringToCell=ue.readString=void 0;var Qo=w();function Go(t){if(t.remainingBits%8!==0)throw new Error(`Invalid string length: ${t.remainingBits}`);if(t.remainingRefs!==0&&t.remainingRefs!==1)throw new Error(`invalid number of refs: ${t.remainingRefs}`);let e;return t.remainingBits===0?e=l.Buffer.alloc(0):e=t.loadBuffer(t.remainingBits/8),t.remainingRefs===1&&(e=l.Buffer.concat([e,Go(t.loadRef().beginParse())])),e}function uu(t){return Go(t).toString()}ue.readString=uu;function bn(t,e){if(t.length>0){let r=Math.floor(e.availableBits/8);if(t.length>r){let n=t.subarray(0,r),o=t.subarray(r);e=e.storeBuffer(n);let i=(0,Qo.beginCell)();bn(o,i),e=e.storeRef(i.endCell())}else e=e.storeBuffer(t)}}function du(t){let e=(0,Qo.beginCell)();return bn(l.Buffer.from(t),e),e.endCell()}ue.stringToCell=du;function fu(t,e){bn(l.Buffer.from(t),e)}ue.writeString=fu});var gr=g(Ke=>{"use strict";s();a();var cu=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Zo;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.Slice=void 0;var hu=cu(Ue()),Yo=ae(),Xo=w(),hr=Bn(),Ve=class{constructor(e,r){this[Zo]=()=>this.toString(),this._reader=e.clone(),this._refs=[...r],this._refsOffset=0}get remainingBits(){return this._reader.remaining}get offsetBits(){return this._reader.offset}get remainingRefs(){return this._refs.length-this._refsOffset}get offsetRefs(){return this._refsOffset}skip(e){return this._reader.skip(e),this}loadBit(){return this._reader.loadBit()}preloadBit(){return this._reader.preloadBit()}loadBoolean(){return this.loadBit()}loadMaybeBoolean(){return this.loadBit()?this.loadBoolean():null}loadBits(e){return this._reader.loadBits(e)}preloadBits(e){return this._reader.preloadBits(e)}loadUint(e){return this._reader.loadUint(e)}loadUintBig(e){return this._reader.loadUintBig(e)}preloadUint(e){return this._reader.preloadUint(e)}preloadUintBig(e){return this._reader.preloadUintBig(e)}loadMaybeUint(e){return this.loadBit()?this.loadUint(e):null}loadMaybeUintBig(e){return this.loadBit()?this.loadUintBig(e):null}loadInt(e){return this._reader.loadInt(e)}loadIntBig(e){return this._reader.loadIntBig(e)}preloadInt(e){return this._reader.preloadInt(e)}preloadIntBig(e){return this._reader.preloadIntBig(e)}loadMaybeInt(e){return this.loadBit()?this.loadInt(e):null}loadMaybeIntBig(e){return this.loadBit()?this.loadIntBig(e):null}loadVarUint(e){return this._reader.loadVarUint(e)}loadVarUintBig(e){return this._reader.loadVarUintBig(e)}preloadVarUint(e){return this._reader.preloadVarUint(e)}preloadVarUintBig(e){return this._reader.preloadVarUintBig(e)}loadVarInt(e){return this._reader.loadVarInt(e)}loadVarIntBig(e){return this._reader.loadVarIntBig(e)}preloadVarInt(e){return this._reader.preloadVarInt(e)}preloadVarIntBig(e){return this._reader.preloadVarIntBig(e)}loadCoins(){return this._reader.loadCoins()}preloadCoins(){return this._reader.preloadCoins()}loadMaybeCoins(){return this._reader.loadBit()?this._reader.loadCoins():null}loadAddress(){return this._reader.loadAddress()}loadMaybeAddress(){return this._reader.loadMaybeAddress()}loadExternalAddress(){return this._reader.loadExternalAddress()}loadMaybeExternalAddress(){return this._reader.loadMaybeExternalAddress()}loadAddressAny(){return this._reader.loadAddressAny()}loadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset++]}preloadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset]}loadMaybeRef(){return this.loadBit()?this.loadRef():null}preloadMaybeRef(){return this.preloadBit()?this.preloadRef():null}loadBuffer(e){return this._reader.loadBuffer(e)}preloadBuffer(e){return this._reader.preloadBuffer(e)}loadStringTail(){return(0,hr.readString)(this)}loadMaybeStringTail(){return this.loadBit()?(0,hr.readString)(this):null}loadStringRefTail(){return(0,hr.readString)(this.loadRef().beginParse())}loadMaybeStringRefTail(){let e=this.loadMaybeRef();return e?(0,hr.readString)(e.beginParse()):null}loadDict(e,r){return Yo.Dictionary.load(e,r,this)}loadDictDirect(e,r){return Yo.Dictionary.loadDirect(e,r,this)}endParse(){if(this.remainingBits>0||this.remainingRefs>0)throw new Error("Slice is not empty")}asCell(){return(0,Xo.beginCell)().storeSlice(this).endCell()}asBuilder(){return(0,Xo.beginCell)().storeSlice(this)}clone(e=!1){if(e){let r=this._reader.clone();return r.reset(),new Ve(r,this._refs)}else{let r=new Ve(this._reader,this._refs);return r._refsOffset=this._refsOffset,r}}toString(){return this.asCell().toString()}};Ke.Slice=Ve;Zo=hu.default});var mn=g(pr=>{"use strict";s();a();Object.defineProperty(pr,"__esModule",{value:!0});pr.exoticLibrary=void 0;var gu=ee();function pu(t,e){let r=new gu.BitReader(t),n=8+256;if(t.length!==n)throw new Error(`Library cell must have exactly (8 + 256) bits, got "${t.length}"`);let o=r.loadUint(8);if(o!==2)throw new Error(`Library cell must have type 2, got "${o}"`);return{}}pr.exoticLibrary=pu});var _r=g(yr=>{"use strict";s();a();Object.defineProperty(yr,"__esModule",{value:!0});yr.exoticMerkleUpdate=void 0;var yu=ee();function _u(t,e){let r=new yu.BitReader(t),n=8+2*(256+16);if(t.length!==n)throw new Error(`Merkle Update cell must have exactly (8 + (2 * (256 + 16))) bits, got "${t.length}"`);if(e.length!==2)throw new Error(`Merkle Update cell must have exactly 2 refs, got "${e.length}"`);let o=r.loadUint(8);if(o!==4)throw new Error(`Merkle Update cell type must be exactly 4, got "${o}"`);let i=r.loadBuffer(32),u=r.loadBuffer(32),f=r.loadUint(16),c=r.loadUint(16);if(f!==e[0].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${f}", got "${e[0].depth(0)}"`);if(!i.equals(e[0].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${i.toString("hex")}", got "${e[0].hash(0).toString("hex")}"`);if(c!==e[1].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${c}", got "${e[1].depth(0)}"`);if(!u.equals(e[1].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${u.toString("hex")}", got "${e[1].hash(0).toString("hex")}"`);return{proofDepth1:f,proofDepth2:c,proofHash1:i,proofHash2:u}}yr.exoticMerkleUpdate=_u});var Br=g(br=>{"use strict";s();a();Object.defineProperty(br,"__esModule",{value:!0});br.LevelMask=void 0;var Kt=class{constructor(e=0){this._mask=0,this._mask=e,this._hashIndex=bu(this._mask),this._hashCount=this._hashIndex+1}get value(){return this._mask}get level(){return 32-Math.clz32(this._mask)}get hashIndex(){return this._hashIndex}get hashCount(){return this._hashCount}apply(e){return new Kt(this._mask&(1<<e)-1)}isSignificant(e){return e===0||(this._mask>>e-1)%2!==0}};br.LevelMask=Kt;function bu(t){return t=t-(t>>1&1431655765),t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>24}});var Sr=g(mr=>{"use strict";s();a();Object.defineProperty(mr,"__esModule",{value:!0});mr.exoticPruned=void 0;var Bu=ee(),Jo=Br();function mu(t,e){let r=new Bu.BitReader(t),n=r.loadUint(8);if(n!==1)throw new Error(`Pruned branch cell must have type 1, got "${n}"`);if(e.length!==0)throw new Error(`Pruned Branch cell can't has refs, got "${e.length}"`);let o;if(t.length===280)o=new Jo.LevelMask(1);else{if(o=new Jo.LevelMask(r.loadUint(8)),o.level<1||o.level>3)throw new Error(`Pruned Branch cell level must be >= 1 and <= 3, got "${o.level}/${o.value}"`);let c=8+8+o.apply(o.level-1).hashCount*(256+16);if(t.length!==c)throw new Error(`Pruned branch cell must have exactly ${c} bits, got "${t.length}"`)}let i=[],u=[],f=[];for(let c=0;c<o.level;c++)u.push(r.loadBuffer(32));for(let c=0;c<o.level;c++)f.push(r.loadUint(16));for(let c=0;c<o.level;c++)i.push({depth:f[c],hash:u[c]});return{mask:o.value,pruned:i}}mr.exoticPruned=mu});var ei=g(wr=>{"use strict";s();a();Object.defineProperty(wr,"__esModule",{value:!0});wr.resolveExotic=void 0;var Su=ee(),Cr=qe(),Cu=mn(),Pu=Vt(),wu=_r(),xu=Sr(),Pr=Br();function Au(t,e){let r=(0,xu.exoticPruned)(t,e),n=[],o=[],i=new Pr.LevelMask(r.mask);for(let u=0;u<r.pruned.length;u++)n.push(r.pruned[u].depth),o.push(r.pruned[u].hash);return{type:Cr.CellType.PrunedBranch,depths:n,hashes:o,mask:i}}function Mu(t,e){let r=(0,Cu.exoticLibrary)(t,e),n=[],o=[],i=new Pr.LevelMask;return{type:Cr.CellType.Library,depths:n,hashes:o,mask:i}}function vu(t,e){let r=(0,Pu.exoticMerkleProof)(t,e),n=[],o=[],i=new Pr.LevelMask(e[0].level()>>1);return{type:Cr.CellType.MerkleProof,depths:n,hashes:o,mask:i}}function Uu(t,e){let r=(0,wu.exoticMerkleUpdate)(t,e),n=[],o=[],i=new Pr.LevelMask((e[0].level()|e[1].level())>>1);return{type:Cr.CellType.MerkleUpdate,depths:n,hashes:o,mask:i}}function Iu(t,e){let n=new Su.BitReader(t).preloadUint(8);if(n===1)return Au(t,e);if(n===2)return Mu(t,e);if(n===3)return vu(t,e);if(n===4)return Uu(t,e);throw Error("Invalid exotic cell type: "+n)}wr.resolveExotic=Iu});var Sn=g(de=>{"use strict";s();a();Object.defineProperty(de,"__esModule",{value:!0});de.getRepr=de.getBitsDescriptor=de.getRefsDescriptor=void 0;var Lt=qe(),Tu=qt();function ti(t,e,r){return t.length+(r!==Lt.CellType.Ordinary?1:0)*8+e*32}de.getRefsDescriptor=ti;function ri(t){let e=t.length;return Math.ceil(e/8)+Math.floor(e/8)}de.getBitsDescriptor=ri;function Ou(t,e,r,n,o,i){let u=Math.ceil(e.length/8),f=l.Buffer.alloc(2+u+(2+32)*r.length),c=0;f[c++]=ti(r,o,i),f[c++]=ri(t),(0,Tu.bitsToPaddedBuffer)(e).copy(f,c),c+=u;for(let h of r){let y;i==Lt.CellType.MerkleProof||i==Lt.CellType.MerkleUpdate?y=h.depth(n+1):y=h.depth(n),f[c++]=Math.floor(y/256),f[c++]=y%256}for(let h of r){let y;i==Lt.CellType.MerkleProof||i==Lt.CellType.MerkleUpdate?y=h.hash(n+1):y=h.hash(n),y.copy(f,c),c+=32}return f}de.getRepr=Ou});var oi=g(fe=>{"use strict";s();a();var Eu=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fe,"__esModule",{value:!0});fe.getSecureRandomWords=fe.getSecureRandomBytes=void 0;var ni=Eu(ve());function Ru(t){return ni.default.randomBytes(t)}fe.getSecureRandomBytes=Ru;function ku(t){let e=new Uint16Array(t);return ni.default.randomFillSync(e),e}fe.getSecureRandomWords=ku});var ii=g(Le=>{"use strict";s();a();var qu=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Le,"__esModule",{value:!0});Le.hmac_sha512=void 0;var ju=qu(ve());async function Nu(t,e){let r=typeof t=="string"?l.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?l.Buffer.from(e,"utf-8"):e;return ju.default.createHmac("sha512",r).update(n).digest()}Le.hmac_sha512=Nu});var si=g(Fe=>{"use strict";s();a();var Du=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.pbkdf2_sha512=void 0;var Vu=Du(ve());function Ku(t,e,r,n){return new Promise((o,i)=>Vu.default.pbkdf2(t,e,r,n,"sha512",(u,f)=>{u?i(u):o(f)}))}Fe.pbkdf2_sha512=Ku});var ai=g(ze=>{"use strict";s();a();var Lu=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.sha256=void 0;var Fu=Lu(ve());async function zu(t){return Fu.default.createHash("sha256").update(t).digest()}ze.sha256=zu});var li=g(He=>{"use strict";s();a();var Hu=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(He,"__esModule",{value:!0});He.sha512=void 0;var Wu=Hu(ve());async function $u(t){return Wu.default.createHash("sha512").update(t).digest()}He.sha512=$u});var We=g(R=>{"use strict";s();a();Object.defineProperty(R,"__esModule",{value:!0});R.sha512=R.sha256=R.pbkdf2_sha512=R.hmac_sha512=R.getSecureRandomWords=R.getSecureRandomBytes=void 0;var ui=oi();Object.defineProperty(R,"getSecureRandomBytes",{enumerable:!0,get:function(){return ui.getSecureRandomBytes}});Object.defineProperty(R,"getSecureRandomWords",{enumerable:!0,get:function(){return ui.getSecureRandomWords}});var Qu=ii();Object.defineProperty(R,"hmac_sha512",{enumerable:!0,get:function(){return Qu.hmac_sha512}});var Gu=si();Object.defineProperty(R,"pbkdf2_sha512",{enumerable:!0,get:function(){return Gu.pbkdf2_sha512}});var Yu=ai();Object.defineProperty(R,"sha256",{enumerable:!0,get:function(){return Yu.sha256}});var Xu=li();Object.defineProperty(R,"sha512",{enumerable:!0,get:function(){return Xu.sha512}})});var fi=g(z=>{"use strict";s();a();var Zu=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z,"__esModule",{value:!0});z.sha256=z.sha256_fallback=z.sha256_sync=void 0;var Ju=Zu(on()),ed=We();function di(t){let e;typeof t=="string"?e=l.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new Ju.default("SHA-256","HEX");r.update(e);let n=r.getHash("HEX");return l.Buffer.from(n,"hex")}z.sha256_sync=di;async function td(t){return di(t)}z.sha256_fallback=td;function rd(t){return(0,ed.sha256)(t)}z.sha256=rd});var hi=g(H=>{"use strict";s();a();var nd=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(H,"__esModule",{value:!0});H.sha512=H.sha512_fallback=H.sha512_sync=void 0;var od=nd(on()),id=We();function ci(t){let e;typeof t=="string"?e=l.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new od.default("SHA-512","HEX");r.update(e);let n=r.getHash("HEX");return l.Buffer.from(n,"hex")}H.sha512_sync=ci;async function sd(t){return ci(t)}H.sha512_fallback=sd;async function ad(t){return(0,id.sha512)(t)}H.sha512=ad});var gi=g(xr=>{"use strict";s();a();Object.defineProperty(xr,"__esModule",{value:!0});xr.pbkdf2_sha512=void 0;var ld=We();function ud(t,e,r,n){return(0,ld.pbkdf2_sha512)(t,e,r,n)}xr.pbkdf2_sha512=ud});var pi=g(ce=>{"use strict";s();a();var dd=ce&&ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ce,"__esModule",{value:!0});ce.hmac_sha512=ce.hmac_sha512_fallback=void 0;var fd=dd(on()),cd=We();async function hd(t,e){let r=typeof t=="string"?l.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?l.Buffer.from(e,"utf-8"):e,o=new fd.default("SHA-512","HEX",{hmacKey:{value:r.toString("hex"),format:"HEX"}});o.update(n.toString("hex"));let i=o.getHash("HEX");return l.Buffer.from(i,"hex")}ce.hmac_sha512_fallback=hd;function gd(t,e){return(0,cd.hmac_sha512)(t,e)}ce.hmac_sha512=gd});var bi=g(he=>{"use strict";s();a();Object.defineProperty(he,"__esModule",{value:!0});he.getSecureRandomNumber=he.getSecureRandomWords=he.getSecureRandomBytes=void 0;var pd=We();async function yi(t){return(0,pd.getSecureRandomBytes)(t)}he.getSecureRandomBytes=yi;async function _i(t){return _i(t)}he.getSecureRandomWords=_i;async function yd(t,e){let r=e-t;var n=Math.ceil(Math.log2(r));if(n>53)throw new Error("Range is too large");for(var o=Math.ceil(n/8),i=Math.pow(2,n)-1;;){let f=await yi(n),c=(o-1)*8,h=0;for(var u=0;u<o;u++)h+=f[u]*Math.pow(2,c),c-=8;if(h=h&i,!(h>=r))return t+h}}he.getSecureRandomNumber=yd});var Cn=g(A=>{"use strict";s();a();var _d=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(A,"__esModule",{value:!0});A.openBox=A.sealBox=A.signVerify=A.sign=A.keyPairFromSeed=A.keyPairFromSecretKey=void 0;var $e=_d(mo());function bd(t){let e=$e.default.sign.keyPair.fromSecretKey(new Uint8Array(t));return{publicKey:l.Buffer.from(e.publicKey),secretKey:l.Buffer.from(e.secretKey)}}A.keyPairFromSecretKey=bd;function Bd(t){let e=$e.default.sign.keyPair.fromSeed(new Uint8Array(t));return{publicKey:l.Buffer.from(e.publicKey),secretKey:l.Buffer.from(e.secretKey)}}A.keyPairFromSeed=Bd;function md(t,e){return l.Buffer.from($e.default.sign.detached(new Uint8Array(t),new Uint8Array(e)))}A.sign=md;function Sd(t,e,r){return $e.default.sign.detached.verify(new Uint8Array(t),new Uint8Array(e),new Uint8Array(r))}A.signVerify=Sd;function Cd(t,e,r){return l.Buffer.from($e.default.secretbox(t,e,r))}A.sealBox=Cd;function Pd(t,e,r){let n=$e.default.secretbox.open(t,e,r);return n?l.Buffer.from(n):null}A.openBox=Pd});var Mr=g(C=>{"use strict";s();a();Object.defineProperty(C,"__esModule",{value:!0});C.signVerify=C.sign=C.keyPairFromSecretKey=C.keyPairFromSeed=C.openBox=C.sealBox=C.getSecureRandomNumber=C.getSecureRandomWords=C.getSecureRandomBytes=C.hmac_sha512=C.pbkdf2_sha512=C.sha512_sync=C.sha512=C.sha256_sync=C.sha256=void 0;var Bi=fi();Object.defineProperty(C,"sha256",{enumerable:!0,get:function(){return Bi.sha256}});Object.defineProperty(C,"sha256_sync",{enumerable:!0,get:function(){return Bi.sha256_sync}});var mi=hi();Object.defineProperty(C,"sha512",{enumerable:!0,get:function(){return mi.sha512}});Object.defineProperty(C,"sha512_sync",{enumerable:!0,get:function(){return mi.sha512_sync}});var wd=gi();Object.defineProperty(C,"pbkdf2_sha512",{enumerable:!0,get:function(){return wd.pbkdf2_sha512}});var xd=pi();Object.defineProperty(C,"hmac_sha512",{enumerable:!0,get:function(){return xd.hmac_sha512}});var Pn=bi();Object.defineProperty(C,"getSecureRandomBytes",{enumerable:!0,get:function(){return Pn.getSecureRandomBytes}});Object.defineProperty(C,"getSecureRandomWords",{enumerable:!0,get:function(){return Pn.getSecureRandomWords}});Object.defineProperty(C,"getSecureRandomNumber",{enumerable:!0,get:function(){return Pn.getSecureRandomNumber}});var Si=Cn();Object.defineProperty(C,"sealBox",{enumerable:!0,get:function(){return Si.sealBox}});Object.defineProperty(C,"openBox",{enumerable:!0,get:function(){return Si.openBox}});var Ar=Cn();Object.defineProperty(C,"keyPairFromSeed",{enumerable:!0,get:function(){return Ar.keyPairFromSeed}});Object.defineProperty(C,"keyPairFromSecretKey",{enumerable:!0,get:function(){return Ar.keyPairFromSecretKey}});Object.defineProperty(C,"sign",{enumerable:!0,get:function(){return Ar.sign}});Object.defineProperty(C,"signVerify",{enumerable:!0,get:function(){return Ar.signVerify}})});var Ci=g(vr=>{"use strict";s();a();Object.defineProperty(vr,"__esModule",{value:!0});vr.wonderCalculator=void 0;var Ad=Z(),W=qe(),Ft=Br(),Md=Sr(),vd=Vt(),Ud=Sn(),Id=Mr(),Td=_r(),Od=mn();function Ed(t,e,r){let n,o=null;if(t===W.CellType.Ordinary){let _=0;for(let b of r)_=_|b.mask.value;n=new Ft.LevelMask(_)}else if(t===W.CellType.PrunedBranch)o=(0,Md.exoticPruned)(e,r),n=new Ft.LevelMask(o.mask);else if(t===W.CellType.MerkleProof){let _=(0,vd.exoticMerkleProof)(e,r);n=new Ft.LevelMask(r[0].mask.value>>1)}else if(t===W.CellType.MerkleUpdate){let _=(0,Td.exoticMerkleUpdate)(e,r);n=new Ft.LevelMask((r[0].mask.value|r[1].mask.value)>>1)}else if(t===W.CellType.Library){let _=(0,Od.exoticLibrary)(e,r);n=new Ft.LevelMask}else throw new Error("Unsupported exotic type");let i=[],u=[],f=t===W.CellType.PrunedBranch?1:n.hashCount,h=n.hashCount-f;for(let _=0,b=0;_<=n.level;_++){if(!n.isSignificant(_))continue;if(b<h){b++;continue}let m;if(b===h){if(!(_===0||t===W.CellType.PrunedBranch))throw Error("Invalid");m=e}else{if(!(_!==0&&t!==W.CellType.PrunedBranch))throw Error("Invalid: "+_+", "+t);m=new Ad.BitString(u[b-h-1],0,256)}let S=0;for(let F of r){let Et;t==W.CellType.MerkleProof||t==W.CellType.MerkleUpdate?Et=F.depth(_+1):Et=F.depth(_),S=Math.max(S,Et)}r.length>0&&S++;let q=(0,Ud.getRepr)(e,m,r,_,n.apply(_).value,t),Ot=(0,Id.sha256_sync)(q),tr=b-h;i[tr]=S,u[tr]=Ot,b++}let y=[],B=[];if(o)for(let _=0;_<4;_++){let{hashIndex:b}=n.apply(_),{hashIndex:m}=n;b!==m?(y.push(o.pruned[b].hash),B.push(o.pruned[b].depth)):(y.push(u[0]),B.push(i[0]))}else for(let _=0;_<4;_++)y.push(u[n.apply(_).hashIndex]),B.push(i[n.apply(_).hashIndex]);return{mask:n,hashes:y,depths:B}}vr.wonderCalculator=Ed});var Pi=g(Ur=>{"use strict";s();a();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.topologicalSort=void 0;function Rd(t){let e=[t],r=new Map,n=new Set,o=[];for(;e.length>0;){let h=[...e];e=[];for(let y of h){let B=y.hash().toString("hex");if(!r.has(B)){n.add(B),r.set(B,{cell:y,refs:y.refs.map(_=>_.hash().toString("hex"))});for(let _ of y.refs)e.push(_)}}}let i=new Set;function u(h){if(!n.has(h))return;if(i.has(h))throw Error("Not a DAG");i.add(h);let y=r.get(h).refs;for(let B=y.length-1;B>=0;B--)u(y[B]);o.push(h),i.delete(h),n.delete(h)}for(;n.size>0;){let h=Array.from(n)[0];u(h)}let f=new Map;for(let h=0;h<o.length;h++)f.set(o[o.length-h-1],h);let c=[];for(let h=o.length-1;h>=0;h--){let y=o[h],B=r.get(y);c.push({cell:B.cell,refs:B.refs.map(_=>f.get(_))})}return c}Ur.topologicalSort=Rd});var wi=g(Ir=>{"use strict";s();a();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.bitsForNumber=void 0;function kd(t,e){let r=BigInt(t);if(e==="int")return r===0n||r===-1n?1:(r>0?r:-r).toString(2).length+1;if(e==="uint"){if(r<0)throw Error(`value is negative. Got ${t}`);return r.toString(2).length}else throw Error(`invalid mode. Got ${e}`)}Ir.bitsForNumber=kd});var wn=g(Tr=>{"use strict";s();a();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.crc32c=void 0;var ge=2197175160;function qd(t){let e=-1;for(let n=0;n<t.length;n++)e^=t[n],e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1,e=e&1?e>>>1^ge:e>>>1;e=e^4294967295;let r=l.Buffer.alloc(4);return r.writeInt32LE(e),r}Tr.crc32c=qd});var Ii=g(pe=>{"use strict";s();a();Object.defineProperty(pe,"__esModule",{value:!0});pe.serializeBoc=pe.deserializeBoc=pe.parseBoc=void 0;var vi=ee(),An=Z(),jd=le(),Nd=Pi(),xi=wi(),Dd=jt(),Ai=Sn(),Vd=qt(),xn=wn();function Mi(t){return Kd(t&7)}function Kd(t){let e=0;for(let r=0;r<3;r++)e+=t&1,t=t>>1;return e+1}function Ld(t,e){let r=t.loadUint(8),n=r%8,o=!!(r&8),i=t.loadUint(8),u=Math.ceil(i/2),f=!!(i%2),c=r>>5,h=(r&16)!=0,y=32,B=h?Mi(c)*y:0,_=h?Mi(c)*2:0;t.skip(B*8),t.skip(_*8);let b=An.BitString.EMPTY;u>0&&(f?b=t.loadPaddedBits(u*8):b=t.loadBits(u*8));let m=[];for(let S=0;S<n;S++)m.push(t.loadUint(e*8));return{bits:b,refs:m,exotic:o}}function Fd(t,e){return 2+Math.ceil(t.bits.length/8)+t.refs.length*e}function Ui(t){let e=new vi.BitReader(new An.BitString(t,0,t.length*8)),r=e.loadUint(32);if(r===1761568243){let n=e.loadUint(8),o=e.loadUint(8),i=e.loadUint(n*8),u=e.loadUint(n*8),f=e.loadUint(n*8),c=e.loadUint(o*8),h=e.loadBuffer(i*o),y=e.loadBuffer(c);return{size:n,offBytes:o,cells:i,roots:u,absent:f,totalCellSize:c,index:h,cellData:y,root:[0]}}else if(r===2898503464){let n=e.loadUint(8),o=e.loadUint(8),i=e.loadUint(n*8),u=e.loadUint(n*8),f=e.loadUint(n*8),c=e.loadUint(o*8),h=e.loadBuffer(i*o),y=e.loadBuffer(c),B=e.loadBuffer(4);if(!(0,xn.crc32c)(t.subarray(0,t.length-4)).equals(B))throw Error("Invalid CRC32C");return{size:n,offBytes:o,cells:i,roots:u,absent:f,totalCellSize:c,index:h,cellData:y,root:[0]}}else if(r===3052313714){let n=e.loadUint(1),o=e.loadUint(1),i=e.loadUint(1),u=e.loadUint(2),f=e.loadUint(3),c=e.loadUint(8),h=e.loadUint(f*8),y=e.loadUint(f*8),B=e.loadUint(f*8),_=e.loadUint(c*8),b=[];for(let q=0;q<y;q++)b.push(e.loadUint(f*8));let m=null;n&&(m=e.loadBuffer(h*c));let S=e.loadBuffer(_);if(o){let q=e.loadBuffer(4);if(!(0,xn.crc32c)(t.subarray(0,t.length-4)).equals(q))throw Error("Invalid CRC32C")}return{size:f,offBytes:c,cells:h,roots:y,absent:B,totalCellSize:_,index:m,cellData:S,root:b}}else throw Error("Invalid magic")}pe.parseBoc=Ui;function zd(t){let e=Ui(t),r=new vi.BitReader(new An.BitString(e.cellData,0,e.cellData.length*8)),n=[];for(let i=0;i<e.cells;i++){let u=Ld(r,e.size);n.push({...u,result:null})}for(let i=n.length-1;i>=0;i--){if(n[i].result)throw Error("Impossible");let u=[];for(let f of n[i].refs){if(!n[f].result)throw Error("Invalid BOC file");u.push(n[f].result)}n[i].result=new jd.Cell({bits:n[i].bits,refs:u,exotic:n[i].exotic})}let o=[];for(let i=0;i<e.root.length;i++)o.push(n[e.root[i]].result);return o}pe.deserializeBoc=zd;function Hd(t,e,r,n){let o=(0,Ai.getRefsDescriptor)(t.refs,t.mask.value,t.type),i=(0,Ai.getBitsDescriptor)(t.bits);n.writeUint(o,8),n.writeUint(i,8),n.writeBuffer((0,Vd.bitsToPaddedBuffer)(t.bits));for(let u of e)n.writeUint(u,r*8)}function Wd(t,e){let r=(0,Nd.topologicalSort)(t),n=r.length,o=e.idx,i=e.crc32,u=!1,f=0,c=Math.max(Math.ceil((0,xi.bitsForNumber)(n,"uint")/8),1),h=0,y=[];for(let S of r)h+=Fd(S.cell,c),y.push(h);let B=Math.max(Math.ceil((0,xi.bitsForNumber)(h,"uint")/8),1),_=(4+1+1+3*c+B+1*c+(o?n*B:0)+h+(i?4:0))*8,b=new Dd.BitBuilder(_);if(b.writeUint(3052313714,32),b.writeBit(o),b.writeBit(i),b.writeBit(u),b.writeUint(f,2),b.writeUint(c,3),b.writeUint(B,8),b.writeUint(n,c*8),b.writeUint(1,c*8),b.writeUint(0,c*8),b.writeUint(h,B*8),b.writeUint(0,c*8),o)for(let S=0;S<n;S++)b.writeUint(y[S],B*8);for(let S=0;S<n;S++)Hd(r[S].cell,r[S].refs,c,b);if(i){let S=(0,xn.crc32c)(b.buffer());b.writeBuffer(S)}let m=b.buffer();if(m.length!==_/8)throw Error("Internal error");return m}pe.serializeBoc=Wd});var le=g(Qe=>{"use strict";s();a();var $d=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ei;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.Cell=void 0;var Qd=$d(Ue()),Gd=Z(),we=qe(),Yd=gr(),Xd=ei(),Ti=Ci(),Oi=Ii(),Zd=ee(),Jd=w(),xe=class{static fromBoc(e){return(0,Oi.deserializeBoc)(e)}static fromBase64(e){let r=xe.fromBoc(l.Buffer.from(e,"base64"));if(r.length!==1)throw new Error("Deserialized more than one cell");return r[0]}constructor(e){this._hashes=[],this._depths=[],this.beginParse=(c=!1)=>{if(this.isExotic&&!c)throw new Error("Exotic cells cannot be parsed");return new Yd.Slice(new Zd.BitReader(this.bits),this.refs)},this.hash=(c=3)=>this._hashes[Math.min(this._hashes.length-1,c)],this.depth=(c=3)=>this._depths[Math.min(this._depths.length-1,c)],this.level=()=>this.mask.level,this.equals=c=>this.hash().equals(c.hash()),this[Ei]=()=>this.toString();let r=Gd.BitString.EMPTY;e&&e.bits&&(r=e.bits);let n=[];e&&e.refs&&(n=[...e.refs]);let o,i,u,f=we.CellType.Ordinary;if(e&&e.exotic){let c=(0,Xd.resolveExotic)(r,n),h=(0,Ti.wonderCalculator)(c.type,r,n);u=h.mask,i=h.depths,o=h.hashes,f=c.type}else{if(n.length>4)throw new Error("Invalid number of references");if(r.length>1023)throw new Error(`Bits overflow: ${r.length} > 1023`);let c=(0,Ti.wonderCalculator)(we.CellType.Ordinary,r,n);u=c.mask,i=c.depths,o=c.hashes,f=we.CellType.Ordinary}this.type=f,this.bits=r,this.refs=n,this.mask=u,this._depths=i,this._hashes=o,Object.freeze(this),Object.freeze(this.refs),Object.freeze(this.bits),Object.freeze(this.mask),Object.freeze(this._depths),Object.freeze(this._hashes)}get isExotic(){return this.type!==we.CellType.Ordinary}toBoc(e){let r=e&&e.idx!==null&&e.idx!==void 0?e.idx:!1,n=e&&e.crc32!==null&&e.crc32!==void 0?e.crc32:!0;return(0,Oi.serializeBoc)(this,{idx:r,crc32:n})}toString(e){let r=e||"",n="x";this.isExotic&&(this.type===we.CellType.MerkleProof?n="p":this.type===we.CellType.MerkleUpdate?n="u":this.type===we.CellType.PrunedBranch&&(n="p"));let o=r+(this.isExotic?n:"x")+"{"+this.bits.toString()+"}";for(let i in this.refs){let u=this.refs[i];o+=`
`+u.toString(r+" ")}return o}asSlice(){return this.beginParse()}asBuilder(){return(0,Jd.beginCell)().storeSlice(this.asSlice())}};Qe.Cell=xe;Ei=Qd.default;xe.EMPTY=new xe});var w=g(Ye=>{"use strict";s();a();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.Builder=Ye.beginCell=void 0;var ef=jt(),Ri=le(),ki=Bn();function qi(){return new Ge}Ye.beginCell=qi;var Ge=class{constructor(){this._bits=new ef.BitBuilder,this._refs=[]}get bits(){return this._bits.length}get refs(){return this._refs.length}get availableBits(){return 1023-this.bits}get availableRefs(){return 4-this.refs}storeBit(e){return this._bits.writeBit(e),this}storeBits(e){return this._bits.writeBits(e),this}storeBuffer(e,r){if(r!=null&&e.length!==r)throw Error(`Buffer length ${e.length} is not equal to ${r}`);return this._bits.writeBuffer(e),this}storeMaybeBuffer(e,r){return e!==null?(this.storeBit(1),this.storeBuffer(e,r)):this.storeBit(0),this}storeUint(e,r){return this._bits.writeUint(e,r),this}storeMaybeUint(e,r){return e!=null?(this.storeBit(1),this.storeUint(e,r)):this.storeBit(0),this}storeInt(e,r){return this._bits.writeInt(e,r),this}storeMaybeInt(e,r){return e!=null?(this.storeBit(1),this.storeInt(e,r)):this.storeBit(0),this}storeVarUint(e,r){return this._bits.writeVarUint(e,r),this}storeMaybeVarUint(e,r){return e!=null?(this.storeBit(1),this.storeVarUint(e,r)):this.storeBit(0),this}storeVarInt(e,r){return this._bits.writeVarInt(e,r),this}storeMaybeVarInt(e,r){return e!=null?(this.storeBit(1),this.storeVarInt(e,r)):this.storeBit(0),this}storeCoins(e){return this._bits.writeCoins(e),this}storeMaybeCoins(e){return e!=null?(this.storeBit(1),this.storeCoins(e)):this.storeBit(0),this}storeAddress(e){return this._bits.writeAddress(e),this}storeRef(e){if(this._refs.length>=4)throw new Error("Too many references");if(e instanceof Ri.Cell)this._refs.push(e);else if(e instanceof Ge)this._refs.push(e.endCell());else throw new Error("Invalid argument");return this}storeMaybeRef(e){return e?(this.storeBit(1),this.storeRef(e)):this.storeBit(0),this}storeSlice(e){let r=e.clone();for(r.remainingBits>0&&this.storeBits(r.loadBits(r.remainingBits));r.remainingRefs>0;)this.storeRef(r.loadRef());return this}storeMaybeSlice(e){return e?(this.storeBit(1),this.storeSlice(e)):this.storeBit(0),this}storeBuilder(e){return this.storeSlice(e.endCell().beginParse())}storeMaybeBuilder(e){return e?(this.storeBit(1),this.storeBuilder(e)):this.storeBit(0),this}storeWritable(e){return typeof e=="object"?e.writeTo(this):e(this),this}storeMaybeWritable(e){return e?(this.storeBit(1),this.storeWritable(e)):this.storeBit(0),this}store(e){return this.storeWritable(e),this}storeStringTail(e){return(0,ki.writeString)(e,this),this}storeMaybeStringTail(e){return e!=null?(this.storeBit(1),(0,ki.writeString)(e,this)):this.storeBit(0),this}storeStringRefTail(e){return this.storeRef(qi().storeStringTail(e)),this}storeMaybeStringRefTail(e){return e!=null?(this.storeBit(1),this.storeStringRefTail(e)):this.storeBit(0),this}storeDict(e,r,n){return e?e.store(this,r,n):this.storeBit(0),this}storeDictDirect(e,r,n){return e.storeDirect(this,r,n),this}endCell(e){return new Ri.Cell({bits:this._bits.build(),refs:this._refs,exotic:e?.exotic})}asCell(){return this.endCell()}asSlice(){return this.endCell().beginParse()}};Ye.Builder=Ge});var Mn=g(ye=>{"use strict";s();a();Object.defineProperty(ye,"__esModule",{value:!0});ye.SimpleLibraryValue=ye.storeSimpleLibrary=ye.loadSimpleLibrary=void 0;function ji(t){return{public:t.loadBit(),root:t.loadRef()}}ye.loadSimpleLibrary=ji;function Ni(t){return e=>{e.storeBit(t.public),e.storeRef(t.root)}}ye.storeSimpleLibrary=Ni;ye.SimpleLibraryValue={serialize(t,e){Ni(t)(e)},parse(t){return ji(t)}}});var vn=g(Xe=>{"use strict";s();a();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.storeTickTock=Xe.loadTickTock=void 0;function tf(t){return{tick:t.loadBit(),tock:t.loadBit()}}Xe.loadTickTock=tf;function rf(t){return e=>{e.storeBit(t.tick),e.storeBit(t.tock)}}Xe.storeTickTock=rf});var Je=g(Ze=>{"use strict";s();a();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.storeStateInit=Ze.loadStateInit=void 0;var nf=ae(),of=Mn(),Di=vn();function sf(t){let e;t.loadBit()&&(e=t.loadUint(5));let r;t.loadBit()&&(r=(0,Di.loadTickTock)(t));let n=t.loadMaybeRef(),o=t.loadMaybeRef(),i=t.loadDict(nf.Dictionary.Keys.BigUint(256),of.SimpleLibraryValue);return i.size===0&&(i=void 0),{splitDepth:e,special:r,code:n,data:o,libraries:i}}Ze.loadStateInit=sf;function af(t){return e=>{t.splitDepth!==null&&t.splitDepth!==void 0?(e.storeBit(!0),e.storeUint(t.splitDepth,5)):e.storeBit(!1),t.special!==null&&t.special!==void 0?(e.storeBit(!0),e.store((0,Di.storeTickTock)(t.special))):e.storeBit(!1),e.storeMaybeRef(t.code),e.storeMaybeRef(t.data),e.storeDict(t.libraries)}}Ze.storeStateInit=af});var Vi=g(Or=>{"use strict";s();a();Object.defineProperty(Or,"__esModule",{value:!0});Or.contractAddress=void 0;var lf=w(),uf=Je(),df=X();function ff(t,e){let r=(0,lf.beginCell)().store((0,uf.storeStateInit)(e)).endCell().hash();return new df.Address(t,r)}Or.contractAddress=ff});var Fi=g(et=>{"use strict";s();a();Object.defineProperty(et,"__esModule",{value:!0});et.parseTuple=et.serializeTuple=void 0;var Ht=w(),cf=BigInt("-9223372036854775808"),hf=BigInt("9223372036854775807");function Ki(t,e){if(t.type==="null")e.storeUint(0,8);else if(t.type==="int")t.value<=hf&&t.value>=cf?(e.storeUint(1,8),e.storeInt(t.value,64)):(e.storeUint(256,15),e.storeInt(t.value,257));else if(t.type==="nan")e.storeInt(767,16);else if(t.type==="cell")e.storeUint(3,8),e.storeRef(t.cell);else if(t.type==="slice")e.storeUint(4,8),e.storeUint(0,10),e.storeUint(t.cell.bits.length,10),e.storeUint(0,3),e.storeUint(t.cell.refs.length,3),e.storeRef(t.cell);else if(t.type==="builder")e.storeUint(5,8),e.storeRef(t.cell);else if(t.type==="tuple"){let r=null,n=null;for(let o=0;o<t.items.length;o++){let i=r;r=n,n=i,o>1&&(r=(0,Ht.beginCell)().storeRef(n).storeRef(r).endCell());let u=(0,Ht.beginCell)();Ki(t.items[o],u),n=u.endCell()}e.storeUint(7,8),e.storeUint(t.items.length,16),r&&e.storeRef(r),n&&e.storeRef(n)}else throw Error("Invalid value")}function zt(t){let e=t.loadUint(8);if(e===0)return{type:"null"};if(e===1)return{type:"int",value:t.loadIntBig(64)};if(e===2)return t.loadUint(7)===0?{type:"int",value:t.loadIntBig(257)}:(t.loadBit(),{type:"nan"});if(e===3)return{type:"cell",cell:t.loadRef()};if(e===4){let r=t.loadUint(10),n=t.loadUint(10),o=t.loadUint(3),i=t.loadUint(3),u=t.loadRef().beginParse();u.skip(r);let f=u.loadBits(n-r),c=(0,Ht.beginCell)().storeBits(f);if(o<i){for(let h=0;h<o;h++)u.loadRef();for(let h=0;h<i-o;h++)c.storeRef(u.loadRef())}return{type:"slice",cell:c.endCell()}}else{if(e===5)return{type:"builder",cell:t.loadRef()};if(e===7){let r=t.loadUint(16),n=[];if(r>1){let o=t.loadRef().beginParse(),i=t.loadRef().beginParse();n.unshift(zt(i));for(let u=0;u<r-2;u++){let f=o;o=f.loadRef().beginParse(),i=f.loadRef().beginParse(),n.unshift(zt(i))}n.unshift(zt(o))}else r===1&&n.push(zt(t.loadRef().beginParse()));return{type:"tuple",items:n}}else throw Error("Unsupported stack item")}}function Li(t,e){if(t.length>0){let r=(0,Ht.beginCell)();Li(t.slice(0,t.length-1),r),e.storeRef(r.endCell()),Ki(t[t.length-1],e)}}function gf(t){let e=(0,Ht.beginCell)();e.storeUint(t.length,24);let r=[...t];return Li(r,e),e.endCell()}et.serializeTuple=gf;function pf(t){let e=[],r=t.beginParse(),n=r.loadUint(24);for(let o=0;o<n;o++){let i=r.loadRef();e.unshift(zt(r)),r=i.beginParse()}return e}et.parseTuple=pf});var zi=g(Er=>{"use strict";s();a();Object.defineProperty(Er,"__esModule",{value:!0});Er.TupleReader=void 0;var _e=class{constructor(e){this.items=[...e]}get remaining(){return this.items.length}peek(){if(this.items.length===0)throw Error("EOF");return this.items[0]}pop(){if(this.items.length===0)throw Error("EOF");let e=this.items[0];return this.items.splice(0,1),e}skip(e=1){for(let r=0;r<e;r++)this.pop();return this}readBigNumber(){let e=this.pop();if(e.type!=="int")throw Error("Not a number");return e.value}readBigNumberOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="int")throw Error("Not a number");return e.value}readNumber(){return Number(this.readBigNumber())}readNumberOpt(){let e=this.readBigNumberOpt();return e!==null?Number(e):null}readBoolean(){return this.readNumber()!==0}readBooleanOpt(){let e=this.readNumberOpt();return e!==null?e!==0:null}readAddress(){let e=this.readCell().beginParse().loadAddress();if(e!==null)return e;throw Error("Not an address")}readAddressOpt(){let e=this.readCellOpt();return e!==null?e.beginParse().loadMaybeAddress():null}readCell(){let e=this.pop();if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell: "+e.type);return e.cell}readCellOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell");return e.cell}readTuple(){let e=this.pop();if(e.type!=="tuple")throw Error("Not a tuple");return new _e(e.items)}readTupleOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="tuple")throw Error("Not a tuple");return new _e(e.items)}static readLispList(e){let r=[],n=e;for(;n!==null;){var o=n.pop();if(n.items.length===0||n.items[0].type!=="tuple"&&n.items[0].type!=="null")throw Error("Lisp list consists only from (any, tuple) elements and ends with null");n=n.readTupleOpt(),r.push(o)}return r}readLispListDirect(){return this.items.length===1&&this.items[0].type==="null"?[]:_e.readLispList(this)}readLispList(){return _e.readLispList(this.readTupleOpt())}readBuffer(){let e=this.readCell().beginParse();if(e.remainingRefs!==0||e.remainingBits%8!==0)throw Error("Not a buffer");return e.loadBuffer(e.remainingBits/8)}readBufferOpt(){if(this.peek().type==="null")return null;let r=this.readCell().beginParse();if(r.remainingRefs!==0||r.remainingBits%8!==0)throw Error("Not a buffer");return r.loadBuffer(r.remainingBits/8)}readString(){return this.readCell().beginParse().loadStringTail()}readStringOpt(){return this.peek().type==="null"?null:this.readCell().beginParse().loadStringTail()}};Er.TupleReader=_e});var Hi=g(Rr=>{"use strict";s();a();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.TupleBuilder=void 0;var Un=w(),In=le(),Tn=gr(),On=class{constructor(){this._tuple=[]}writeNumber(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:BigInt(e)})}writeBoolean(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:e?-1n:0n})}writeBuffer(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Un.beginCell)().storeBuffer(e).endCell()})}writeString(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Un.beginCell)().storeStringTail(e).endCell()})}writeCell(e){e==null?this._tuple.push({type:"null"}):e instanceof In.Cell?this._tuple.push({type:"cell",cell:e}):e instanceof Tn.Slice&&this._tuple.push({type:"cell",cell:e.asCell()})}writeSlice(e){e==null?this._tuple.push({type:"null"}):e instanceof In.Cell?this._tuple.push({type:"slice",cell:e}):e instanceof Tn.Slice&&this._tuple.push({type:"slice",cell:e.asCell()})}writeBuilder(e){e==null?this._tuple.push({type:"null"}):e instanceof In.Cell?this._tuple.push({type:"builder",cell:e}):e instanceof Tn.Slice&&this._tuple.push({type:"builder",cell:e.asCell()})}writeTuple(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"tuple",items:e})}writeAddress(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Un.beginCell)().storeAddress(e).endCell()})}build(){return[...this._tuple]}};Rr.TupleBuilder=On});var En=g(tt=>{"use strict";s();a();Object.defineProperty(tt,"__esModule",{value:!0});tt.fromNano=tt.toNano=void 0;function yf(t){if(typeof t=="bigint")return t*1000000000n;{if(typeof t=="number"){if(!Number.isFinite(t))throw Error("Invalid number");if(Math.log10(t)<=6)t=t.toLocaleString("en",{minimumFractionDigits:9,useGrouping:!1});else if(t-Math.trunc(t)===0)t=t.toLocaleString("en",{maximumFractionDigits:0,useGrouping:!1});else throw Error("Not enough precision for a number value. Use string value instead")}let e=!1;for(;t.startsWith("-");)e=!e,t=t.slice(1);if(t===".")throw Error("Invalid number");let r=t.split(".");if(r.length>2)throw Error("Invalid number");let n=r[0],o=r[1];if(n||(n="0"),o||(o="0"),o.length>9)throw Error("Invalid number");for(;o.length<9;)o+="0";let i=BigInt(n)*1000000000n+BigInt(o);return e&&(i=-i),i}}tt.toNano=yf;function _f(t){let e=BigInt(t),r=!1;e<0&&(r=!0,e=-e);let o=(e%1000000000n).toString();for(;o.length<9;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];let f=`${(e/1000000000n).toString()}${o==="0"?"":`.${o}`}`;return r&&(f="-"+f),f}tt.fromNano=_f});var Qi=g(be=>{"use strict";s();a();Object.defineProperty(be,"__esModule",{value:!0});be.comment=be.external=be.internal=void 0;var kr=X(),Wi=le(),$i=w(),bf=En();function Bf(t){let e=!0;t.bounce!==null&&t.bounce!==void 0&&(e=t.bounce);let r;if(typeof t.to=="string")r=kr.Address.parse(t.to);else if(kr.Address.isAddress(t.to))r=t.to;else throw new Error(`Invalid address ${t.to}`);let n;typeof t.value=="string"?n=(0,bf.toNano)(t.value):n=t.value;let o=Wi.Cell.EMPTY;return typeof t.body=="string"?o=(0,$i.beginCell)().storeUint(0,32).storeStringTail(t.body).endCell():t.body&&(o=t.body),{info:{type:"internal",dest:r,value:{coins:n},bounce:e,ihrDisabled:!0,bounced:!1,ihrFee:0n,forwardFee:0n,createdAt:0,createdLt:0n},init:t.init??void 0,body:o}}be.internal=Bf;function mf(t){let e;if(typeof t.to=="string")e=kr.Address.parse(t.to);else if(kr.Address.isAddress(t.to))e=t.to;else throw new Error(`Invalid address ${t.to}`);return{info:{type:"external-in",dest:e,importFee:0n},init:t.init??void 0,body:t.body||Wi.Cell.EMPTY}}be.external=mf;function Sf(t){return(0,$i.beginCell)().storeUint(0,32).storeStringTail(t).endCell()}be.comment=Sf});var Rn=g(rt=>{"use strict";s();a();Object.defineProperty(rt,"__esModule",{value:!0});rt.storeAccountState=rt.loadAccountState=void 0;var Gi=Je();function Cf(t){return t.loadBit()?{type:"active",state:(0,Gi.loadStateInit)(t)}:t.loadBit()?{type:"frozen",stateHash:t.loadUintBig(256)}:{type:"uninit"}}rt.loadAccountState=Cf;function Pf(t){return e=>{t.type==="active"?(e.storeBit(!0),e.store((0,Gi.storeStateInit)(t.state))):t.type==="frozen"?(e.storeBit(!1),e.storeBit(!0),e.storeUint(t.stateHash,256)):t.type==="uninit"&&(e.storeBit(!1),e.storeBit(!1))}}rt.storeAccountState=Pf});var re=g(nt=>{"use strict";s();a();Object.defineProperty(nt,"__esModule",{value:!0});nt.storeCurrencyCollection=nt.loadCurrencyCollection=void 0;var Yi=ae();function wf(t){let e=t.loadCoins(),r=t.loadDict(Yi.Dictionary.Keys.Uint(32),Yi.Dictionary.Values.BigVarUint(5));return r.size===0?{coins:e}:{other:r,coins:e}}nt.loadCurrencyCollection=wf;function xf(t){return e=>{e.storeCoins(t.coins),t.other?e.storeDict(t.other):e.storeBit(0)}}nt.storeCurrencyCollection=xf});var kn=g(ot=>{"use strict";s();a();Object.defineProperty(ot,"__esModule",{value:!0});ot.storeAccountStorage=ot.loadAccountStorage=void 0;var Xi=Rn(),Zi=re();function Af(t){return{lastTransLt:t.loadUintBig(64),balance:(0,Zi.loadCurrencyCollection)(t),state:(0,Xi.loadAccountState)(t)}}ot.loadAccountStorage=Af;function Mf(t){return e=>{e.storeUint(t.lastTransLt,64),e.store((0,Zi.storeCurrencyCollection)(t.balance)),e.store((0,Xi.storeAccountState)(t.state))}}ot.storeAccountStorage=Mf});var qn=g(it=>{"use strict";s();a();Object.defineProperty(it,"__esModule",{value:!0});it.storeStorageUsed=it.loadStorageUsed=void 0;function vf(t){return{cells:t.loadVarUintBig(3),bits:t.loadVarUintBig(3),publicCells:t.loadVarUintBig(3)}}it.loadStorageUsed=vf;function Uf(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3),e.storeVarUint(t.publicCells,3)}}it.storeStorageUsed=Uf});var jn=g(st=>{"use strict";s();a();Object.defineProperty(st,"__esModule",{value:!0});st.storeStorageInfo=st.loadStorageInfo=void 0;var Ji=qn();function If(t){return{used:(0,Ji.loadStorageUsed)(t),lastPaid:t.loadUint(32),duePayment:t.loadMaybeCoins()}}st.loadStorageInfo=If;function Tf(t){return e=>{e.store((0,Ji.storeStorageUsed)(t.used)),e.storeUint(t.lastPaid,32),e.storeMaybeCoins(t.duePayment)}}st.storeStorageInfo=Tf});var Nn=g(at=>{"use strict";s();a();Object.defineProperty(at,"__esModule",{value:!0});at.storeAccount=at.loadAccount=void 0;var es=kn(),ts=jn();function Of(t){return{addr:t.loadAddress(),storageStats:(0,ts.loadStorageInfo)(t),storage:(0,es.loadAccountStorage)(t)}}at.loadAccount=Of;function Ef(t){return e=>{e.storeAddress(t.addr),e.store((0,ts.storeStorageInfo)(t.storageStats)),e.store((0,es.storeAccountStorage)(t.storage))}}at.storeAccount=Ef});var Dn=g(lt=>{"use strict";s();a();Object.defineProperty(lt,"__esModule",{value:!0});lt.storeAccountStatus=lt.loadAccountStatus=void 0;function Rf(t){let e=t.loadUint(2);if(e===0)return"uninitialized";if(e===1)return"frozen";if(e===2)return"active";if(e===3)return"non-existing";throw Error("Invalid data")}lt.loadAccountStatus=Rf;function kf(t){return e=>{if(t==="uninitialized")e.storeUint(0,2);else if(t==="frozen")e.storeUint(1,2);else if(t==="active")e.storeUint(2,2);else if(t==="non-existing")e.storeUint(3,2);else throw Error("Invalid data");return e}}lt.storeAccountStatus=kf});var qr=g(ut=>{"use strict";s();a();Object.defineProperty(ut,"__esModule",{value:!0});ut.storeAccountStatusChange=ut.loadAccountStatusChange=void 0;function qf(t){return t.loadBit()?t.loadBit()?"deleted":"frozen":"unchanged"}ut.loadAccountStatusChange=qf;function jf(t){return e=>{if(t=="unchanged")e.storeBit(0);else if(t==="frozen")e.storeBit(1),e.storeBit(0);else if(t==="deleted")e.storeBit(1),e.storeBit(1);else throw Error("Invalid account status change")}}ut.storeAccountStatusChange=jf});var Vn=g(dt=>{"use strict";s();a();Object.defineProperty(dt,"__esModule",{value:!0});dt.storeCommonMessageInfoRelaxed=dt.loadCommonMessageInfoRelaxed=void 0;var rs=re();function Nf(t){if(!t.loadBit()){let i=t.loadBit(),u=t.loadBit(),f=t.loadBit(),c=t.loadMaybeAddress(),h=t.loadAddress(),y=(0,rs.loadCurrencyCollection)(t),B=t.loadCoins(),_=t.loadCoins(),b=t.loadUintBig(64),m=t.loadUint(32);return{type:"internal",ihrDisabled:i,bounce:u,bounced:f,src:c,dest:h,value:y,ihrFee:B,forwardFee:_,createdLt:b,createdAt:m}}if(!t.loadBit())throw Error("External In message is not possible for CommonMessageInfoRelaxed");let e=t.loadMaybeAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}dt.loadCommonMessageInfoRelaxed=Nf;function Df(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,rs.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}dt.storeCommonMessageInfoRelaxed=Df});var Ln=g(ft=>{"use strict";s();a();Object.defineProperty(ft,"__esModule",{value:!0});ft.storeMessageRelaxed=ft.loadMessageRelaxed=void 0;var Vf=w(),ns=Vn(),Kn=Je();function Kf(t){let e=(0,ns.loadCommonMessageInfoRelaxed)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,Kn.loadStateInit)(t.loadRef().beginParse()):r=(0,Kn.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}ft.loadMessageRelaxed=Kf;function Lf(t,e){return r=>{if(r.store((0,ns.storeCommonMessageInfoRelaxed)(t.info)),t.init){r.storeBit(!0);let o=(0,Vf.beginCell)().store((0,Kn.storeStateInit)(t.init)),i=!1;e&&e.forceRef?i=!0:r.availableBits-2>=o.bits?i=!1:i=!0,i?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:r.availableBits-1>=t.body.bits.length&&r.refs+t.body.refs.length<=4&&!t.body.isExotic?n=!1:n=!0,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}ft.storeMessageRelaxed=Lf});var us=g($=>{"use strict";s();a();Object.defineProperty($,"__esModule",{value:!0});$.loadOutList=$.storeOutList=$.loadOutAction=$.storeOutAction=void 0;var os=Ln(),Fn=w();function is(t){switch(t.type){case"sendMsg":return Ff(t);case"setCode":return zf(t);default:throw new Error(`Unknown action type ${t.type}`)}}$.storeOutAction=is;var ss=247711853;function Ff(t){return e=>{e.storeUint(ss,32).storeUint(t.mode,8).storeRef((0,Fn.beginCell)().store((0,os.storeMessageRelaxed)(t.outMsg)).endCell())}}var as=2907562126;function zf(t){return e=>{e.storeUint(as,32).storeRef(t.newCode)}}function ls(t){let e=t.loadUint(32);if(e===ss){let r=t.loadUint(8),n=(0,os.loadMessageRelaxed)(t.loadRef().beginParse());return{type:"sendMsg",mode:r,outMsg:n}}if(e===as){let r=t.loadRef();return{type:"setCode",newCode:r}}throw new Error(`Unknown out action tag 0x${e.toString(16)}`)}$.loadOutAction=ls;function Hf(t){let e=t.reduce((r,n)=>(0,Fn.beginCell)().storeRef(r).store(is(n)).endCell(),(0,Fn.beginCell)().endCell());return r=>{r.storeSlice(e.beginParse())}}$.storeOutList=Hf;function Wf(t){let e=[];for(;t.remainingRefs;){let r=t.loadRef();e.push(ls(t)),t=r.beginParse()}return e.reverse()}$.loadOutList=Wf});var zn=g(ct=>{"use strict";s();a();Object.defineProperty(ct,"__esModule",{value:!0});ct.storeCommonMessageInfo=ct.loadCommonMessageInfo=void 0;var ds=re();function $f(t){if(!t.loadBit()){let i=t.loadBit(),u=t.loadBit(),f=t.loadBit(),c=t.loadAddress(),h=t.loadAddress(),y=(0,ds.loadCurrencyCollection)(t),B=t.loadCoins(),_=t.loadCoins(),b=t.loadUintBig(64),m=t.loadUint(32);return{type:"internal",ihrDisabled:i,bounce:u,bounced:f,src:c,dest:h,value:y,ihrFee:B,forwardFee:_,createdLt:b,createdAt:m}}if(!t.loadBit()){let i=t.loadMaybeExternalAddress(),u=t.loadAddress(),f=t.loadCoins();return{type:"external-in",src:i,dest:u,importFee:f}}let e=t.loadAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}ct.loadCommonMessageInfo=$f;function Qf(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,ds.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-in")e.storeBit(1),e.storeBit(0),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeCoins(t.importFee);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}ct.storeCommonMessageInfo=Qf});var Hn=g(ht=>{"use strict";s();a();Object.defineProperty(ht,"__esModule",{value:!0});ht.storeComputeSkipReason=ht.loadComputeSkipReason=void 0;function Gf(t){let e=t.loadUint(2);if(e===0)return"no-state";if(e===1)return"bad-state";if(e===2)return"no-gas";throw new Error(`Unknown ComputeSkipReason: ${e}`)}ht.loadComputeSkipReason=Gf;function Yf(t){return e=>{if(t==="no-state")e.storeUint(0,2);else if(t==="bad-state")e.storeUint(1,2);else if(t==="no-gas")e.storeUint(2,2);else throw new Error(`Unknown ComputeSkipReason: ${t}`)}}ht.storeComputeSkipReason=Yf});var Wn=g(gt=>{"use strict";s();a();Object.defineProperty(gt,"__esModule",{value:!0});gt.storeDepthBalanceInfo=gt.loadDepthBalanceInfo=void 0;var fs=re();function Xf(t){return{splitDepth:t.loadUint(5),balance:(0,fs.loadCurrencyCollection)(t)}}gt.loadDepthBalanceInfo=Xf;function Zf(t){return e=>{e.storeUint(t.splitDepth,5),e.store((0,fs.storeCurrencyCollection)(t.balance))}}gt.storeDepthBalanceInfo=Zf});var $n=g(pt=>{"use strict";s();a();Object.defineProperty(pt,"__esModule",{value:!0});pt.storeHashUpdate=pt.loadHashUpdate=void 0;function Jf(t){if(t.loadUint(8)!==114)throw Error("Invalid data");let e=t.loadBuffer(32),r=t.loadBuffer(32);return{oldHash:e,newHash:r}}pt.loadHashUpdate=Jf;function ec(t){return e=>{e.storeUint(114,8),e.storeBuffer(t.oldHash),e.storeBuffer(t.newHash)}}pt.storeHashUpdate=ec});var Gn=g(jr=>{"use strict";s();a();Object.defineProperty(jr,"__esModule",{value:!0});jr.loadMasterchainStateExtra=void 0;var Qn=ae(),tc=re();function rc(t){if(t.loadUint(16)!==52262)throw Error("Invalid data");t.loadBit()&&t.loadRef();let e=t.loadUintBig(256),r=Qn.Dictionary.load(Qn.Dictionary.Keys.Int(32),Qn.Dictionary.Values.Cell(),t),n=(0,tc.loadCurrencyCollection)(t);return{config:r,configAddress:e,globalBalance:n}}jr.loadMasterchainStateExtra=rc});var Xn=g(Be=>{"use strict";s();a();Object.defineProperty(Be,"__esModule",{value:!0});Be.MessageValue=Be.storeMessage=Be.loadMessage=void 0;var cs=w(),hs=zn(),Yn=Je();function gs(t){let e=(0,hs.loadCommonMessageInfo)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,Yn.loadStateInit)(t.loadRef().beginParse()):r=(0,Yn.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}Be.loadMessage=gs;function ps(t,e){return r=>{if(r.store((0,hs.storeCommonMessageInfo)(t.info)),t.init){r.storeBit(!0);let o=(0,cs.beginCell)().store((0,Yn.storeStateInit)(t.init)),i=!1;e&&e.forceRef?i=!0:i=r.availableBits-2<o.bits+t.body.bits.length,i?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:n=r.availableBits-1<t.body.bits.length||r.refs+t.body.refs.length>4,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}Be.storeMessage=ps;Be.MessageValue={serialize(t,e){e.storeRef((0,cs.beginCell)().store(ps(t)))},parse(t){return gs(t.loadRef().beginParse())}}});var ys=g(Wt=>{"use strict";s();a();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.SendMode=void 0;var nc;(function(t){t[t.CARRY_ALL_REMAINING_BALANCE=128]="CARRY_ALL_REMAINING_BALANCE",t[t.CARRY_ALL_REMAINING_INCOMING_VALUE=64]="CARRY_ALL_REMAINING_INCOMING_VALUE",t[t.DESTROY_ACCOUNT_IF_ZERO=32]="DESTROY_ACCOUNT_IF_ZERO",t[t.PAY_GAS_SEPARATELY=1]="PAY_GAS_SEPARATELY",t[t.IGNORE_ERRORS=2]="IGNORE_ERRORS",t[t.NONE=0]="NONE"})(nc=Wt.SendMode||(Wt.SendMode={}))});var Zn=g(yt=>{"use strict";s();a();Object.defineProperty(yt,"__esModule",{value:!0});yt.storeShardAccount=yt.loadShardAccount=void 0;var _s=w(),bs=Nn();function oc(t){let e=t.loadRef(),r;if(!e.isExotic){let n=e.beginParse();n.loadBit()&&(r=(0,bs.loadAccount)(n))}return{account:r,lastTransactionHash:t.loadUintBig(256),lastTransactionLt:t.loadUintBig(64)}}yt.loadShardAccount=oc;function ic(t){return e=>{t.account?e.storeRef((0,_s.beginCell)().storeBit(!0).store((0,bs.storeAccount)(t.account))):e.storeRef((0,_s.beginCell)().storeBit(!1)),e.storeUint(t.lastTransactionHash,256),e.storeUint(t.lastTransactionLt,64)}}yt.storeShardAccount=ic});var Jn=g(ne=>{"use strict";s();a();Object.defineProperty(ne,"__esModule",{value:!0});ne.storeShardAccounts=ne.loadShardAccounts=ne.ShardAccountRefValue=void 0;var Bs=ae(),ms=Wn(),Ss=Zn();ne.ShardAccountRefValue={parse:t=>{let e=(0,ms.loadDepthBalanceInfo)(t),r=(0,Ss.loadShardAccount)(t);return{depthBalanceInfo:e,shardAccount:r}},serialize(t,e){e.store((0,ms.storeDepthBalanceInfo)(t.depthBalanceInfo)),e.store((0,Ss.storeShardAccount)(t.shardAccount))}};function sc(t){return Bs.Dictionary.load(Bs.Dictionary.Keys.BigUint(256),ne.ShardAccountRefValue,t)}ne.loadShardAccounts=sc;function ac(t){return e=>{e.storeDict(t)}}ne.storeShardAccounts=ac});var eo=g(_t=>{"use strict";s();a();Object.defineProperty(_t,"__esModule",{value:!0});_t.storeShardIdent=_t.loadShardIdent=void 0;function lc(t){if(t.loadUint(2)!==0)throw Error("Invalid data");return{shardPrefixBits:t.loadUint(6),workchainId:t.loadInt(32),shardPrefix:t.loadUintBig(64)}}_t.loadShardIdent=lc;function uc(t){return e=>{e.storeUint(0,2),e.storeUint(t.shardPrefixBits,6),e.storeInt(t.workchainId,32),e.storeUint(t.shardPrefix,64)}}_t.storeShardIdent=uc});var Cs=g(Nr=>{"use strict";s();a();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.loadShardStateUnsplit=void 0;var dc=Gn(),fc=Jn(),cc=eo();function hc(t){if(t.loadUint(32)!==2418257890)throw Error("Invalid data");let e=t.loadInt(32),r=(0,cc.loadShardIdent)(t),n=t.loadUint(32),o=t.loadUint(32),i=t.loadUint(32),u=t.loadUintBig(64),f=t.loadUint(32);t.loadRef();let c=t.loadBit(),h=t.loadRef(),y;h.isExotic||(y=(0,fc.loadShardAccounts)(h.beginParse())),t.loadRef();let B=t.loadBit(),_=null;if(B){let b=t.loadRef();b.isExotic||(_=(0,dc.loadMasterchainStateExtra)(b.beginParse()))}return{globalId:e,shardId:r,seqno:n,vertSeqNo:o,genUtime:i,genLt:u,minRefMcSeqno:f,beforeSplit:c,accounts:y,extras:_}}Nr.loadShardStateUnsplit=hc});var to=g(bt=>{"use strict";s();a();Object.defineProperty(bt,"__esModule",{value:!0});bt.storeSplitMergeInfo=bt.loadSplitMergeInfo=void 0;function gc(t){let e=t.loadUint(6),r=t.loadUint(6),n=t.loadUintBig(256),o=t.loadUintBig(256);return{currentShardPrefixLength:e,accountSplitDepth:r,thisAddress:n,siblingAddress:o}}bt.loadSplitMergeInfo=gc;function pc(t){return e=>{e.storeUint(t.currentShardPrefixLength,6),e.storeUint(t.accountSplitDepth,6),e.storeUint(t.thisAddress,256),e.storeUint(t.siblingAddress,256)}}bt.storeSplitMergeInfo=pc});var Dr=g(Bt=>{"use strict";s();a();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.storeStorageUsedShort=Bt.loadStorageUsedShort=void 0;function yc(t){let e=t.loadVarUintBig(3),r=t.loadVarUintBig(3);return{cells:e,bits:r}}Bt.loadStorageUsedShort=yc;function _c(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3)}}Bt.storeStorageUsedShort=_c});var ro=g(mt=>{"use strict";s();a();Object.defineProperty(mt,"__esModule",{value:!0});mt.storeTransactionActionPhase=mt.loadTransactionActionPhase=void 0;var Ps=qr(),ws=Dr();function bc(t){let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=(0,Ps.loadAccountStatusChange)(t),i=t.loadBit()?t.loadCoins():void 0,u=t.loadBit()?t.loadCoins():void 0,f=t.loadInt(32),c=t.loadBit()?t.loadInt(32):void 0,h=t.loadUint(16),y=t.loadUint(16),B=t.loadUint(16),_=t.loadUint(16),b=t.loadUintBig(256),m=(0,ws.loadStorageUsedShort)(t);return{success:e,valid:r,noFunds:n,statusChange:o,totalFwdFees:i,totalActionFees:u,resultCode:f,resultArg:c,totalActions:h,specActions:y,skippedActions:B,messagesCreated:_,actionListHash:b,totalMessageSize:m}}mt.loadTransactionActionPhase=bc;function Bc(t){return e=>{e.storeBit(t.success),e.storeBit(t.valid),e.storeBit(t.noFunds),e.store((0,Ps.storeAccountStatusChange)(t.statusChange)),e.storeMaybeCoins(t.totalFwdFees),e.storeMaybeCoins(t.totalActionFees),e.storeInt(t.resultCode,32),e.storeMaybeInt(t.resultArg,32),e.storeUint(t.totalActions,16),e.storeUint(t.specActions,16),e.storeUint(t.skippedActions,16),e.storeUint(t.messagesCreated,16),e.storeUint(t.actionListHash,256),e.store((0,ws.storeStorageUsedShort)(t.totalMessageSize))}}mt.storeTransactionActionPhase=Bc});var no=g(St=>{"use strict";s();a();Object.defineProperty(St,"__esModule",{value:!0});St.storeTransactionBouncePhase=St.loadTransactionBouncePhase=void 0;var Vr=Dr();function mc(t){if(t.loadBit()){let e=(0,Vr.loadStorageUsedShort)(t),r=t.loadCoins(),n=t.loadCoins();return{type:"ok",messageSize:e,messageFees:r,forwardFees:n}}if(t.loadBit()){let e=(0,Vr.loadStorageUsedShort)(t),r=t.loadCoins();return{type:"no-funds",messageSize:e,requiredForwardFees:r}}return{type:"negative-funds"}}St.loadTransactionBouncePhase=mc;function Sc(t){return e=>{if(t.type==="ok")e.storeBit(!0),e.store((0,Vr.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.messageFees),e.storeCoins(t.forwardFees);else if(t.type==="negative-funds")e.storeBit(!1),e.storeBit(!1);else if(t.type==="no-funds")e.storeBit(!1),e.storeBit(!0),e.store((0,Vr.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.requiredForwardFees);else throw new Error("Invalid TransactionBouncePhase type")}}St.storeTransactionBouncePhase=Sc});var oo=g(Ct=>{"use strict";s();a();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.storeTransactionComputePhase=Ct.loadTransactionComputePhase=void 0;var Cc=w(),xs=Hn();function Pc(t){if(!t.loadBit()){let S=(0,xs.loadComputeSkipReason)(t);return{type:"skipped",reason:S}}let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=t.loadCoins(),i=t.loadRef().beginParse(),u=i.loadVarUintBig(3),f=i.loadVarUintBig(3),c=i.loadBit()?i.loadVarUintBig(2):void 0,h=i.loadUint(8),y=i.loadInt(32),B=i.loadBit()?i.loadInt(32):void 0,_=i.loadUint(32),b=i.loadUintBig(256),m=i.loadUintBig(256);return{type:"vm",success:e,messageStateUsed:r,accountActivated:n,gasFees:o,gasUsed:u,gasLimit:f,gasCredit:c,mode:h,exitCode:y,exitArg:B,vmSteps:_,vmInitStateHash:b,vmFinalStateHash:m}}Ct.loadTransactionComputePhase=Pc;function wc(t){return e=>{if(t.type==="skipped"){e.storeBit(0),e.store((0,xs.storeComputeSkipReason)(t.reason));return}e.storeBit(1),e.storeBit(t.success),e.storeBit(t.messageStateUsed),e.storeBit(t.accountActivated),e.storeCoins(t.gasFees),e.storeRef((0,Cc.beginCell)().storeVarUint(t.gasUsed,3).storeVarUint(t.gasLimit,3).store(r=>t.gasCredit!==void 0&&t.gasCredit!==null?r.storeBit(1).storeVarUint(t.gasCredit,2):r.storeBit(0)).storeUint(t.mode,8).storeInt(t.exitCode,32).store(r=>t.exitArg!==void 0&&t.exitArg!==null?r.storeBit(1).storeInt(t.exitArg,32):r.storeBit(0)).storeUint(t.vmSteps,32).storeUint(t.vmInitStateHash,256).storeUint(t.vmFinalStateHash,256).endCell())}}Ct.storeTransactionComputePhase=wc});var io=g(Pt=>{"use strict";s();a();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.storeTransactionCreditPhase=Pt.loadTransactionCreditPhase=void 0;var As=re();function xc(t){let e=t.loadBit()?t.loadCoins():void 0,r=(0,As.loadCurrencyCollection)(t);return{dueFeesColelcted:e,credit:r}}Pt.loadTransactionCreditPhase=xc;function Ac(t){return e=>{t.dueFeesColelcted===null||t.dueFeesColelcted===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.dueFeesColelcted)),e.store((0,As.storeCurrencyCollection)(t.credit))}}Pt.storeTransactionCreditPhase=Ac});var so=g(wt=>{"use strict";s();a();Object.defineProperty(wt,"__esModule",{value:!0});wt.storeTransactionsStoragePhase=wt.loadTransactionStoragePhase=void 0;var Ms=qr();function Mc(t){let e=t.loadCoins(),r;t.loadBit()&&(r=t.loadCoins());let n=(0,Ms.loadAccountStatusChange)(t);return{storageFeesCollected:e,storageFeesDue:r,statusChange:n}}wt.loadTransactionStoragePhase=Mc;function vc(t){return e=>{e.storeCoins(t.storageFeesCollected),t.storageFeesDue===null||t.storageFeesDue===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.storageFeesDue)),e.store((0,Ms.storeAccountStatusChange)(t.statusChange))}}wt.storeTransactionsStoragePhase=vc});var lo=g(Mt=>{"use strict";s();a();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.storeTransactionDescription=Mt.loadTransactionDescription=void 0;var ao=w(),Kr=to(),vs=uo(),xt=ro(),Us=no(),At=oo(),Is=io(),me=so();function Uc(t){let e=t.loadUint(4);if(e===0){let r=t.loadBit(),n;t.loadBit()&&(n=(0,me.loadTransactionStoragePhase)(t));let o;t.loadBit()&&(o=(0,Is.loadTransactionCreditPhase)(t));let i=(0,At.loadTransactionComputePhase)(t),u;t.loadBit()&&(u=(0,xt.loadTransactionActionPhase)(t.loadRef().beginParse()));let f=t.loadBit(),c;t.loadBit()&&(c=(0,Us.loadTransactionBouncePhase)(t));let h=t.loadBit();return{type:"generic",creditFirst:r,storagePhase:n,creditPhase:o,computePhase:i,actionPhase:u,bouncePhase:c,aborted:f,destroyed:h}}if(e===1)return{type:"storage",storagePhase:(0,me.loadTransactionStoragePhase)(t)};if(e===2||e===3){let r=e===3,n=(0,me.loadTransactionStoragePhase)(t),o=(0,At.loadTransactionComputePhase)(t),i;t.loadBit()&&(i=(0,xt.loadTransactionActionPhase)(t.loadRef().beginParse()));let u=t.loadBit(),f=t.loadBit();return{type:"tick-tock",isTock:r,storagePhase:n,computePhase:o,actionPhase:i,aborted:u,destroyed:f}}if(e===4){let r=(0,Kr.loadSplitMergeInfo)(t),n;t.loadBit()&&(n=(0,me.loadTransactionStoragePhase)(t));let o=(0,At.loadTransactionComputePhase)(t),i;t.loadBit()&&(i=(0,xt.loadTransactionActionPhase)(t.loadRef().beginParse()));let u=t.loadBit(),f=t.loadBit();return{type:"split-prepare",splitInfo:r,storagePhase:n,computePhase:o,actionPhase:i,aborted:u,destroyed:f}}if(e===5){let r=(0,Kr.loadSplitMergeInfo)(t),n=(0,vs.loadTransaction)(t.loadRef().beginParse()),o=t.loadBit();return{type:"split-install",splitInfo:r,prepareTransaction:n,installed:o}}throw Error(`Unsupported transaction description type ${e}`)}Mt.loadTransactionDescription=Uc;function Ic(t){return e=>{if(t.type==="generic")e.storeUint(0,4),e.storeBit(t.creditFirst),t.storagePhase?(e.storeBit(!0),e.store((0,me.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),t.creditPhase?(e.storeBit(!0),e.store((0,Is.storeTransactionCreditPhase)(t.creditPhase))):e.storeBit(!1),e.store((0,At.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,ao.beginCell)().store((0,xt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),t.bouncePhase?(e.storeBit(!0),e.store((0,Us.storeTransactionBouncePhase)(t.bouncePhase))):e.storeBit(!1),e.storeBit(t.destroyed);else if(t.type==="storage")e.storeUint(1,4),e.store((0,me.storeTransactionsStoragePhase)(t.storagePhase));else if(t.type==="tick-tock")e.storeUint(t.isTock?3:2,4),e.store((0,me.storeTransactionsStoragePhase)(t.storagePhase)),e.store((0,At.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,ao.beginCell)().store((0,xt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-prepare")e.storeUint(4,4),e.store((0,Kr.storeSplitMergeInfo)(t.splitInfo)),t.storagePhase?(e.storeBit(!0),e.store((0,me.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),e.store((0,At.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.store((0,xt.storeTransactionActionPhase)(t.actionPhase))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-install")e.storeUint(5,4),e.store((0,Kr.storeSplitMergeInfo)(t.splitInfo)),e.storeRef((0,ao.beginCell)().store((0,vs.storeTransaction)(t.prepareTransaction))),e.storeBit(t.installed);else throw Error(`Unsupported transaction description type ${t.type}`)}}Mt.storeTransactionDescription=Ic});var uo=g(vt=>{"use strict";s();a();Object.defineProperty(vt,"__esModule",{value:!0});vt.storeTransaction=vt.loadTransaction=void 0;var Lr=w(),Tc=ae(),Fr=Dn(),Ts=re(),Os=$n(),fo=Xn(),Es=lo();function Oc(t){let e=t.asCell();if(t.loadUint(4)!==7)throw Error("Invalid data");let r=t.loadUintBig(256),n=t.loadUintBig(64),o=t.loadUintBig(256),i=t.loadUintBig(64),u=t.loadUint(32),f=t.loadUint(15),c=(0,Fr.loadAccountStatus)(t),h=(0,Fr.loadAccountStatus)(t),B=t.loadRef().beginParse(),_=B.loadBit()?(0,fo.loadMessage)(B.loadRef().beginParse()):void 0,b=B.loadDict(Tc.Dictionary.Keys.Uint(15),fo.MessageValue);B.endParse();let m=(0,Ts.loadCurrencyCollection)(t),S=(0,Os.loadHashUpdate)(t.loadRef().beginParse()),q=(0,Es.loadTransactionDescription)(t.loadRef().beginParse());return{address:r,lt:n,prevTransactionHash:o,prevTransactionLt:i,now:u,outMessagesCount:f,oldStatus:c,endStatus:h,inMessage:_,outMessages:b,totalFees:m,stateUpdate:S,description:q,raw:e,hash:()=>e.hash()}}vt.loadTransaction=Oc;function Ec(t){return e=>{e.storeUint(7,4),e.storeUint(t.address,256),e.storeUint(t.lt,64),e.storeUint(t.prevTransactionHash,256),e.storeUint(t.prevTransactionLt,64),e.storeUint(t.now,32),e.storeUint(t.outMessagesCount,15),e.store((0,Fr.storeAccountStatus)(t.oldStatus)),e.store((0,Fr.storeAccountStatus)(t.endStatus));let r=(0,Lr.beginCell)();t.inMessage?(r.storeBit(!0),r.storeRef((0,Lr.beginCell)().store((0,fo.storeMessage)(t.inMessage)))):r.storeBit(!1),r.storeDict(t.outMessages),e.storeRef(r),e.store((0,Ts.storeCurrencyCollection)(t.totalFees)),e.storeRef((0,Lr.beginCell)().store((0,Os.storeHashUpdate)(t.stateUpdate))),e.storeRef((0,Lr.beginCell)().store((0,Es.storeTransactionDescription)(t.description)))}}vt.storeTransaction=Ec});var ua=g(d=>{"use strict";s();a();Object.defineProperty(d,"__esModule",{value:!0});d.loadStorageInfo=d.storeStateInit=d.loadStateInit=d.storeSplitMergeInfo=d.loadSplitMergeInfo=d.storeSimpleLibrary=d.loadSimpleLibrary=d.loadShardStateUnsplit=d.storeShardIdent=d.loadShardIdent=d.storeShardAccounts=d.loadShardAccounts=d.ShardAccountRefValue=d.storeShardAccount=d.loadShardAccount=d.SendMode=d.storeMessageRelaxed=d.loadMessageRelaxed=d.storeMessage=d.loadMessage=d.loadMasterchainStateExtra=d.storeHashUpdate=d.loadHashUpdate=d.storeDepthBalanceInfo=d.loadDepthBalanceInfo=d.storeCurrencyCollection=d.loadCurrencyCollection=d.storeComputeSkipReason=d.loadComputeSkipReason=d.storeCommonMessageInfoRelaxed=d.loadCommonMessageInfoRelaxed=d.storeCommonMessageInfo=d.loadCommonMessageInfo=d.storeOutList=d.loadOutList=d.storeOutAction=d.loadOutAction=d.storeAccountStorage=d.loadAccountStorage=d.storeAccountStatusChange=d.loadAccountStatusChange=d.storeAccountStatus=d.loadAccountStatus=d.storeAccountState=d.loadAccountState=d.storeAccount=d.loadAccount=d.comment=d.external=d.internal=void 0;d.storeTransactionsStoragePhase=d.loadTransactionStoragePhase=d.storeTransactionDescription=d.loadTransactionDescription=d.storeTransactionCreditPhase=d.loadTransactionCreditPhase=d.storeTransactionComputePhase=d.loadTransactionComputePhase=d.storeTransactionBouncePhase=d.loadTransactionBouncePhase=d.storeTransactionActionPhase=d.loadTransactionActionPhase=d.storeTransaction=d.loadTransaction=d.storeTickTock=d.loadTickTock=d.storeStorageUsedShort=d.loadStorageUsedShort=d.storeStorageUsed=d.loadStorageUsed=d.storeStorageInfo=void 0;var co=Qi();Object.defineProperty(d,"internal",{enumerable:!0,get:function(){return co.internal}});Object.defineProperty(d,"external",{enumerable:!0,get:function(){return co.external}});Object.defineProperty(d,"comment",{enumerable:!0,get:function(){return co.comment}});var Rs=Nn();Object.defineProperty(d,"loadAccount",{enumerable:!0,get:function(){return Rs.loadAccount}});Object.defineProperty(d,"storeAccount",{enumerable:!0,get:function(){return Rs.storeAccount}});var ks=Rn();Object.defineProperty(d,"loadAccountState",{enumerable:!0,get:function(){return ks.loadAccountState}});Object.defineProperty(d,"storeAccountState",{enumerable:!0,get:function(){return ks.storeAccountState}});var qs=Dn();Object.defineProperty(d,"loadAccountStatus",{enumerable:!0,get:function(){return qs.loadAccountStatus}});Object.defineProperty(d,"storeAccountStatus",{enumerable:!0,get:function(){return qs.storeAccountStatus}});var js=qr();Object.defineProperty(d,"loadAccountStatusChange",{enumerable:!0,get:function(){return js.loadAccountStatusChange}});Object.defineProperty(d,"storeAccountStatusChange",{enumerable:!0,get:function(){return js.storeAccountStatusChange}});var Ns=kn();Object.defineProperty(d,"loadAccountStorage",{enumerable:!0,get:function(){return Ns.loadAccountStorage}});Object.defineProperty(d,"storeAccountStorage",{enumerable:!0,get:function(){return Ns.storeAccountStorage}});var zr=us();Object.defineProperty(d,"loadOutAction",{enumerable:!0,get:function(){return zr.loadOutAction}});Object.defineProperty(d,"storeOutAction",{enumerable:!0,get:function(){return zr.storeOutAction}});Object.defineProperty(d,"loadOutList",{enumerable:!0,get:function(){return zr.loadOutList}});Object.defineProperty(d,"storeOutList",{enumerable:!0,get:function(){return zr.storeOutList}});var Ds=zn();Object.defineProperty(d,"loadCommonMessageInfo",{enumerable:!0,get:function(){return Ds.loadCommonMessageInfo}});Object.defineProperty(d,"storeCommonMessageInfo",{enumerable:!0,get:function(){return Ds.storeCommonMessageInfo}});var Vs=Vn();Object.defineProperty(d,"loadCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return Vs.loadCommonMessageInfoRelaxed}});Object.defineProperty(d,"storeCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return Vs.storeCommonMessageInfoRelaxed}});var Ks=Hn();Object.defineProperty(d,"loadComputeSkipReason",{enumerable:!0,get:function(){return Ks.loadComputeSkipReason}});Object.defineProperty(d,"storeComputeSkipReason",{enumerable:!0,get:function(){return Ks.storeComputeSkipReason}});var Ls=re();Object.defineProperty(d,"loadCurrencyCollection",{enumerable:!0,get:function(){return Ls.loadCurrencyCollection}});Object.defineProperty(d,"storeCurrencyCollection",{enumerable:!0,get:function(){return Ls.storeCurrencyCollection}});var Fs=Wn();Object.defineProperty(d,"loadDepthBalanceInfo",{enumerable:!0,get:function(){return Fs.loadDepthBalanceInfo}});Object.defineProperty(d,"storeDepthBalanceInfo",{enumerable:!0,get:function(){return Fs.storeDepthBalanceInfo}});var zs=$n();Object.defineProperty(d,"loadHashUpdate",{enumerable:!0,get:function(){return zs.loadHashUpdate}});Object.defineProperty(d,"storeHashUpdate",{enumerable:!0,get:function(){return zs.storeHashUpdate}});var Rc=Gn();Object.defineProperty(d,"loadMasterchainStateExtra",{enumerable:!0,get:function(){return Rc.loadMasterchainStateExtra}});var Hs=Xn();Object.defineProperty(d,"loadMessage",{enumerable:!0,get:function(){return Hs.loadMessage}});Object.defineProperty(d,"storeMessage",{enumerable:!0,get:function(){return Hs.storeMessage}});var Ws=Ln();Object.defineProperty(d,"loadMessageRelaxed",{enumerable:!0,get:function(){return Ws.loadMessageRelaxed}});Object.defineProperty(d,"storeMessageRelaxed",{enumerable:!0,get:function(){return Ws.storeMessageRelaxed}});var kc=ys();Object.defineProperty(d,"SendMode",{enumerable:!0,get:function(){return kc.SendMode}});var $s=Zn();Object.defineProperty(d,"loadShardAccount",{enumerable:!0,get:function(){return $s.loadShardAccount}});Object.defineProperty(d,"storeShardAccount",{enumerable:!0,get:function(){return $s.storeShardAccount}});var ho=Jn();Object.defineProperty(d,"ShardAccountRefValue",{enumerable:!0,get:function(){return ho.ShardAccountRefValue}});Object.defineProperty(d,"loadShardAccounts",{enumerable:!0,get:function(){return ho.loadShardAccounts}});Object.defineProperty(d,"storeShardAccounts",{enumerable:!0,get:function(){return ho.storeShardAccounts}});var Qs=eo();Object.defineProperty(d,"loadShardIdent",{enumerable:!0,get:function(){return Qs.loadShardIdent}});Object.defineProperty(d,"storeShardIdent",{enumerable:!0,get:function(){return Qs.storeShardIdent}});var qc=Cs();Object.defineProperty(d,"loadShardStateUnsplit",{enumerable:!0,get:function(){return qc.loadShardStateUnsplit}});var Gs=Mn();Object.defineProperty(d,"loadSimpleLibrary",{enumerable:!0,get:function(){return Gs.loadSimpleLibrary}});Object.defineProperty(d,"storeSimpleLibrary",{enumerable:!0,get:function(){return Gs.storeSimpleLibrary}});var Ys=to();Object.defineProperty(d,"loadSplitMergeInfo",{enumerable:!0,get:function(){return Ys.loadSplitMergeInfo}});Object.defineProperty(d,"storeSplitMergeInfo",{enumerable:!0,get:function(){return Ys.storeSplitMergeInfo}});var Xs=Je();Object.defineProperty(d,"loadStateInit",{enumerable:!0,get:function(){return Xs.loadStateInit}});Object.defineProperty(d,"storeStateInit",{enumerable:!0,get:function(){return Xs.storeStateInit}});var Zs=jn();Object.defineProperty(d,"loadStorageInfo",{enumerable:!0,get:function(){return Zs.loadStorageInfo}});Object.defineProperty(d,"storeStorageInfo",{enumerable:!0,get:function(){return Zs.storeStorageInfo}});var Js=qn();Object.defineProperty(d,"loadStorageUsed",{enumerable:!0,get:function(){return Js.loadStorageUsed}});Object.defineProperty(d,"storeStorageUsed",{enumerable:!0,get:function(){return Js.storeStorageUsed}});var ea=Dr();Object.defineProperty(d,"loadStorageUsedShort",{enumerable:!0,get:function(){return ea.loadStorageUsedShort}});Object.defineProperty(d,"storeStorageUsedShort",{enumerable:!0,get:function(){return ea.storeStorageUsedShort}});var ta=vn();Object.defineProperty(d,"loadTickTock",{enumerable:!0,get:function(){return ta.loadTickTock}});Object.defineProperty(d,"storeTickTock",{enumerable:!0,get:function(){return ta.storeTickTock}});var ra=uo();Object.defineProperty(d,"loadTransaction",{enumerable:!0,get:function(){return ra.loadTransaction}});Object.defineProperty(d,"storeTransaction",{enumerable:!0,get:function(){return ra.storeTransaction}});var na=ro();Object.defineProperty(d,"loadTransactionActionPhase",{enumerable:!0,get:function(){return na.loadTransactionActionPhase}});Object.defineProperty(d,"storeTransactionActionPhase",{enumerable:!0,get:function(){return na.storeTransactionActionPhase}});var oa=no();Object.defineProperty(d,"loadTransactionBouncePhase",{enumerable:!0,get:function(){return oa.loadTransactionBouncePhase}});Object.defineProperty(d,"storeTransactionBouncePhase",{enumerable:!0,get:function(){return oa.storeTransactionBouncePhase}});var ia=oo();Object.defineProperty(d,"loadTransactionComputePhase",{enumerable:!0,get:function(){return ia.loadTransactionComputePhase}});Object.defineProperty(d,"storeTransactionComputePhase",{enumerable:!0,get:function(){return ia.storeTransactionComputePhase}});var sa=io();Object.defineProperty(d,"loadTransactionCreditPhase",{enumerable:!0,get:function(){return sa.loadTransactionCreditPhase}});Object.defineProperty(d,"storeTransactionCreditPhase",{enumerable:!0,get:function(){return sa.storeTransactionCreditPhase}});var aa=lo();Object.defineProperty(d,"loadTransactionDescription",{enumerable:!0,get:function(){return aa.loadTransactionDescription}});Object.defineProperty(d,"storeTransactionDescription",{enumerable:!0,get:function(){return aa.storeTransactionDescription}});var la=so();Object.defineProperty(d,"loadTransactionStoragePhase",{enumerable:!0,get:function(){return la.loadTransactionStoragePhase}});Object.defineProperty(d,"storeTransactionsStoragePhase",{enumerable:!0,get:function(){return la.storeTransactionsStoragePhase}})});var fa=g(Hr=>{"use strict";s();a();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.openContract=void 0;var jc=X(),da=le();function Nc(t,e){let r,n=null;if(!jc.Address.isAddress(t.address))throw Error("Invalid address");if(r=t.address,t.init){if(!(t.init.code instanceof da.Cell))throw Error("Invalid init.code");if(!(t.init.data instanceof da.Cell))throw Error("Invalid init.data");n=t.init}let o=e({address:r,init:n});return new Proxy(t,{get(i,u){let f=i[u];return typeof u=="string"&&(u.startsWith("get")||u.startsWith("send"))&&typeof f=="function"?(...c)=>f.apply(i,[o,...c]):f}})}Hr.openContract=Nc});var ca=g(Wr=>{"use strict";s();a();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.ComputeError=void 0;var $t=class extends Error{constructor(e,r,n){super(e),this.exitCode=r,this.debugLogs=n&&n.debugLogs?n.debugLogs:null,this.logs=n&&n.logs?n.logs:null,Object.setPrototypeOf(this,$t.prototype)}};Wr.ComputeError=$t});var ha=g($r=>{"use strict";s();a();Object.defineProperty($r,"__esModule",{value:!0});$r.getMethodId=void 0;var Dc=new Int16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);function Vc(t){t instanceof l.Buffer||(t=l.Buffer.from(t));let e=0;for(let r=0;r<t.length;r++){let n=t[r];e=(Dc[(e>>8^n)&255]^e<<8)&65535}return e}function Kc(t){return Vc(t)&65535|65536}$r.getMethodId=Kc});var pa=g(Ut=>{"use strict";s();a();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.safeSignVerify=Ut.safeSign=void 0;var go=Mr(),Lc=8,Fc=64;function ga(t,e){let r=l.Buffer.from(e);if(r.length>Fc)throw Error("Seed can	 be longer than 64 bytes");if(r.length<Lc)throw Error("Seed must be at least 8 bytes");return(0,go.sha256_sync)(l.Buffer.concat([l.Buffer.from([255,255]),r,t.hash()]))}function zc(t,e,r="ton-safe-sign-magic"){return(0,go.sign)(ga(t,r),e)}Ut.safeSign=zc;function Hc(t,e,r,n="ton-safe-sign-magic"){return(0,go.signVerify)(ga(t,n),e,r)}Ut.safeSignVerify=Hc});var K=g(p=>{"use strict";s();a();var Wc=p&&p.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$c=p&&p.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wc(e,t,r)};Object.defineProperty(p,"__esModule",{value:!0});p.safeSignVerify=p.safeSign=p.getMethodId=p.base32Encode=p.base32Decode=p.crc32c=p.crc16=p.fromNano=p.toNano=p.ComputeError=p.openContract=p.TupleBuilder=p.TupleReader=p.serializeTuple=p.parseTuple=p.generateMerkleUpdate=p.generateMerkleProofDirect=p.generateMerkleProof=p.exoticPruned=p.exoticMerkleUpdate=p.convertToMerkleProof=p.exoticMerkleProof=p.Dictionary=p.Cell=p.CellType=p.Slice=p.beginCell=p.Builder=p.BitBuilder=p.BitReader=p.BitString=p.contractAddress=p.ADNLAddress=p.ExternalAddress=p.address=p.Address=void 0;var ya=X();Object.defineProperty(p,"Address",{enumerable:!0,get:function(){return ya.Address}});Object.defineProperty(p,"address",{enumerable:!0,get:function(){return ya.address}});var Qc=or();Object.defineProperty(p,"ExternalAddress",{enumerable:!0,get:function(){return Qc.ExternalAddress}});var Gc=Uo();Object.defineProperty(p,"ADNLAddress",{enumerable:!0,get:function(){return Gc.ADNLAddress}});var Yc=Vi();Object.defineProperty(p,"contractAddress",{enumerable:!0,get:function(){return Yc.contractAddress}});var Xc=Z();Object.defineProperty(p,"BitString",{enumerable:!0,get:function(){return Xc.BitString}});var Zc=ee();Object.defineProperty(p,"BitReader",{enumerable:!0,get:function(){return Zc.BitReader}});var Jc=jt();Object.defineProperty(p,"BitBuilder",{enumerable:!0,get:function(){return Jc.BitBuilder}});var _a=w();Object.defineProperty(p,"Builder",{enumerable:!0,get:function(){return _a.Builder}});Object.defineProperty(p,"beginCell",{enumerable:!0,get:function(){return _a.beginCell}});var eh=gr();Object.defineProperty(p,"Slice",{enumerable:!0,get:function(){return eh.Slice}});var th=qe();Object.defineProperty(p,"CellType",{enumerable:!0,get:function(){return th.CellType}});var rh=le();Object.defineProperty(p,"Cell",{enumerable:!0,get:function(){return rh.Cell}});var nh=ae();Object.defineProperty(p,"Dictionary",{enumerable:!0,get:function(){return nh.Dictionary}});var ba=Vt();Object.defineProperty(p,"exoticMerkleProof",{enumerable:!0,get:function(){return ba.exoticMerkleProof}});Object.defineProperty(p,"convertToMerkleProof",{enumerable:!0,get:function(){return ba.convertToMerkleProof}});var oh=_r();Object.defineProperty(p,"exoticMerkleUpdate",{enumerable:!0,get:function(){return oh.exoticMerkleUpdate}});var ih=Sr();Object.defineProperty(p,"exoticPruned",{enumerable:!0,get:function(){return ih.exoticPruned}});var Ba=lr();Object.defineProperty(p,"generateMerkleProof",{enumerable:!0,get:function(){return Ba.generateMerkleProof}});Object.defineProperty(p,"generateMerkleProofDirect",{enumerable:!0,get:function(){return Ba.generateMerkleProofDirect}});var sh=hn();Object.defineProperty(p,"generateMerkleUpdate",{enumerable:!0,get:function(){return sh.generateMerkleUpdate}});var ma=Fi();Object.defineProperty(p,"parseTuple",{enumerable:!0,get:function(){return ma.parseTuple}});Object.defineProperty(p,"serializeTuple",{enumerable:!0,get:function(){return ma.serializeTuple}});var ah=zi();Object.defineProperty(p,"TupleReader",{enumerable:!0,get:function(){return ah.TupleReader}});var lh=Hi();Object.defineProperty(p,"TupleBuilder",{enumerable:!0,get:function(){return lh.TupleBuilder}});$c(ua(),p);var uh=fa();Object.defineProperty(p,"openContract",{enumerable:!0,get:function(){return uh.openContract}});var dh=ca();Object.defineProperty(p,"ComputeError",{enumerable:!0,get:function(){return dh.ComputeError}});var Sa=En();Object.defineProperty(p,"toNano",{enumerable:!0,get:function(){return Sa.toNano}});Object.defineProperty(p,"fromNano",{enumerable:!0,get:function(){return Sa.fromNano}});var fh=nr();Object.defineProperty(p,"crc16",{enumerable:!0,get:function(){return fh.crc16}});var ch=wn();Object.defineProperty(p,"crc32c",{enumerable:!0,get:function(){return ch.crc32c}});var Ca=un();Object.defineProperty(p,"base32Decode",{enumerable:!0,get:function(){return Ca.base32Decode}});Object.defineProperty(p,"base32Encode",{enumerable:!0,get:function(){return Ca.base32Encode}});var hh=ha();Object.defineProperty(p,"getMethodId",{enumerable:!0,get:function(){return hh.getMethodId}});var Pa=pa();Object.defineProperty(p,"safeSign",{enumerable:!0,get:function(){return Pa.safeSign}});Object.defineProperty(p,"safeSignVerify",{enumerable:!0,get:function(){return Pa.safeSignVerify}})});var wa=g(Qr=>{"use strict";s();a();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.WalletContractV3R2=void 0;var j=K(),gh=Rt(),Qt=class{static create(e){return new Qt(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=j.Cell.fromBoc(l.Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],i=(0,j.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:i},this.address=(0,j.contractAddress)(e,{code:o,data:i})}createTransfer(e){let r=j.SendMode.PAY_GAS_SEPARATELY+j.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId}),o=(0,j.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,j.beginCell)().store((0,j.storeMessage)(o)).endCell()}createWalletTransferV3(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,j.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let o=0;o<32;o++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let o of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,j.beginCell)().store((0,j.storeMessageRelaxed)(o)));let n=gh.signUtil.ed25519.sign(r.endCell().hash(),e.secretKey);return(0,j.beginCell)().storeBuffer(l.Buffer.from(n)).storeBuilder(r).endCell()}};Qr.WalletContractV3R2=Qt});var xa=g(Q=>{"use strict";s();a();Object.defineProperty(Q,"__esModule",{value:!0});Q.createWalletTransferV4=Q.createWalletTransferV3=Q.createWalletTransferV2=Q.createWalletTransferV1=void 0;var M=K(),Gr=Mr();function ph(t){let e=(0,M.beginCell)().storeUint(t.seqno,32);t.message&&(e.storeUint(t.sendMode,8),e.storeRef((0,M.beginCell)().store((0,M.storeMessageRelaxed)(t.message))));let r=(0,Gr.sign)(e.endCell().hash(),t.secretKey);return(0,M.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Q.createWalletTransferV1=ph;function yh(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,M.beginCell)().storeUint(t.seqno,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,M.beginCell)().store((0,M.storeMessageRelaxed)(o)));let r=(0,Gr.sign)(e.endCell().hash(),t.secretKey);return(0,M.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Q.createWalletTransferV2=yh;function _h(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,M.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);e.storeUint(t.seqno,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,M.beginCell)().store((0,M.storeMessageRelaxed)(o)));let r=(0,Gr.sign)(e.endCell().hash(),t.secretKey);return(0,M.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Q.createWalletTransferV3=_h;function bh(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,M.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+600,32);e.storeUint(t.seqno,32),e.storeUint(0,8);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,M.beginCell)().store((0,M.storeMessageRelaxed)(o)));let r=(0,Gr.sign)(e.endCell().hash(),t.secretKey);return(0,M.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}Q.createWalletTransferV4=bh});var Yt=g(Yr=>{"use strict";s();a();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.WalletContractV4=void 0;var oe=K(),Bh=xa(),Gt=class{static create(e){return new Gt(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=oe.Cell.fromBoc(l.Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],i=(0,oe.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:o,data:i},this.address=(0,oe.contractAddress)(e,{code:o,data:i})}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return(await e.getState()).state.type==="active"?(await e.get("seqno",[])).stack.readNumber():0}async send(e,r){await e.external(r)}async sendTransfer(e,r){let n=this.createTransfer(r);await this.send(e,n)}createTransfer(e){let r=oe.SendMode.PAY_GAS_SEPARATELY+oe.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=!1;(!e.secretKey||e.secretKey.length==0)&&(e.secretKey=l.Buffer.alloc(64),n=!0);let o=(0,Bh.createWalletTransferV4)({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId});if(n)return o;let i=(0,oe.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:o});return(0,oe.beginCell)().store((0,oe.storeMessage)(i)).endCell()}sender(e,r){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:r,sendMode:n.sendMode,messages:[(0,oe.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}};Yr.WalletContractV4=Gt});var Aa=g(Xr=>{"use strict";s();a();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.VenomWalletV3=void 0;var N=K(),mh=Rt(),Xt=class{static create(e){return new Xt(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=1269378442+e;let o=N.Cell.fromBoc(l.Buffer.from("te6ccgEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVA==","base64"))[0],i=(0,N.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:i},this.address=(0,N.contractAddress)(e,{code:o,data:i})}createTransfer(e){let r=N.SendMode.PAY_GAS_SEPARATELY+N.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3Venom({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId,globalId:e.globalId}),o=(0,N.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,N.beginCell)().store((0,N.storeMessage)(o)).endCell()}createWalletTransferV3Venom(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,N.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let u=0;u<32;u++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let u of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,N.beginCell)().store((0,N.storeMessageRelaxed)(u)));let n=l.Buffer.allocUnsafe(4);n.writeInt32BE(e.globalId);let o=l.Buffer.concat([n,r.endCell().hash()],36),i=mh.signUtil.ed25519.sign(o,e.secretKey);return(0,N.beginCell)().storeBuffer(l.Buffer.from(i)).storeBuilder(r).endCell()}};Xr.VenomWalletV3=Xt});var Zr=g(Se=>{"use strict";s();a();Object.defineProperty(Se,"__esModule",{value:!0});Se.VenomWalletV3=Se.WalletContractV4=Se.WalletContractV3R2=void 0;var Sh=wa();Object.defineProperty(Se,"WalletContractV3R2",{enumerable:!0,get:function(){return Sh.WalletContractV3R2}});var Ch=Yt();Object.defineProperty(Se,"WalletContractV4",{enumerable:!0,get:function(){return Ch.WalletContractV4}});var Ph=Aa();Object.defineProperty(Se,"VenomWalletV3",{enumerable:!0,get:function(){return Ph.VenomWalletV3}})});var Jr=g(x=>{"use strict";s();a();Object.defineProperty(x,"__esModule",{value:!0});x.toBase64Address=x.convertAddress=x.validateAddress=x.getVenomAddressBySeed=x.parseAddress=x.getAddressBySeed=x.checkSeed=x.getPubKeyBySeed=void 0;var ie=Rt(),wh=Zr(),It=K(),xh=Yt();function Ah(t){po(t);let{publicKey:e}=ie.signUtil.ed25519.fromSeed(ie.base.fromHex(t));return ie.base.toHex(e)}x.getPubKeyBySeed=Ah;function po(t){if(!ie.base.validateHexString(t))throw new Error("invalid key");let e=ie.base.fromHex(t.toLowerCase());if(!e||e.length!=32)throw new Error("invalid key")}x.checkSeed=po;function Mh(t){po(t);let{publicKey:e}=ie.signUtil.ed25519.fromSeed(ie.base.fromHex(t));return xh.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(e)}).address.toString({bounceable:!1})}x.getAddressBySeed=Mh;function Ma(t){try{if(It.Address.isRaw(t))return{address:It.Address.parseRaw(t),isRaw:!0,isValid:!0};if(It.Address.isFriendly(t))return{...It.Address.parseFriendly(t),isUserFriendly:!0,isValid:!0}}catch{}return{isValid:!1}}x.parseAddress=Ma;function vh(t){let{publicKey:e}=ie.signUtil.ed25519.fromSeed(ie.base.fromHex(t));return wh.VenomWalletV3.create({workchain:0,publicKey:l.Buffer.from(e)}).address.toRawString()}x.getVenomAddressBySeed=vh;function Uh(t){try{return It.Address.parse(t)}catch{return!1}}x.validateAddress=Uh;function Ih(t){let e=Ma(t);if(e.isValid){let r=e.address?.toRawString(),n=e.address?.toString({bounceable:!0,urlSafe:!0}),o=e.address?.toString({bounceable:!1,urlSafe:!0});return{raw:r,addrBounceable:{bounceable:!0,urlSafe:!0,userFriendlyBounceable:n},addrUnounceable:{bounceable:!1,urlSafe:!0,userFriendlyUnbounceable:o}}}else return e}x.convertAddress=Ih;function Th(t,e=!0,r){return typeof t=="string"&&(t=It.Address.parse(t)),t.toString({urlSafe:!0,bounceable:e,testOnly:r==="testnet"})}x.toBase64Address=Th});var en=g(P=>{"use strict";s();a();Object.defineProperty(P,"__esModule",{value:!0});P.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=P.NFT_TRANSFER_TONCOIN_AMOUNT=P.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=P.TOKEN_TRANSFER_TONCOIN_AMOUNT=P.NOTCOIN_EXCHANGERS=P.NOTCOIN_FORWARD_TON_AMOUNT=P.BURN_CHUNK_DURATION_APPROX_SEC=P.NOTCOIN_VOUCHERS_ADDRESS=P.NFT_BATCH_SIZE=P.TRANSFER_TIMEOUT_SEC=void 0;P.TRANSFER_TIMEOUT_SEC=600;P.NFT_BATCH_SIZE=4;P.NOTCOIN_VOUCHERS_ADDRESS="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW";P.BURN_CHUNK_DURATION_APPROX_SEC=30;P.NOTCOIN_FORWARD_TON_AMOUNT=30000000n;P.NOTCOIN_EXCHANGERS=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"];P.TOKEN_TRANSFER_TONCOIN_AMOUNT=100000000n;P.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n;P.NFT_TRANSFER_TONCOIN_AMOUNT=100000000n;P.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n});var Ea=g(v=>{"use strict";s();a();Object.defineProperty(v,"__esModule",{value:!0});v.buildNftTransferPayload=v.buildNotcoinVoucherExchange=v.packBytesAsSnake=v.commentToBytes=v.OpCode=v.NftOpCode=void 0;var Ae=K(),yo=en(),Oh=tn(),va;(function(t){t[t.TransferOwnership=1607220500]="TransferOwnership",t[t.OwnershipAssigned=85167505]="OwnershipAssigned"})(va=v.NftOpCode||(v.NftOpCode={}));var Ua;(function(t){t[t.Comment=0]="Comment",t[t.Encrypted=560454219]="Encrypted"})(Ua=v.OpCode||(v.OpCode={}));function Ia(t){let e=l.Buffer.from(t),r=new Uint8Array(e.length+4),n=l.Buffer.alloc(4);return n.writeUInt32BE(Ua.Comment),r.set(n,0),r.set(e,4),r}v.commentToBytes=Ia;var Eh=127;function Ta(t,e=Eh){let r=l.Buffer.from(t);if(r.length<=e)return t;let n=new Ae.Builder,o,i=n;for(let[u,f]of r.entries())i.availableBits<8&&(o?.storeRef(i),o=i,i=new Ae.Builder),i=i.storeUint(f,8),u===r.length-1&&o?.storeRef(i);return n.asCell()}v.packBytesAsSnake=Ta;function Rh(t,e,r){let n=Ae.Address.parse(e).hash.readUint8()>>4,o=yo.NOTCOIN_EXCHANGERS[n],i=new Ae.Builder().storeUint(1609328194,32).storeUint(r,64).endCell();return Oa(t,o,i,yo.NOTCOIN_FORWARD_TON_AMOUNT)}v.buildNotcoinVoucherExchange=Rh;function Oa(t,e,r,n=yo.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT){let o=new Ae.Builder().storeUint(va.TransferOwnership,32).storeUint((0,Oh.generateQueryId)(),64).storeAddress(Ae.Address.parse(e)).storeAddress(Ae.Address.parse(t)).storeBit(!1).storeCoins(n),i;if(r)if(typeof r=="string"){let u=Ia(r),f=Math.floor(o.availableBits/8);i=Ta(u,f)}else i=r;return i instanceof Uint8Array?(o.storeBit(0),o=o.storeBuffer(l.Buffer.from(i))):o=o.storeMaybeRef(i),o.endCell()}v.buildNftTransferPayload=Oa});var tn=g(D=>{"use strict";s();a();Object.defineProperty(D,"__esModule",{value:!0});D.bigintRandom=D.generateQueryId=D.buildNotcoinVoucherExchange=D.buildNftTransferPayload=D.signMultiTransaction=void 0;var kh=ve(),qh=rn();Object.defineProperty(D,"signMultiTransaction",{enumerable:!0,get:function(){return qh.signMultiTransaction}});var Ra=Ea();Object.defineProperty(D,"buildNftTransferPayload",{enumerable:!0,get:function(){return Ra.buildNftTransferPayload}});Object.defineProperty(D,"buildNotcoinVoucherExchange",{enumerable:!0,get:function(){return Ra.buildNotcoinVoucherExchange}});function jh(){return ka(8)}D.generateQueryId=jh;function ka(t){let e=BigInt(0);for(let r of(0,kh.randomBytes)(t)){let n=BigInt(r);e=(e<<BigInt(8))+n}return e}D.bigintRandom=ka});var rn=g(G=>{"use strict";s();a();Object.defineProperty(G,"__esModule",{value:!0});G.signMultiTransaction=G.jettonTransfer=G.venomTransfer=G.transfer=void 0;var Nh=Zr(),I=Rt(),Ce=K(),Me=K(),_o=Yt(),Dh=Jr(),Vh=tn(),Kh=en();function Lh(t,e){var r,n;if(e){let{secretKey:f,publicKey:c}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e));r=f,n=c}else n=I.base.fromHex(t.publicKey);let o=_o.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(n)}),i=[(0,Ce.internal)({to:t.to,value:BigInt(t.amount),bounce:!1,body:t.memo})],u=o.createTransfer({seqno:t.seqno,messages:i,secretKey:e?l.Buffer.from(r):l.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:I.base.toBase64(u.toBoc())}}G.transfer=Lh;function Fh(t,e){let{secretKey:r,publicKey:n}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e)),o=Nh.VenomWalletV3.create({workchain:0,publicKey:l.Buffer.from(n)}),i=[(0,Ce.internal)({to:t.to,value:BigInt(t.amount),bounce:t.toIsInit,body:t.memo})],u=o.createTransfer({seqno:t.seqno,messages:i,secretKey:l.Buffer.from(r),globalId:t.globalId,sendMode:t.sendMode,timeout:t.expireAt});return{id:I.base.toBase64(u.hash()),body:I.base.toBase64(u.toBoc())}}G.venomTransfer=Fh;function zh(t,e){var r,n;if(e){let{secretKey:m,publicKey:S}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e));r=m,n=S}else n=I.base.fromHex(t.publicKey);let o=_o.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(n)}),i=o.address,u=Me.Address.parse(t.to),f=Me.Address.parse(t.fromJettonAccount);if(t.decimal<0)throw new Error("invalid decimal");if(BigInt(t.amount)<0)throw new Error("invalid amount");let h=t.queryId?BigInt(t.queryId):(0,Vh.generateQueryId)(),y,B=(0,Me.beginCell)().storeUint(260734629,32).storeUint(h,64).storeCoins(BigInt(t.amount)).storeAddress(u).storeAddress(i).storeBit(!1).storeCoins(BigInt(t.invokeNotificationFee||"1"));if(t.memo){let m=(0,Me.beginCell)().storeUint(0,32).storeStringTail(t.memo).endCell();y=B.storeBit(!0).storeRef(m).endCell()}else y=B.storeBit(!1).endCell();let _=[(0,Ce.internal)({to:f,value:BigInt(t.messageAttachedTons||"50000000"),body:y,bounce:!1})],b=o.createTransfer({seqno:t.seqno,messages:_,secretKey:e?l.Buffer.from(r):l.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:I.base.toBase64(b.toBoc())}}G.jettonTransfer=zh;async function Hh(t,e,r,n,o,i){n||(n=Math.round(Date.now()/1e3)+Kh.TRANSFER_TIMEOUT_SEC);let u=e.map(m=>{let{amount:S,toAddress:q,stateInit:Ot,isBase64Payload:tr}=m,{payload:F}=m;if(tr&&typeof F=="string")F=Me.Cell.fromBase64(F);else if(typeof F=="string")try{F=Me.Cell.fromBase64(F)}catch{}let Et=Ot?{code:Ot.refs[0],data:Ot.refs[1]}:void 0;return(0,Ce.internal)({value:S,to:q,body:F,bounce:(0,Dh.parseAddress)(q).isBounceable,init:Et})});var f,c;if(t){let{secretKey:m,publicKey:S}=I.signUtil.ed25519.fromSeed(I.base.fromHex(t));f=m,c=S}else c=I.base.fromHex(i);let h=_o.WalletContractV4.create({workchain:o==1?1:0,publicKey:l.Buffer.from(c)}),y=h.createTransfer({seqno:r,secretKey:t?l.Buffer.from(f):l.Buffer.alloc(0),messages:u,sendMode:Ce.SendMode.PAY_GAS_SEPARATELY+Ce.SendMode.IGNORE_ERRORS,timeout:n}),B=y.toBoc().toString("base64"),b=Wh(h,r,y).toBoc().toString("base64");return{seqno:r,transaction:B,externalMessage:b}}G.signMultiTransaction=Hh;function Wh(t,e,r){return(0,Me.beginCell)().storeWritable((0,Ce.storeMessage)((0,Ce.external)({to:t.address,init:e===0?t.init:void 0,body:r}))).endCell()}});var Na=g(Y=>{"use strict";s();a();var $h=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.JettonWallet=Y.VenomWallet=Y.TonWallet=void 0;var V=Da(),Pe=Jr(),Tt=rn(),qa=Va(),T=Rt(),Qh=Yt(),Zt=K(),Gh=$h(mo()),nn=tn(),ja=en(),Jt=class extends V.BaseWallet{async getRandomPrivateKey(){try{return Promise.resolve((0,V.ed25519_getRandomPrivateKey)(!1,"hex"))}catch{return Promise.reject(V.GenPrivateKeyError)}}async getDerivedPath(e){return`m/44'/607'/${e.index}'`}async getDerivedPrivateKey(e){try{if(e.hdPath)return Promise.resolve((0,V.ed25519_getDerivedPrivateKey)(e,!1,"hex"));{let r=await(0,qa.mnemonicToSeed)(e.mnemonic.split(" ")),n=T.base.toHex(r);return Promise.resolve(n)}}catch{return Promise.reject(V.GenPrivateKeyError)}}async getNewAddress(e){try{if(!T.base.validateHexString(e.privateKey))return Promise.reject(V.NewAddressError);let r={address:(0,Pe.getAddressBySeed)(e.privateKey.toLowerCase()),publicKey:(0,Pe.getPubKeyBySeed)(e.privateKey.toLowerCase())};return Promise.resolve(r)}catch{return Promise.reject(V.NewAddressError)}}async validPrivateKey(e){(0,Pe.checkSeed)(e.privateKey);let r={isValid:!0,privateKey:e.privateKey};return Promise.resolve(r)}async validAddress(e){let r=(0,Pe.parseAddress)(e.address);return Promise.resolve(r)}async parseAddress(e){let r=(0,Pe.parseAddress)(e.address);return Promise.resolve(r)}async convertAddress(e){let r=(0,Pe.convertAddress)(e.address);return Promise.resolve(r)}async validateMnemonicOfTon(e){return(0,qa.validateMnemonic)(e.mnemonicArray,e.password)}async signTransaction(e){let r=e.data;try{if(r.type=="transfer")return(0,Tt.transfer)(e.data,e.privateKey);if(r.type=="jettonTransfer")return(0,Tt.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}async signJettonTransaction(e){try{return(0,Tt.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}async getWalletInformation(e){let{workChain:r,publicKey:n,privateKey:o,walletVersion:i}=e,u=r==1?1:0,f;if(n)f=T.base.fromHex(n);else{let{publicKey:b}=T.signUtil.ed25519.fromSeed(T.base.fromHex(o));f=l.Buffer.from(b)}let c;(!i||i=="v4r2"||i=="v4R2")&&(c=Qh.WalletContractV4.create({workchain:u,publicKey:f}));let h=c.init?.code?.toBoc().toString("base64"),y=c.init?.data?.toBoc().toString("base64"),B=c.address,_=(0,Zt.beginCell)().storeWritable((0,Zt.storeStateInit)(c.init)).endCell().toBoc().toString("base64");return{initCode:h,initData:y,walletStateInit:_,walletAddress:B.toString({bounceable:!1})}}async getTransactionBodyForSimulate(e){if(e.privateKey){let{publicKey:n}=T.signUtil.ed25519.fromSeed(T.base.fromHex(e.privateKey)),o=T.base.toHex(n);if(e.data.publicKey&&e.data.publicKey!=o)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=o),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");let r=await this.signTransaction(e);return Promise.resolve(r.boc)}async calcTxHash(e){try{let n=Zt.Cell.fromBase64(e.data).hash().toString("hex");return Promise.resolve(n)}catch{return Promise.reject(V.CalcTxHashError)}}async signTonProof(e){let{timestamp:r,domain:n,payload:o}=e.proof,i=l.Buffer.allocUnsafe(8);i.writeBigInt64LE(BigInt(r));let u=l.Buffer.from(n),f=l.Buffer.allocUnsafe(4);f.writeInt32LE(u.byteLength);let c=Zt.Address.parse(e.walletAddress),h=l.Buffer.allocUnsafe(4);h.writeInt32BE(c.workChain);let y=l.Buffer.concat([h,c.hash]),B=l.Buffer.concat([l.Buffer.from(e.tonProofItem,"utf8"),y,f,u,i,l.Buffer.from(o)]),_=l.Buffer.concat([l.Buffer.from(e.messageSalt,"hex"),l.Buffer.from(e.messageAction,"utf8"),l.Buffer.from(await T.base.sha256(B))]),{secretKey:b}=T.signUtil.ed25519.fromSeed(T.base.fromHex(e.privateKey)),m=Gh.default.sign.detached(l.Buffer.from(await T.base.sha256(_)),l.Buffer.from(b));return Promise.resolve(l.Buffer.from(m).toString("base64"))}async signMultiTransaction(e){let r=e.data;if(r.messages.length>4)throw new Error("Payload contains more than 4 messages, which exceeds limit");let n=r.valid_until;if(n&&n>10**10&&(n=Math.round(n/1e3)),n&&n<Date.now()/1e3)throw new Error("the confirmation timeout has expired");let o=[];r.messages.map(u=>{o.push({toAddress:u.address,amount:BigInt(u.amount),payload:u.payload,stateInit:u.stateInit?Zt.Cell.fromBase64(u.stateInit):void 0,isBase64Payload:u.isBase64Payload})});let i=r.network==="1"||r.network==="testnet"?1:0;return await(0,Tt.signMultiTransaction)(e.privateKey,o,r.seqno,n,i,r.publicKey)}async simulateMultiTransaction(e){if(e.privateKey){let{publicKey:r}=T.signUtil.ed25519.fromSeed(T.base.fromHex(e.privateKey)),n=T.base.toHex(r);if(e.data.publicKey&&e.data.publicKey!=n)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=n),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");return this.signMultiTransaction(e)}async signMultiTransactionForNFT(e){let r=e.data,o=r.nftAddresses.map((i,u)=>{let f=r.nfts?.[u];return{payload:f?.collectionAddress===ja.NOTCOIN_VOUCHERS_ADDRESS?(0,nn.buildNotcoinVoucherExchange)(r.fromNFTAddress,i,f.index):(0,nn.buildNftTransferPayload)(r.fromNFTAddress,r.toAddress,r.comment),amount:ja.NFT_TRANSFER_TONCOIN_AMOUNT,toAddress:i}});return await(0,Tt.signMultiTransaction)(e.privateKey,o,r.seqno,r.expireAt,r.workchain)}async buildNotcoinVoucherExchange(e){let r=(0,nn.buildNotcoinVoucherExchange)(e.fromNFTAddress,e.nftAddress,e.nftIndex);return Promise.resolve(r.toBoc().toString("base64"))}async buildNftTransferPayload(e){let r=(0,nn.buildNftTransferPayload)(e.fromNFTAddress,e.nftAddress,e.comment);return Promise.resolve(r.toBoc().toString("base64"))}};Y.TonWallet=Jt;var bo=class extends Jt{async getNewAddress(e){try{let r={address:(0,Pe.getVenomAddressBySeed)(e.privateKey),publicKey:(0,Pe.getPubKeyBySeed)(e.privateKey)};return Promise.resolve(r)}catch{return Promise.reject(V.NewAddressError)}}async signTransaction(e){try{return(0,Tt.venomTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}};Y.VenomWallet=bo;var Bo=class extends Jt{};Y.JettonWallet=Bo});var Xh=g(L=>{s();a();var Yh=L&&L.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),er=L&&L.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Yh(e,t,r)};Object.defineProperty(L,"__esModule",{value:!0});er(Na(),L);er(Jr(),L);er(rn(),L);er(K(),L);er(Zr(),L)});export{Xh as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-J6DBO7OT.js.map
