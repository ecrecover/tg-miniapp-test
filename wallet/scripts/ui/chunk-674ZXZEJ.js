import{a as xi,b as Ti,c as Ni,d as F,e as ke,f as Ue,h as qt,l as gi,m as Ii,n as X}from"./chunk-KA4XBPLB.js";import{a as Ci}from"./chunk-KZOCFDOZ.js";import{b as Pe}from"./chunk-J7CMHKLG.js";import{a as Oe}from"./chunk-DHITNRDQ.js";import{a as ui}from"./chunk-IKTFX5VA.js";import{a as di}from"./chunk-IVTEFTXI.js";import{a as ri,d as _i,l as ai,r as ci}from"./chunk-HTDEED7X.js";import{a as ni}from"./chunk-JXXKPVB7.js";import{b as Fe,e as mi}from"./chunk-GUYSHF5X.js";import{a as ce,b as li,c as Le}from"./chunk-IF7RTFSM.js";import{b as si}from"./chunk-TCY2QN26.js";import{a as Bt}from"./chunk-SWNKITDG.js";import{d as ii}from"./chunk-UX45LV4J.js";import{a as Se}from"./chunk-WAOH7NV4.js";import{a as pl,c as Jo,e as De,h as be}from"./chunk-Z7MVEL6Q.js";import{a as jo}from"./chunk-EQQ4TY26.js";import{c as ve}from"./chunk-BSJ5U7SB.js";import{h as Qo}from"./chunk-JZYFGUUR.js";import{c as Re,g as pi,k as Be,l as fi}from"./chunk-MHMKJYHX.js";import{a as $o}from"./chunk-LM5IFABF.js";import{c as Go}from"./chunk-MVELXHVO.js";import{c as _e}from"./chunk-YFG3KJV4.js";import{a as qo}from"./chunk-AWV3UGPG.js";import{b as so}from"./chunk-T6BAWHSV.js";import{a as Wo,f as Zo,h as Yo}from"./chunk-RAK5MQVM.js";import{E as zo,O as Xo}from"./chunk-ILYGYWTN.js";import{M as ei,N as ro,O as oi,t as ae,w as ti}from"./chunk-WWF4GAYE.js";import{a as Ko}from"./chunk-V4V6C6NY.js";import{b as Uo}from"./chunk-ZQ5A3KPQ.js";import{e as Ne,f as Ce,r as ko,s as j,w as Kt}from"./chunk-MJYAUOKI.js";import{a as Mo,c as Ho}from"./chunk-FCCCJLF6.js";import{Xa as ye}from"./chunk-4Z4GXCHB.js";import{n as z,qb as we,y as Rt}from"./chunk-FK3ETA6I.js";import{a as L,b as o,d as $,e as re,g as Nt}from"./chunk-QZDHFNHK.js";import{a as Po}from"./chunk-EJQOS3F4.js";import{d as Yt,f as Oo}from"./chunk-MNNY2ODL.js";import{b as he,c as Ae,e as Vo}from"./chunk-YZ3HCB4K.js";import{f as Tt}from"./chunk-C3FJ2D4V.js";import{a as Ee}from"./chunk-SLEUZTBQ.js";import{b as se,c as Bo}from"./chunk-OXVQDEZW.js";import{j as le,m as Lo}from"./chunk-X3G52GGX.js";import{Ac as Ie,Db as Ro,Kb as lo,a as ho,b as dl,ha as ne,ia as So,ib as xe,kb as Te,lb as Fo,m as ie,ra as ue,uc as ge,za as io,zb as no}from"./chunk-QG673PNL.js";import{A as ct,F as bo,G as ft,M as Ht,N as ut,n as Zt,x as oo}from"./chunk-6MTHEPGF.js";import{C as vo,I as M,f as Lt,m as Ao,w as s}from"./chunk-ZQQ7HNWV.js";import{M as Ft,S as At,Y as eo,c as Mt}from"./chunk-ZOQTSYT4.js";import{a as D,g as Do}from"./chunk-ADZWCU3Q.js";import{f as x,m as r,o as _}from"./chunk-REC7XVZY.js";r();_();M();var wi=x(ie());var Ei="okx-wallet-plugin-report-centre",yi="okx-wallet-plugin-nft",fl="okx-wallet-plugin-report-centre",ul="okx-wallet-plugin-lock-1",xl="okx-wallet-plugin-swap-1",Tl="okx-wallet-plugin-documentation",hi=(t=[],e="en-US",i=!1)=>{if(!Array.isArray(t))return[[],[]];let n=new Map,a=[],l=[],c=0,m=f=>{let p=Lt(f.txTime,{format:"yyyyMMdd",locale:e});(0,wi.isNil)(n.get(p))&&(n.set(p,c),l[c]={},l[c].date=p,l[c].list=[],c++);let C=n.get(p);l[C].list.push(f)};return t.forEach(f=>{f.txStatus===L.PENDING?!f.isShowPending&&i?m(f):a.push(f):m(f)}),[a,l]},_o=(t={})=>{let{txType:e}=t;return e===o.SEND_NFT||e===o.RECEIVE_NFT||e===o.MINT_NFT||e===o.CANCEL_NFT||e===o.NFT_AUTHORIZATION?yi:e===o.NFT_CANCEL_AUTHORIZATION?Tl:e===o.DAPP_NFT||e===o.CONTRACTCALL?fl:e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION?ul:e===o.SWAP||e===o.BUY_NFT||e===o.SELL_NFT?xl:Ei},Ai=(t={})=>{let{txType:e}=t;return e===o.SEND_NFT||e===o.RECEIVE_NFT||e===o.BUY_NFT||e===o.SELL_NFT||e===o.MINT_NFT||e===o.DAPP_NFT||e===o.CANCEL_NFT},vi=(t={},e={})=>{let{nftId:i}=t,{txType:n}=e;return i||n===o.ORDINAL_NFT?yi:n===o.ORDINAL_TEXT?`${Ee()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:Ei},Di=(t={})=>{let{hideTxType:e}=t;return Number.isInteger(e)&&e!==Re.NORMAL},zt=t=>t.txType===o.TRANS_OUT&&t.okexAccount;r();_();var H=x(D()),Mn=x(ie());r();_();var nt=x(D());r();_();var Vt=x(D());M();Oo();Bo();Lo();var Nl=({tx:t,closeVisible:e,repeatVisible:i,onClose:n,onConfirm:a})=>{let l=a,c=e||i,{txHash:m,coinId:d,txId:f,include:p,coinSymbol:C}=t,T=p?.[0]?.protocolName,g=C,I=Wo(),v=De(d)?.chainId||0,V=async()=>{try{let B=await Yt().getRequestHeaders({walletId:I,needSign:!0,currency:"usd"}),G={txHash:m,accountId:I,chainId:v};return await le(se.postCloseTranscation,G,{headers:B})}catch(B){let G=Zt.tip({title:s("extension_biz_title_cancel_transaction_failed"),confirmText:s("commonall_text_btn_ok_active"),children:Vt.default.createElement("div",null,B.msg),onConfirm:()=>{l(f),G.destroy()}});throw B}},W=async()=>{try{let B=await Yt().getRequestHeaders({walletId:I,needSign:!0,currency:"usd"}),G={txHash:m,accountId:I,chainId:v};await le(se.postRepeatTranscation,G,{headers:B})}catch(B){let G=Zt.tip({title:s("extension_biz_title_cancel_broadcast_failed"),confirmText:s("commonall_text_btn_ok_active"),children:Vt.default.createElement("div",null,B.msg),onConfirm:()=>{l(f),G.destroy()}});throw B}},O=async()=>{try{e?(ei({token_name:g,protocol:T}),await V()):i&&(oi({token_name:g,protocol:T}),await W())}catch{return}a(f),ft.success({title:s("extension_defi_toast_header_tips_request_submit")})};return Vt.default.createElement(Zt.Prompt,{visible:c,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:O,onClose:()=>{n&&n()},confirmText:s("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:eo.TYPE.highlight,size:eo.SIZE.lg},renderContent:B=>Vt.default.createElement(B,null,Vt.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},e&&s("extension_defi_toast_title_release_utxo"),i&&s("extension_defi_toast_title_rebroadcast")),Vt.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},e&&s("extension_defi_toast_desc_release_utxo"),i&&s("extension_defi_toast_desc_rebroadcast")))})},bi=Nl;r();_();var P=x(D()),Xt=x(Mt());M();lo();r();_();var k={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Cl=({currentAvgFeeRate:t,expectedFeeRate:e,currentTxSize:i,ancestorsTxSize:n,totalFee:a,totalFeeUSD:l})=>P.default.createElement("div",{className:k.transactionDetailBox},P.default.createElement("div",{className:k.transactionAccelerationDetails},P.default.createElement("p",{className:k.transactionDetailRow},n?P.default.createElement(ct,{title:s("extension_defi_popup_tooltips_feerate_before_speedup"),placement:ct.DIRECTION.topLeft,arrowAlignBoundary:!0},P.default.createElement("span",{className:(0,Xt.default)(k.transactionDetailLabel,k.textUnderline)},s("extension_defi_toast_item_current_fee_rate"))):P.default.createElement("span",{className:k.transactionDetailLabel},s("extension_defi_toast_item_current_fee_rate")),P.default.createElement("span",{className:k.transactionDetailValue},`${t} sats/vb`)),P.default.createElement("p",{className:k.transactionDetailRow},P.default.createElement("span",{className:k.transactionDetailLabel},s("extension_defi_toast_item_speedup_rate")),P.default.createElement("span",{className:k.transactionDetailValue},`${e} sats/vb`)),P.default.createElement("p",{className:k.transactionDetailRow},P.default.createElement("span",{className:k.transactionDetailLabel},s("extension_defi_toast_item_txn_size")),P.default.createElement("span",{className:k.transactionDetailValue},`${i}vb`)),n?P.default.createElement("p",{className:k.transactionDetailRow},P.default.createElement("span",{className:k.transactionDetailLabel},s("extension_defi_toast_item_ancestor_txn")),P.default.createElement("span",{className:k.transactionDetailValue},`${n}vb`)):null,P.default.createElement("div",{className:k.transactionDetailRow},n?P.default.createElement(ct,{title:s("extension_defi_popup_tooltips_desc_total_fee_meaning")},P.default.createElement("span",{className:(0,Xt.default)(k.transactionDetailLabel,k.textUnderline)},s("extension_defi_toast_item_total_fee"))):P.default.createElement("span",{className:(0,Xt.default)(k.transactionDetailLabel)},s("extension_defi_toast_item_total_fee")),P.default.createElement("p",{className:(0,Xt.default)(k.transactionDetailValue,k.transactionDetailFiatValue)},no(a)," ~ ",l))),P.default.createElement("p",{className:k.transactionAccelerationFooter},s("extension_defi_toast_desc_0service_fee"))),gl=({tx:t,feeInfo:e,visible:i,networkError:n,onClose:a,onConfirm:l,onRetry:c})=>{let{currencyPrice:m,currencySymbol:d}=ii(t.mainCoinId),f=`${d}${Ro(xe(no(e.totalFee),m),2)}`;return P.default.createElement(xi,{visible:i,error:n,onClose:a,onConfirm:l,title:s("extension_defi_toast_title_speedup_txn"),headerTitle:vo("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:P.default.createElement(ct,{title:s("extension_defi_popup_tooltips_cpfp_meaning")},P.default.createElement("span",{className:(0,Xt.default)(k.transactionAccelerationSubtitle,k.textUnderline)},`${s("extension_defi_toast_subtitle_using_cpfp")}`))}),content:P.default.createElement(Cl,{...e,totalFeeUSD:f}),errContent:P.default.createElement(oo.State,{title:s("extension_defi_toast_title_internet_error"),type:oo.State.TYPE.noNetwork,description:s("extension_defi_toast_subtitle_cant_get_fee"),buttonText:s("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:k.emptyState}),confirmText:s("wallet_extension_btn_general_confirm")})},Si=gl;r();_();var tt=x(D()),Li=x(Rt());M();lo();var Il=(t,e,i)=>{let{address:n,mainCoinId:a,txHash:l,txId:c,btcSpeedUpInfo:m}=t,d=m?.cpfpSpeedUpUtxo?.[0].address||n,f=400002,[p,C]=(0,tt.useState)(!1),[T,g]=(0,tt.useState)(!1),[I,h]=(0,tt.useState)(!1),[v,V]=(0,tt.useState)(!1),[W,O]=(0,tt.useState)(!1),[B,G]=(0,tt.useState)({}),[ot,st]=(0,tt.useState)({}),[Y,K,ht,dt,S]=ri({...t,address:d,canAccelerateBtcTx:i}),w=(0,Li.useSelector)(we),{currencyId:y}=w,E=ai({address:n,coinId:a,currencyId:y,doubleConfirmSource:_i.ACCELERATE});(0,tt.useEffect)(()=>{(async()=>{if(Y&&K?.expectedFeeRate){let[it,wt,,oe]=await dt(Y,K);(it||wt)&&G({...K,totalFee:Te(Number(K.increaseFee)+oe)})}})()},[K,Y,dt]);let A=(0,tt.useCallback)((_t,it)=>{if(it==="init")if(_t.msg){let wt=Zt.tip({title:s("extension_biz_title_speed_up_failed"),confirmText:s("commonall_text_btn_ok_active"),children:tt.default.createElement("div",null,_t.msg),onConfirm:()=>{e(c),wt.destroy()}})}else g(!0),C(!0);else{if(_t?.code===f){ft.error({title:s("extension_defi_top_toast_speedup_fail")}),e(c);return}if(_t?.code===ui.BALANCE_NOT_ENOUGH){ae({accelerate_status:"utxo_fail"}),ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}ae({accelerate_status:"other_fail"}),h(!0)}},[]),b=(0,tt.useCallback)(async()=>{if(!v){try{if(S)throw S;V(!0);let[_t,it,,wt]=await dt(Y,K);if(_t||it)G({...K,totalFee:Te(Number(K.increaseFee)+wt)});else{ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}C(!0),g(!1),h(!1)}catch(_t){A(_t,"init")}V(!1)}},[S,Y,K,A,v,dt]),Z=qo()?.find(_t=>_t.coinId===a)?.localType,pt=ci({coinId:a,fromAddr:d,toAddr:d,outputs:[{address:d,amount:ot.sendAmountInt}],networkFee:ot.networkFeeInt,localType:Z,dustSize:ot.totalInput,satBytes:K.expectedFeeRate,coinAmount:ot.sendAmountInt,extraPublishParams:{coinAmount:ot.sendAmountInt,txType:o.TRANS_OUT}});(0,tt.useEffect)(()=>{(async()=>{try{let{confirm:it,utxoList:wt}=ot;it&&(await pt({utxoList:wt}),ft.success(s("extension_defi_top_toast_speedup_success")),ae({accelerate_status:"success"}))}catch{ft.error({title:s("extension_defi_top_toast_speedup_fail")})}})()},[ot]);let Ut=(0,tt.useCallback)(async()=>{if(W)return;if(O(!0),await si())try{let[it,wt,oe,al]=await dt(Y,K);if(!it&&!wt){ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")}),ae({accelerate_status:"utxo_fail"}),O(!1);return}try{await E(oe)}catch{O(!1);return}let wo=oe.reduce((cl,ml)=>cl+ml.coinAmount,0),Eo=Te(al,Number(K.increaseFee)),yo=Number(Fo(wo,Eo));wt&&(yo=ht),st({totalInput:wo,sendAmountInt:yo,networkFeeInt:Eo,utxoList:oe,confirm:!0}),g(!1),h(!1),O(!1),C(!1),e(c)}catch(it){A(it,"confirm"),O(!1)}},[Y,K,l]),to=(0,tt.useCallback)(async()=>{T&&b(),I&&Ut()},[b,I,T,Ut]);return{isFetchingTxFee:v,btcSpeedUpHandle:b,isBTCSpeedUpDialogVisible:p,displayFee:B,isFetchBTCFeeInfoNetworkError:T,isConfirmAccelerateError:I,onConfirmAccelerateBTCTX:Ut,setIsBTCSpeedUpDialogVisible:C,onRetryBtcSpeedUp:to}},Fi=Il;function wl({data:t,onRefresh:e}){let{from:i,coinId:n,txStatus:a,isShowSpeedUp:l,isShowCancel:c,isShowSpeedupCancel:m,mainCoinId:d,showCloseTransaction:f,showTxRepeatBroadcast:p,include:C,coinSymbol:T}=t,g=De(n),[I,h]=(0,nt.useState)(!1),[v,V]=(0,nt.useState)(!1),[W,O]=(0,nt.useState)(!1),[B,G]=(0,nt.useState)(!1),ot=he(d),st=Vo(d);(0,nt.useEffect)(()=>{ti({button_appear:st&&l?"yes":"no"})},[st,l]);let[Y]=(0,nt.useState)(st&&l),K=ot&&a===L.PENDING,ht=f||p||Y,dt=C?.[0]?.protocolName,S=T,[w,y]=ni({coinId:n,address:i,chainId:g?.chainId},{ready:K}),{isFetchingTxFee:E,btcSpeedUpHandle:A,isBTCSpeedUpDialogVisible:b,displayFee:R,isFetchBTCFeeInfoNetworkError:Z,isConfirmAccelerateError:pt,onConfirmAccelerateBTCTX:Ut,setIsBTCSpeedUpDialogVisible:to,onRetryBtcSpeedUp:_t}=Fi(t,e,Y);return nt.default.createElement("div",{className:"tx-detail-action"},(K||ht)&&nt.default.createElement(nt.default.Fragment,null,nt.default.createElement(gi,{isLoading:E,isShowCancel:c,isShowSpeedUp:l&&ot,isShowSpeedupCancel:m,showCloseTransaction:f,canAccelerateBtcTx:Y,showTxRepeatBroadcast:p,onCancel:()=>{h(!0)},onSpeedUp:()=>{V(!0)},onClose:()=>{O(!0),ro({token_name:S,protocol:dt,button_name:"releaseutxo"})},onRepeat:()=>{G(!0),ro({token_name:S,protocol:dt,button_name:"rebroadcast"})},onBtcSpeedUp:A}),I&&nt.default.createElement(Ti,{tx:t,signInfo:y,visible:I,onConfirm:it=>{e(it),h(!1)},onClose:()=>{h(!1)}}),v&&nt.default.createElement(Ni,{tx:t,loading:w,signInfo:y,visible:v,onConfirm:it=>{e(it),V(!1)},onClose:()=>{V(!1)}}),(W||B)&&nt.default.createElement(bi,{tx:t,closeVisible:W,repeatVisible:B,onConfirm:it=>{e(it),O(!1),G(!1)},onClose:()=>{O(!1),G(!1)}}),b&&nt.default.createElement(Si,{tx:t,feeInfo:R,networkError:Z||pt,visible:b,onConfirm:async()=>{await Ut()},onClose:()=>{to(!1)},onRetry:_t})))}var Ri=wl;r();_();var Q=x(D()),He=x(Mt()),fn=x(Do());r();_();var q=x(D()),Ui=x(Mt());M();r();_();var Me=x(D());M();r();_();var Bi=x(D());M();Lo();Bo();Oo();var El=t=>{let{coinId:e}=t||{},i=(0,Bi.useRef)(!1),n=Qo();return Mo(async()=>{try{if(i.current===!0||!e)return;i.current=!0;let a=await Yt().getUserUniqueId(),l={coinId:e,accountId:n,userUniqueId:a},m={headers:await Yt().getSignRequestHeaders({walletId:n})},[d]=await Promise.all([Xo({coinId:e}),le(se.postAddCoin,l,m)]);await Go(d),ft.success(s("wallet_extension_customtoken_notification_title_token_added"))}catch{ft.error(s("wallet_home_toast_network_error"))}finally{i.current=!1}})},Oi=El;r();_();var Pi={root:"_root_4qsur_1"};function yl({coinId:t,hideTxType:e}){let i=di(),n=(0,Me.useMemo)(()=>!i||!t||!!i.some(l=>l.coinId===t),[t,i]),a=Oi({coinId:t});return n||e===Re.RISKY?null:Me.default.createElement(Uo.IconButton,{className:Pi.root,icon:"okx-wallet-plugin-add",tooltip:{title:s("wallet_extension_customtoken_tooltips_add_token"),placement:ct.DIRECTION.topLeft},onClick:a})}var ki=yl;r();_();var u={"coin-flow":"_coin-flow_1t7y4_1",coinFlow:"_coin-flow_1t7y4_1","coin-flow__include":"_coin-flow__include_1t7y4_7",coinFlowInclude:"_coin-flow__include_1t7y4_7","coin-flow__include-title":"_coin-flow__include-title_1t7y4_14",coinFlowIncludeTitle:"_coin-flow__include-title_1t7y4_14","coin-flow__include-item":"_coin-flow__include-item_1t7y4_21",coinFlowIncludeItem:"_coin-flow__include-item_1t7y4_21","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1t7y4_27",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1t7y4_27","coin-flow__include-item-token":"_coin-flow__include-item-token_1t7y4_33",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1t7y4_33","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1t7y4_42",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1t7y4_42","coin-flow__protocol":"_coin-flow__protocol_1t7y4_46",coinFlowProtocol:"_coin-flow__protocol_1t7y4_46","coin-flow__protocol-title":"_coin-flow__protocol-title_1t7y4_53",coinFlowProtocolTitle:"_coin-flow__protocol-title_1t7y4_53","coin-flow__protocol-item":"_coin-flow__protocol-item_1t7y4_60",coinFlowProtocolItem:"_coin-flow__protocol-item_1t7y4_60","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1t7y4_66",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1t7y4_66","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1t7y4_72",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1t7y4_72","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1t7y4_81",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1t7y4_81","coin-flow__mul-icons__top-right":"_coin-flow__mul-icons__top-right_1t7y4_85",coinFlowMulIconsTopRight:"_coin-flow__mul-icons__top-right_1t7y4_85","coin-flow__mul-icons__bottom-right":"_coin-flow__mul-icons__bottom-right_1t7y4_89",coinFlowMulIconsBottomRight:"_coin-flow__mul-icons__bottom-right_1t7y4_89","coin-flow__hidden-label":"_coin-flow__hidden-label_1t7y4_93",coinFlowHiddenLabel:"_coin-flow__hidden-label_1t7y4_93","coin-flow__label-text":"_coin-flow__label-text_1t7y4_93",coinFlowLabelText:"_coin-flow__label-text_1t7y4_93","coin-flow__label":"_coin-flow__label_1t7y4_93",coinFlowLabel:"_coin-flow__label_1t7y4_93","coin-flow__label__overflow":"_coin-flow__label__overflow_1t7y4_105",coinFlowLabelOverflow:"_coin-flow__label__overflow_1t7y4_105","coin-flow__label__expand":"_coin-flow__label__expand_1t7y4_108",coinFlowLabelExpand:"_coin-flow__label__expand_1t7y4_108","coin-flow__receive":"_coin-flow__receive_1t7y4_121",coinFlowReceive:"_coin-flow__receive_1t7y4_121","coin-flow__record-title":"_coin-flow__record-title_1t7y4_121",coinFlowRecordTitle:"_coin-flow__record-title_1t7y4_121","coin-flow__record":"_coin-flow__record_1t7y4_121",coinFlowRecord:"_coin-flow__record_1t7y4_121","coin-flow__record-left-box":"_coin-flow__record-left-box_1t7y4_132",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1t7y4_132","coin-flow__record-title-box":"_coin-flow__record-title-box_1t7y4_138",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1t7y4_138","coin-flow__tool-tip":"_coin-flow__tool-tip_1t7y4_144",coinFlowToolTip:"_coin-flow__tool-tip_1t7y4_144","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1t7y4_148",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1t7y4_148","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1t7y4_152",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1t7y4_152","protocol-margin":"_protocol-margin_1t7y4_168",protocolMargin:"_protocol-margin_1t7y4_168","coin-flow__record-icon":"_coin-flow__record-icon_1t7y4_173",coinFlowRecordIcon:"_coin-flow__record-icon_1t7y4_173","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1t7y4_181",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1t7y4_181","coin-flow__record-icon__mul-icons-wrap":"_coin-flow__record-icon__mul-icons-wrap_1t7y4_184",coinFlowRecordIconMulIconsWrap:"_coin-flow__record-icon__mul-icons-wrap_1t7y4_184","coin-flow__record-right-box":"_coin-flow__record-right-box_1t7y4_201",coinFlowRecordRightBox:"_coin-flow__record-right-box_1t7y4_201","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1t7y4_206",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1t7y4_206","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1t7y4_210",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1t7y4_210","coin-flow__record__plus":"_coin-flow__record__plus_1t7y4_217",coinFlowRecordPlus:"_coin-flow__record__plus_1t7y4_217","coin-flow__pointer":"_coin-flow__pointer_1t7y4_222",coinFlowPointer:"_coin-flow__pointer_1t7y4_222","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1t7y4_225",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1t7y4_225","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1t7y4_231",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1t7y4_231","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1t7y4_241",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1t7y4_241","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1t7y4_247",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1t7y4_247","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1t7y4_253",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1t7y4_253","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1t7y4_264",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1t7y4_264","coin-flow__claim":"_coin-flow__claim_1t7y4_269",coinFlowClaim:"_coin-flow__claim_1t7y4_269","coin-flow__claim__icon":"_coin-flow__claim__icon_1t7y4_273",coinFlowClaimIcon:"_coin-flow__claim__icon_1t7y4_273","coin-flow__claim-info":"_coin-flow__claim-info_1t7y4_276",coinFlowClaimInfo:"_coin-flow__claim-info_1t7y4_276",flowRightToken:"_flowRightToken_1t7y4_288",flowRightApply:"_flowRightApply_1t7y4_293"};var hl=(t,e)=>{!t||globalThis.platform.openTab({url:`https://${e}/${t}`})},Al=t=>{t||(t=""),typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=15?"18px":e<=17?"16px":e<=19?"14px":(e<=22,"12px")};function vl(t){t||(t=""),typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=13?"32px":e===14?"30px":e===15?"28px":e===16?"26px":e===17?"24px":e<=19?"22px":e<=21?"20px":e<=23?"18px":e<=26?"16px":e<=30?"14px":"12px"}function Dl({recordData:t,isNFT:e,icon:i,title:n,subTitle:a,right:l,autoWidth:c,jumpInfo:m,hasPlus:d,isNewInclude:f,addCustomCoin:p}){let C=$o(),T=Ee(),g=typeof i=="string"?q.default.createElement(li,{isNFT:e,className:(0,Ui.default)({}),src:i,alt:""}):i;return f?q.default.createElement("div",{className:`${f?u["coin-flow__protocol"]:u["coin-flow__include"]}`},q.default.createElement("div",{className:`${u["coin-flow__include-title"]}`},s("extension_defi_card_text_include_assets")),(t?.items||[]).map(I=>q.default.createElement("div",{className:`${u["coin-flow__include-item"]}`},q.default.createElement("img",{className:`${u["coin-flow__include-item-icon"]}`,alt:"",src:I.icon}),q.default.createElement(Kt.AdaptiveText,{className:`${u["coin-flow__include-item-token"]}`,text:I.title,ellipsis:{tooltip:!0},autoSize:Al},I.title),I.right))):q.default.createElement(q.default.Fragment,null,q.default.createElement("div",{className:`${u["coin-flow__record"]} ${m?u["coin-flow__pointer"]:""}`,onClick:()=>{hl(m,C)}},q.default.createElement("div",{className:u["coin-flow__record-icon"]},g),q.default.createElement("div",{className:u["coin-flow__record-left-box--middle"]},q.default.createElement("div",{className:l?u["coin-flow__record-left-box--has-right"]:u["coin-flow__record-left-box"]},q.default.createElement("div",{className:`${c?u["protocol-margin"]:u["coin-flow__record-title-box"]}`},!l||c?q.default.createElement(Kt.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:vl},n):q.default.createElement(Kt.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${u["coin-flow__record-title"]}`},n),a&&q.default.createElement("div",{className:u["coin-flow__record-sub-title"]},a)),l&&q.default.createElement("div",{className:`${u["coin-flow__record-right-box"]} ${c?"":u["coin-flow__record-halfwidth"]}`},l))),p&&q.default.createElement(ki,{...p}),m&&q.default.createElement("img",{className:u["coin-flow__record-jumpInfo-box"],src:`${T}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),d&&q.default.createElement(Ft,{className:`${u["coin-flow__record__plus"]} okds-plus`}))}var me=Dl;r();_();var J=x(D()),ao=x(Mt());M();r();_();var Gt=x(D());function bl({logo:t}){let{middleLogo:e,bottomRightLogo:i,topRightLogo:n}=t||{},a=i&&i.length>0,l=n&&n.length>0;return Gt.default.createElement(Gt.default.Fragment,null,Gt.default.createElement(Le,{srcset:e&&e.length>0?e:[Tt],topRightLogo:n,bottomRightLogo:i}),(l||a)&&Gt.default.createElement("div",{className:u["coin-flow__record-icon__mul-icons-wrap"]},l&&Gt.default.createElement(Le,{className:u["coin-flow__mul-icons__top-right"],size:"small",srcset:n}),a&&Gt.default.createElement(Le,{className:u["coin-flow__mul-icons__bottom-right"],size:"small",srcset:i})))}var jt=bl;r();_();var vt=(t,e)=>t?e?`+ ${j(t,{symbol:e})}`:`+ ${j(t)}`:"--",$t=(t,e)=>t?e?`- ${j(t,{symbol:e})}`:`- ${j(t)}`:"--";var{NFT_AUTHORIZATION:Mi,NFT_CANCEL_AUTHORIZATION:Hi,CANCEL_NFT:co,AUTHORIZATION:Vi,CANCEL_AUTHORIZATION:Gi,REGISTRATION:Sl,DAPP_APPLY:$i,DAPP_REDEEM:Wi,DAPP_CLAIM:Zi,BRC20_TRADE:Yi,BRC20_SEND:Ki,BRC20_RECEIVE:qi,BRC20_MINT:zi,BRC20_INSCRIBE:Xi,BRC20_DEPLOY:ji,BRC30_TRADE:Ll,EARN_BRC30_APPLY:Ji,EARN_BRC30_REDEEM:Qi,EARN_BRC30_CLAIM:tn,EARN_BRC30_DEPLOY:Fl,BRC30_SEND:en,BRC30_RECEIVE:on,BRC30_INSCRIBE:nn,ORDINAL_NFT:ln,ORDINAL_TEXT:sn,MINT_NFT:Rl,BTC_NFT_BULK_RECEIVE:Bl,BTC_NFT_BULK_SEND:Ol,BTC_NFT_BULK_TRADE:Pl,DEFI_MINT:kl,DEFI_REPAY:Ul,RUNES_ETCH:rn,RUNES_SWEEP:_n}=o,Ml="/static/images/tx-history/default-nft-detail.svg";function Hl(t){return t?Ml:Tt}var Ot={[Vi]:"wallet_extension_header_approval_title_for",[Gi]:"wallet_extension_header_approval_title_for",[co]:"wallet_extension_text_cancel_listing_on",[Mi]:"wallet_extension_approve_text_for",[Hi]:"wallet_extension_approve_text_for",[$i]:"wallet_extension_subtitle_into",[Wi]:"wallet_extension_subtitle_receive",[Zi]:"wallet_extension_subtitle_from",[Qi]:"wallet_extension_subtitle_receive",[Ji]:"wallet_extension_subtitle_into",[tn]:"wallet_extension_subtitle_receive",[nn]:"wallet_extension_header_redeem_title_reveive",[Xi]:"wallet_extension_header_redeem_title_reveive",[on]:"extension_wallet_details_text_include",[qi]:"extension_wallet_details_text_include",[ln]:"extension_wallet_details_text_receive",[sn]:"extension_wallet_details_text_receive",[ji]:"extension_wallet_details_text_receive",[zi]:"extension_wallet_details_text_receive",[en]:"extension_wallet_details_text_include",[Ki]:"extension_wallet_details_text_include",[Yi]:"extension_wallet_details_text_receive",[rn]:"extension_wallet_details_text_receive",[_n]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},Vl="/static/images/tx-history/default-protocol.svg",de="/static/images/tx-history/default-brcnft.svg";function Gl(t){let e=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,J.useMemo)(()=>{let{txType:a,input:l,include:c,investTxData:m,contractInfo:d,output:f,hideTxType:p}=t,{investInfo:C,investOutCoins:T}=m??{},g=()=>!l||!l.length?null:{label:s("wallet_extension_header_redeem_title_reveive"),items:l.map(({name:w,amount:y,icon:E,nftId:A,protocolName:b,coinId:R})=>(E=E||Hl(A),{isNFT:!!A,icon:E,title:vt(y,w),right:b?J.default.createElement(ut,{className:u.protocol,size:Ht.SIZE.sm},b):null,autoWidth:!!b,addCustomCoin:{coinId:R,hideTxType:p}})),className:"coin-flow__receive"},I=()=>m?{label:s("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:m?.investInfo?.investLogo?.middleLogo[0]||Tt,title:m?.investInfo?.investName,subTitle:J.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},m?.investInfo?.poolId?`ID: ${m?.investInfo?.poolId}`:"")}]}:null,h=()=>l&&l.length>0?{label:s(Ot[t.txType]),items:l.map(({name:w,amount:y,icon:E,nftId:A,brc20Coin:b,brc20sCoin:R,protocolName:Z})=>(E=E||de,{isNFT:!!A||b||R,icon:E,title:vt(y,w),right:Z?J.default.createElement(ut,{className:u.protocol,size:Ht.SIZE.sm},Z):null,autoWidth:!!Z})),className:"coin-flow__receive"}:null,v=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:w,amount:y,icon:E,vdecimalNum:A,nftId:b,brc20Coin:R,brc20sCoin:Z,protocolName:pt})=>({isNFT:!!b||R||Z,icon:E||de,title:`- ${so(y,{fixed:A})} ${w}`,right:pt?J.default.createElement(ut,{className:u.protocol,size:Ht.SIZE.sm},pt):null,autoWidth:!!pt}))}:null,V=()=>({items:(f||[]).map(({name:w,amount:y,icon:E,vdecimalNum:A,nftId:b,brc20Coin:R,brc20sCoin:Z})=>({isNFT:!!b||R||Z,icon:E||de,title:`- ${so(y,{fixed:A})} ${w}`}))}),W=()=>l&&l.length>0?{items:(l||[]).map(({name:w,amount:y,icon:E,nftId:A,brc20Coin:b,brc20sCoin:R})=>({isNFT:!!A||b||R,icon:E||de,title:`+ ${j(y,{symbol:w})}`}))}:null,O=()=>({label:s(Ot[t.txType]),items:[{icon:d?.icon||Vl,title:d?.name||i,subTitle:t.txType!==co&&d?.address&&J.default.createElement(qt,{className:u["coin-flow__record-address"],label:z(d.address),value:d.address,message:s("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),B=()=>{let{investName:w,investLogo:y,poolId:E}=C||{},A;return{isNFT:!0,label:s(Ot[t.txType]),items:[{icon:J.default.createElement(jt,{logo:y}),title:w??e,subTitle:J.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},E?`ID: ${E}`:""),right:A}]}},G=()=>{let{investName:w,platformName:y,investLogo:E}=C||{},A,b="",R="";if(!t.investTxData)return null;if(t.investTxData.investmentDetailType===Nt.FARM_OTHER_TOKEN&&(b=u.flowRightToken,R=u.flowRightApply),(t.investTxData.investmentDetailType===Nt.SAVE_OTHER_COIN||t.investTxData.investmentDetailType===Nt.VAULTS_OTHER_COIN||t.investTxData.investmentDetailType===Nt.FARM_OTHER_TOKEN)&&T&&T.length>0){let[{tokenName:Z,num:pt}]=T;A=J.default.createElement("div",{className:(0,ao.default)(u["coin-flow__invest-apply-right"],R)},J.default.createElement("div",{className:u["coin-flow__invest-apply-num"]},J.default.createElement(ce,{text:j(pt),maxWidth:"85px"})),J.default.createElement("div",{className:(0,ao.default)(u["coin-flow__invest-apply-token"],b)},Z))}return{label:s(Ot[t.txType]),items:[{icon:J.default.createElement(jt,{logo:E}),title:w??e,subTitle:J.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},y??i),right:A}]}},ot=()=>({label:s(Ot[t.txType]),items:(m.investInCoins||[]).map(({tokenName:y,num:E,tokenLogo:A})=>(E=vt(E),{icon:A??e,title:`${E} ${y}`})),className:"coin-flow__receive"}),st=()=>!T||T?.length===0?null:{label:s(Ot[t.txType]),items:(T||[]).map(({tokenName:w,num:y,tokenLogo:E,tokenId:A})=>{let b=vt(y),R=t.txStatus===L.SUCCESS&&A,Z=R?`${b} ${w} #${R}`:`${b} ${w}`;return{icon:E,title:Z}}),className:"coin-flow__receive"},Y=()=>{let w=s(Ot[t.txType]);return m?{isNFT:!0,label:w,items:(m.investInCoins||[]).map(({tokenName:y,num:E,tokenLogo:A})=>(E=vt(E),{icon:A??e,title:`${E} ${y}`})),className:"coin-flow__receive"}:null},K=()=>{let{platformName:w,investLogo:y,investName:E}=C||{};return{label:s(Ot[t.txType]),items:[{icon:J.default.createElement(jt,{logo:y}),title:E??e,subTitle:J.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},w??i)}]}},ht=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:w,amount:y,icon:E,nftId:A,brc20Coin:b,brc20sCoin:R,protocolName:Z})=>({isNFT:!!A||b||R,icon:E||de,title:`+ ${j(y,{symbol:w})}`,right:Z?J.default.createElement(ut,{className:u.protocol,size:Ht.SIZE.sm},Z):null,autoWidth:!!Z,includeAssets:c}))}:null,dt=()=>null,S={[Fl]:I,[nn]:h,[Xi]:h,[ln]:h,[sn]:h,[ji]:h,[zi]:h,[rn]:h,[_n]:h,[on]:ht,[qi]:ht,[Ll]:h,[Yi]:h,[en]:v,[Ki]:v,[Mi]:O,[Hi]:O,[Gi]:O,[Vi]:O,[co]:O,[Ji]:B,[$i]:G,[Qi]:ot,[Wi]:st,[tn]:Y,[Zi]:K,[Sl]:dt,[Rl]:g,[Ol]:V,[Bl]:W,[Pl]:h,[kl]:st,[Ul]:G};return S[a]?S[a]():n.includes(a)?g():null},[t])}var an=Gl;r();_();var et=x(D()),Jt=x(Mt());M();var dn="/static/images/tx-history/default-nft-detail.svg",$l="/static/images/tx-history/default-nft.svg",cn="/static/images/tx-history/default-brcnft.svg";function mn(t){return t?dn:Tt}var Et={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function Wl(t){let e=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol");return(0,et.useMemo)(()=>{let{txType:n,txStatus:a,approveInfo:l,input:c,output:m,investTxData:d,poolId:f}=t,{investInCoins:p}=t.investTxData||{},C=Object.values(o),T=()=>m&&m.length>0?{label:s(Et[n]),items:(m||[]).map(({name:S,amount:w,icon:y,nftId:E,brc20Coin:A,brc20sCoin:b,protocolName:R})=>({isNFT:!!E||A||b,icon:y||cn,title:$t(w,S),right:R?et.default.createElement(ut,{className:u.protocol,size:Ht.SIZE.sm},R):null,autoWidth:!!R}))}:null,g=()=>!c||!c?.length?null:{label:s("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:S,amount:w,icon:y,nftId:E,brc20Coin:A,brc20sCoin:b,protocolName:R})=>({isNFT:!!E||A||b,icon:y||cn,title:vt(w,S),right:R?et.default.createElement("div",{className:(0,Jt.default)(u.protocol)},R):null,autoWidth:!!R}))},I=()=>({label:s(Et[n]),items:[{icon:l?.icon||Tt,title:l?.name||e}]}),h=()=>({label:s(Et[n]),items:[{icon:l?.nftCollectionIcon||$l,title:l?.nftCollectionName||s("wallet_extension_title_approve_nft_collection")}]}),v=()=>({label:s(Et[n]),items:(m||[]).map(({nftId:S,icon:w,name:y})=>({isNFT:!!S,icon:w||dn,title:y||s("wallet_extension_title_approve_nft")}))}),V=()=>{let{registerInfo:S}=t;return S?{label:"",items:[{icon:S?.icon||Tt,title:S?.name||e}],title:s("wallet_extension_title_approve_nft")}:null},W=()=>({label:s(Et[n]),items:(p||[]).map(({tokenName:S,num:w,tokenLogo:y})=>(w=$t(w),{icon:y??e,title:`${w} ${S}`}))}),O=()=>({label:s(Et[n]),items:(p||[]).map(({tokenName:S,num:w,tokenLogo:y})=>(w=$t(w),{icon:y??e,title:`${w} ${S}`}))}),B=()=>{let{investInfo:S,redeemShowNum:w}=t.investTxData||{},{investName:y,platformName:E,investLogo:A}=S||{},b=null,R="",Z="";if(!t.investTxData)return null;let pt=t.investTxData.investmentDetailType;if((pt==Nt.FARM_LP_TOKEN||pt==Nt.FARM_OTHER_TOKEN)&&(R=u.flowRightToken,Z=u.flowRightApply),w&&p&&p.length){let Ut=$t(p[0]?.num);b=et.default.createElement("div",{className:(0,Jt.default)(u["coin-flow__invest-apply-right"],Z)},et.default.createElement("div",{className:u["coin-flow__invest-apply-num"]},et.default.createElement(Kt.Text,{ellipsis:{tooltip:!0},className:u["coin-flow__invest-apply-num__tooltip"]},Ut)),et.default.createElement("div",{className:(0,Jt.default)(u["coin-flow__invest-apply-token"],R)},p[0]?.tokenName))}return{label:s(Et[n]),items:[{icon:et.default.createElement(jt,{logo:A}),title:y??e,right:b,subTitle:et.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},E??i)}]}},G=()=>d?{label:s(Et[n]),items:[{isNFT:!1,icon:d.investInfo.investLogo.middleLogo[0]||Tt,title:d.investInfo.investName,subTitle:et.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},d.investInfo.poolId?`ID: ${d.investInfo.poolId}`:"")}]}:null,ot=()=>d?{label:s(Et[n]),items:[{isNFT:!1,icon:d.investInfo.investLogo.middleLogo[0]||Tt,title:d.investInfo.investName,subTitle:et.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},f?`ID: ${f}`:"")}]}:null,st=()=>{let S;return a===L.PENDING?S=et.default.createElement("div",{className:u["coin-flow__claim"]},s("wallet_extension_subtitle_claimwith"),et.default.createElement(ct,{title:s("wallet_extension_card_ntfy_claim_text"),placement:ct.DIRECTION.bottomLeft},et.default.createElement("span",{className:`okds-information-circle ${u["coin-flow__claim__icon"]}`}))):S=s(Et[n]),{label:S,items:(p||[]).map(({tokenName:w,num:y,tokenLogo:E})=>(y=vt(y),{icon:E??e,title:`${y} ${w}`,className:"coin-flow__receive"}))}},Y=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:S,amount:w,icon:y,nftId:E,protocolName:A,include:b})=>({isNFT:!!E,icon:y||mn(E),title:$t(w,S),right:A?et.default.createElement("div",{className:(0,Jt.default)(u.protocol)},A):null,autoWidth:!!A,includeAssets:b}))}:null,K=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:S,amount:w,icon:y,nftId:E,protocolName:A})=>({isNFT:!!E,icon:y||mn(E),title:$t(w,S),right:A?et.default.createElement("div",{className:(0,Jt.default)(u.protocol)},A):null,autoWidth:!!A}))}:null,ht=()=>null,dt={[o.BRC30_INSCRIBE]:T,[o.BRC20_INSCRIBE]:T,[o.BRC20_DEPLOY]:T,[o.ORDINAL_NFT]:T,[o.ORDINAL_TEXT]:T,[o.BRC20_MINT]:T,[o.BRC20_TRADE]:T,[o.BRC30_TRADE]:T,[o.BRC20_RECEIVE]:g,[o.BRC30_RECEIVE]:g,[o.RUNES_SWEEP]:T,[o.CANCEL_AUTHORIZATION]:I,[o.AUTHORIZATION]:I,[o.NFT_CANCEL_AUTHORIZATION]:h,[o.NFT_AUTHORIZATION]:h,[o.CANCEL_NFT]:v,[o.REGISTRATION]:V,[o.EARN_BRC30_APPLY]:W,[o.DAPP_APPLY]:O,[o.EARN_BRC30_REDEEM]:G,[o.DAPP_REDEEM]:B,[o.EARN_BRC30_CLAIM]:ot,[o.DAPP_CLAIM]:st,[o.BTC_NFT_BULK_SEND]:ht,[o.BTC_NFT_BULK_RECEIVE]:ht,[o.BRC20_SEND]:Y,[o.BRC30_SEND]:Y,[o.DEFI_MINT]:B,[o.DEFI_REPAY]:O,default:K};return dt[n]?dt[n]():C.includes(n)?K():null},[t])}var pn=Wl;function mo({className:t,label:e,children:i}){return Q.default.createElement("div",{className:(0,He.default)(e?u["coin-flow__label"]:"",t)},Q.default.createElement("div",{className:u["coin-flow__label-text"]},e),Q.default.createElement("div",null,i))}function Zl({className:t,label:e,children:i,isExpand:n,setExpand:a}){return Q.default.createElement("div",{className:(0,He.default)(e?u["coin-flow__label__overflow"]:"",t)},Q.default.createElement("div",{className:u["coin-flow__label-text"]},e),Q.default.createElement("div",null,n?i:i.slice(0,2)),Q.default.createElement(Pe,{className:u["coin-flow__label__expand"],side:n?Pe.SIDE.TOP:Pe.SIDE.BOTTOM,onClick:()=>{a(!n)}}))}function po({data:t}){let{txType:e}=t,i=pn(t),n=an(t),[a,l]=(0,Q.useState)(!1);if(!i&&!n||e===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,m=d=>{if(!d)return null;let{items:f,label:p,...C}=d,T=t?.investmentPath;return d?.isNewInclude?Q.default.createElement(mo,{...C,label:p},Q.default.createElement(me,{recordData:d,isNewInclude:d?.isNewInclude})):e===o.DAPP_APPLY||e===o.DAPP_REDEEM?Q.default.createElement(mo,{...C,label:p},f.map((g,I)=>Q.default.createElement(me,{jumpInfo:g.subTitle?T:void 0,...g,key:I,hasPlus:f.length>=2&&I!==f.length-1,label:p}))):f?.length>2?Q.default.createElement(Zl,{...C,label:p,isExpand:a,setExpand:l},f.map((g,I)=>Q.default.createElement(me,{...g,key:I}))):Q.default.createElement(mo,{...C,label:p},f?.map((g,I)=>Q.default.createElement(me,{jumpInfo:g.subTitle?T:void 0,...g,key:I})))};return Q.default.createElement("div",{className:(0,He.default)(u["coin-flow"],{[u["coin-flow__hidden-label"]]:c})},m(i),m(n))}var un=po;po.propTypes={data:fn.default.object};po.defaultProps={data:{}};r();_();var at=x(D());var xn=x(pl());M();r();_();var Ct=x(D());M();r();_();var Ve={"tx-detail-info__add-address":"_tx-detail-info__add-address_11gsp_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_11gsp_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_11gsp_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_11gsp_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_11gsp_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_11gsp_1"};function Yl({address:t,network:e}){let[i,n]=(0,Ct.useState)(!1),[a,l]=(0,Ct.useState)({}),[c,m]=(0,Ct.useState)(""),d=mi(()=>{m(Oe.TYPE.ADD),l({address:t,network:e}),n(!0)}),f=C=>{n(!1),setTimeout(()=>{m(Oe.TYPE.EDIT),l({...C,network:e}),n(!0)})},p=()=>{n(!1),l({}),m("")};return Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement("div",{className:Ve["tx-detail-info__add-address"]},Ct.default.createElement(ct,{className:Ve["tx-detail-info__add-address__tooltip"],title:s("wallet_extension_history_pop_tap_to_add"),type:ct.TYPES.neutral,placement:ct.DIRECTION.bottomRight},Ct.default.createElement(Ft,{className:`${Ve["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:d}))),i&&Ct.default.createElement(Oe,{type:c,data:a,onClose:p,onChangeToEdit:f}))}var Ge=Yl;r();_();var gt={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Kl({data:t}){let{inAdrList:e,txType:i,mainCoinId:n,coinId:a}=t,[,l]=be(a),m=ve({coinId:+n})?.localType,[d,f]=at.default.useState(!0),p=Fe(m),C=Zo(),T=Ho(()=>[...new Set((e||[]).map(({address:I})=>I))].map(I=>{let h=!1,v;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(v=p(I),h=!v);let W=Object.values(C).find(G=>!(0,xn.default)(G[I]))?.[I],O=W?Se(s,W,l?.symbol):s("wallet_extension_popup_title_receiving_address_copied"),B=W?s(ge[Ie[W]]):"";return{address:I,canAdd:h,msg:O,tag:B,tag2:v}}),[e,i,p,C,l,s]);return!T||T.length===0?null:at.default.createElement("div",{className:gt.address},at.default.createElement("div",{className:gt["address-type"]},s("wallet_extension_mid_text_from")),T.map(g=>at.default.createElement(at.default.Fragment,null,at.default.createElement("div",{className:gt["address-content"]},at.default.createElement("div",{className:gt["address-string"]},g.address),at.default.createElement("div",{className:gt["address-right"]},at.default.createElement(qt,{label:g.label,value:g.address,message:g.msg}),g.canAdd&&at.default.createElement(Ge,{address:g.address,network:m}))),at.default.createElement("div",{className:gt["address-container"]},g.tag&&at.default.createElement(ut,{className:gt["address-tag"]},g?.tag),g?.tag2?.name&&at.default.createElement(ut,{className:gt["address-tag"]},g?.tag2?.name)))),at.default.createElement("div",{className:d?gt.fold:gt.unfold,onClick:()=>{f(!d)}}))}var Tn=Kl;r();_();var mt=x(D());M();r();_();var Pt={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function ql({data:t}){let{to:e,txType:i,contractInfo:n,mainCoinId:a,coinId:l}=t,[,c]=be(l),d=ve({coinId:+a})?.localType,f=Fe(d),p=Yo(d),{label:C,toAddress:T,msg:g,tags:I,canAdd:h}=(0,mt.useMemo)(()=>{let v,V,W=!1,O=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let st=f(e);W=!st,v=s("wallet_extension_mid_text_to"),st?.name&&O.push(st.name);let Y=zt(t);Y&&O.push(Y),V=e}else{let{address:st,name:Y}=n||{};v=i===o.REGISTRATION?s("wallet_extension_item_register_address"):s("wallet_extension_mid_text_interaction_address"),O.push(Y),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?V=e:V=st}let B=p[V],G=B?s(ge[Ie[B]]):"",ot=B?Se(s,B,c?.symbol):s("wallet_extension_popup_title_receiving_address_copied");return O.unshift(G),{label:v,toAddress:V,tags:O,canAdd:W,msg:ot}},[i,p,f,e,s,n]);return i===o.ZK_REGISTER||!T?null:mt.default.createElement(mt.default.Fragment,null,mt.default.createElement("div",{className:Pt["address-to"]},mt.default.createElement("div",{className:Pt["address-type"]},C),mt.default.createElement("div",{className:Pt["address-content"]},mt.default.createElement("div",{className:Pt["address-string"]},T),mt.default.createElement("div",{className:Pt["address-right"]},mt.default.createElement(qt,{value:T,message:g}),h&&mt.default.createElement(Ge,{address:T,network:d}))),mt.default.createElement("div",{className:Pt["address-container"]},I.map(v=>v&&mt.default.createElement(ut,{className:Pt["tx-clipboard__tag"]},v)))))}var Nn=ql;r();_();var U=x(D()),Pn=x(Rt()),xo=x(ie());M();io();r();_();var bt=x(D()),Cn=x(Mt()),pe=x(Do());M();r();_();var Dt={"tx-hash__inner":"_tx-hash__inner_1f08g_1",txHashInner:"_tx-hash__inner_1f08g_1","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1f08g_5",txHashInnerWrap:"_tx-hash__inner-wrap_1f08g_5","tx-hash__vertical":"_tx-hash__vertical_1f08g_14",txHashVertical:"_tx-hash__vertical_1f08g_14","tx-hash__icon":"_tx-hash__icon_1f08g_20",txHashIcon:"_tx-hash__icon_1f08g_20","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1f08g_25",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1f08g_25","tx-hash__message":"_tx-hash__message_1f08g_36",txHashMessage:"_tx-hash__message_1f08g_36","tx-hash__tag":"_tx-hash__tag_1f08g_40",txHashTag:"_tx-hash__tag_1f08g_40"};function fo({className:t,label:e,value:i,message:n,tag:a,url:l,showExplorerUrl:c}){let[m,d]=Ci(),f=()=>{m||(d(i),bo.success({title:n||s("wallet_receive_toast_address_copied"),desc:bt.default.createElement("div",{className:Dt["tx-hash__message"]},i)}))},p=()=>{!c||globalThis.platform.openTab({url:l})};return bt.default.createElement("div",{className:(0,Cn.default)(Dt["tx-hash"],t)},bt.default.createElement("div",{className:Dt["tx-hash__inner"]},bt.default.createElement("div",{className:Dt[c?"tx-hash__inner-wrap":""],onClick:p},e,a&&bt.default.createElement("div",{className:Dt["tx-hash__tag"]},a)),bt.default.createElement("div",{className:Dt["tx-hash__vertical"]}),bt.default.createElement("div",{className:Dt["tx-hash__icon"],onClick:f},bt.default.createElement(Ft,{className:`okx-wallet-plugin-copy-1 ${Dt["okx-wallet-plugin-copy-1"]}`}))))}var $e=fo;fo.propTypes={label:pe.default.any,value:pe.default.string,message:pe.default.string,className:pe.default.string};fo.defaultProps={label:"",value:"",className:"",message:""};r();_();var We=x(D());M();function zl(t){let{txType:e,approveInfo:i}=t,{amount:n,decimalNum:a}=i||{},l=(0,We.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?s("wallet_extension_mid_text_unlimited"):j(n,{decimals:a}),[n]);return e!==o.AUTHORIZATION?null:We.default.createElement(X,{label:s("wallet_extension_mid_text_approved_amount"),value:l})}var gn=zl;r();_();var In=x(D());M();io();function Xl({txType:t,mainCoinId:e,confirmedCount:i}){return t===o.ZK_REGISTER&&e===ne?null:In.default.createElement(X,{label:s("wallet_extension_mid_text_block_confirmation"),value:i})}var wn=Xl;r();_();var Ze=x(D());M();r();_();var En=x(D());dl();function uo(){let t=Jo(),e=jo();return(0,En.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;ho.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:t,coinsMapSize:Object.keys(e??{}).length,coinExisted:i!=null?e?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[t,e])}function jl({mainCoinId:t}){let{coin:e}=Bt(t,!1),i=uo();return(0,Ze.useEffect)(()=>{setTimeout(()=>{e?.coinId||i(t)},1500)},[e,t,i]),Ze.default.createElement(X,{label:s("wallet_extension_mid_text_network"),value:e.chainName})}var yn=jl;r();_();var Ye=x(D()),hn=x(Rt());M();io();lo();var Jl=[ne,So];function Ql({mainCoinId:t,txStatus:e,serviceCharge:i,chainSymbol:n,serviceChargeUsd:a,feeName:l,feeDecimalNum:c,txType:m}){let d=he(t),f=Jl.includes(t),p=t===ue,{coin:C}=Bt(t,!1),T=(0,hn.useSelector)(we),g,I;if(m===o.DAPP_UNISAT||m===o.ZK_REGISTER&&t===ne)return null;f?(g=c,I=l):(g=C.decimals,I=n);let h=Ao.div(i||0,10**(g||0)),v=`${j(h)} ${I}`;if((d||f||p)&&e!==L.PENDING){let{usdToThisRate:V}=T,W=xe(a,V);v+=` (${ko(W,{symbol:T.symbol,useApproximate:!1})})`}return Ye.default.createElement(Ye.default.Fragment,null,Ye.default.createElement(X,{label:s("wallet_extension_mid_text_network_fee"),value:v}))}var An=Ql;r();_();var vn=x(D());M();function ts({txType:t,investTxData:e}){if(!e||!e.lpTokenInfo||[Nt.FARM_LP_TOKEN,Nt.FARM_OTHER_TOKEN].includes(e?.investmentDetailType))return null;let i;if(t===o.DAPP_APPLY?i="wallet_extension_info_receive":t===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:a}=e.lpTokenInfo;return vn.default.createElement(X,{label:s(i),value:j(n,{symbol:a})})}var Dn=ts;r();_();var Rn=x(D());M();r();_();var bn=x(ie());M();var es="okx-wallet-plugin-lock-1",os="okx-wallet-plugin-enrollment",Sn=(t={})=>{let{txType:e,assetChange:i=[],poolLogo:n}=t;if(e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION||e===o.DAPP_NFT||e===o.CONTRACTCALL||e===o.CANCEL_NFT||e===o.NFT_CANCEL_AUTHORIZATION)return[t.contractIcon||_o(t)];if(e===o.NFT_AUTHORIZATION)return[t.contractIcon||es];if(e===o.ZK_REGISTER)return[os];if(e===o.EARN_BRC30_DEPLOY)return[n];let a=i.map(l=>{let{coinImgUrl:c}=l||{};return c||vi(l,t)});return a.reverse(),a.length===0?[_o(t)]:a},Ke=(t={})=>{let{txType:e,approveSymbol:i,nftCollectionName:n}=t;return Ue(e,{symbol:i,collection:n},t)},Ln=(t={},e="en-US")=>{let i=[],{txType:n,txStatus:a}=t;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_RECEIVE||n===o.BRC30_TRADE||n===o.BRC30_SEND){let l=zt(t)||z(t.to),c=`${s("wallet_extension_history_list_send_to")}   ${l}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC30_RECEIVE){let l=z(t.from),c=`${s("wallet_extension_history_list_receive_from")}   ${l}`;i.push(c)}else if(n===o.CANCEL_NFT){let l=t.contractName||z(t.to);i.push(l)}else if(n===o.ZK_REGISTER)i.push(z(t.from));else if(n===o.EARN_BRC30_APPLY||n===o.EARN_BRC30_REDEEM||n===o.EARN_BRC30_CLAIM||n===o.EARN_BRC30_DEPLOY)t.poolId&&i.push(`Pool ID: ${t.poolId}`);else if(n===o.BRC30_INSCRIBE){let l=z(t.from);i.push(l)}else{let{contractName:l,contractAddress:c}=t,m=l||z(c)||"";i.push(m)}if(a===L.PENDING){let l=Lt(t.txTime,{format:"yyyyMMddHHmmss",locale:e});i.push(l)}return i},Fn=(t={})=>{let{assetChange:e=[],txType:i,repeatTxType:n,coinId:a}=t,{baseCoin:l}=Bt(a,!0),c=Ae(l.coinId);return e.map(d=>{let{direction:f,coinAmount:p,coinSymbol:C}=d||{};if((0,bn.isNil)(p))return null;let T=null;return(p!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==$.CANCELING&&n!==$.SPEEDING_CANCEL)&&(T=j(p)),i===o.CANCEL_NFT?{coinAmount:"",symbol:C}:{direction:f,coinAmount:T,symbol:C}}).filter(Boolean)};function is(t){let{txType:e}=t,i=Ke(t);return e===o.ZK_REGISTER&&(i=s("wallet_extension_history_text_change_pubkey")),Rn.default.createElement(X,{label:s("wallet_extension_info_text_type"),value:i})}var Bn=is;r();_();var On={"tx-detail-info":"_tx-detail-info_pqo7x_1",txDetailInfo:"_tx-detail-info_pqo7x_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_pqo7x_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_pqo7x_5","tx-detail-info__status":"_tx-detail-info__status_pqo7x_8",txDetailInfoStatus:"_tx-detail-info__status_pqo7x_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_pqo7x_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_pqo7x_20",spin:"_spin_pqo7x_1","tx-detail-info__network":"_tx-detail-info__network_pqo7x_23",txDetailInfoNetwork:"_tx-detail-info__network_pqo7x_23","tx-detail-info__to-name":"_tx-detail-info__to-name_pqo7x_33",txDetailInfoToName:"_tx-detail-info__to-name_pqo7x_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_pqo7x_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_pqo7x_43","tx-detail-info__add-address":"_tx-detail-info__add-address_pqo7x_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_pqo7x_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_pqo7x_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_pqo7x_54"};function ns({memo:t,mainCoinId:e}){return(0,xo.isNil)(t)?null:U.default.createElement(X,{label:e===ue?s("wallet_extension_import_desc_comment"):s("wallet_extension_text_memocontent"),value:U.default.createElement(ce,{text:t||"--",maxWidth:"260px"})})}function ls({mev:t}){return(0,xo.isNil)(t)?null:U.default.createElement(X,{label:s("wallet_extension_ton_order_header_mev"),value:U.default.createElement(ce,{text:t||"--",maxWidth:"260px"})})}function ss({data:t}){let e=(0,Pn.useSelector)(Ce),{txTime:i,txHash:n,investTxData:a,txHash1:l,txHash2:c,explorerUrl:m,explorerUrl1:d,explorerUrl2:f,showExplorerUrl:p}=t;return U.default.createElement("div",{className:On["tx-detail-info"]},U.default.createElement(X,{label:s("wallet_extension_mid_text_time"),value:Lt(i,{format:"yyyyMMddHHmmss",locale:e})}),U.default.createElement(Bn,{...t}),U.default.createElement(Dn,{...t}),U.default.createElement(An,{...t}),U.default.createElement(yn,{...t}),!l&&n&&U.default.createElement(X,{label:s("wallet_extension_mid_text_transaction_hash"),value:U.default.createElement($e,{showExplorerUrl:p,label:z(n),value:n,url:m,message:s("wallet_extension_popup_title_transaction_hash_copied")})}),l&&U.default.createElement(X,{label:s("extension_wallet_details_item_transaction_hash1"),value:U.default.createElement(U.default.Fragment,null,U.default.createElement($e,{showExplorerUrl:p,label:z(l),value:l,url:d,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&U.default.createElement(X,{label:s("extension_wallet_details_item_transaction_hash2"),value:U.default.createElement(U.default.Fragment,null,U.default.createElement($e,{showExplorerUrl:p,label:z(c),value:c,url:f,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),U.default.createElement(wn,{...t}),a?.validateName&&U.default.createElement(X,{label:s("extension_wallet_history_text_validator"),value:z(a?.validateName)}),U.default.createElement(gn,{...t}),U.default.createElement(ls,{...t}),U.default.createElement(ns,{...t}))}var kn=ss;r();_();var fe={"tx-detail":"_tx-detail_xwwkm_1",txDetail:"_tx-detail_xwwkm_1","metax-ok-navigator":"_metax-ok-navigator_xwwkm_13",metaxOkNavigator:"_metax-ok-navigator_xwwkm_13","tx-detail__inner":"_tx-detail__inner_xwwkm_19",txDetailInner:"_tx-detail__inner_xwwkm_19","tx-detail__underline":"_tx-detail__underline_xwwkm_24",txDetailUnderline:"_tx-detail__underline_xwwkm_24","tx-detail__loading":"_tx-detail__loading_xwwkm_29",txDetailLoading:"_tx-detail__loading_xwwkm_29"};r();_();var Wt=x(D());M();r();_();var Qt={"tx-detail-status":"_tx-detail-status_1py5p_1",txDetailStatus:"_tx-detail-status_1py5p_1","tx-detail-icon":"_tx-detail-icon_1py5p_5",txDetailIcon:"_tx-detail-icon_1py5p_5","tx-detail-loading":"_tx-detail-loading_1py5p_11",txDetailLoading:"_tx-detail-loading_1py5p_11","tx-detail-loader":"_tx-detail-loader_1py5p_16",txDetailLoader:"_tx-detail-loader_1py5p_16","tx-detail-text":"_tx-detail-text_1py5p_20",txDetailText:"_tx-detail-text_1py5p_20","tx-detail-failed":"_tx-detail-failed_1py5p_30",txDetailFailed:"_tx-detail-failed_1py5p_30"};var rs={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled"},_s={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function as({data:t}){if(!t)return Wt.default.createElement(Wt.default.Fragment,null);let{txStatus:e,isShowPending:i,repeatTxType:n}=t,a="";e===L.CONFIRMING||e===L.SUCCESS?e===L.SUCCESS&&n===$.SPEEDING_CANCEL||n===$.CANCELING?a="tx-detail-canceled":a="tx-detail-completed":e===L.PENDING?(i&&n===$.CONFIRMING&&(a="tx-detail-pending"),!i&&n===$.CONFIRMING&&(a="tx-detail-waiting"),n===$.SPEEDING&&(a="tx-detail-speeding"),n===$.CANCELING&&(a="tx-detail-canceling"),n===$.SPEEDING_CANCEL&&(a="tx-detail-speedingcancel")):e===L.ERROR&&(a="tx-detail-failed");let l=_s[a]||"";return Wt.default.createElement("div",{className:Qt["tx-detail-status"]+(a==="tx-detail-failed"?` ${Qt["tx-detail-failed"]}`:"")},Wt.default.createElement(Ft,{className:`${Qt["tx-detail-icon"]} ${l}`}),!l&&Wt.default.createElement(At.Circle,{size:At.SIZE.md,className:Qt["tx-detail-loading"],loaderClassName:Qt["tx-detail-loader"]}),Wt.default.createElement("div",null,s(rs[a])))}var Un=as;r();_();function ms({params:t,onRefresh:e,onClose:i}){let n=(0,H.useRef)(""),a=(0,H.useRef)(null),[l,c]=(0,H.useState)(),m=()=>{if(!t)return;let{coinId:C,address:T,orderType:g,orderId:I}=t;zo({coinId:C,txId:n.current,address:T,orderType:g,orderId:I}).then(h=>{t&&!(0,Mn.isEmpty)(h)&&c({...h,address:T})}).catch(()=>{})};(0,H.useEffect)(()=>{t?(n.current=t.txId,m(),a.current=m):(n.current="",c(null))},[t]);let d=()=>{a.current&&n.current&&a.current()},f=_e("wallet-transaction"),p=_e("wallet-tx-confirm",{onError:d});return(0,H.useEffect)(()=>{(f&&l?.orderTxIdList?.includes(f.data?.txId)||p&&p.data?.txId===n.current&&p.data?.confirmedCount<=p.data?.totalConfirm)&&m()},[f,p]),t?H.default.createElement("div",{className:fe["tx-detail"]},H.default.createElement(Ko,{onBack:i,title:H.default.createElement(Un,{data:l})}),l?H.default.createElement(H.default.Fragment,null,H.default.createElement(Ii,{message:l.failReason}),H.default.createElement("div",{className:fe["tx-detail__inner"]},H.default.createElement(un,{data:l}),l&&H.default.createElement(Tn,{data:l}),l&&H.default.createElement(Nn,{data:l}),H.default.createElement("div",{className:fe["tx-detail__underline"]}),H.default.createElement(kn,{data:l}),H.default.createElement(Ri,{data:l,onRefresh:C=>{n.current=C,m(),e&&e()}}))):H.default.createElement("div",{className:fe["tx-detail__loading"]},H.default.createElement(At.Circle,{size:At.SIZE.lg}))):null}var To=ms;r();_();r();_();var Xe=x(D());r();_();var yt=x(D()),Hn=x(Rt()),Vn=x(Po());r();_();M();var qe=(t={})=>{let{txStatus:e,isShowPending:i,repeatTxType:n}=t;if(e===L.SUCCESS&&(n===$.CANCELING||n===$.SPEEDING_CANCEL))return s("wallet_extension_send_status_canceled");if(e===L.CONFIRMING||e===L.SUCCESS)return"";if(e===L.ERROR)return s("wallet_extension_history_status_failed");if(e===L.PENDING&&!i)return s("wallet_extension_history_list_status_waiting");if(e===L.PENDING&&i){if(n===$.CONFIRMING)return"";if(n===$.SPEEDING)return s("wallet_extension_send_status_speedingup");if(n===$.CANCELING)return s("wallet_extension_send_status_canceling");if(n===$.SPEEDING_CANCEL)return s("wallet_extension_send_status_canceling")}return""},ze=(t={})=>{let{txStatus:e,isShowPending:i,repeatTxType:n}=t;return e===L.SUCCESS&&(n===$.CANCELING||n===$.SPEEDING_CANCEL)?re.CANCELED:e===L.CONFIRMING||e===L.SUCCESS?"":e===L.ERROR?re.FAILED:e===L.PENDING&&!i?re.WAITING:re.PENDING};var ds=({data:t={},onClick:e,onRepeat:i})=>{let n=(0,Vn.useHistory)(),a=(0,Hn.useSelector)(Ne),l=Sn(t),c=Fn(t),m=Ke(t),d=Ln(t,a),f=ze(t),p=qe(t),C=Ai(t),T=Di(t),g=ke(d,c),I=yt.default.createElement(F.Label,{className:"tx-history-ml4",type:f,text:p,data:t}),h=t?.dexOrderId;return yt.default.createElement(F.ItemContainer,{onClick:()=>{h&&n.push(`${ye}/${t.dexOrderId}`),e()}},yt.default.createElement(F.Row,{assets:c,align:g},yt.default.createElement(F.Info,{icons:l,title:m,details:d,label:I,data:t}),yt.default.createElement(F.Assets,{assets:c,isValuelessNftTxType:T})),C&&yt.default.createElement(F.NFTs,{data:t}),!h&&yt.default.createElement(F.Actions,{data:t,onRepeat:i}))},Gn=(0,yt.memo)(ds);var ps=({data:t={},onClick:e,onRepeat:i})=>Xe.default.createElement(Gn,{data:t,onClick:e,onRepeat:i}),te=(0,Xe.memo)(ps);r();_();var lt=x(D());var Co=x(Rt());r();_();var No=x(D()),Wn=x(Mt());r();_();var $n={root:"_root_17ca3_1"};function fs({className:t}){return No.default.createElement("div",{className:(0,Wn.default)($n.root,t)},No.default.createElement(At.Circle,{size:At.SIZE.md}))}var je=fs;r();_();var ee=x(D());var us=({date:t,list:e,onClick:i})=>ee.default.createElement(F.List,null,ee.default.createElement(F.Date,null,t),e.map((n,a)=>ee.default.createElement(te,{data:n,key:a,onClick:()=>{i(n)}}))),Zn=(0,ee.memo)(us);r();_();var Yn={list:"_list_1ou1i_1"};var xs=({pendingList:t,completedList:e,isLoading:i,onRepeat:n,onClick:a,onContainer:l})=>{let c=(0,Co.useSelector)(Be),m=(0,Co.useSelector)(fi),[d,f]=(0,lt.useState)({}),[p,C]=(0,lt.useState)(0);return m?lt.default.createElement(F.Loading,{top:160}):i||!t?null:!i&&t.length===0&&e.length===0?lt.default.createElement(F.Empty,{top:72}):lt.default.createElement(F.ListContainer,{onContainer:l},lt.default.createElement(F.Dialogs,{data:d,type:p,onConfirm:()=>{f({}),C(0),n()},onCancel:()=>{C(0)}}),t.length>0?lt.default.createElement(lt.default.Fragment,null,lt.default.createElement(F.PendingTag,null),lt.default.createElement("div",{className:Yn.list},t.map((T,g)=>lt.default.createElement(te,{data:T,key:g,onClick:()=>{a(T)},onRepeat:I=>{f(T),C(I)}})))):null,e.map(({date:T,list:g},I)=>lt.default.createElement(Zn,{date:T,list:g,key:I,onClick:a})),c&&lt.default.createElement(je,null))},Kn=(0,lt.memo)(xs);var Ts={VirtualItem:te,HistoryList:Kn};r();_();r();_();r();_();var rt=x(D()),Io=x(Rt());var ll=x(Po());r();_();var It=x(D());r();_();var Je=x(D());r();_();var St=x(D()),tl=x(Rt());r();_();M();var Ns="okx-wallet-plugin-report-centre",qn="okx-wallet-plugin-pointer-up",zn="okx-wallet-plugin-pointer-down",Cs="okx-wallet-plugin-lock-1",gs="okx-wallet-plugin-swap-1",Is="okx-wallet-plugin-mint-nft",ws="okx-wallet-plugin-report-centre",Es="okx-wallet-plugin-supply",ys="okx-wallet-plugin-claim",hs="okx-wallet-plugin-enrollment",As="okx-wallet-plugin-mint",vs="okx-wallet-plugin-mint",Ds="okx-wallet-plugin-coin-inscribe-brc20",bs="okx-wallet-plugin-pointer-down",Ss="okx-wallet-plugin-pointer-up",Ls="okx-wallet-plugin-quick",Xn=(t={})=>{let{txType:e}=t,i=[];return e===o.TRANS_OUT&&i.push(qn),e===o.PERPETUAIL&&i.push(bs),e===o.WITHDRAW&&i.push(Ss),e===o.QUICK_WITHDRAW&&i.push(Ls),e===o.TRANS_IN&&i.push(zn),(e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION)&&i.push(Cs),(e===o.SWAP||e===o.BUY_NFT||e===o.SELL_NFT||e===o.GAS_STATION||e===o.DEX_CROSS_CHAIN_SWAP||e===o.BRC20_TRADE||e===o.BRC30_TRADE||e===o.RUNES_SWEEP)&&i.push(gs),e===o.MINT_NFT&&i.push(Is),(e===o.CONTRACTCALL||e===o.DAPP_NFT)&&i.push(ws),e===o.DAPP_APPLY&&i.push(Es),(e===o.DAPP_REDEEM||e===o.DAPP_CLAIM||e===o.EARN_BRC30_CLAIM||e===o.EARN_BRC30_APPLY||e===o.EARN_BRC30_REDEEM)&&i.push(ys),(e===o.REGISTRATION||e===o.ZK_REGISTER)&&i.push(hs),(e===o.BRC20_RECEIVE||e===o.BRC30_RECEIVE||e===o.DEFI_MINT)&&i.push(zn),(e===o.BRC20_INSCRIBE||e===o.BRC30_INSCRIBE)&&i.push(Ds),(e===o.BRC20_MINT||e===o.ORDINAL_NFT||e===o.ORDINAL_TEXT||e===o.BRC20_DEPLOY)&&i.push(As),(e===o.BRC20_SEND||e===o.BRC30_SEND||e===o.DEFI_REPAY)&&i.push(qn),e===o.EARN_BRC30_DEPLOY&&i.push(vs),i.length||i.push(Ns),i},jn=(t={})=>{let{txType:e,coinSymbol:i}=t;return Ue(e,{symbol:i},t)},Jn=(t={},e="en-US")=>{let i=[],{txType:n,txStatus:a}=t;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let l=zt(t)||z(t.to),c=`${s("wallet_extension_history_list_send_to")}  ${l}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let l=z(t.from),c=`${s("wallet_extension_history_list_receive_from")}   ${l}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let l=z(t.to);i.push(l)}else if(n===o.ZK_REGISTER)i.push(z(t.from));else{let{contractName:l,contractAddress:c}=t,m=l||z(c)||"";i.push(m)}if(a===L.PENDING){let l=Lt(t.txTime,{format:"yyyyMMddHHmmss",locale:e});i.push(l)}return i},Qn=(t={})=>{let e=[],{direction:i,coinAmount:n,coinSymbol:a,txType:l,repeatTxType:c,coinId:m}=t,{baseCoin:d}=Bt(m,!0),f=Ae(d.coinId);if(l===o.AUTHORIZATION||l===o.CANCEL_AUTHORIZATION||l===o.REGISTRATION)return e;let p=null;return(n!=="0"||f&&(l===o.TRANS_IN||l===o.TRANS_OUT)&&c!==$.CANCELING&&c!==$.SPEEDING_CANCEL)&&(p=j(n)),e.push({direction:i,coinAmount:p,symbol:a}),!t?.brc20Type&&t?.ordinalNftName&&t?.ordinalNftDirection&&t?.ordinalNftAmount&&e.push({direction:t?.ordinalNftDirection,coinAmount:t?.ordinalNftAmount,symbol:t?.ordinalNftName}),e};var Fs=({data:t={},onClick:e,onRepeat:i})=>{let n=(0,tl.useSelector)(Ne),a=Xn(t),l=jn(t),c=Jn(t,n),m=Qn(t),d=ke(c,m),f=ze(t),p=qe(t),C=St.default.createElement(F.Label,{className:"tx-history-ml4",type:f,text:p,data:t});return St.default.createElement(F.ItemContainer,{onClick:e},St.default.createElement(F.Row,{assets:m,align:d},St.default.createElement(F.Info,{icons:a,title:l,details:c,label:C,data:t}),St.default.createElement(F.CoinAssets,{assets:m})),St.default.createElement(F.Actions,{data:t,onRepeat:i}))},el=(0,St.memo)(Fs);var Rs=({data:t={},onRepeat:e,onClick:i})=>Je.default.createElement(el,{data:t,onClick:i,onRepeat:e}),Qe=(0,Je.memo)(Rs);r();_();var ol={root:"_root_1otry_1"};var Bs=({pendingList:t,onRepeat:e,onClick:i})=>{let[n,a]=(0,It.useState)({}),[l,c]=(0,It.useState)(0);return t.length===0?null:It.default.createElement(It.default.Fragment,null,It.default.createElement(F.Dialogs,{data:n,type:l,onConfirm:()=>{a({}),c(0),e()},onCancel:()=>{c(0)}}),It.default.createElement("div",{className:ol.root},t.map((m,d)=>It.default.createElement(Qe,{data:m,key:d,onRepeat:f=>{a(m),c(f)},onClick:()=>{i(m)}}))))},il=(0,It.memo)(Bs);r();_();var kt=x(D());var Os=({completedList:t,onClick:e})=>kt.default.createElement(kt.default.Fragment,null,t.map(({date:i,list:n},a)=>kt.default.createElement(F.List,{key:a},kt.default.createElement(F.Date,null,i),n.map((l,c)=>kt.default.createElement(Qe,{data:l,key:c,onClick:()=>{e(l)}}))))),nl=(0,kt.memo)(Os);r();_();var go={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};var Ps=({txList:t,isLoading:e,onRepeat:i})=>{let[n,a]=(0,rt.useState)(),l=(0,Io.useSelector)(Ce),c=(0,Io.useSelector)(Be),m=(0,ll.useHistory)(),[d,f]=(0,rt.useMemo)(()=>hi(t,l,!0),[t,l]);if(!e&&d.length===0&&f.length===0)return rt.default.createElement(F.Empty,null);if(e)return rt.default.createElement(F.Loading,{top:0,className:go.loading});if(!Array.isArray(t))return null;let p=C=>{C?.dexOrderId?m.push(`${ye}/${C.dexOrderId}`):a(C)};return rt.default.createElement(rt.default.Fragment,null,rt.default.createElement("div",{className:"coin-history__list"},rt.default.createElement(il,{pendingList:d,onRepeat:i,onClick:p}),rt.default.createElement(nl,{completedList:f,onClick:p}),c&&rt.default.createElement(je,{className:go.scrollLoading})),rt.default.createElement(To,{params:n,onRefresh:i,onClose:()=>{a(null)}}))},sl=(0,rt.memo)(Ps);var ks={TxList:sl};r();_();var xt=x(D()),rl=x(Rt()),_l=x(ie());function bu({scrollContainer:t,selector:e=".tx-history-item-container",index:i=15},n){let a=(0,xt.useRef)(null),l=(0,xt.useRef)(null),c=(0,rl.useSelector)(pi),m=()=>{if(a.current)if(l.current){let{bottom:h}=a.current.getBoundingClientRect(),{top:v}=l.current.getBoundingClientRect();v>=h&&n()}else n()},d=_e("wallet-transaction",{onError:m}),[f,p]=(0,xt.useState)(!1),[C,T]=(0,xt.useState)(!1),[g,I]=(0,xt.useState)(0);(0,xt.useEffect)(()=>{d&&T(!0)},[d]),(0,xt.useLayoutEffect)(()=>{let h;if(t){let v=t.querySelectorAll(e);h=(0,_l.throttle)(()=>{let{bottom:V}=t.getBoundingClientRect(),{top:W}=l.current.getBoundingClientRect();p(W>=V)},200),l.current=v[i],l.current?(h(),t.addEventListener("scroll",h)):p(!0),a.current=t}else p(!0);return()=>{t&&(t.removeEventListener("scroll",h),l.current=null)}},[g,t,e,i,c]),(0,xt.useEffect)(()=>{f&&C&&(n&&n(),p(!1),T(!1),I(h=>{let v=h+1;return v>=1e6&&(v=1),v}))},[f,C])}export{hi as a,To as b,ks as c,Ts as d,bu as e};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-674ZXZEJ.js.map
