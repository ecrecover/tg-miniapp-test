import{a as dn,b as fn,c as kn,d as Ot,e as En,f as Cn,g as Pe,h as Wn,i as Hn}from"./chunk-UWXUUXNE.js";import"./chunk-67PQZKPC.js";import"./chunk-FBJV5UC3.js";import"./chunk-3RTGY6DW.js";import"./chunk-MMZCTKQ6.js";import"./chunk-VTZB4ESB.js";import{a as gn}from"./chunk-LOPAQTXH.js";import{a as Pn,c as Rn,d as Dn}from"./chunk-YX2PO5IX.js";import{a as vt}from"./chunk-H6OJXVHL.js";import{a as pn}from"./chunk-AD5PQ5FU.js";import"./chunk-Z5ROTYBJ.js";import{a as On,b as vn,c as $n,d as Vn}from"./chunk-ONTU5M35.js";import{a as St,b as cn,c as Ft,d as Lt,e as xn}from"./chunk-C37LCWNI.js";import"./chunk-GEIVS32O.js";import{a as In}from"./chunk-HSXLZU4O.js";import{a as Ln}from"./chunk-UXQ7H5EX.js";import"./chunk-H3SRG5PM.js";import{a as Bn}from"./chunk-GRLVWTBK.js";import{a as wn,b as An}from"./chunk-HBIH62WC.js";import"./chunk-TNL4ZLYC.js";import{a as Tn,b as hn}from"./chunk-LSOF4NSO.js";import{a as jr}from"./chunk-BSZQ662M.js";import{a as un}from"./chunk-NOTB7SV5.js";import{a as Fn}from"./chunk-3DHD7TXN.js";import{a as bn}from"./chunk-J66MHRNB.js";import{a as ye}from"./chunk-XZRYRRSY.js";import"./chunk-BUD3WOZZ.js";import{a as Un}from"./chunk-BTXINDN4.js";import{a as Mn}from"./chunk-RAXLMNUX.js";import"./chunk-XOAHEW4N.js";import{a as Nn}from"./chunk-FWLIR37N.js";import"./chunk-SCZBCO2U.js";import"./chunk-ZZGZKS3R.js";import"./chunk-KPD5HBWY.js";import"./chunk-UNBL3DJE.js";import"./chunk-5Z7DXNIK.js";import"./chunk-7XFZKU6W.js";import"./chunk-ZJHJYBLR.js";import"./chunk-5DVBM2WJ.js";import"./chunk-2PABOPC7.js";import{a as At}from"./chunk-I3U7CKFC.js";import"./chunk-ZPDRUAGN.js";import"./chunk-3K3KMGWB.js";import"./chunk-5EZVDCYS.js";import"./chunk-475E6NBR.js";import{a as Ur}from"./chunk-RC5IAFKK.js";import{a as wt}from"./chunk-4VLUHY4K.js";import"./chunk-IHPHPUUG.js";import{a as Yr}from"./chunk-ZEWK7OGU.js";import"./chunk-QVA4WXOQ.js";import"./chunk-EX22SDGB.js";import"./chunk-3SC55VQ2.js";import"./chunk-VTLNAOHG.js";import"./chunk-Y7YPG2EJ.js";import{a as Wr,c as Hr}from"./chunk-7R67VE77.js";import"./chunk-NHGZUGLZ.js";import"./chunk-G5LEAVCY.js";import{a as Pr}from"./chunk-ACHWU2H6.js";import{d as Vr}from"./chunk-ZPFBKNRM.js";import{f as Dr,h as W,i as he,k as Mr}from"./chunk-7DP5LYUM.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import{a as Ir,b as _n,d as Io,f as yn}from"./chunk-MODCVFVL.js";import"./chunk-5TLQ2D7N.js";import{b as Sn}from"./chunk-KE3QQZYK.js";import{m as Bt}from"./chunk-5XXRPHJM.js";import"./chunk-YHZPBXHC.js";import"./chunk-ISL2MCWJ.js";import"./chunk-6B2YB6M3.js";import"./chunk-DMBZQQ63.js";import"./chunk-WRS2FTF4.js";import{b as zr}from"./chunk-NEFFYVGA.js";import"./chunk-BLQO46DT.js";import{a as wr}from"./chunk-OUTTG7YQ.js";import"./chunk-LBJYBJBE.js";import"./chunk-E2XQ2FKN.js";import{b as Zr,d as me,e as Xr,g as Jr,j as Qr,k as en,l as tn,m as on,n as rn,o as Be,q as nn,r as sn,s as an,t as ln,x as mn}from"./chunk-GLID42E7.js";import"./chunk-VDMZHNTV.js";import"./chunk-2E742IIC.js";import"./chunk-2GMLPDYZ.js";import{c as ve}from"./chunk-DY54SY5O.js";import{b as le}from"./chunk-REOQ3O2A.js";import"./chunk-DGK7TBBE.js";import"./chunk-6Y7ULJF6.js";import{b as yr}from"./chunk-3YH3AGVS.js";import"./chunk-3LB7TUPB.js";import"./chunk-OS6E6KVM.js";import"./chunk-GZRBUDXF.js";import{c as Er}from"./chunk-WY46TT4P.js";import{h as Tr,i as hr}from"./chunk-MTMUCMTY.js";import{i as qr,m as Kr}from"./chunk-S6N4IJX7.js";import"./chunk-ZD4EJWX6.js";import{c as Gr}from"./chunk-WGCZSWYA.js";import"./chunk-IINHHLHP.js";import"./chunk-DY2YURLY.js";import"./chunk-KXZSXP3G.js";import{d as Et}from"./chunk-6HXVFU7V.js";import"./chunk-D5FMQLJG.js";import{d as To}from"./chunk-3I7UBQEQ.js";import{e as vr,f as Br}from"./chunk-DXRBY5MU.js";import"./chunk-6FR2UIE7.js";import{a as Ar,e as Sr}from"./chunk-5GMHHIH5.js";import{y as Rr}from"./chunk-7KCWBFQ2.js";import"./chunk-QLUP7GYN.js";import{h as Fr,i as Lr,j as Or}from"./chunk-7Y44NCE5.js";import"./chunk-BKPOG6ZD.js";import"./chunk-OZMVWMFO.js";import"./chunk-KTO7CPX7.js";import"./chunk-P3XTPXPO.js";import"./chunk-4IY6P5HR.js";import"./chunk-FQWGOLDH.js";import{F as yo,I as $r,K as bt,z as ho}from"./chunk-QEPBNPHF.js";import"./chunk-3JLS3TGD.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import{b as ot}from"./chunk-MO7YHFES.js";import{b as Cr}from"./chunk-DDO6HXRN.js";import"./chunk-CLWWTOKP.js";import{b as te}from"./chunk-C7ZG4INB.js";import{a as br}from"./chunk-J5ANWCEO.js";import{r as Xo,w as G}from"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import{a as yt,b as ar,j as lr,l as It,q as mr,u as cr,w as pr}from"./chunk-6FOZGMAL.js";import{$ as xt,G as _o,W as go,Xa as _r,_a as gr,e as et,i as dr,ka as kt,u as tt,v as fr,ya as ur}from"./chunk-2MV3WEYP.js";import{Bb as Oe,D as Qi,Sb as ir,db as Ee,kb as tr,lb as or,n as Yo,oa as ea,ob as rr,qa as Jo,qb as ht,s as jo,t as zo,ta as Qo,tb as nr,u as Zo,ua as er,xb as sr,y as R}from"./chunk-HPXM6RSK.js";import"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import{a as ee}from"./chunk-NJ5CWPUY.js";import{e as Nr,p as ta}from"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import{d as P,f as Fe}from"./chunk-MAIAJ7GD.js";import{a as xr,e as kr}from"./chunk-4PGNX6E2.js";import"./chunk-DBHB6SUD.js";import{a as Ct}from"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import{l as uo}from"./chunk-MGLVPWSV.js";import"./chunk-TXKWPME2.js";import"./chunk-4D3M2I6W.js";import{g as Nt}from"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import{c as T}from"./chunk-JXCCIV3J.js";import{b as M,c as Te}from"./chunk-AOA7NX2Y.js";import{g as ut,j,m as ge}from"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{Ca as ze,Ea as Ze,Fa as Xe,Hc as Le,Kb as Uo,Mb as gt,Na as Je,Pa as Qe,Wb as Go,Zb as Tt,a as Ro,ab as $o,b as Zi,d as dt,e as Xi,hb as po,hc as qo,ib as _t,jc as Ko,kb as fo,lb as Vo,m as lo,o as Ye,q as _e,z as Ho,za as je}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import{A as qe,D as Se,F as se,G as co,J as ke,L as Ke,c as xe,e as Mo,i as mo,m as Wo,n as ne,o as ft,x as B}from"./chunk-SOHTSUTI.js";import{I as L,m as Do,w as u}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-E24EBHFY.js";import{M as H,S as Q,Y as w,c as Ge}from"./chunk-V4F2JFTP.js";import{a as I,g as Ji}from"./chunk-6DDC4Y2S.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-YUXYCITH.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as p,m as t,o}from"./chunk-EQYVU4XP.js";t();o();var Ve=p(I());var vo=p(R()),lt=p(ee());Ko();Go();Fe();t();o();var Gn=p(ea()),Re=p(Qi());Uo();var oa=(0,Re.createSelectorCreator)(Re.defaultMemoize,Gn.default),rt=oa(e=>{let{createdMap:r={},needSyncMap:n={}}=e.metamask;return{createdMap:r,needSyncMap:n}},Ee,({createdMap:e,needSyncMap:r},n)=>{let s=Boolean(e[n]),i=Boolean(r[n]);return!(!s||i)}),ra=(0,Re.createSelector)(rt,Lr,Ee,e=>e.metamask?.walletConfig?.currentNetworkUniqueId||"",ht,mn,Fr,Qo,er,Jo,sr,(e,r,n,s,i,l,a,d,_,f,g)=>{let m=null;f?.length&&r?.[n]&&(m=Or({isReady:r[n]?.coins&&e,defaultBaseCoinsCoinIds:a.size>0?Array.from(a):[],addedCoins:d[n]??[],reducedCoins:_[n]??[],balanceCoins:r[n]?.coins??[],defi:r[n]?.defi,nft:r[n]?.nft,networks:f.map(D=>({chainId:D})),hiddenSmallAssets:g,customFilter:({chainId:D})=>s===""||D===Number(s)}));let h="0",k="0",N="0",y="0",E="0",v="0";if(m){let{tokenTotalAssetsUSD:D,defiTotalAssetsUSD:F,nftTotalAssetsUSD:Y,smallTotalAssetsUSD:J,platformTotalAssetsUSD:re}=m;y=Y,E=F,v=D,N=re,h=D,h=Vo(h,J),l&&(h=fo(h,y)),h=fo(h,F),k=h,h=_t(h,i?.usdToThisRate??"1")}else return{walletAsset:"--",walletAssetUSD:"--",platformAssetUSD:"--",nftBalanceUSD:"--"};return{walletAsset:h,walletAssetUSD:k,platformAssetUSD:N,nftBalanceUSD:y,defiBalanceUSD:E,tokenBalanceUSD:v}}),qn=ra;t();o();var x=p(I()),$e=p(R()),Oi=p(ee());L();ta();Ko();Go();t();o();var De=p(I());L();t();o();var Pt={root:"_root_h6iyb_1",animation:"_animation_h6iyb_14",text:"_text_h6iyb_17"};var na=()=>{let[e,r]=(0,De.useState)(!1),n=Nt({dark:"/static/images/dapp/connected-success-dark.json",light:"/static/images/dapp/connected-success-light.json"});return De.default.createElement("div",{className:Pt.root},De.default.createElement(Mo,{className:Pt.animation,path:n,loop:!1,onDataReady:()=>{r(!0)}}),e?De.default.createElement("span",{className:Pt.text},u("wallet_home_foot_dapp_connceted")):null)},Kn=na;t();o();var z=p(I()),Xn=p(R());Fe();t();o();var Yn=p(I());Zi();var jn=()=>(0,Yn.useCallback)(e=>{try{let r=e===A.CREATE_FAIL_FROM_SERVER_ERROR?"Server":"Local";Ro.captureException(`CreateWalletToServerInHomePage-${r}`)}catch(r){console.log(r)}},[]);t();o();Fe();Te();ge();var Rt=p(I()),zn=p(R());var Zn=()=>{let e=Dr({keyringType:Le.MPC}),r=(0,zn.useSelector)(ir),n=(0,Rt.useCallback)(async()=>{Promise.all(e.map(s=>{let i=s?.mpcId||"",l=s?.walletIdentities?.length-1;return j(M.syncMpcwallet,{mpcId:i,deriveIndex:l})})).then(s=>{P().setIsNeedSyncMpcIndex(!1)}).catch(s=>{console.log("syncMpcWallet error:")})},[e?.length]);(0,Rt.useEffect)(()=>{e?.length&&r&&n()},[e?.length,n,r])};var Jn=(i=>(i.CREATE_FAIL_FROM_NETWORK_ERROR="CREATE_FAIL_FROM_NETWORK_ERROR",i.CREATE_FAIL_FROM_SERVER_ERROR="CREATE_FAIL_FROM_SERVER_ERROR",i.CREATE_FAIL_FROM_SERVER_LIMIT="CREATE_FAIL_FROM_SERVER_LIMIT",i.PENDING="PENDING",i))(Jn||{}),A={...Jn,..._n},Qn=()=>{let e=W();Zn();let{needSyncMap:r={},createdMap:n={}}=(0,Xn.useSelector)(({metamask:y})=>y),s=Boolean(n[e]),i=Boolean(r[e]),l=jn(),a=un(),[d,_]=(0,z.useState)(!s||i||a?A.PENDING:""),[f,g]=(0,z.useState)(""),m=(0,z.useCallback)(async()=>{try{await Cr()}catch(y){_(y?.message)}},[]),h=(0,z.useCallback)(async()=>{let y=await P().getWalletTypeCreated(e);_(A.PENDING);try{await P().createWalletToServer({walletId:e,walletType:y,noticeBackend:!0})}catch(E){switch(E?.message){case"ERR_NETWORK":_(A.CREATE_FAIL_FROM_NETWORK_ERROR),l();break;case"ERR_SERVER_LIMIT":_(A.CREATE_FAIL_FROM_SERVER_LIMIT),l(A.CREATE_FAIL_FROM_SERVER_LIMIT);break;default:_(A.CREATE_FAIL_FROM_SERVER_ERROR),g(E?.message);break}}},[l,e]),k=(0,z.useCallback)(async()=>{try{await P().syncWalletToServer(e)}catch{console.log("sync wallet error")}},[e]),N=(0,z.useCallback)(async()=>{s?i&&await k():await h()},[h,s,i,k]);return(0,z.useEffect)(()=>{(async()=>s&&!i&&(await m(),await P().getAccountKeys()))()},[m,s,i,e]),ar(()=>{_(A.PENDING)},[e]),(0,z.useEffect)(()=>{N()},[N]),(0,z.useEffect)(()=>{!a&&s&&!i&&_("")},[a,s,i]),[{errorType:d,errorMsg:f},{createWalletToServer:h}]};t();o();t();o();L();var $=p(I());t();o();var es={btn:"_btn_l5kiz_1"};t();o();var No=p(I());Fe();var ts=({walletIds:e})=>{let r=(0,No.useCallback)(async()=>await P().fetchApprovalRisk({accountIds:e}),[e]),n=(0,No.useCallback)(async()=>{await P().setApprovalRiskRemindLater()},[]);return{fetchApprovalRisk:r,remindLater:n}};var os=({walletId:e})=>{let[r,n]=$.default.useState(!1),s=wt(),i=wr(),l=(0,$.useMemo)(()=>({walletIds:[e]}),[e]),{fetchApprovalRisk:a,remindLater:d}=ts(l);(0,$.useEffect)(()=>{(async()=>{let{approvalProjectList:g}=await a();g?.length>0&&n(!0)})()},[a]);let _=(0,$.useCallback)(()=>{n(!1),ho({go_to_website:!1}),d()},[d]),f=(0,$.useCallback)(()=>{let g=s.web3||`https://${i}/web3`;globalThis.open(g),n(!1),ho({go_to_website:!0})},[i,s.web3]);return $.default.createElement(ne.Prompt,{visible:r,title:u("wallet_extension_risk_modaltitle_risk_warning"),text:u("wallet_extension_risk_modalsubtitle_risk_warning"),infoType:ne.Prompt.INFO_TYPE.warn,hideCloseBtn:!0,alignBottom:!1,footer:$.default.createElement($.default.Fragment,null,$.default.createElement(w,{category:w.CATEGORY.fill,type:w.TYPE.highlight,size:w.SIZE.lg,block:!0,onClick:f},u("wallet_extension_risk_btn_official_website")),$.default.createElement(w,{category:w.CATEGORY.outline,type:w.TYPE.default,size:w.SIZE.lg,className:es.btn,block:!0,onClick:_},u("wallet_extension_risk_btn_remind_later")))})};t();o();L();var Me=p(I()),is=p(R());t();o();var ns=p(I());L();t();o();var rs={blue:"_blue_1j2vu_1"};var ss=()=>{let e=Tn();return ns.default.createElement("span",{className:rs.blue,onClick:()=>{hn(e)}},u("wallet_extension_home_notification_btn_switch_servers"))};var as=()=>{let e=W(),r=(0,is.useSelector)(tr)||{},n=Boolean(r[e]),s=(0,Me.useCallback)((a=5)=>{se.error({key:"networkError",title:u("wallet_extension_toast_asset_error_try_again"),duration:a,placement:se.DIRECTION.top,desc:Me.default.createElement(ss,null)})},[]),i=(0,Me.useCallback)((a=5)=>{se.error({key:"serverLimitError",title:u("wallet_extension_home_notif_network_high_traffic"),duration:a,placement:se.DIRECTION.top})},[]),l=(0,Me.useCallback)((a,d=5)=>{se.error({key:"customAlert",title:a,duration:d,placement:se.DIRECTION.top})},[]);return{isWalletCreated:n,networkAlert:s,serverLimitAlert:i,customAlert:l}};t();o();var O=p(I());t();o();var oe={main:"_main_1x0tq_1",carousel:"_carousel_1x0tq_6",closeWrapper:"_closeWrapper_1x0tq_9",banner:"_banner_1x0tq_17",content:"_content_1x0tq_22",left:"_left_1x0tq_25",title:"_title_1x0tq_29",icon:"_icon_1x0tq_32",buttonIndex:"_buttonIndex_1x0tq_37",switch:"_switch_1x0tq_42"};t();o();var xo=p(I());t();o();var Dt={main:"_main_1li3n_1",line:"_line_1li3n_5",dot:"_dot_1li3n_11"};var ls=({total:e,activeIndex:r,className:n})=>xo.default.createElement(T.FlexBox,{align:T.ALIGN.center,className:`${Dt.main} ${n}`},Array(e).fill("").map((s,i)=>xo.default.createElement("div",{className:r===i?Dt.line:Dt.dot})));t();o();var Mt=p(I());t();o();var nt={main:"_main_15yv0_1",icon:"_icon_15yv0_1",left:"_left_15yv0_9"};var ms=({handlePrev:e,handleNext:r,className:n})=>Mt.default.createElement(T.FlexBox,{align:T.ALIGN.center,className:`${nt.main} ${n}`},Mt.default.createElement(te,{size:te.SIZE.xxs,onClick:e,icon:"okx-wallet-plugin-left",className:`${nt.icon} ${nt.left} `}),Mt.default.createElement(te,{size:te.SIZE.xxs,onClick:r,icon:"okx-wallet-plugin-right",className:nt.icon}));t();o();var Ie=p(I()),Wt=p(R());var cs=p(lo());Xi();Te();ge();var ps=()=>{let[e,r]=(0,Ie.useState)([]),n=(0,Wt.useSelector)(yn),s=(0,Wt.useDispatch)(),i=Wo();(0,Ie.useEffect)(()=>{(async()=>{let{data:d=[]}=await ut(M.getBannerConfig),{uiData:_}=await dt.get("uiData"),f=_?.closedBannerStore||[];s(Io({allData:d,closedBanners:f,theme:i})),r(d)})()},[i]);let l=(0,Ie.useMemo)(()=>n.length,[n]),a=(0,Ie.useCallback)(async d=>{let{uiData:_}=await dt.get("uiData"),{closedBannerStore:f=[]}=_;f.push(d?.id);let g=(0,cs.intersectionWith)(f,e,(m,h)=>m===h?.id);await dt.set({uiData:{..._??{},closedBannerStore:g}}),s(Io({allData:e,closedBanners:g,theme:i}))},[e,i]);return{bannerList:n,total:l,handleClose:a}};var ds=()=>{let[e,r]=(0,O.useState)(0),[n,s]=(0,O.useState)(!1),i=O.default.useRef(null),l=(0,O.useCallback)(f=>{yo({click_close:!1,banner_id:f.id}),globalThis.open(f.url)},[]),{bannerList:a,total:d,handleClose:_}=ps();return d===0?null:O.default.createElement(T.FlexBox,{className:oe.main,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},O.default.createElement(mo,{touchSwitch:d>1,className:oe.carousel,autoplay:d>1?5e3:!1,ref:i,loop:d>1,navigation:!1,showIndicators:!1,onChange:f=>{r(f)}},a?.map(f=>O.default.createElement(mo.Slide,null,O.default.createElement(T.FlexBox,{className:oe.banner},O.default.createElement(T.FlexBox,{onClick:()=>l(f),className:oe.content,align:d===1?T.ALIGN.center:T.ALIGN.start},O.default.createElement("div",{className:oe.left},O.default.createElement(G.Text,{ellipsis:{rows:2},size:G.SIZE.sm,strong:500,className:oe.title},f.title)),O.default.createElement(te,{type:te.TYPE.image,className:oe.icon,src:f.img})),O.default.createElement(T.FlexBox,{align:T.ALIGN.center,className:oe.closeWrapper,onClick:()=>{yo({click_close:!0,banner_id:f.id}),_(f)}},O.default.createElement(H,{className:"okx-wallet-plugin-close"})))))),d>1&&O.default.createElement("div",null,n?O.default.createElement(ms,{className:oe.switch,handlePrev:()=>i.current?.prev(),handleNext:()=>i.current?.next()}):O.default.createElement(ls,{total:d,activeIndex:e,className:oe.buttonIndex})))};t();o();var Ht=p(I());t();o();var fs={content:"_content_o6jn4_1",wrapper:"_wrapper_o6jn4_9",img:"_img_o6jn4_12",title:"_title_o6jn4_16",text:"_text_o6jn4_19"};t();o();var X=p(I());t();o();var Z={skeletonWrapper:"_skeletonWrapper_k76ne_1",tab:"_tab_k76ne_5",tokenList:"_tokenList_k76ne_10",token:"_token_k76ne_10",logo:"_logo_k76ne_18",symbol:"_symbol_k76ne_23",chain:"_chain_k76ne_28",middle:"_middle_k76ne_32",number:"_number_k76ne_35",currency:"_currency_k76ne_40"};var sa=()=>X.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,align:T.ALIGN.unset,className:Z.skeletonWrapper},X.default.createElement(ke.Input,{active:!0,className:Z.tab}),X.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,justify:"space-around",className:Z.tokenList},Array(5).fill("").map((e,r)=>X.default.createElement(T.FlexBox,{className:Z.token,align:T.ALIGN.center,key:r},X.default.createElement(ke.Avatar,{active:!0,className:Z.logo}),X.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,className:Z.middle},X.default.createElement(ke.Input,{active:!0,className:Z.symbol}),X.default.createElement(ke.Input,{active:!0,className:Z.chain})),X.default.createElement(T.FlexBox,{direction:T.DIRECTION.vertical,align:T.ALIGN.end,className:Z.right},X.default.createElement(ke.Input,{active:!0,className:Z.number}),X.default.createElement(ke.Input,{active:!0,className:Z.currency})))))),us=sa;t();o();var gs=p(I());L();t();o();var _s={wrapper:"_wrapper_16oot_1"};var Ts=({tryAgain:e})=>gs.default.createElement(B.State,{title:u("wallet_extension_home_title_network_unavailable"),type:B.State.TYPE.noNetwork,description:u("wallet_extension_home_text_check_network_error"),buttonText:u("wallet_extension_home_btn_try_again"),onButtonClick:()=>{e&&e()},className:_s.wrapper});var hs=({errorType:e,tryAgain:r})=>{let n=e===A.CREATE_FAIL_FROM_NETWORK_ERROR||e===A.CREATE_FAIL_FROM_SERVER_ERROR;if(!n&&e!==A.PENDING)return null;let s=()=>{switch(e){case A.CREATE_FAIL_FROM_NETWORK_ERROR:case A.CREATE_FAIL_FROM_SERVER_ERROR:return Ht.default.createElement(Ts,{tryAgain:r});case A.PENDING:return Ht.default.createElement(us,null);default:return null}};return Ht.default.createElement(T.FlexBox,{align:T.ALIGN.center,justify:n?T.ALIGN.center:T.ALIGN.unset,direction:T.DIRECTION.vertical,className:fs.content},s())};t();o();var de=p(I()),fi=p(R());t();o();var Ce=p(I());L();var Vt=p(R());t();o();var $t={homeTabs:"_homeTabs_o2bwr_1",homeTab:"_homeTab_o2bwr_1",active:"_active_o2bwr_13"};var ys=({aptosNftOffers:e})=>{let r=(0,Vt.useSelector)(Be),n=(0,Vt.useDispatch)(),s=Ot(bt),i=(0,Ce.useMemo)(()=>[u("wallet_extension_nft_tab_coins"),Ce.default.createElement("div",null,u("wallet_extension_nft_tab_nfts"),e.length>0&&Ce.default.createElement("span",{className:"new-home-nft-aptos-notify"})),u("wallet_extension_tab_defi")],[e]);return Ce.default.createElement(Ke,{noLine:!0,className:$t.homeTabs,activeId:r,size:Ke.SIZE.lg,color:Ke.COLOR.grey,paneSpacing:0,onChange:l=>{let a;switch(l){case 1:a="crypto";break;case 2:a="nfts";break;case 3:a="defi";break;default:break}s({homepage:a}),n(nn.setActiveId({id:l}))}},i.map((l,a)=>Ce.default.createElement(Ke.TabPane,{className:`${$t.homeTab} ${+r===a+1?$t.active:""}`,tab:l,key:a,id:a+1})))};t();o();var Is={main:"_main_bbmgq_1"};t();o();var V=p(I()),ws=p(ee());L();t();o();var ko=p(R()),Ns=p(ee());var xs=()=>{let e=Fn(),{currentNetworkUniqueId:r}=(0,ko.useSelector)(Et),n=Br(),s=(0,Ns.useHistory)(),i=(0,ko.useSelector)(Sn),l=W(),a=i?.[l],d=m=>{if(a?.[`${m.symbol}-${m.coinId}`])return a[`${m.symbol}-${m.coinId}`];let h=ot({nearAggregation:!0,coinSymbol:m.symbol,coinId:m.coinId,addressType:""});return`${et}${h}`},_=m=>{if(a?.[`${m.symbol}-${m.coinId}`])return a[`${m.symbol}-${m.coinId}`];let h=ot({btcAggregation:!0,coinSymbol:m.symbol,coinId:m.coinId,addressType:""});return`${et}${h}`},f=async m=>{if(r===""&&a?.[m.symbol])return a[m.symbol];let h=r!==""?m.childrenCoin.find(y=>y.chainId===Number(r)):null;h&&await e(h);let k=h?.coinId||"",N=ot({aggregation:!0,coinSymbol:m.symbol,coinId:k});return`${et}${N}`};return{jumpCoinDetailPage:async m=>{let h="";if(m.aggregation)h=await f(m);else if(zo(m))h=_(m);else if(Zo(m))h=d(m);else{await e(m);let k=ot({coinId:m.coinId});h=`${et}${k}`}h&&s.push(h)},coinToCurrencyRate:n}};t();o();var ie=p(I());var Cs=p(ee());ge();Te();je();L();t();o();var ks={root:"_root_qmbez_1",alert:"_alert_qmbez_4"};function ia(){let[e,r]=(0,ie.useState)(!1),[n,s]=(0,ie.useState)({}),i=(0,Cs.useHistory)(),l=Yr(Ye),a=ve("dex-across-order-info"),{currentNetworkUniqueId:d}=ye(),_=Wr({localType:Ye})||[],f=Number(d)===_?.[0]?.realChainId||d==="";return(0,ie.useEffect)(()=>{(()=>{j(M.postPendingFacetOrder,{userWalletAddresses:l,chainId:_?.[0]?.realChainId||1}).then(m=>{if(m.data?.length>0){if(f)r(!0);else{r(!1);return}let h=m.data.filter(k=>Number(k.status)===11&&Number(k.specialOrderType)===3);h?.length>0?(s({orderId:h[0].orderId,toAmount:h[0].toAmount,toTokenSymbol:h[0].toTokenSymbol}),r(!0)):(s(""),r(!1))}else s({}),r(!1)}).catch(m=>{console.log("err",m),s({}),r(!1)})})()},[a,d,f]),e?ie.default.createElement(T.Box,{className:ks.root},ie.default.createElement(xe,{desc:ie.default.createElement("div",null,u("swaptrade_extension_reminder_desc_pending_withdrawal",{token:n?.toTokenSymbol,amount:n?.toAmount}),ie.default.createElement(xe.Link,{onClick:g=>{g.preventDefault(),i.push(`${_r}/${n?.orderId}`)}},u("swaptrade_extension_cell_btn_confirm_withdrawal"))),type:xe.TYPE.info,onClose:()=>{r(!1)}})):null}var bs=ia;t();o();var We={button:"_button_blxw2_1",showButton:"_showButton_blxw2_5",coinList:"_coinList_blxw2_13",icon:"_icon_blxw2_16",empty:"_empty_blxw2_20"};var aa=190,Eo=({scrollTop:e,hiddenAssets:r,backupHeight:n})=>{let s=Ln(),{jumpCoinDetailPage:i,coinToCurrencyRate:l}=xs(),a=vr(),{fetch:d}=vn();bn(d,{cacheKey:On,staleTime:1e3*60*10});let _=An(),f=(0,ws.useHistory)(),g=(0,V.useMemo)(()=>s.length>8&&e>aa,[s.length,e]),{paddingBottom:m,buttonPaddingBottom:h,absoluteBottom:k}=Pe({isButtonAbsolute:g,backupHeight:n});return s.length===0?V.default.createElement("div",{style:{paddingBottom:m+n}},V.default.createElement(B.State,{className:We.empty,type:B.State.TYPE.noRecord,title:u("extension_wallet_home_text_no_added_currencies"),buttonText:u("extension_wallet_home_btn_add_now"),onButtonClick:()=>{f.push(_o)}})):V.default.createElement("div",null,V.default.createElement("div",{style:{paddingBottom:m},className:We.coinList},V.default.createElement(bs,null),V.default.createElement(To,{renderEmpty:!1,dataSource:s,renderItem:N=>{let{image:y,symbol:E,coinAmount:v,currencyAmount:D,coinId:F}=N,Y=_(N),J=l?.[F]||"0",re=a?.[F]?.coinPriceChangePercent24h??void 0;return V.default.createElement(To.Coin,{icon:y,price:J,pricePercent:re,symbol:E,hidden:r,balance:Y?v:void 0,market:Y?D:void 0,onClick:async()=>{Y&&await i(N)}},!Y&&V.default.createElement(wn,{coinId:N?.coinId}))}})),V.default.createElement("div",{className:`${g?We.showButton:""} ${We.button}`,style:{bottom:k,paddingBottom:h}},V.default.createElement(w,{circle:!0,category:w.CATEGORY.outline,type:w.TYPE.secondary,size:w.SIZE.md,onClick:()=>{f.push(_o)}},V.default.createElement(H,{className:`okx-wallet-plugin-edit-wallet ${We.icon}`}),u("wallet_home_btn_manage_crypto"))))};t();o();var C=p(I());t();o();var U=p(I()),Zs=p(ee());L();t();o();var S=p(I()),Yt=p(Ge());L();t();o();var ae=p(I());var Ks=p(Ge());t();o();var Gs=p(I());L();t();o();var As=p(R());function la(){let e=W(),r=(0,As.useDispatch)();return(n,s)=>{let{hideManualHidden:i}=Xr(e),l={id:n,walletId:e,newData:{hiddenStatus:s?me.SHOW:me.MANUAL}};r(i&&!s?ln(l):an(l))}}var Ss=la;t();o();t();o();Te();ge();var Fs=(e,r="")=>j(M.checkHasHiddenNFT,{address:e,chain:r});t();o();var ma=Pr(Qr,sn),Ls=ma;function ca(e){let{currentNetworkUniqueId:r}=ye(),n=In(),[s,i]=Ls(),{loading:l,runAsync:a,run:d}=It(()=>{let _=n(r).join(",");return _?Fs(_,`${r}`).then(f=>{let g=!!f?.data?.ownedHiddenNft;return i(g),g}).catch(()=>(i(!1),!1)):(i(!1),Promise.resolve(!1))},{manual:e?.manual??!0,refreshDeps:[r],onSuccess:_=>{e?.onChecked?.(_)},onError:()=>{}});return{hasHiddenNFT:s,loading:l,checkAsync:a,check:d,setHasHiddenNft:i}}var Ut=ca;t();o();var Gt="home-page-root-element-id";je();t();o();function pa(e,r){return e.includes(r)}var Os=pa;t();o();var qt={SHOW:0,HIDE:1};t();o();var Kt={hide:{button:"extension_wallet_filter_btn_hide",error:"extension_wallet_notif_text_hide_unsuccess",success:"extension_wallet_notif_text_hide_success"},show:{button:"extension_wallet_filter_btn_unhide",error:"extension_wallet_notif_text_unhide_unsuccess",success:"extension_wallet_notif_text_unhide_success"},transfer:"extension_wallet_filter_btn_transfer"};t();o();t();o();Te();ge();t();o();var vs={expired:4001,illegal:4002,parsingFailed:4003};var Bs=e=>j(M.changeNFTVisibility,e),Ps=e=>{let r=e?.data?.addressTokenErrorMap??{};return Object.values(r).some(n=>Object.values(vs).includes(n))};t();o();var Co="nftToken",Rs=(e,r)=>{try{let n=localStorage.getItem(Co)??"{}",s=JSON.parse(n);return localStorage.setItem(Co,JSON.stringify({...s,[e]:r})),!0}catch{return!1}},Ds=e=>{try{let r=localStorage.getItem(Co);return r?(JSON.parse(r)??{})?.[e]:void 0}catch{return}};t();o();Fe();je();t();o();Te();ge();var Ms=e=>ut(M.getNFTSignData,{address:e});t();o();Te();ge();po();var Ws={[ze]:1,[Xe]:2,[Je]:2,[Qe]:4,[Ze]:5},Hs=e=>j(M.loginNFT,e);t();o();po();var $s={[ze]:ze,[Ze]:Ze,[Qe]:Qe,[Xe]:Xe,[Je]:Je};var da=e=>Object.values($s).includes(e),Vs=async(e,r,n)=>{let s=Ct(r);if(!da(s))return;let i=await Ms(e),l=i?.data?.signData,a=i?.data?.nonce;if(!l||!a)return;let d=await P().signMessageSilent({from:e,data:l,nonce:a},s,n);if(!d)return;let _={address:e,signature:d,algorithmCode:Ws[s]};if([_e,Ho].includes(s)){let g=await P().getPublicKey(e,s,n);_.publicKey=g}return(await Hs(_))?.data?.token};var Us={LOGIN_ERROR:"LOGIN_ERROR",TOKEN_ERROR:"TOKEN_ERROR"},fa=async({address:e,baseCoinId:r,useNewToken:n,walletId:s})=>{let i=Ds(e);if(!n&&i)return i;try{let l=await Vs(e,r,s);if(!l)throw new Error(Us.LOGIN_ERROR);return Rs(e,l),l}catch{throw new Error(Us.LOGIN_ERROR)}},bo=0,ua=3,wo=async(e,r,n=!1)=>{let{addresses:s,nftId:i,type:l,walletId:a}=r,d=[];for(let f of s){let g=await fa({address:f,baseCoinId:e,useNewToken:n,walletId:a});d.push(g)}let _=s.reduce((f,g,m)=>(f[g]=d[m],f),{});try{await Bs({nftId:i,type:l,addressTokenMap:_}),bo=0}catch(f){if(Ps(f)){if(bo++,bo>ua)throw f;await wo(e,r,!0)}else throw f}};function _a(e){let{id:r,baseCoinId:n,onSuccess:s,hiddenStatus:i}=e,l=!Os([me.AUTO,me.MANUAL],i),a=W(),d=Mr(),_=Ss(),{check:f}=Ut(),g=l?Kt.hide:Kt.show,m=It(wo,{onError:()=>{co.error(u(g.error))},onSuccess:(N,[,{nftId:y,type:E}])=>{co.success(u(g.success)),_(y,E===qt.SHOW),f(),s?.()},manual:!0}),h=()=>{if(m.loading)return;let N=d(a),y=Ct(n),E=N?.account?.[y],v=Object.values(N?.addressType?.bitcoin??{}).map(D=>D?.address).filter(Boolean);m.run(n,{addresses:y===_e?v:[E],type:l?qt.HIDE:qt.SHOW,nftId:r,walletId:a})},k=u(g.button);return{key:"visibility",loading:m.loading,text:k,onClick:h,icon:l?"okx-wallet-plugin-hide":"okx-wallet-plugin-show"}}function ga(e){let{ownerAddress:r,chainId:n,tokenId:s,contractAddress:i}=e,{loading:l,getNFTInfo:a}=Pn({looker:r,chainId:`${n}`,tokenId:`${s}`,contractAddress:i}),d=Rn(),_=async()=>{let g=await a();if(!!g){if(g?.chainName==="Solana"&&g?.sale){let m=ne.tip({alignBottom:!1,title:u("extension_wallet_detail_title_transfer_faild"),children:u("extension_wallet_detail_text_transfer_faild"),confirmText:u("wallet_extension_btn_general_ok"),onConfirm:()=>{m.destroy()}});return}d(g)}},f=u(Kt.transfer);return{key:"transfer",loading:l,text:f,onClick:_,icon:"okx-wallet-plugin-transfer"}}function Ta(){let e=(0,Gs.useRef)(null),r=()=>{e.current?.setVisible(!1)};return cr("scroll",r,{target:document.getElementById(Gt)}),{popupRef:e,closePopup:r}}function ha(e){let{popupRef:r,closePopup:n}=Ta(),{baseCoinId:s,id:i,hiddenStatus:l,ownerAddress:a,chainId:d,contractAddress:_,tokenId:f,transfer:g=!0,visible:m=!0}=e,h=_a({onSuccess:n,baseCoinId:s,id:i,hiddenStatus:l}),k=ga({ownerAddress:a,chainId:d,tokenId:f,contractAddress:_}),N=[];return g&&N.push(k),m&&N.push(h),{popupRef:r,actions:N}}var qs=ha;t();o();var be={root:"_root_eofou_1",popup:"_popup_eofou_6",item:"_item_eofou_13",iconBox:"_iconBox_eofou_22",loader:"_loader_eofou_30",icon:"_icon_eofou_22"};function ya(e){let{popupRef:r,actions:n}=qs(e);return ae.default.createElement(T.Box,{className:be.root},ae.default.createElement(ft,{content:ae.default.createElement(T.Box,{className:be.popup},n.map(s=>ae.default.createElement(T.Box,{className:be.item,onClick:s.onClick,key:s.key},ae.default.createElement(T.Box,{className:be.iconBox},s.loading?ae.default.createElement(Q,{size:Q.SIZE.sm,className:be.loader}):ae.default.createElement(H,{className:(0,Ks.default)(s.icon,be.icon)})),ae.default.createElement(G.Text,{size:G.SIZE.sm},s.text)))),trigger:ft.TRIGGER.click,placement:ft.DIRECTION.topRight,ref:r},ae.default.createElement(H,{className:"okds-more"})))}var Ys=ya;t();o();var st=p(I());var js=p(Ge()),Ia=({item:e,index:r})=>{let[n,s]=(0,st.useState)(!1),i=r%2>1?qe.DIRECTION.top:qe.DIRECTION.topRight;return st.default.createElement(qe,{show:n,title:e.collectionName,trigger:qe.TRIGGER_TYPES.hover,placement:i},st.default.createElement("span",{onMouseOver:()=>{let l=e.isIdentification?127:144;document.querySelector(`.ok-nft--collection-name-hidden-${e.id}`).clientWidth>l&&s(!0)},onMouseLeave:()=>{s(!1)},className:(0,js.default)("ok-nft--collection-name",{"ok-nft--collection-identification-name":e.isIdentification})},e.collectionName||e.projectName))},zs=Ia;t();o();var ce={clickable:"_clickable_1hwto_1",priceTitle:"_priceTitle_1hwto_4",priceContent:"_priceContent_1hwto_12",priceValue:"_priceValue_1hwto_22",chainImage:"_chainImage_1hwto_27",priceAmount:"_priceAmount_1hwto_32",price:"_price_1hwto_4",noResultImageBox:"_noResultImageBox_1hwto_39",collectionName:"_collectionName_1hwto_43"};var Na=()=>{let e=he();return kr(e?.initialType)},jt=e=>{let r=Na(),{inImage:n}=e.slot||{},s=le(e.salePrice)||le(e.lastPrice)||le(e.bestOfferPrice),i=u("wallet_extension_nft_detail_text_price"),l="New";e.salePrice?i=u("wallet_extension_nft_detail_text_price"):e.lastPrice?i=u("wallet_extension_nft_detail_text_last"):e.bestOfferPrice&&(i=u("wallet_extension_nft_detail_text_best_offer"));let a=!r&&!e?.needClaim,d=[me.AUTO,me.MANUAL].includes(e?.hiddenStatus),_=d&&S.default.createElement("div",{className:"ok-nft--is-hide"},S.default.createElement(H,{className:(0,Yt.default)("okx-wallet-plugin-hide","ok-nft--is-hide-icon")})),f=Nt({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});return S.default.createElement("div",{className:"ok-nft--main-item"},S.default.createElement("div",{className:ce.clickable,onClick:e.onClick},S.default.createElement("div",{className:"ok-nft--image-box"},S.default.createElement(Bn,{startStatus:e.activeId===2,src:e.image||e.resourceUrl,alt:"",classnames:(0,Yt.default)("ok-nft--image",d&&"ok-nft--image-box-hide"),backupImage:f}),e.isNew&&S.default.createElement("div",{className:"ok-nft--is-new"},l),n?n(_):_),S.default.createElement("div",null,S.default.createElement("div",{className:"ok-nft--collections"},S.default.createElement(zs,{item:e}),S.default.createElement("div",{className:(0,Yt.default)(`ok-nft--collection-name-hidden-${e.id}`,ce.collectionName)},e.collectionName),e.isIdentification&&S.default.createElement(Se,{alt:"",src:"/static/images/nft/nft-isidentification.svg",className:"ok-nft--flag-image"}),S.default.createElement(Se,{alt:"",src:e.chainIcon,className:"ok-nft--chain-image"})),S.default.createElement("div",{className:"ok-nft--name"},e.name))),S.default.createElement("div",{className:ce.price},S.default.createElement("div",{className:ce.priceTitle},i),S.default.createElement("div",{className:ce.priceContent},S.default.createElement("div",{className:ce.priceValue},s?.currencyUrl&&S.default.createElement(Se,{alt:"",src:`${s?.currencyUrl}`,className:ce.chainImage}),S.default.createElement("div",{className:ce.priceAmount},s?.priceDisplay||"--")),a&&S.default.createElement(Ys,{id:e.id,hiddenStatus:e.hiddenStatus,baseCoinId:e.baseCoinId,ownerAddress:e.ownerAddress,chainId:e.chain,contractAddress:e.contractAddress,tokenId:e.tokenId,...e.actionsProps||{}}))))};var Xs=({data:e=[],accountAddress:r})=>{let[n,s]=(0,U.useState)(!1),i=(0,Zs.useHistory)(),l=u("extension_home_aptos_nft_card_receivenum",{num:U.default.createElement("span",{key:"language",className:"new-home-page-aptos-notify"},e.length)});return U.default.createElement(U.default.Fragment,null,U.default.createElement(ne.Action,{windowStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},onClose:()=>{s(!1)},visible:n,title:U.default.createElement("span",{className:"new-home-page-aptos-title"},u("extension_aptos_nft_title_receiveallowed")),windowClass:"new-home-page-aptos-claim"},U.default.createElement("div",{className:"ok-nft--main-list"},e.map(a=>(a.coverUrl?a.image=a.coverUrl:a.resourceType===1&&(a.image=a.resourceUrl),a.lastPrice=le(a.lastPrice),a.bestOffer=le(a.bestOffer),a.sale=le(a.sale),a.floorPriceDetail=le(a.floorPriceDetail),U.default.createElement(jt,{...a,key:a.tokenId,activeId:2,needClaim:!0,onClick:()=>{i.push({search:`chainId=${a.chain}&contractAddress=${a.contractAddress}&tokenId=${encodeURIComponent(a.tokenId)}&claim=true&offerAddress=${a.offerAddress}&looker=${r}&accountAddress=${r}`,pathname:`${tt}`})}}))))),U.default.createElement("div",{className:"new-home-page-aptos-box"},U.default.createElement(Se,{alt:"",width:32,height:32,className:"new-home-page-aptos-image",src:e[0].coverUrl||e[0].resourceUrl}),U.default.createElement("div",{className:"new-home-page-aptos-text"},l),U.default.createElement("span",{className:"new-home-page-aptos-get",onClick:()=>{e.length>1?s(!0):i.push({search:`chainId=${e[0].chain}&contractAddress=${e[0].contractAddress}&tokenId=${encodeURIComponent(e[0].tokenId)}&claim=true&offerAddress=${e[0].offerAddress}&looker=${r}&accountAddress=${r}`,pathname:`${tt}`})}},u("extension_home_aptos_nft_card_receivenow"))))};t();o();var He=p(I()),Qs=p(R()),ei=p(ee()),Ao=p(Ji());t();o();var zt=p(I());L();t();o();var q={INIT:"init",FILTER:"filter"};var xa=({type:e=q.INIT,hideButton:r=!1})=>{let n=wt(),{resetHideUnverifiedCollection:s}=vt(),{resetFilterInfo:i}=Nn(),l=(0,zt.useCallback)(()=>{s(),i()},[i,s]),a={[q.INIT]:u("wallet_extension_nft_tab_nfts_desc"),[q.FILTER]:u("wallet_extension_nft_text_no_items_found")},d={[q.INIT]:u("wallet_extension_nft_tab_nfts_btn_explorenfts"),[q.FILTER]:u("wallet_extension_nft_btn_back_to_items")},_={[q.INIT]:B.State.TYPE.noResult,[q.FILTER]:B.State.TYPE.noRecord};return zt.default.createElement(B.State,{title:a[e],type:_[e],buttonText:r?null:d[e],onButtonClick:r?void 0:()=>{if(e===q.INIT){globalThis.platform.openTab({url:n?.nftMarketPlace});return}l()}})},Js=xa;var So=({list:e,filterStatus:r,hasNFTFilter:n=!1})=>{let s=(0,Qs.useSelector)(Be),i=(0,ei.useHistory)(),{currentWalletSetting:l}=vt(),{hideNoValue:a,hideManualHidden:d}=l,_=a||d;if(e.length>0)return He.default.createElement("div",{className:"ok-nft--main-list"},e.map(g=>{let{nftStatusInfo:m}=g,h=m?.data?.nftStatus==="1",N=jo({coinId:g?.baseCoinId})&&!!g.inscriptionIdProtocol?g.inscriptionIdProtocol:g?.tokenId;return He.default.createElement(jt,{key:g.id,...g,tokenId:N,activeId:s,onClick:()=>{i.push({search:`looker=${g.ownerAddress}&chainId=${g.chain}&contractAddress=${g.contractAddress}&tokenId=${encodeURIComponent(N)}`,pathname:`${tt}`})},actionsProps:{transfer:!h},slot:{inImage:y=>h?He.default.createElement(Dn,{className:"ok-nft-loading-status",tooltip:!0,count:m.data?.txCount}):y}})}));let f=r&&!_?q.FILTER:q.INIT;return He.default.createElement("div",{className:"ok-nft--main-no-nft"},He.default.createElement(Js,{hideButton:f===q.INIT&&n,type:f}))};So.propTypes={list:Ao.default.array,filterStatus:Ao.default.bool};So.defaultProps={list:[],filterStatus:!1};var ti=So;var it=p(R()),Xt=p(Ge());L();var si=p(ee());t();o();var Zt={showButton:"_showButton_tk4qq_1",loadingButton:"_loadingButton_tk4qq_11",loader:"_loader_tk4qq_16"};t();o();var Lo=p(I());L();t();o();var oi=p(lo()),ka="read_hidden_nft_tips_walletIds";function Ea(e){let{hasHiddenNFT:r=!1}=e,n=W(),[s,i]=pr(ka,{defaultValue:[]});return{showTips:!(n&&s?.includes(n))&&r,onRead:()=>{!n||i((0,oi.uniq)(s?.concat(n)))}}}var ri=Ea;t();o();var Fo={root:"_root_1f2hq_1",alert:"_alert_1f2hq_4"};function Ca(e){let{showTips:r,onRead:n}=ri(e);return r?Lo.default.createElement(T.Box,{className:Fo.root},Lo.default.createElement(xe,{desc:u("extension_wallet_filter_notif_filterhide"),type:xe.TYPE.warn,onClose:n,className:Fo.alert})):null}var ni=Ca;var ba=256,ii=({aptosNftOffers:e,aptosAddress:r,scrollTop:n,backupHeight:s})=>{let i=Ar(),l=(0,it.useSelector)(on),a=(0,it.useSelector)(tn),d=(0,it.useSelector)(rn),_=(0,C.useRef)(null),f=Lt(),g=(0,si.useHistory)(),{list:m,total:h,pageNo:k}=(0,it.useSelector)(en),{hasHiddenNFT:N}=Ut({manual:!1}),y=!!i&&Jr(i,Zr.hideUnverifiedCollection),E=Object.keys(d).some(ue=>d[ue].length!==0)||y,v=E||N&&m.length<=2;(0,C.useEffect)(()=>{!a&&n>268*Math.ceil(m.length/2)+240-600&&h>m.length&&f({pageNo:k+1})},[n,a,m.length,h,k,f]);let D=(0,C.useMemo)(()=>a&&m.length>0&&n>480,[a,m.length,n]),F=u("wallet_extension_nft_popup_title_filter"),Y=u("extension_wallet_filter_textbtn_filter",{number:Do.thousandFormat(h)}),J=v?Y:F,re=(0,C.useMemo)(()=>v||n>ba,[v,n]),{paddingBottom:mt,buttonPaddingBottom:Ae,absoluteBottom:Ue}=Pe({isButtonAbsolute:re,backupHeight:s}),ct=(0,C.useMemo)(()=>m.length===0&&!v?Ae:mt,[Ae,v,m.length,mt]);return l?C.default.createElement("div",{className:(0,Xt.default)("ok-home--error-parent"),style:{paddingBottom:ct}},C.default.createElement(B.State,{type:B.State.TYPE.noNetwork,title:u("wallet_extension_nft_text_loading_failed"),buttonText:u("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{a||f({pageNo:1})}})):a&&m.length===0?C.default.createElement("div",{className:(0,Xt.default)("ok-home--loading-parent")},C.default.createElement(Q,{size:Q.SIZE.xl})):C.default.createElement(C.default.Fragment,null,C.default.createElement("div",{ref:_,style:{paddingBottom:ct}},e.length>0&&C.default.createElement(Xs,{data:e,accountAddress:r}),C.default.createElement(ni,{hasHiddenNFT:N}),C.default.createElement(ti,{filterStatus:E,list:m,hasNFTFilter:v})),D?C.default.createElement(br,{className:Zt.loadingButton,offsetBottom:Ue},C.default.createElement("div",{className:"ok-home-page--nft-loading"},C.default.createElement(Q,{size:Q.SIZE.lg,className:Zt.loader}))):C.default.createElement("div",{className:(0,Xt.default)(`${re?Zt.showButton:""}`,"ok-home-bottom-panel--nft","ok-home-bottom-panel__disabled"),style:{bottom:Ue,paddingBottom:Ae}},C.default.createElement(w,{icon:"okx-wallet-plugin-filter",type:w.TYPE.secondary,category:v?w.CATEGORY.fill:w.CATEGORY.outline,iconType:w.ICON_POSITION.leading,className:"home-button-nft sticky",onClick:()=>{g.push(fr)}},J)))};t();o();var Jt=p(I());var ai=p(R());var li=()=>{let[e,r]=(0,Jt.useState)([]),n=ve("nft-operate"),i=(0,ai.useSelector)(or)?.account?.aptos||"",l=Lt();return xn(),(0,Jt.useEffect)(()=>{(!n||n.data.status===2)&&i&&Rr(i).then(a=>{r(a.list)}),n?.data?.status===2&&setTimeout(()=>{l()},3e3)},[n,l]),{aptosNftOffers:e,aptosAddress:i,fetchNftListData:l}};t();o();var to=p(I());t();o();var b=p(I()),mi=p(R());L();Uo();var Qt="BTC",wa=({hidden:e,isWalletCreated:r})=>{let n=W(),{currentNetworkUniqueId:s}=ye(),{data:i=[],loading:l,error:a,run:d}=Ft(),_=(0,b.useMemo)(()=>i?.filter(y=>y.network!==Qt),[i]),f=(0,mi.useSelector)(ht);(0,b.useEffect)(()=>{r&&d()},[n,r]);let g=()=>b.default.createElement("div",{className:"new-home__defi-loader"},b.default.createElement(Q,{size:Q.SIZE.lg})),m=(0,b.useMemo)(()=>{let y=_||[];return s!==""?y.filter(E=>E.chainId===+s):y},[_,s]),h=(0,b.useMemo)(()=>b.default.createElement("div",{className:"new-home__defi-list"},m.map(y=>b.default.createElement("div",{key:y.id,className:"new-home__defi-list-item",onClick:()=>{!y.web||globalThis.platform.openTab({url:y.web})}},b.default.createElement("img",{src:y.logo,alt:"logo",className:"new-home__defi-list-item-logo"}),b.default.createElement("div",{className:"new-home__defi-list-item-detail"},b.default.createElement("div",{className:"new-home__defi-list-item-detail-platform"},b.default.createElement(At,{maxWidth:"162px",text:y.platform}),b.default.createElement(H,{className:"okx-wallet-plugin-open-link new-home__defi-list-item-detail-platform-icon"})),b.default.createElement("div",{className:"new-home__defi-list-item-detail-networkNew"},b.default.createElement(At,{maxWidth:"192px",text:y.networkNew}))),b.default.createElement("div",{className:"new-home__defi-list-item-price"},b.default.createElement(At,{className:"new-home__defi-list-item-price-text",text:e?"***":`${Xo(_t(y.balance,f.usdToThisRate),{useApproximate:!1,symbol:f.symbol})}`}))))),[m,f,e]),k=()=>b.default.createElement(B.State,{className:"new-home__defi-empty",type:B.State.TYPE.noResult,title:u("wallet_extension_text_enjoy_massive_defi"),buttonText:u("wallet_extension_btn_explore_dapps"),onButtonClick:()=>{globalThis.platform.openTab({url:u("extension_btn_link_okxweb3yield")})}}),N=()=>b.default.createElement(B.State,{type:B.State.TYPE.noNetwork,className:"new-home__defi-error",title:u("wallet_extension_nft_text_loading_failed"),buttonText:u("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{d()}});return a?N():_?b.default.createElement(b.default.Fragment,null,!!m.length&&h,!m.length&&(l?g():k())):g()},ci=wa;t();o();var pe=p(I());L();t();o();var eo={main:"_main_sdwvr_1",tip:"_tip_sdwvr_8",icon:"_icon_sdwvr_14"};var pi=()=>{let{data:e=[]}=Ft(),r=(0,pe.useMemo)(()=>e?.some(i=>i.network===Qt),[e]),n=(0,pe.useMemo)(()=>e?.find(i=>i.network===Qt)?.defiUrl,[e]),s=(0,pe.useCallback)(()=>{n&&globalThis.open(n)},[n]);return r?pe.default.createElement(T.FlexBox,{className:eo.main,onClick:s,align:T.ALIGN.center},pe.default.createElement("div",{className:eo.tip},u("extension_defi_mid_textbtn_position_details")),pe.default.createElement(H,{className:`okx-wallet-plugin-arrow-small-right ${eo.icon}`})):null};var di=({hiddenAssets:e,backupHeight:r,isWalletCreated:n})=>{let{buttonPaddingBottom:s}=Pe({backupHeight:r});return to.default.createElement("div",{style:{paddingBottom:s}},to.default.createElement(pi,null),to.default.createElement(ci,{hidden:e,isWalletCreated:n}))};var ui=({scrollTop:e,hiddenAssets:r,backupHeight:n,isWalletCreated:s})=>{let i=(0,fi.useSelector)(Be),{aptosNftOffers:l,aptosAddress:a}=li(),d=(0,de.useMemo)(()=>{switch(i){case 1:return de.default.createElement(Eo,{scrollTop:e,hiddenAssets:r,backupHeight:n});case 2:return de.default.createElement(ii,{scrollTop:e,aptosNftOffers:l,aptosAddress:a,backupHeight:n});case 3:return de.default.createElement(di,{hiddenAssets:r,backupHeight:n,isWalletCreated:s});default:return de.default.createElement(Eo,{scrollTop:e,hiddenAssets:r,backupHeight:n})}},[i,a,l,n,r,e,s]);return de.default.createElement("div",{className:Is.main},de.default.createElement(ys,{aptosNftOffers:l}),d)};t();o();var Ne=p(I());L();t();o();var we={iconAniWrapper:"_iconAniWrapper_piy3e_20",iconItem:"_iconItem_piy3e_29",text:"_text_piy3e_35",moveOutAnimation:"_moveOutAnimation_piy3e_38",moveOut:"_moveOut_piy3e_38",moveInAnimation:"_moveInAnimation_piy3e_42",moveIn:"_moveIn_piy3e_42",iconTitle:"_iconTitle_piy3e_54"};var _i=({width:e})=>Ne.default.createElement(T.FlexBox,{align:T.ALIGN.center,direction:T.DIRECTION.vertical,style:{width:e}},Ne.default.createElement(T.Box,{className:we.iconAniWrapper},Ne.default.createElement(T.FlexBox,{align:T.ALIGN.center,justify:T.ALIGN.center,className:`${we.iconItem} ${we.moveInAnimation}`},Ne.default.createElement(te,{className:"okx-wallet-plugin-toolkit"})),Ne.default.createElement(T.FlexBox,{align:T.ALIGN.center,justify:T.ALIGN.center,direction:T.DIRECTION.vertical,className:`${we.iconItem} ${we.moveOutAnimation}`},Ne.default.createElement(te,{className:"okx-wallet-plugin-swap-for-gas"}))),Ne.default.createElement(G.Text,{className:we.iconTitle,ellipsis:!0,size:G.SIZE.xs},u("wallet_extension_home_text_toolkit")));t();o();var K=p(I()),ro=p(R()),yi=p(ee());var Ii=p(Ge());L();po();t();o();var oo={main:"_main_12oim_1",dot:"_dot_12oim_7",title:"_title_12oim_16",icon:"_icon_12oim_20"};t();o();var gi=p(I());je();Te();ge();Fe();var Ti=p(R());var hi=()=>{let e=Sr(_e),r=(0,gi.useMemo)(()=>e?.map(i=>i.address)||[],[e]),n=(0,Ti.useSelector)(Ee);return yt(async()=>{try{let i=await P().getRequestHeaders({walletId:n,needSign:!0,currency:"usd"}),{data:l=[]}=await j(M.getBtcPendingTx,{txPendingCountReqList:[{addressList:r,chainId:0}]},{headers:i});return l[0]}catch{return{}}})};var Ni=()=>{let[e,r]=(0,K.useState)({}),n=(0,ro.useSelector)(rt),s=(0,yi.useHistory)(),i=(0,ro.useDispatch)(),l=hi(),a=yt(async()=>{let g=await l();r(g)});(0,K.useEffect)(()=>{n&&a()},[n]);let d=ve("wallet-notice");(0,K.useEffect)(()=>{d&&a()},[d,a]);let _=(0,K.useMemo)(()=>!e||typeof e?.pendingCount!="number"?"":e?.hasMoreCount?u("extension_defi_mid_notif_btc_over100_receive",{minAmt:"100"}):e?.pendingCount&&e?.pendingCount>0?u("extension_defi_mid_notif_btc100_receive",{extension_defi_mid_notif_btc100_receive:e?.pendingCount,maxAmt:e?.pendingCount}):"",[e]),f=()=>{i(Bt({mainCoinId:$o})),s.push(`${kt}?filterByChain=${0}`)};return!e||typeof e?.pendingCount!="number"||e?.pendingCount===0?null:K.default.createElement(T.FlexBox,{className:oo.main,align:"center",justify:"space-between",onClick:f},K.default.createElement(T.FlexBox,{align:"center"},K.default.createElement("div",{className:oo.dot}),K.default.createElement(G.Text,{type:G.TYPE.default,size:G.SIZE.xs},_)),K.default.createElement(H,{className:(0,Ii.default)("okx-wallet-plugin-right",oo.icon)}))};t();o();var fe=p(I());var ki=p(ee());var at=p(R());je();t();o();var xi=[{text:"wallet_home_btn_send",icon:"okx-wallet-plugin-up",type:"SEND"},{text:"wallet_home_btn_receive",icon:"okx-wallet-plugin-down",type:"RECEIVE"},{text:"wallet_extension_homepage_feature_name_swap",icon:"okx-wallet-plugin-swap-2",type:"DEX",disabledText:""},{text:"wallet_extension_header_text_history",icon:"okx-wallet-plugin-history-1",type:"HISTORY"},{text:"wallet_extension_home_text_toolkit",icon:"okx-wallet-plugin-toolkit",type:"MORE"}];var Ei=()=>{let e=(0,at.useSelector)(Oe),r=St(),n=(0,ki.useHistory)(),s=(0,at.useDispatch)(),i=Mn(),a=Hr({networkId:i?.id?String(i?.id):void 0})?.coinId,{baseCoin:d={}}=Ur(a,!0),_=Vn(d,"",$n.home),f=(0,at.useSelector)(rr),g=(0,fe.useMemo)(()=>{let{initialType:F,accountMap:Y}=f;if(xr(F)){let J=Object.keys(Y);return![_e,Ye].some(re=>J.includes(re))}return!1},[f]),m=(0,fe.useCallback)(()=>{e?r():n.push(`${go}?type=${uo.RECEIVE}`)},[n,e,r]),h=(0,fe.useCallback)(()=>{d?.coinId&&s(Bt({mainCoinId:d?.coinId})),n.push(kt)},[d?.coinId,s,n]),{hasNewFeature:k}=En(),N=(0,fe.useCallback)(()=>{n.push(dr)},[n]),y=(0,fe.useCallback)(()=>{n.push(`${go}?type=${uo.SEND}`)},[n]),E=Ot(bt),v=(0,fe.useCallback)(F=>{switch(F.type){case"SEND":{E({homepage:"send"}),y();break}case"RECEIVE":{E({homepage:"receive"}),m();break}case"DEX":{E({homepage:"trade"}),_();break}case"HISTORY":{E({homepage:"history"}),h();break}case"DAPP_CONNECT":{N();break}default:break}},[m,_,h,N,y]),D=(0,fe.useMemo)(()=>xi.map(F=>F.type==="DEX"?{...F,disabled:g}:F.type==="MORE"?{...F,hasNewFeature:k}:F),[g,k]);return{clickHandle:v,iconOptions:D}};t();o();var no=p(I()),wi=p(R());t();o();var Ci=p(I()),bi=p(lo());function Oo(){let e=he();return(0,Ci.useMemo)(()=>{let r=Un.find(n=>{let s=e?.account?.[n],i=(0,bi.uniq)(Object.values(e?.account??{}));return s&&e.keyringIdentityType===Le.PRIVATE_KEY&&i.length===1&&i[0]===s});return r?{isFactionPKAccount:!0,chain:r}:{isFactionPKAccount:!1}},[e])}var Ai=()=>{let e=he(),{isFactionPKAccount:r,chain:n}=Oo(),{currentNetworkUniqueId:s}=ye(),{addresses:i=[],hotAddresses:l=[]}=(0,wi.useSelector)(Er),a=(0,no.useCallback)(g=>r?g.localType===n:s===""?!0:g.chainId===Number(s),[s,r,n]),{filterAddress:d,filterHotAddress:_}=(0,no.useMemo)(()=>({filterAddress:i.filter(a),filterHotAddress:l.filter(a)}),[i,a,l]),f=d.length===1;return{filterAddress:d,filterHotAddress:_,address:f?d[0]?.address:"",chainName:f?d[0]?.chainName:"",titleLeft:e?.keyringName,titleRight:f?e?.walletName:"",subTitle:f?Yo(d[0]?.address):e?.walletName,isFactionPKAccount:r}};t();o();var Si=p(I()),Fi=p(ee());L();var Li=({address:e})=>{let r=(0,Fi.useHistory)(),n=he(),s=()=>{r.push(`${xt}?fromHome=1`)};return n?.keyringIdentityType===Le.PRIVATE_KEY&&e==="UQCiCTSKMQTIF8VSGc3F7DxWxJrV09SAbJzc1YvWZ5pgiQAP"?Si.default.createElement(ne.Prompt,{visible:!0,infoType:ne.Prompt.INFO_TYPE.warn,title:u("wallet_extension_errormsg_unavailable_address"),confirmText:u("wallet_extension_connect_btn_switch_wallet"),onConfirm:s,hideCloseBtn:!0,alignBottom:!1,maskClosable:!1,confirmBtnProps:{type:w.TYPE.highlight,size:w.SIZE.lg}}):null};var Sa=()=>{let{totalUnapprovedCount:e,firstPermissionsRequestId:r}=(0,$e.useSelector)(pt=>{let ji=nr(pt),ao=Tr(pt),zi=ao&&ao.metadata?ao.metadata.id:null;return{totalUnapprovedCount:ji,firstPermissionsRequestId:zi}}),{isWalletCreated:n,networkAlert:s,serverLimitAlert:i,customAlert:l}=as(),d=Tt()===gt,_=W(),{walletAsset:f,platformAssetUSD:g,nftBalanceUSD:m,defiBalanceUSD:h,tokenBalanceUSD:k}=(0,$e.useSelector)(qn),N=St(),[{errorType:y,errorMsg:E},{createWalletToServer:v}]=Qn(),D=dn(),[F,Y]=Vr(),J=(0,x.useRef)(null),[re,mt]=(0,x.useState)(0),{isNeedShowDisconnectUpgrade:Ae,setDisconnectUpgrade:Ue}=pn(),ct=(0,x.useCallback)(()=>{Ae&&(se.success({title:u("wallet_extension_card_subtitle_disconnect_update")}),Ue())},[Ae,Ue]),ue=(0,$e.useSelector)(Oe),Bo=(0,x.useRef)(null),so=(0,Oi.useHistory)(),[Bi,Pi]=(0,x.useState)(0),{clickHandle:Ri,iconOptions:Di}=Ei();(0,x.useEffect)(()=>{switch(y){case A.CREATE_FAIL_FROM_NETWORK_ERROR:case A.ERR_NETWORK:s();break;case A.CREATE_FAIL_FROM_SERVER_LIMIT:case A.ERR_SERVER_LIMIT:i();break;case A.CREATE_FAIL_FROM_SERVER_ERROR:l(E);break;default:break}},[l,E,y,s,i]),(0,x.useEffect)(()=>{g!=="--"&&$r({wallet_id:_,coin_balance:k,nft_balance:m,defi_balance:h,platform_coin_balance:g})},[_,g,m,k,h]);let io=(0,$e.useSelector)(Kr),Mi=(0,$e.useSelector)(qr);(0,x.useEffect)(()=>{d&&e===0?!io&&!Mi&&globalThis.platform.closeCurrentWindow():r&&ue&&N({text:u("wallet_dapp_conncetion_alert_backup_wallet")},r)},[ue,io,r,so,d,e]),lr(()=>{Nr()});let{run:Wi}=mr(()=>{Pi(Bo.current?.scrollTop||0)},{wait:50,maxWait:50}),{titleLeft:Hi,titleRight:$i,subTitle:Vi,address:Po,chainName:Ui,filterAddress:Gi,filterHotAddress:qi,isFactionPKAccount:Ki}=Ai(),Yi=async()=>{y!==A.PENDING&&(se.destroyAll(),await v())};return(0,x.useLayoutEffect)(()=>{J.current&&ue&&n&&mt(J.current?.clientHeight||0)},[ue,n]),x.default.createElement("div",{id:Gt,className:"ok-home-page main-container",ref:Bo,onScroll:()=>{Wi()}},x.default.createElement(Wn,{titleLeft:Hi,titleRight:$i,subTitle:Vi,address:Po,chainName:Ui,filterAddress:Gi,filterHotAddress:qi,isNotBackupWallet:ue,isFactionPKAccount:Ki}),x.default.createElement(kn,{balance:f,hiddenAssets:F,onToggleHiddenAssets:Y}),x.default.createElement(Cn,{clickHandle:Ri,iconOptions:Di,customMore:pt=>x.default.createElement(_i,{width:pt})}),x.default.createElement(Ni,null),x.default.createElement(ds,null),x.default.createElement(ui,{scrollTop:Bi,hiddenAssets:F,backupHeight:ue?re+24:0,isWalletCreated:n}),n&&x.default.createElement("div",{ref:J},x.default.createElement(cn,{offsetBottom:24})),x.default.createElement(fn,{disconnectCallback:ct}),io&&x.default.createElement(Kn,null),n&&x.default.createElement(Hn,{showBackup:()=>{N({text:u("wallet_dapp_conncetion_alert_backup_wallet")},r)}}),D&&x.default.createElement(gn,{actionMap:{["RECOVER"]:()=>{so.push(`${gr}?action=${Gr.RECOVER}&walletId=${_}`)},["SWITCH_WALLET"]:()=>{so.push(`${xt}?fromHome=1`)}}}),x.default.createElement(os,{walletId:_}),x.default.createElement(hs,{tryAgain:Yi,errorType:y}),x.default.createElement(Li,{address:Po}))},vi=Sa;var nI=()=>{let{search:e}=(0,lt.useLocation)(),{isRpcMode:r,isNotBackup:n,permissionsRequestId:s,dappRequestOrigin:i,currentWalletId:l,optType:a}=(0,vo.useSelector)(m=>({isRpcMode:Et(m)?.isRpcMode,permissionsRequestId:hr(m),isNotBackup:Oe(m),dappRequestOrigin:jr(m),currentWalletId:Ee(m),optType:yr(m)})),_=Tt()===gt,f=(0,vo.useSelector)(rt);(0,Ve.useEffect)(()=>{P().getCurrencies(),f&&P().addCoinBatchToServerForPatch(),zr({islogin:"yes",isbydapp:_?"yes":"no",dapp_url:qo?"www.okx.com/pc":i,wallet_id:l})},[l,f]);let g=Ir({isRpcMode:r,isNotBackup:n,permissionsRequestId:s,lastOptType:a});return g?Ve.default.createElement(lt.Redirect,{to:g}):r?Ve.default.createElement(lt.Redirect,{to:`${ur}${e}`}):Ve.default.createElement(vi,null)};export{nI as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=new-home-page-LPLZ6Y3W.js.map
