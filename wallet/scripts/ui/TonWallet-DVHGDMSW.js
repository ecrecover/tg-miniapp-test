import{a as qa}from"./chunk-YOFH2EQL.js";import{a as ve,b as Jr,c as ka}from"./chunk-2J5LX6I7.js";import{a as _o}from"./chunk-RMV3AS5X.js";import{d as Et}from"./chunk-IYL2DA3V.js";import"./chunk-MYDAWE3K.js";import"./chunk-3NG42BBY.js";import"./chunk-QYTYSNLW.js";import"./chunk-QMAXXJCA.js";import"./chunk-HFBVRVPB.js";import"./chunk-SF2LTPAC.js";import{L as Me}from"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{c as g,m as s,n as l,o as a}from"./chunk-EQYVU4XP.js";var tr=g(er=>{"use strict";s();a();Object.defineProperty(er,"__esModule",{value:!0});er.crc16=void 0;function ja(t){let r=0,n=l.Buffer.alloc(t.length+2);n.set(t);for(let o of n){let i=128;for(;i>0;)r<<=1,o&i&&(r+=1),i>>=1,r>65535&&(r&=65535,r^=4129)}return l.Buffer.from([Math.floor(r/256),r%256])}er.crc16=ja});var Y=g(oe=>{"use strict";s();a();var Na=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Bo;Object.defineProperty(oe,"__esModule",{value:!0});oe.address=oe.Address=void 0;var Da=Na(ve()),mo=tr(),en=17,So=81,tn=128;function bo(t){if(typeof t=="string"&&!k.isFriendly(t))throw new Error("Unknown address type");let e=l.Buffer.isBuffer(t)?t:l.Buffer.from(t,"base64");if(e.length!==36)throw new Error("Unknown address type: byte length is not equal to 36");let r=e.subarray(0,34),n=e.subarray(34,36),o=(0,mo.crc16)(r);if(!(o[0]===n[0]&&o[1]===n[1]))throw new Error("Invalid checksum: "+t);let i=r[0],u=!1,f=!1;if(i&tn&&(u=!0,i=i^tn),i!==en&&i!==So)throw"Unknown address tag";f=i===en;let c=null;r[1]===255?c=-1:c=r[1];let h=r.subarray(2,34);return{isTestOnly:u,isBounceable:f,workchain:c,hashPart:h}}var k=class{static isAddress(e){return e instanceof k}static isFriendly(e){return!(e.length!==48||!/[A-Za-z0-9+/_-]+/.test(e))}static isRaw(e){if(e.indexOf(":")===-1)return!1;let[r,n]=e.split(":");return!(!Number.isInteger(parseFloat(r))||!/[a-f0-9]+/.test(n.toLowerCase())||n.length!==64)}static normalize(e){return typeof e=="string"?k.parse(e).toString():e.toString()}static parse(e){if(k.isFriendly(e))return this.parseFriendly(e).address;if(k.isRaw(e))return this.parseRaw(e);throw new Error("Unknown address type: "+e)}static parseRaw(e){let r=parseInt(e.split(":")[0]),n=l.Buffer.from(e.split(":")[1],"hex");return new k(r,n)}static parseFriendly(e){if(l.Buffer.isBuffer(e)){let r=bo(e);return{isBounceable:r.isBounceable,isTestOnly:r.isTestOnly,address:new k(r.workchain,r.hashPart)}}else{let r=e.replace(/\-/g,"+").replace(/_/g,"/"),n=bo(r);return{isBounceable:n.isBounceable,isTestOnly:n.isTestOnly,isUrlSafe:!(e.includes("/")||e.includes("+")),address:new k(n.workchain,n.hashPart)}}}constructor(e,r){if(this.toRawString=()=>this.workChain+":"+this.hash.toString("hex"),this.toRaw=()=>{let n=l.Buffer.alloc(36);return n.set(this.hash),n.set([this.workChain,this.workChain,this.workChain,this.workChain],32),n},this.toStringBuffer=n=>{let o=n&&n.testOnly!==void 0?n.testOnly:!1,u=(n&&n.bounceable!==void 0?n.bounceable:!0)?en:So;o&&(u|=tn);let f=l.Buffer.alloc(34);f[0]=u,f[1]=this.workChain,f.set(this.hash,2);let c=l.Buffer.alloc(36);return c.set(f),c.set((0,mo.crc16)(f),34),c},this.toString=n=>{let o=n&&n.urlSafe!==void 0?n.urlSafe:!0,i=this.toStringBuffer(n);return o?i.toString("base64").replace(/\+/g,"-").replace(/\//g,"_"):i.toString("base64")},this[Bo]=()=>this.toString(),r.length!==32)throw new Error("Invalid address hash length: "+r.length);this.workChain=e,this.hash=r,Object.freeze(this)}equals(e){return e.workChain!==this.workChain?!1:e.hash.equals(this.hash)}};oe.Address=k;Bo=Da.default;function Va(t){return k.parse(t)}oe.address=Va});var rr=g(Ue=>{"use strict";s();a();var Ka=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Co;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.ExternalAddress=void 0;var La=Ka(ve()),Rt=class{static isAddress(e){return e instanceof Rt}constructor(e,r){this[Co]=()=>this.toString(),this.value=e,this.bits=r}toString(){return`External<${this.bits}:${this.value}>`}};Ue.ExternalAddress=Rt;Co=La.default});var nn=g(Ie=>{"use strict";s();a();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.base32Decode=Ie.base32Encode=void 0;var rn="abcdefghijklmnopqrstuvwxyz234567";function Fa(t){let e=t.byteLength,r=0,n=0,o="";for(let i=0;i<e;i++)for(n=n<<8|t[i],r+=8;r>=5;)o+=rn[n>>>r-5&31],r-=5;return r>0&&(o+=rn[n<<5-r&31]),o}Ie.base32Encode=Fa;function za(t,e){let r=t.indexOf(e);if(r===-1)throw new Error("Invalid character found: "+e);return r}function Ha(t){let e;e=t.toLowerCase();let{length:r}=e,n=0,o=0,i=0,u=l.Buffer.alloc(r*5/8|0);for(let f=0;f<r;f++)o=o<<5|za(rn,e[f]),n+=5,n>=8&&(u[i++]=o>>>n-8&255,n-=8);return u}Ie.base32Decode=Ha});var Ao=g(Oe=>{"use strict";s();a();var Wa=Oe&&Oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xo;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ADNLAddress=void 0;var $a=Wa(ve()),Po=nn(),wo=tr(),Te=class{static parseFriendly(e){if(e.length!==55)throw Error("Invalid address");e="f"+e;let r=(0,Po.base32Decode)(e);if(r[0]!==45)throw Error("Invalid address");let n=r.slice(33);if(!(0,wo.crc16)(r.slice(0,33)).equals(n))throw Error("Invalid address");return new Te(r.slice(1,33))}static parseRaw(e){let r=l.Buffer.from(e,"base64");return new Te(r)}constructor(e){if(this.toRaw=()=>this.address.toString("hex").toUpperCase(),this.toString=()=>{let r=l.Buffer.concat([l.Buffer.from([45]),this.address]),n=(0,wo.crc16)(r);return r=l.Buffer.concat([r,n]),(0,Po.base32Encode)(r).slice(1)},this[xo]=()=>this.toString(),e.length!==32)throw Error("Invalid address");this.address=e}equals(e){return this.address.equals(e.address)}};Oe.ADNLAddress=Te;xo=$a.default});var kt=g(Ee=>{"use strict";s();a();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.paddedBufferToBits=Ee.bitsToPaddedBuffer=void 0;var Qa=qt(),Ga=X();function Ya(t){let e=new Qa.BitBuilder(Math.ceil(t.length/8)*8);e.writeBits(t);let r=Math.ceil(t.length/8)*8-t.length;for(let n=0;n<r;n++)n===0?e.writeBit(1):e.writeBit(0);return e.buffer()}Ee.bitsToPaddedBuffer=Ya;function Xa(t){let e=0;for(let r=t.length-1;r>=0;r--)if(t[r]!==0){let n=t[r],o=n&-n;(o&1)==0&&(o=Math.log2(o)+1),r>0&&(e=r<<3),e+=8-o;break}return new Ga.BitString(t,0,e)}Ee.paddedBufferToBits=Xa});var X=g(Re=>{"use strict";s();a();var Za=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Mo;Object.defineProperty(Re,"__esModule",{value:!0});Re.BitString=void 0;var Ja=kt(),el=Za(ve()),Z=class{static isBitString(e){return e instanceof Z}constructor(e,r,n){if(this[Mo]=()=>this.toString(),n<0)throw new Error(`Length ${n} is out of bounds`);this._length=n,this._data=e,this._offset=r}get length(){return this._length}at(e){if(e>=this._length)throw new Error(`Index ${e} > ${this._length} is out of bounds`);if(e<0)throw new Error(`Index ${e} < 0 is out of bounds`);let r=this._offset+e>>3,n=7-(this._offset+e)%8;return(this._data[r]&1<<n)!==0}substring(e,r){if(e>this._length)throw new Error(`Offset(${e}) > ${this._length} is out of bounds`);if(e<0)throw new Error(`Offset(${e}) < 0 is out of bounds`);if(r===0)return Z.EMPTY;if(e+r>this._length)throw new Error(`Offset ${e} + Length ${r} > ${this._length} is out of bounds`);return new Z(this._data,this._offset+e,r)}subbuffer(e,r){if(e>this._length)throw new Error(`Offset ${e} is out of bounds`);if(e<0)throw new Error(`Offset ${e} is out of bounds`);if(e+r>this._length)throw new Error(`Offset + Lenght = ${e+r} is out of bounds`);if(r%8!==0||(this._offset+e)%8!==0)return null;let n=this._offset+e>>3,o=n+(r>>3);return this._data.subarray(n,o)}equals(e){if(this._length!==e._length)return!1;for(let r=0;r<this._length;r++)if(this.at(r)!==e.at(r))return!1;return!0}toString(){let e=(0,Ja.bitsToPaddedBuffer)(this);if(this._length%4===0){let r=e.subarray(0,Math.ceil(this._length/8)).toString("hex").toUpperCase();return this._length%8===0?r:r.substring(0,r.length-1)}else{let r=e.toString("hex").toUpperCase();return this._length%8<=4?r.substring(0,r.length-1)+"_":r+"_"}}};Re.BitString=Z;Mo=el.default;Z.EMPTY=new Z(l.Buffer.alloc(0),0,0)});var qt=g(nr=>{"use strict";s();a();Object.defineProperty(nr,"__esModule",{value:!0});nr.BitBuilder=void 0;var tl=Y(),rl=rr(),nl=X(),on=class{constructor(e=1023){this._buffer=l.Buffer.alloc(Math.ceil(e/8)),this._length=0}get length(){return this._length}writeBit(e){let r=this._length;if(r>this._buffer.length*8)throw new Error("BitBuilder overflow");(typeof e=="boolean"&&e===!0||typeof e=="number"&&e>0)&&(this._buffer[r/8|0]|=1<<7-r%8),this._length++}writeBits(e){for(let r=0;r<e.length;r++)this.writeBit(e.at(r))}writeBuffer(e){if(this._length%8===0){if(this._length+e.length*8>this._buffer.length*8)throw new Error("BitBuilder overflow");e.copy(this._buffer,this._length/8),this._length+=e.length*8}else for(let r=0;r<e.length;r++)this.writeUint(e[r],8)}writeUint(e,r){if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);let n=BigInt(e);if(r===0){if(n!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}let o=1n<<BigInt(r);if(n<0||n>=o)throw Error(`bitLength is too small for a value ${e}. Got ${r}`);if(this._length+r>this._buffer.length*8)throw new Error("BitBuilder overflow");let i=8-this._length%8;if(i>0){let u=Math.floor(this._length/8);if(r<i){let f=Number(n);this._buffer[u]|=f<<i-r,this._length+=r}else{let f=Number(n>>BigInt(r-i));this._buffer[u]|=f,this._length+=i}}for(r-=i;r>0;)r>=8?(this._buffer[this._length/8]=Number(n>>BigInt(r-8)&0xffn),this._length+=8,r-=8):(this._buffer[this._length/8]=Number(n<<BigInt(8-r)&0xffn),this._length+=r,r=0)}writeInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(r===0){if(e!==0n)throw Error(`value is not zero for ${r} bits. Got ${e}`);return}if(r===1){if(e!==-1n&&e!==0n)throw Error(`value is not zero or -1 for ${r} bits. Got ${e}`);this.writeBit(e===-1n);return}let o=1n<<BigInt(r)-1n;if(n<-o||n>=o)throw Error(`value is out of range for ${r} bits. Got ${e}`);n<0?(this.writeBit(!0),n=o+n):this.writeBit(!1),this.writeUint(n,r-1)}writeVarUint(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n<0)throw Error(`value is negative. Got ${e}`);if(n===0n){this.writeUint(0,r);return}let o=Math.ceil(n.toString(2).length/8),i=o*8;this.writeUint(o,r),this.writeUint(n,i)}writeVarInt(e,r){let n=BigInt(e);if(r<0||!Number.isSafeInteger(r))throw Error(`invalid bit length. Got ${r}`);if(n===0n){this.writeUint(0,r);return}let o=n>0?n:-n,i=1+Math.ceil(o.toString(2).length/8),u=i*8;this.writeUint(i,r),this.writeInt(n,u)}writeCoins(e){this.writeVarUint(e,4)}writeAddress(e){if(e==null){this.writeUint(0,2);return}if(tl.Address.isAddress(e)){this.writeUint(2,2),this.writeUint(0,1),this.writeInt(e.workChain,8),this.writeBuffer(e.hash);return}if(rl.ExternalAddress.isAddress(e)){this.writeUint(1,2),this.writeUint(e.bits,9),this.writeUint(e.value,e.bits);return}throw Error(`Invalid address. Got ${e}`)}build(){return new nl.BitString(this._buffer,0,this._length)}buffer(){if(this._length%8!==0)throw new Error("BitBuilder buffer is not byte aligned");return this._buffer.subarray(0,this._length/8)}};nr.BitBuilder=on});var ke=g(jt=>{"use strict";s();a();Object.defineProperty(jt,"__esModule",{value:!0});jt.CellType=void 0;var ol;(function(t){t[t.Ordinary=-1]="Ordinary",t[t.PrunedBranch=1]="PrunedBranch",t[t.Library=2]="Library",t[t.MerkleProof=3]="MerkleProof",t[t.MerkleUpdate=4]="MerkleUpdate"})(ol=jt.CellType||(jt.CellType={}))});var vo=g(or=>{"use strict";s();a();Object.defineProperty(or,"__esModule",{value:!0});or.readUnaryLength=void 0;function il(t){let e=0;for(;t.loadBit();)e++;return e}or.readUnaryLength=il});var J=g(ir=>{"use strict";s();a();Object.defineProperty(ir,"__esModule",{value:!0});ir.BitReader=void 0;var sl=Y(),al=rr(),Nt=class{constructor(e,r=0){this._checkpoints=[],this._bits=e,this._offset=r}get offset(){return this._offset}get remaining(){return this._bits.length-this._offset}skip(e){if(e<0||this._offset+e>this._bits.length)throw new Error(`Index ${this._offset+e} is out of bounds`);this._offset+=e}reset(){this._checkpoints.length>0?this._offset=this._checkpoints.pop():this._offset=0}save(){this._checkpoints.push(this._offset)}loadBit(){let e=this._bits.at(this._offset);return this._offset++,e}preloadBit(){return this._bits.at(this._offset)}loadBits(e){let r=this._bits.substring(this._offset,e);return this._offset+=e,r}preloadBits(e){return this._bits.substring(this._offset,e)}loadBuffer(e){let r=this._preloadBuffer(e,this._offset);return this._offset+=e*8,r}preloadBuffer(e){return this._preloadBuffer(e,this._offset)}loadUint(e){return Number(this.loadUintBig(e))}loadUintBig(e){let r=this.preloadUintBig(e);return this._offset+=e,r}preloadUint(e){return Number(this._preloadUint(e,this._offset))}preloadUintBig(e){return this._preloadUint(e,this._offset)}loadInt(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,Number(r)}loadIntBig(e){let r=this._preloadInt(e,this._offset);return this._offset+=e,r}preloadInt(e){return Number(this._preloadInt(e,this._offset))}preloadIntBig(e){return this._preloadInt(e,this._offset)}loadVarUint(e){let r=Number(this.loadUint(e));return Number(this.loadUintBig(r*8))}loadVarUintBig(e){let r=Number(this.loadUint(e));return this.loadUintBig(r*8)}preloadVarUint(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadUint(r*8,this._offset+e))}preloadVarUintBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadUint(r*8,this._offset+e)}loadVarInt(e){let r=Number(this.loadUint(e));return Number(this.loadIntBig(r*8))}loadVarIntBig(e){let r=Number(this.loadUint(e));return this.loadIntBig(r*8)}preloadVarInt(e){let r=Number(this._preloadUint(e,this._offset));return Number(this._preloadInt(r*8,this._offset+e))}preloadVarIntBig(e){let r=Number(this._preloadUint(e,this._offset));return this._preloadInt(r*8,this._offset+e)}loadCoins(){return this.loadVarUintBig(4)}preloadCoins(){return this.preloadVarUintBig(4)}loadAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===2)return this._loadInternalAddress();throw new Error("Invalid address: "+e)}loadMaybeAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();throw new Error("Invalid address")}loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadMaybeExternalAddress(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadAddressAny(){let e=Number(this._preloadUint(2,this._offset));if(e===0)return this._offset+=2,null;if(e===2)return this._loadInternalAddress();if(e===1)return this._loadExternalAddress();throw Error(e===3?"Unsupported":"Unreachable")}loadPaddedBits(e){if(e%8!==0)throw new Error("Invalid number of bits");let r=e;for(;;)if(this._bits.at(this._offset+r-1)){r--;break}else r--;let n=this._bits.substring(this._offset,r);return this._offset+=e,n}clone(){return new Nt(this._bits,this._offset)}_preloadInt(e,r){if(e==0)return 0n;let n=this._bits.at(r),o=0n;for(let i=0;i<e-1;i++)this._bits.at(r+1+i)&&(o+=1n<<BigInt(e-i-1-1));return n&&(o=o-(1n<<BigInt(e-1))),o}_preloadUint(e,r){if(e==0)return 0n;let n=0n;for(let o=0;o<e;o++)this._bits.at(r+o)&&(n+=1n<<BigInt(e-o-1));return n}_preloadBuffer(e,r){let n=this._bits.subbuffer(r,e*8);if(n)return n;let o=l.Buffer.alloc(e);for(let i=0;i<e;i++)o[i]=Number(this._preloadUint(8,r+i*8));return o}_loadInternalAddress(){if(Number(this._preloadUint(2,this._offset))!==2||this._preloadUint(1,this._offset+2)!==0n)throw Error("Invalid address");let r=Number(this._preloadInt(8,this._offset+3)),n=this._preloadBuffer(32,this._offset+11);return this._offset+=267,new sl.Address(r,n)}_loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))!==1)throw Error("Invalid address");let r=Number(this._preloadUint(9,this._offset+2)),n=this._preloadUint(r,this._offset+11);return this._offset+=11+r,new al.ExternalAddress(n,r)}};ir.BitReader=Nt});var Dt=g(qe=>{"use strict";s();a();Object.defineProperty(qe,"__esModule",{value:!0});qe.convertToMerkleProof=qe.exoticMerkleProof=void 0;var ll=J(),ul=w();function dl(t,e){let r=new ll.BitReader(t),n=8+256+16;if(t.length!==n)throw new Error(`Merkle Proof cell must have exactly (8 + 256 + 16) bits, got "${t.length}"`);if(e.length!==1)throw new Error(`Merkle Proof cell must have exactly 1 ref, got "${e.length}"`);let o=r.loadUint(8);if(o!==3)throw new Error(`Merkle Proof cell must have type 3, got "${o}"`);let i=r.loadBuffer(32),u=r.loadUint(16),f=e[0].hash(0),c=e[0].depth(0);if(u!==c)throw new Error(`Merkle Proof cell ref depth must be exactly "${u}", got "${c}"`);if(!i.equals(f))throw new Error(`Merkle Proof cell ref hash must be exactly "${i.toString("hex")}", got "${f.toString("hex")}"`);return{proofDepth:u,proofHash:i}}qe.exoticMerkleProof=dl;function fl(t){return(0,ul.beginCell)().storeUint(3,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).storeRef(t).endCell({exotic:!0})}qe.convertToMerkleProof=fl});var sr=g(je=>{"use strict";s();a();Object.defineProperty(je,"__esModule",{value:!0});je.generateMerkleProof=je.generateMerkleProofDirect=void 0;var an=w(),cl=vo(),hl=Dt();function gl(t){return(0,an.beginCell)().storeUint(1,8).storeUint(1,8).storeBuffer(t.hash(0)).storeUint(t.depth(0),16).endCell({exotic:!0})}function sn(t,e,r,n){let o=e.asCell();if(n.length==0)return gl(o);let i=e.loadBit()?1:0,u=0,f=t;if(i===0){u=(0,cl.readUnaryLength)(e);for(let c=0;c<u;c++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let h=0;h<u;h++)f+=e.loadBit()?"1":"0"}else{let h=e.loadBit()?"1":"0";u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let y=0;y<u;y++)f+=h}if(r-u===0)return o;{let c=o.beginParse(),h=c.loadRef(),y=c.loadRef();if(!h.isExotic){let B=n.filter(_=>f+"0"===_.slice(0,f.length+1));h=sn(f+"0",h.beginParse(),r-u-1,B)}if(!y.isExotic){let B=n.filter(_=>f+"1"===_.slice(0,f.length+1));y=sn(f+"1",y.beginParse(),r-u-1,B)}return(0,an.beginCell)().storeSlice(c).storeRef(h).storeRef(y).endCell()}}function Uo(t,e,r){e.forEach(o=>{if(!t.has(o))throw new Error(`Trying to generate merkle proof for a missing key "${o}"`)});let n=(0,an.beginCell)().storeDictDirect(t).asSlice();return sn("",n,r.bits,e.map(o=>r.serialize(o).toString(2).padStart(r.bits,"0")))}je.generateMerkleProofDirect=Uo;function pl(t,e,r){return(0,hl.convertToMerkleProof)(Uo(t,e,r))}je.generateMerkleProof=pl});var ln=g(ar=>{"use strict";s();a();Object.defineProperty(ar,"__esModule",{value:!0});ar.generateMerkleUpdate=void 0;var yl=w(),Io=sr();function _l(t,e){return(0,yl.beginCell)().storeUint(4,8).storeBuffer(t.hash(0)).storeBuffer(e.hash(0)).storeUint(t.depth(0),16).storeUint(e.depth(0),16).storeRef(t).storeRef(e).endCell({exotic:!0})}function bl(t,e,r,n){let o=(0,Io.generateMerkleProof)(t,[e],r).refs[0];t.set(e,n);let i=(0,Io.generateMerkleProof)(t,[e],r).refs[0];return _l(o,i)}ar.generateMerkleUpdate=bl});var To=g(lr=>{"use strict";s();a();Object.defineProperty(lr,"__esModule",{value:!0});lr.parseDict=void 0;function Bl(t){let e=0;for(;t.loadBit();)e++;return e}function un(t,e,r,n,o){let i=e.loadBit()?1:0,u=0,f=t;if(i===0){u=Bl(e);for(let c=0;c<u;c++)f+=e.loadBit()?"1":"0"}else if((e.loadBit()?1:0)===0){u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let h=0;h<u;h++)f+=e.loadBit()?"1":"0"}else{let h=e.loadBit()?"1":"0";u=e.loadUint(Math.ceil(Math.log2(r+1)));for(let y=0;y<u;y++)f+=h}if(r-u===0)n.set(BigInt("0b"+f),o(e));else{let c=e.loadRef(),h=e.loadRef();c.isExotic||un(f+"0",c.beginParse(),r-u-1,n,o),h.isExotic||un(f+"1",h.beginParse(),r-u-1,n,o)}}function ml(t,e,r){let n=new Map;return t&&un("",t,e,n,r),n}lr.parseDict=ml});var Oo=g(ur=>{"use strict";s();a();Object.defineProperty(ur,"__esModule",{value:!0});ur.findCommonPrefix=void 0;function Sl(t,e=0){if(t.length===0)return"";let r=t[0].slice(e);for(let n=1;n<t.length;n++){let o=t[n];for(;o.indexOf(r,e)!==e;)if(r=r.substring(0,r.length-1),r==="")return r}return r}ur.findCommonPrefix=Sl});var Do=g(T=>{"use strict";s();a();Object.defineProperty(T,"__esModule",{value:!0});T.serializeDict=T.detectLabelType=T.writeLabelSame=T.writeLabelLong=T.writeLabelShort=T.buildTree=void 0;var Eo=w(),Cl=Oo();function Pl(t,e){for(;t.length<e;)t="0"+t;return t}function wl(t,e){if(t.size===0)throw Error("Internal inconsistency");let r=new Map,n=new Map;for(let[o,i]of t.entries())o[e]==="0"?r.set(o,i):n.set(o,i);if(r.size===0)throw Error("Internal inconsistency. Left emtpy.");if(n.size===0)throw Error("Internal inconsistency. Right emtpy.");return{left:r,right:n}}function xl(t,e){if(t.size===0)throw Error("Internal inconsistency");if(t.size===1)return{type:"leaf",value:Array.from(t.values())[0]};let{left:r,right:n}=wl(t,e);return{type:"fork",left:dn(r,e+1),right:dn(n,e+1)}}function dn(t,e=0){if(t.size===0)throw Error("Internal inconsistency");let r=(0,Cl.findCommonPrefix)(Array.from(t.keys()),e);return{label:r,node:xl(t,r.length+e)}}function Ro(t,e){let r=new Map;for(let n of Array.from(t.keys())){let o=Pl(n.toString(2),e);r.set(o,t.get(n))}return dn(r)}T.buildTree=Ro;function ko(t,e){e.storeBit(0);for(let r=0;r<t.length;r++)e.storeBit(1);return e.storeBit(0),t.length>0&&e.storeUint(BigInt("0b"+t),t.length),e}T.writeLabelShort=ko;function Al(t){return 1+t.length+1+t.length}function qo(t,e,r){r.storeBit(1),r.storeBit(0);let n=Math.ceil(Math.log2(e+1));return r.storeUint(t.length,n),t.length>0&&r.storeUint(BigInt("0b"+t),t.length),r}T.writeLabelLong=qo;function Ml(t,e){return 1+1+Math.ceil(Math.log2(e+1))+t.length}function jo(t,e,r,n){n.storeBit(1),n.storeBit(1),n.storeBit(t);let o=Math.ceil(Math.log2(r+1));n.storeUint(e,o)}T.writeLabelSame=jo;function vl(t){return 1+1+1+Math.ceil(Math.log2(t+1))}function Ul(t){if(t.length===0||t.length===1)return!0;for(let e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0}function No(t,e){let r="short",n=Al(t),o=Ml(t,e);if(o<n&&(n=o,r="long"),Ul(t)){let i=vl(e);i<n&&(n=i,r="same")}return r}T.detectLabelType=No;function Il(t,e,r){let n=No(t,e);n==="short"?ko(t,r):n==="long"?qo(t,e,r):n==="same"&&jo(t[0]==="1",t.length,e,r)}function Tl(t,e,r,n){if(t.type==="leaf"&&r(t.value,n),t.type==="fork"){let o=(0,Eo.beginCell)(),i=(0,Eo.beginCell)();fn(t.left,e-1,r,o),fn(t.right,e-1,r,i),n.storeRef(o),n.storeRef(i)}}function fn(t,e,r,n){Il(t.label,e,n),Tl(t.node,e-t.label.length,r,n)}function Ol(t,e,r,n){let o=Ro(t,e);fn(o,e,r,n)}T.serializeDict=Ol});var Ko=g(Ne=>{"use strict";s();a();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.deserializeInternalKey=Ne.serializeInternalKey=void 0;var Vo=Y(),cn=X(),El=kt();function Rl(t){if(typeof t=="number"){if(!Number.isSafeInteger(t))throw Error("Invalid key type: not a safe integer: "+t);return"n:"+t.toString(10)}else{if(typeof t=="bigint")return"b:"+t.toString(10);if(Vo.Address.isAddress(t))return"a:"+t.toString();if(l.Buffer.isBuffer(t))return"f:"+t.toString("hex");if(cn.BitString.isBitString(t))return"B:"+t.toString();throw Error("Invalid key type")}}Ne.serializeInternalKey=Rl;function kl(t){let e=t.slice(0,2),r=t.slice(2);if(e==="n:")return parseInt(r,10);if(e==="b:")return BigInt(r);if(e==="a:")return Vo.Address.parse(r);if(e==="f:")return l.Buffer.from(r,"hex");if(e==="B:"){let n=r.slice(-1)=="_";if(n||r.length%2!=0){let i=n?r.length-1:r.length,u=r.substr(0,i)+"0";return!n&&(i&1)!==0?new cn.BitString(l.Buffer.from(u,"hex"),0,i<<2):(0,El.paddedBufferToBits)(l.Buffer.from(u,"hex"))}else return new cn.BitString(l.Buffer.from(r,"hex"),0,r.length<<2)}throw Error("Invalid key type: "+e)}Ne.deserializeInternalKey=kl});var ie=g(dr=>{"use strict";s();a();Object.defineProperty(dr,"__esModule",{value:!0});dr.Dictionary=void 0;var ql=Y(),U=w(),Lo=se(),jl=X(),Fo=sr(),Nl=ln(),Dl=To(),zo=Do(),ee=Ko(),O=class{static empty(e,r){return e&&r?new O(new Map,e,r):new O(new Map,null,null)}static load(e,r,n){let o;if(n instanceof Lo.Cell){if(n.isExotic)return O.empty(e,r);o=n.beginParse()}else o=n;let i=o.loadMaybeRef();return i&&!i.isExotic?O.loadDirect(e,r,i.beginParse()):O.empty(e,r)}static loadDirect(e,r,n){if(!n)return O.empty(e,r);let o;n instanceof Lo.Cell?o=n.beginParse():o=n;let i=(0,Dl.parseDict)(o,e.bits,r.parse),u=new Map;for(let[f,c]of i)u.set((0,ee.serializeInternalKey)(e.parse(f)),c);return new O(u,e,r)}constructor(e,r,n){this._key=r,this._value=n,this._map=e}get size(){return this._map.size}get(e){return this._map.get((0,ee.serializeInternalKey)(e))}has(e){return this._map.has((0,ee.serializeInternalKey)(e))}set(e,r){return this._map.set((0,ee.serializeInternalKey)(e),r),this}delete(e){let r=(0,ee.serializeInternalKey)(e);return this._map.delete(r)}clear(){this._map.clear()}*[Symbol.iterator](){for(let[e,r]of this._map)yield[(0,ee.deserializeInternalKey)(e),r]}keys(){return Array.from(this._map.keys()).map(e=>(0,ee.deserializeInternalKey)(e))}values(){return Array.from(this._map.values())}store(e,r,n){if(this._map.size===0)e.storeBit(0);else{let o=this._key;r!=null&&(o=r);let i=this._value;if(n!=null&&(i=n),!o)throw Error("Key serializer is not defined");if(!i)throw Error("Value serializer is not defined");let u=new Map;for(let[c,h]of this._map)u.set(o.serialize((0,ee.deserializeInternalKey)(c)),h);e.storeBit(1);let f=(0,U.beginCell)();(0,zo.serializeDict)(u,o.bits,i.serialize,f),e.storeRef(f.endCell())}}storeDirect(e,r,n){if(this._map.size===0)throw Error("Cannot store empty dictionary directly");let o=this._key;r!=null&&(o=r);let i=this._value;if(n!=null&&(i=n),!o)throw Error("Key serializer is not defined");if(!i)throw Error("Value serializer is not defined");let u=new Map;for(let[f,c]of this._map)u.set(o.serialize((0,ee.deserializeInternalKey)(f)),c);(0,zo.serializeDict)(u,o.bits,i.serialize,e)}generateMerkleProof(e){return(0,Fo.generateMerkleProof)(this,e,this._key)}generateMerkleProofDirect(e){return(0,Fo.generateMerkleProofDirect)(this,e,this._key)}generateMerkleUpdate(e,r){return(0,Nl.generateMerkleUpdate)(this,e,this._key,r)}};dr.Dictionary=O;O.Keys={Address:()=>Vl(),BigInt:t=>Kl(t),Int:t=>Ll(t),BigUint:t=>Fl(t),Uint:t=>zl(t),Buffer:t=>Hl(t),BitString:t=>Wl(t)};O.Values={BigInt:t=>Ql(t),Int:t=>$l(t),BigVarInt:t=>Gl(t),BigUint:t=>Zl(t),Uint:t=>Xl(t),BigVarUint:t=>Yl(t),Bool:()=>Jl(),Address:()=>eu(),Cell:()=>tu(),Buffer:t=>nu(t),BitString:t=>ou(t),Dictionary:(t,e)=>ru(t,e)};function Vl(){return{bits:267,serialize:t=>{if(!ql.Address.isAddress(t))throw Error("Key is not an address");return(0,U.beginCell)().storeAddress(t).endCell().beginParse().preloadUintBig(267)},parse:t=>(0,U.beginCell)().storeUint(t,267).endCell().beginParse().loadAddress()}}function Kl(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");return(0,U.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadIntBig(t)}}function Ll(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);return(0,U.beginCell)().storeInt(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadInt(t)}}function Fl(t){return{bits:t,serialize:e=>{if(typeof e!="bigint")throw Error("Key is not a bigint");if(e<0)throw Error("Key is negative: "+e);return(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)}}function zl(t){return{bits:t,serialize:e=>{if(typeof e!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(e))throw Error("Key is not a safe integer: "+e);if(e<0)throw Error("Key is negative: "+e);return(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUintBig(t)},parse:e=>Number((0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadUint(t))}}function Hl(t){return{bits:t*8,serialize:e=>{if(!l.Buffer.isBuffer(e))throw Error("Key is not a buffer");return(0,U.beginCell)().storeBuffer(e).endCell().beginParse().loadUintBig(t*8)},parse:e=>(0,U.beginCell)().storeUint(e,t*8).endCell().beginParse().loadBuffer(t)}}function Wl(t){return{bits:t,serialize:e=>{if(!jl.BitString.isBitString(e))throw Error("Key is not a BitString");return(0,U.beginCell)().storeBits(e).endCell().beginParse().loadUintBig(t)},parse:e=>(0,U.beginCell)().storeUint(e,t).endCell().beginParse().loadBits(t)}}function $l(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadInt(t)}}function Ql(t){return{serialize:(e,r)=>{r.storeInt(e,t)},parse:e=>e.loadIntBig(t)}}function Gl(t){return{serialize:(e,r)=>{r.storeVarInt(e,t)},parse:e=>e.loadVarIntBig(t)}}function Yl(t){return{serialize:(e,r)=>{r.storeVarUint(e,t)},parse:e=>e.loadVarUintBig(t)}}function Xl(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUint(t)}}function Zl(t){return{serialize:(e,r)=>{r.storeUint(e,t)},parse:e=>e.loadUintBig(t)}}function Jl(){return{serialize:(t,e)=>{e.storeBit(t)},parse:t=>t.loadBit()}}function eu(){return{serialize:(t,e)=>{e.storeAddress(t)},parse:t=>t.loadAddress()}}function tu(){return{serialize:(t,e)=>{e.storeRef(t)},parse:t=>t.loadRef()}}function ru(t,e){return{serialize:(r,n)=>{r.store(n)},parse:r=>O.load(t,e,r)}}function nu(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid buffer size");r.storeBuffer(e)},parse:e=>e.loadBuffer(t)}}function ou(t){return{serialize:(e,r)=>{if(e.length!==t)throw Error("Invalid BitString size");r.storeBits(e)},parse:e=>e.loadBits(t)}}});var gn=g(ae=>{"use strict";s();a();Object.defineProperty(ae,"__esModule",{value:!0});ae.writeString=ae.stringToCell=ae.readString=void 0;var Ho=w();function Wo(t){if(t.remainingBits%8!==0)throw new Error(`Invalid string length: ${t.remainingBits}`);if(t.remainingRefs!==0&&t.remainingRefs!==1)throw new Error(`invalid number of refs: ${t.remainingRefs}`);let e;return t.remainingBits===0?e=l.Buffer.alloc(0):e=t.loadBuffer(t.remainingBits/8),t.remainingRefs===1&&(e=l.Buffer.concat([e,Wo(t.loadRef().beginParse())])),e}function iu(t){return Wo(t).toString()}ae.readString=iu;function hn(t,e){if(t.length>0){let r=Math.floor(e.availableBits/8);if(t.length>r){let n=t.subarray(0,r),o=t.subarray(r);e=e.storeBuffer(n);let i=(0,Ho.beginCell)();hn(o,i),e=e.storeRef(i.endCell())}else e=e.storeBuffer(t)}}function su(t){let e=(0,Ho.beginCell)();return hn(l.Buffer.from(t),e),e.endCell()}ae.stringToCell=su;function au(t,e){hn(l.Buffer.from(t),e)}ae.writeString=au});var cr=g(Ve=>{"use strict";s();a();var lu=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Go;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Slice=void 0;var uu=lu(ve()),$o=ie(),Qo=w(),fr=gn(),De=class{constructor(e,r){this[Go]=()=>this.toString(),this._reader=e.clone(),this._refs=[...r],this._refsOffset=0}get remainingBits(){return this._reader.remaining}get offsetBits(){return this._reader.offset}get remainingRefs(){return this._refs.length-this._refsOffset}get offsetRefs(){return this._refsOffset}skip(e){return this._reader.skip(e),this}loadBit(){return this._reader.loadBit()}preloadBit(){return this._reader.preloadBit()}loadBoolean(){return this.loadBit()}loadMaybeBoolean(){return this.loadBit()?this.loadBoolean():null}loadBits(e){return this._reader.loadBits(e)}preloadBits(e){return this._reader.preloadBits(e)}loadUint(e){return this._reader.loadUint(e)}loadUintBig(e){return this._reader.loadUintBig(e)}preloadUint(e){return this._reader.preloadUint(e)}preloadUintBig(e){return this._reader.preloadUintBig(e)}loadMaybeUint(e){return this.loadBit()?this.loadUint(e):null}loadMaybeUintBig(e){return this.loadBit()?this.loadUintBig(e):null}loadInt(e){return this._reader.loadInt(e)}loadIntBig(e){return this._reader.loadIntBig(e)}preloadInt(e){return this._reader.preloadInt(e)}preloadIntBig(e){return this._reader.preloadIntBig(e)}loadMaybeInt(e){return this.loadBit()?this.loadInt(e):null}loadMaybeIntBig(e){return this.loadBit()?this.loadIntBig(e):null}loadVarUint(e){return this._reader.loadVarUint(e)}loadVarUintBig(e){return this._reader.loadVarUintBig(e)}preloadVarUint(e){return this._reader.preloadVarUint(e)}preloadVarUintBig(e){return this._reader.preloadVarUintBig(e)}loadVarInt(e){return this._reader.loadVarInt(e)}loadVarIntBig(e){return this._reader.loadVarIntBig(e)}preloadVarInt(e){return this._reader.preloadVarInt(e)}preloadVarIntBig(e){return this._reader.preloadVarIntBig(e)}loadCoins(){return this._reader.loadCoins()}preloadCoins(){return this._reader.preloadCoins()}loadMaybeCoins(){return this._reader.loadBit()?this._reader.loadCoins():null}loadAddress(){return this._reader.loadAddress()}loadMaybeAddress(){return this._reader.loadMaybeAddress()}loadExternalAddress(){return this._reader.loadExternalAddress()}loadMaybeExternalAddress(){return this._reader.loadMaybeExternalAddress()}loadAddressAny(){return this._reader.loadAddressAny()}loadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset++]}preloadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset]}loadMaybeRef(){return this.loadBit()?this.loadRef():null}preloadMaybeRef(){return this.preloadBit()?this.preloadRef():null}loadBuffer(e){return this._reader.loadBuffer(e)}preloadBuffer(e){return this._reader.preloadBuffer(e)}loadStringTail(){return(0,fr.readString)(this)}loadMaybeStringTail(){return this.loadBit()?(0,fr.readString)(this):null}loadStringRefTail(){return(0,fr.readString)(this.loadRef().beginParse())}loadMaybeStringRefTail(){let e=this.loadMaybeRef();return e?(0,fr.readString)(e.beginParse()):null}loadDict(e,r){return $o.Dictionary.load(e,r,this)}loadDictDirect(e,r){return $o.Dictionary.loadDirect(e,r,this)}endParse(){if(this.remainingBits>0||this.remainingRefs>0)throw new Error("Slice is not empty")}asCell(){return(0,Qo.beginCell)().storeSlice(this).endCell()}asBuilder(){return(0,Qo.beginCell)().storeSlice(this)}clone(e=!1){if(e){let r=this._reader.clone();return r.reset(),new De(r,this._refs)}else{let r=new De(this._reader,this._refs);return r._refsOffset=this._refsOffset,r}}toString(){return this.asCell().toString()}};Ve.Slice=De;Go=uu.default});var pn=g(hr=>{"use strict";s();a();Object.defineProperty(hr,"__esModule",{value:!0});hr.exoticLibrary=void 0;var du=J();function fu(t,e){let r=new du.BitReader(t),n=8+256;if(t.length!==n)throw new Error(`Library cell must have exactly (8 + 256) bits, got "${t.length}"`);let o=r.loadUint(8);if(o!==2)throw new Error(`Library cell must have type 2, got "${o}"`);return{}}hr.exoticLibrary=fu});var pr=g(gr=>{"use strict";s();a();Object.defineProperty(gr,"__esModule",{value:!0});gr.exoticMerkleUpdate=void 0;var cu=J();function hu(t,e){let r=new cu.BitReader(t),n=8+2*(256+16);if(t.length!==n)throw new Error(`Merkle Update cell must have exactly (8 + (2 * (256 + 16))) bits, got "${t.length}"`);if(e.length!==2)throw new Error(`Merkle Update cell must have exactly 2 refs, got "${e.length}"`);let o=r.loadUint(8);if(o!==4)throw new Error(`Merkle Update cell type must be exactly 4, got "${o}"`);let i=r.loadBuffer(32),u=r.loadBuffer(32),f=r.loadUint(16),c=r.loadUint(16);if(f!==e[0].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${f}", got "${e[0].depth(0)}"`);if(!i.equals(e[0].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${i.toString("hex")}", got "${e[0].hash(0).toString("hex")}"`);if(c!==e[1].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${c}", got "${e[1].depth(0)}"`);if(!u.equals(e[1].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${u.toString("hex")}", got "${e[1].hash(0).toString("hex")}"`);return{proofDepth1:f,proofDepth2:c,proofHash1:i,proofHash2:u}}gr.exoticMerkleUpdate=hu});var _r=g(yr=>{"use strict";s();a();Object.defineProperty(yr,"__esModule",{value:!0});yr.LevelMask=void 0;var Vt=class{constructor(e=0){this._mask=0,this._mask=e,this._hashIndex=gu(this._mask),this._hashCount=this._hashIndex+1}get value(){return this._mask}get level(){return 32-Math.clz32(this._mask)}get hashIndex(){return this._hashIndex}get hashCount(){return this._hashCount}apply(e){return new Vt(this._mask&(1<<e)-1)}isSignificant(e){return e===0||(this._mask>>e-1)%2!==0}};yr.LevelMask=Vt;function gu(t){return t=t-(t>>1&1431655765),t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>24}});var Br=g(br=>{"use strict";s();a();Object.defineProperty(br,"__esModule",{value:!0});br.exoticPruned=void 0;var pu=J(),Yo=_r();function yu(t,e){let r=new pu.BitReader(t),n=r.loadUint(8);if(n!==1)throw new Error(`Pruned branch cell must have type 1, got "${n}"`);if(e.length!==0)throw new Error(`Pruned Branch cell can't has refs, got "${e.length}"`);let o;if(t.length===280)o=new Yo.LevelMask(1);else{if(o=new Yo.LevelMask(r.loadUint(8)),o.level<1||o.level>3)throw new Error(`Pruned Branch cell level must be >= 1 and <= 3, got "${o.level}/${o.value}"`);let c=8+8+o.apply(o.level-1).hashCount*(256+16);if(t.length!==c)throw new Error(`Pruned branch cell must have exactly ${c} bits, got "${t.length}"`)}let i=[],u=[],f=[];for(let c=0;c<o.level;c++)u.push(r.loadBuffer(32));for(let c=0;c<o.level;c++)f.push(r.loadUint(16));for(let c=0;c<o.level;c++)i.push({depth:f[c],hash:u[c]});return{mask:o.value,pruned:i}}br.exoticPruned=yu});var Xo=g(Cr=>{"use strict";s();a();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.resolveExotic=void 0;var _u=J(),mr=ke(),bu=pn(),Bu=Dt(),mu=pr(),Su=Br(),Sr=_r();function Cu(t,e){let r=(0,Su.exoticPruned)(t,e),n=[],o=[],i=new Sr.LevelMask(r.mask);for(let u=0;u<r.pruned.length;u++)n.push(r.pruned[u].depth),o.push(r.pruned[u].hash);return{type:mr.CellType.PrunedBranch,depths:n,hashes:o,mask:i}}function Pu(t,e){let r=(0,bu.exoticLibrary)(t,e),n=[],o=[],i=new Sr.LevelMask;return{type:mr.CellType.Library,depths:n,hashes:o,mask:i}}function wu(t,e){let r=(0,Bu.exoticMerkleProof)(t,e),n=[],o=[],i=new Sr.LevelMask(e[0].level()>>1);return{type:mr.CellType.MerkleProof,depths:n,hashes:o,mask:i}}function xu(t,e){let r=(0,mu.exoticMerkleUpdate)(t,e),n=[],o=[],i=new Sr.LevelMask((e[0].level()|e[1].level())>>1);return{type:mr.CellType.MerkleUpdate,depths:n,hashes:o,mask:i}}function Au(t,e){let n=new _u.BitReader(t).preloadUint(8);if(n===1)return Cu(t,e);if(n===2)return Pu(t,e);if(n===3)return wu(t,e);if(n===4)return xu(t,e);throw Error("Invalid exotic cell type: "+n)}Cr.resolveExotic=Au});var yn=g(le=>{"use strict";s();a();Object.defineProperty(le,"__esModule",{value:!0});le.getRepr=le.getBitsDescriptor=le.getRefsDescriptor=void 0;var Kt=ke(),Mu=kt();function Zo(t,e,r){return t.length+(r!==Kt.CellType.Ordinary?1:0)*8+e*32}le.getRefsDescriptor=Zo;function Jo(t){let e=t.length;return Math.ceil(e/8)+Math.floor(e/8)}le.getBitsDescriptor=Jo;function vu(t,e,r,n,o,i){let u=Math.ceil(e.length/8),f=l.Buffer.alloc(2+u+(2+32)*r.length),c=0;f[c++]=Zo(r,o,i),f[c++]=Jo(t),(0,Mu.bitsToPaddedBuffer)(e).copy(f,c),c+=u;for(let h of r){let y;i==Kt.CellType.MerkleProof||i==Kt.CellType.MerkleUpdate?y=h.depth(n+1):y=h.depth(n),f[c++]=Math.floor(y/256),f[c++]=y%256}for(let h of r){let y;i==Kt.CellType.MerkleProof||i==Kt.CellType.MerkleUpdate?y=h.hash(n+1):y=h.hash(n),y.copy(f,c),c+=32}return f}le.getRepr=vu});var ti=g(ue=>{"use strict";s();a();var Uu=ue&&ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ue,"__esModule",{value:!0});ue.getSecureRandomWords=ue.getSecureRandomBytes=void 0;var ei=Uu(Me());function Iu(t){return ei.default.randomBytes(t)}ue.getSecureRandomBytes=Iu;function Tu(t){let e=new Uint16Array(t);return ei.default.randomFillSync(e),e}ue.getSecureRandomWords=Tu});var ri=g(Ke=>{"use strict";s();a();var Ou=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.hmac_sha512=void 0;var Eu=Ou(Me());async function Ru(t,e){let r=typeof t=="string"?l.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?l.Buffer.from(e,"utf-8"):e;return Eu.default.createHmac("sha512",r).update(n).digest()}Ke.hmac_sha512=Ru});var ni=g(Le=>{"use strict";s();a();var ku=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Le,"__esModule",{value:!0});Le.pbkdf2_sha512=void 0;var qu=ku(Me());function ju(t,e,r,n){return new Promise((o,i)=>qu.default.pbkdf2(t,e,r,n,"sha512",(u,f)=>{u?i(u):o(f)}))}Le.pbkdf2_sha512=ju});var oi=g(Fe=>{"use strict";s();a();var Nu=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.sha256=void 0;var Du=Nu(Me());async function Vu(t){return Du.default.createHash("sha256").update(t).digest()}Fe.sha256=Vu});var ii=g(ze=>{"use strict";s();a();var Ku=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.sha512=void 0;var Lu=Ku(Me());async function Fu(t){return Lu.default.createHash("sha512").update(t).digest()}ze.sha512=Fu});var He=g(E=>{"use strict";s();a();Object.defineProperty(E,"__esModule",{value:!0});E.sha512=E.sha256=E.pbkdf2_sha512=E.hmac_sha512=E.getSecureRandomWords=E.getSecureRandomBytes=void 0;var si=ti();Object.defineProperty(E,"getSecureRandomBytes",{enumerable:!0,get:function(){return si.getSecureRandomBytes}});Object.defineProperty(E,"getSecureRandomWords",{enumerable:!0,get:function(){return si.getSecureRandomWords}});var zu=ri();Object.defineProperty(E,"hmac_sha512",{enumerable:!0,get:function(){return zu.hmac_sha512}});var Hu=ni();Object.defineProperty(E,"pbkdf2_sha512",{enumerable:!0,get:function(){return Hu.pbkdf2_sha512}});var Wu=oi();Object.defineProperty(E,"sha256",{enumerable:!0,get:function(){return Wu.sha256}});var $u=ii();Object.defineProperty(E,"sha512",{enumerable:!0,get:function(){return $u.sha512}})});var li=g(L=>{"use strict";s();a();var Qu=L&&L.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(L,"__esModule",{value:!0});L.sha256=L.sha256_fallback=L.sha256_sync=void 0;var Gu=Qu(Jr()),Yu=He();function ai(t){let e;typeof t=="string"?e=l.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new Gu.default("SHA-256","HEX");r.update(e);let n=r.getHash("HEX");return l.Buffer.from(n,"hex")}L.sha256_sync=ai;async function Xu(t){return ai(t)}L.sha256_fallback=Xu;function Zu(t){return(0,Yu.sha256)(t)}L.sha256=Zu});var di=g(F=>{"use strict";s();a();var Ju=F&&F.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F,"__esModule",{value:!0});F.sha512=F.sha512_fallback=F.sha512_sync=void 0;var ed=Ju(Jr()),td=He();function ui(t){let e;typeof t=="string"?e=l.Buffer.from(t,"utf-8").toString("hex"):e=t.toString("hex");let r=new ed.default("SHA-512","HEX");r.update(e);let n=r.getHash("HEX");return l.Buffer.from(n,"hex")}F.sha512_sync=ui;async function rd(t){return ui(t)}F.sha512_fallback=rd;async function nd(t){return(0,td.sha512)(t)}F.sha512=nd});var fi=g(Pr=>{"use strict";s();a();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.pbkdf2_sha512=void 0;var od=He();function id(t,e,r,n){return(0,od.pbkdf2_sha512)(t,e,r,n)}Pr.pbkdf2_sha512=id});var ci=g(de=>{"use strict";s();a();var sd=de&&de.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(de,"__esModule",{value:!0});de.hmac_sha512=de.hmac_sha512_fallback=void 0;var ad=sd(Jr()),ld=He();async function ud(t,e){let r=typeof t=="string"?l.Buffer.from(t,"utf-8"):t,n=typeof e=="string"?l.Buffer.from(e,"utf-8"):e,o=new ad.default("SHA-512","HEX",{hmacKey:{value:r.toString("hex"),format:"HEX"}});o.update(n.toString("hex"));let i=o.getHash("HEX");return l.Buffer.from(i,"hex")}de.hmac_sha512_fallback=ud;function dd(t,e){return(0,ld.hmac_sha512)(t,e)}de.hmac_sha512=dd});var pi=g(fe=>{"use strict";s();a();Object.defineProperty(fe,"__esModule",{value:!0});fe.getSecureRandomNumber=fe.getSecureRandomWords=fe.getSecureRandomBytes=void 0;var fd=He();async function hi(t){return(0,fd.getSecureRandomBytes)(t)}fe.getSecureRandomBytes=hi;async function gi(t){return gi(t)}fe.getSecureRandomWords=gi;async function cd(t,e){let r=e-t;var n=Math.ceil(Math.log2(r));if(n>53)throw new Error("Range is too large");for(var o=Math.ceil(n/8),i=Math.pow(2,n)-1;;){let f=await hi(n),c=(o-1)*8,h=0;for(var u=0;u<o;u++)h+=f[u]*Math.pow(2,c),c-=8;if(h=h&i,!(h>=r))return t+h}}fe.getSecureRandomNumber=cd});var _n=g(x=>{"use strict";s();a();var hd=x&&x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x,"__esModule",{value:!0});x.openBox=x.sealBox=x.signVerify=x.sign=x.keyPairFromSeed=x.keyPairFromSecretKey=void 0;var We=hd(_o());function gd(t){let e=We.default.sign.keyPair.fromSecretKey(new Uint8Array(t));return{publicKey:l.Buffer.from(e.publicKey),secretKey:l.Buffer.from(e.secretKey)}}x.keyPairFromSecretKey=gd;function pd(t){let e=We.default.sign.keyPair.fromSeed(new Uint8Array(t));return{publicKey:l.Buffer.from(e.publicKey),secretKey:l.Buffer.from(e.secretKey)}}x.keyPairFromSeed=pd;function yd(t,e){return l.Buffer.from(We.default.sign.detached(new Uint8Array(t),new Uint8Array(e)))}x.sign=yd;function _d(t,e,r){return We.default.sign.detached.verify(new Uint8Array(t),new Uint8Array(e),new Uint8Array(r))}x.signVerify=_d;function bd(t,e,r){return l.Buffer.from(We.default.secretbox(t,e,r))}x.sealBox=bd;function Bd(t,e,r){let n=We.default.secretbox.open(t,e,r);return n?l.Buffer.from(n):null}x.openBox=Bd});var xr=g(C=>{"use strict";s();a();Object.defineProperty(C,"__esModule",{value:!0});C.signVerify=C.sign=C.keyPairFromSecretKey=C.keyPairFromSeed=C.openBox=C.sealBox=C.getSecureRandomNumber=C.getSecureRandomWords=C.getSecureRandomBytes=C.hmac_sha512=C.pbkdf2_sha512=C.sha512_sync=C.sha512=C.sha256_sync=C.sha256=void 0;var yi=li();Object.defineProperty(C,"sha256",{enumerable:!0,get:function(){return yi.sha256}});Object.defineProperty(C,"sha256_sync",{enumerable:!0,get:function(){return yi.sha256_sync}});var _i=di();Object.defineProperty(C,"sha512",{enumerable:!0,get:function(){return _i.sha512}});Object.defineProperty(C,"sha512_sync",{enumerable:!0,get:function(){return _i.sha512_sync}});var md=fi();Object.defineProperty(C,"pbkdf2_sha512",{enumerable:!0,get:function(){return md.pbkdf2_sha512}});var Sd=ci();Object.defineProperty(C,"hmac_sha512",{enumerable:!0,get:function(){return Sd.hmac_sha512}});var bn=pi();Object.defineProperty(C,"getSecureRandomBytes",{enumerable:!0,get:function(){return bn.getSecureRandomBytes}});Object.defineProperty(C,"getSecureRandomWords",{enumerable:!0,get:function(){return bn.getSecureRandomWords}});Object.defineProperty(C,"getSecureRandomNumber",{enumerable:!0,get:function(){return bn.getSecureRandomNumber}});var bi=_n();Object.defineProperty(C,"sealBox",{enumerable:!0,get:function(){return bi.sealBox}});Object.defineProperty(C,"openBox",{enumerable:!0,get:function(){return bi.openBox}});var wr=_n();Object.defineProperty(C,"keyPairFromSeed",{enumerable:!0,get:function(){return wr.keyPairFromSeed}});Object.defineProperty(C,"keyPairFromSecretKey",{enumerable:!0,get:function(){return wr.keyPairFromSecretKey}});Object.defineProperty(C,"sign",{enumerable:!0,get:function(){return wr.sign}});Object.defineProperty(C,"signVerify",{enumerable:!0,get:function(){return wr.signVerify}})});var Bi=g(Ar=>{"use strict";s();a();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.wonderCalculator=void 0;var Cd=X(),z=ke(),Lt=_r(),Pd=Br(),wd=Dt(),xd=yn(),Ad=xr(),Md=pr(),vd=pn();function Ud(t,e,r){let n,o=null;if(t===z.CellType.Ordinary){let _=0;for(let b of r)_=_|b.mask.value;n=new Lt.LevelMask(_)}else if(t===z.CellType.PrunedBranch)o=(0,Pd.exoticPruned)(e,r),n=new Lt.LevelMask(o.mask);else if(t===z.CellType.MerkleProof){let _=(0,wd.exoticMerkleProof)(e,r);n=new Lt.LevelMask(r[0].mask.value>>1)}else if(t===z.CellType.MerkleUpdate){let _=(0,Md.exoticMerkleUpdate)(e,r);n=new Lt.LevelMask((r[0].mask.value|r[1].mask.value)>>1)}else if(t===z.CellType.Library){let _=(0,vd.exoticLibrary)(e,r);n=new Lt.LevelMask}else throw new Error("Unsupported exotic type");let i=[],u=[],f=t===z.CellType.PrunedBranch?1:n.hashCount,h=n.hashCount-f;for(let _=0,b=0;_<=n.level;_++){if(!n.isSignificant(_))continue;if(b<h){b++;continue}let m;if(b===h){if(!(_===0||t===z.CellType.PrunedBranch))throw Error("Invalid");m=e}else{if(!(_!==0&&t!==z.CellType.PrunedBranch))throw Error("Invalid: "+_+", "+t);m=new Cd.BitString(u[b-h-1],0,256)}let S=0;for(let K of r){let Ot;t==z.CellType.MerkleProof||t==z.CellType.MerkleUpdate?Ot=K.depth(_+1):Ot=K.depth(_),S=Math.max(S,Ot)}r.length>0&&S++;let q=(0,xd.getRepr)(e,m,r,_,n.apply(_).value,t),Tt=(0,Ad.sha256_sync)(q),Jt=b-h;i[Jt]=S,u[Jt]=Tt,b++}let y=[],B=[];if(o)for(let _=0;_<4;_++){let{hashIndex:b}=n.apply(_),{hashIndex:m}=n;b!==m?(y.push(o.pruned[b].hash),B.push(o.pruned[b].depth)):(y.push(u[0]),B.push(i[0]))}else for(let _=0;_<4;_++)y.push(u[n.apply(_).hashIndex]),B.push(i[n.apply(_).hashIndex]);return{mask:n,hashes:y,depths:B}}Ar.wonderCalculator=Ud});var mi=g(Mr=>{"use strict";s();a();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.topologicalSort=void 0;function Id(t){let e=[t],r=new Map,n=new Set,o=[];for(;e.length>0;){let h=[...e];e=[];for(let y of h){let B=y.hash().toString("hex");if(!r.has(B)){n.add(B),r.set(B,{cell:y,refs:y.refs.map(_=>_.hash().toString("hex"))});for(let _ of y.refs)e.push(_)}}}let i=new Set;function u(h){if(!n.has(h))return;if(i.has(h))throw Error("Not a DAG");i.add(h);let y=r.get(h).refs;for(let B=y.length-1;B>=0;B--)u(y[B]);o.push(h),i.delete(h),n.delete(h)}for(;n.size>0;){let h=Array.from(n)[0];u(h)}let f=new Map;for(let h=0;h<o.length;h++)f.set(o[o.length-h-1],h);let c=[];for(let h=o.length-1;h>=0;h--){let y=o[h],B=r.get(y);c.push({cell:B.cell,refs:B.refs.map(_=>f.get(_))})}return c}Mr.topologicalSort=Id});var Si=g(vr=>{"use strict";s();a();Object.defineProperty(vr,"__esModule",{value:!0});vr.bitsForNumber=void 0;function Td(t,e){let r=BigInt(t);if(e==="int")return r===0n||r===-1n?1:(r>0?r:-r).toString(2).length+1;if(e==="uint"){if(r<0)throw Error(`value is negative. Got ${t}`);return r.toString(2).length}else throw Error(`invalid mode. Got ${e}`)}vr.bitsForNumber=Td});var Bn=g(Ur=>{"use strict";s();a();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.crc32c=void 0;var ce=2197175160;function Od(t){let e=-1;for(let n=0;n<t.length;n++)e^=t[n],e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1,e=e&1?e>>>1^ce:e>>>1;e=e^4294967295;let r=l.Buffer.alloc(4);return r.writeInt32LE(e),r}Ur.crc32c=Od});var Mi=g(he=>{"use strict";s();a();Object.defineProperty(he,"__esModule",{value:!0});he.serializeBoc=he.deserializeBoc=he.parseBoc=void 0;var xi=J(),Sn=X(),Ed=se(),Rd=mi(),Ci=Si(),kd=qt(),Pi=yn(),qd=kt(),mn=Bn();function wi(t){return jd(t&7)}function jd(t){let e=0;for(let r=0;r<3;r++)e+=t&1,t=t>>1;return e+1}function Nd(t,e){let r=t.loadUint(8),n=r%8,o=!!(r&8),i=t.loadUint(8),u=Math.ceil(i/2),f=!!(i%2),c=r>>5,h=(r&16)!=0,y=32,B=h?wi(c)*y:0,_=h?wi(c)*2:0;t.skip(B*8),t.skip(_*8);let b=Sn.BitString.EMPTY;u>0&&(f?b=t.loadPaddedBits(u*8):b=t.loadBits(u*8));let m=[];for(let S=0;S<n;S++)m.push(t.loadUint(e*8));return{bits:b,refs:m,exotic:o}}function Dd(t,e){return 2+Math.ceil(t.bits.length/8)+t.refs.length*e}function Ai(t){let e=new xi.BitReader(new Sn.BitString(t,0,t.length*8)),r=e.loadUint(32);if(r===1761568243){let n=e.loadUint(8),o=e.loadUint(8),i=e.loadUint(n*8),u=e.loadUint(n*8),f=e.loadUint(n*8),c=e.loadUint(o*8),h=e.loadBuffer(i*o),y=e.loadBuffer(c);return{size:n,offBytes:o,cells:i,roots:u,absent:f,totalCellSize:c,index:h,cellData:y,root:[0]}}else if(r===2898503464){let n=e.loadUint(8),o=e.loadUint(8),i=e.loadUint(n*8),u=e.loadUint(n*8),f=e.loadUint(n*8),c=e.loadUint(o*8),h=e.loadBuffer(i*o),y=e.loadBuffer(c),B=e.loadBuffer(4);if(!(0,mn.crc32c)(t.subarray(0,t.length-4)).equals(B))throw Error("Invalid CRC32C");return{size:n,offBytes:o,cells:i,roots:u,absent:f,totalCellSize:c,index:h,cellData:y,root:[0]}}else if(r===3052313714){let n=e.loadUint(1),o=e.loadUint(1),i=e.loadUint(1),u=e.loadUint(2),f=e.loadUint(3),c=e.loadUint(8),h=e.loadUint(f*8),y=e.loadUint(f*8),B=e.loadUint(f*8),_=e.loadUint(c*8),b=[];for(let q=0;q<y;q++)b.push(e.loadUint(f*8));let m=null;n&&(m=e.loadBuffer(h*c));let S=e.loadBuffer(_);if(o){let q=e.loadBuffer(4);if(!(0,mn.crc32c)(t.subarray(0,t.length-4)).equals(q))throw Error("Invalid CRC32C")}return{size:f,offBytes:c,cells:h,roots:y,absent:B,totalCellSize:_,index:m,cellData:S,root:b}}else throw Error("Invalid magic")}he.parseBoc=Ai;function Vd(t){let e=Ai(t),r=new xi.BitReader(new Sn.BitString(e.cellData,0,e.cellData.length*8)),n=[];for(let i=0;i<e.cells;i++){let u=Nd(r,e.size);n.push({...u,result:null})}for(let i=n.length-1;i>=0;i--){if(n[i].result)throw Error("Impossible");let u=[];for(let f of n[i].refs){if(!n[f].result)throw Error("Invalid BOC file");u.push(n[f].result)}n[i].result=new Ed.Cell({bits:n[i].bits,refs:u,exotic:n[i].exotic})}let o=[];for(let i=0;i<e.root.length;i++)o.push(n[e.root[i]].result);return o}he.deserializeBoc=Vd;function Kd(t,e,r,n){let o=(0,Pi.getRefsDescriptor)(t.refs,t.mask.value,t.type),i=(0,Pi.getBitsDescriptor)(t.bits);n.writeUint(o,8),n.writeUint(i,8),n.writeBuffer((0,qd.bitsToPaddedBuffer)(t.bits));for(let u of e)n.writeUint(u,r*8)}function Ld(t,e){let r=(0,Rd.topologicalSort)(t),n=r.length,o=e.idx,i=e.crc32,u=!1,f=0,c=Math.max(Math.ceil((0,Ci.bitsForNumber)(n,"uint")/8),1),h=0,y=[];for(let S of r)h+=Dd(S.cell,c),y.push(h);let B=Math.max(Math.ceil((0,Ci.bitsForNumber)(h,"uint")/8),1),_=(4+1+1+3*c+B+1*c+(o?n*B:0)+h+(i?4:0))*8,b=new kd.BitBuilder(_);if(b.writeUint(3052313714,32),b.writeBit(o),b.writeBit(i),b.writeBit(u),b.writeUint(f,2),b.writeUint(c,3),b.writeUint(B,8),b.writeUint(n,c*8),b.writeUint(1,c*8),b.writeUint(0,c*8),b.writeUint(h,B*8),b.writeUint(0,c*8),o)for(let S=0;S<n;S++)b.writeUint(y[S],B*8);for(let S=0;S<n;S++)Kd(r[S].cell,r[S].refs,c,b);if(i){let S=(0,mn.crc32c)(b.buffer());b.writeBuffer(S)}let m=b.buffer();if(m.length!==_/8)throw Error("Internal error");return m}he.serializeBoc=Ld});var se=g($e=>{"use strict";s();a();var Fd=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ii;Object.defineProperty($e,"__esModule",{value:!0});$e.Cell=void 0;var zd=Fd(ve()),Hd=X(),Se=ke(),Wd=cr(),$d=Xo(),vi=Bi(),Ui=Mi(),Qd=J(),Gd=w(),Ce=class{static fromBoc(e){return(0,Ui.deserializeBoc)(e)}static fromBase64(e){let r=Ce.fromBoc(l.Buffer.from(e,"base64"));if(r.length!==1)throw new Error("Deserialized more than one cell");return r[0]}constructor(e){this._hashes=[],this._depths=[],this.beginParse=(c=!1)=>{if(this.isExotic&&!c)throw new Error("Exotic cells cannot be parsed");return new Wd.Slice(new Qd.BitReader(this.bits),this.refs)},this.hash=(c=3)=>this._hashes[Math.min(this._hashes.length-1,c)],this.depth=(c=3)=>this._depths[Math.min(this._depths.length-1,c)],this.level=()=>this.mask.level,this.equals=c=>this.hash().equals(c.hash()),this[Ii]=()=>this.toString();let r=Hd.BitString.EMPTY;e&&e.bits&&(r=e.bits);let n=[];e&&e.refs&&(n=[...e.refs]);let o,i,u,f=Se.CellType.Ordinary;if(e&&e.exotic){let c=(0,$d.resolveExotic)(r,n),h=(0,vi.wonderCalculator)(c.type,r,n);u=h.mask,i=h.depths,o=h.hashes,f=c.type}else{if(n.length>4)throw new Error("Invalid number of references");if(r.length>1023)throw new Error(`Bits overflow: ${r.length} > 1023`);let c=(0,vi.wonderCalculator)(Se.CellType.Ordinary,r,n);u=c.mask,i=c.depths,o=c.hashes,f=Se.CellType.Ordinary}this.type=f,this.bits=r,this.refs=n,this.mask=u,this._depths=i,this._hashes=o,Object.freeze(this),Object.freeze(this.refs),Object.freeze(this.bits),Object.freeze(this.mask),Object.freeze(this._depths),Object.freeze(this._hashes)}get isExotic(){return this.type!==Se.CellType.Ordinary}toBoc(e){let r=e&&e.idx!==null&&e.idx!==void 0?e.idx:!1,n=e&&e.crc32!==null&&e.crc32!==void 0?e.crc32:!0;return(0,Ui.serializeBoc)(this,{idx:r,crc32:n})}toString(e){let r=e||"",n="x";this.isExotic&&(this.type===Se.CellType.MerkleProof?n="p":this.type===Se.CellType.MerkleUpdate?n="u":this.type===Se.CellType.PrunedBranch&&(n="p"));let o=r+(this.isExotic?n:"x")+"{"+this.bits.toString()+"}";for(let i in this.refs){let u=this.refs[i];o+=`
`+u.toString(r+" ")}return o}asSlice(){return this.beginParse()}asBuilder(){return(0,Gd.beginCell)().storeSlice(this.asSlice())}};$e.Cell=Ce;Ii=zd.default;Ce.EMPTY=new Ce});var w=g(Ge=>{"use strict";s();a();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Builder=Ge.beginCell=void 0;var Yd=qt(),Ti=se(),Oi=gn();function Ei(){return new Qe}Ge.beginCell=Ei;var Qe=class{constructor(){this._bits=new Yd.BitBuilder,this._refs=[]}get bits(){return this._bits.length}get refs(){return this._refs.length}get availableBits(){return 1023-this.bits}get availableRefs(){return 4-this.refs}storeBit(e){return this._bits.writeBit(e),this}storeBits(e){return this._bits.writeBits(e),this}storeBuffer(e,r){if(r!=null&&e.length!==r)throw Error(`Buffer length ${e.length} is not equal to ${r}`);return this._bits.writeBuffer(e),this}storeMaybeBuffer(e,r){return e!==null?(this.storeBit(1),this.storeBuffer(e,r)):this.storeBit(0),this}storeUint(e,r){return this._bits.writeUint(e,r),this}storeMaybeUint(e,r){return e!=null?(this.storeBit(1),this.storeUint(e,r)):this.storeBit(0),this}storeInt(e,r){return this._bits.writeInt(e,r),this}storeMaybeInt(e,r){return e!=null?(this.storeBit(1),this.storeInt(e,r)):this.storeBit(0),this}storeVarUint(e,r){return this._bits.writeVarUint(e,r),this}storeMaybeVarUint(e,r){return e!=null?(this.storeBit(1),this.storeVarUint(e,r)):this.storeBit(0),this}storeVarInt(e,r){return this._bits.writeVarInt(e,r),this}storeMaybeVarInt(e,r){return e!=null?(this.storeBit(1),this.storeVarInt(e,r)):this.storeBit(0),this}storeCoins(e){return this._bits.writeCoins(e),this}storeMaybeCoins(e){return e!=null?(this.storeBit(1),this.storeCoins(e)):this.storeBit(0),this}storeAddress(e){return this._bits.writeAddress(e),this}storeRef(e){if(this._refs.length>=4)throw new Error("Too many references");if(e instanceof Ti.Cell)this._refs.push(e);else if(e instanceof Qe)this._refs.push(e.endCell());else throw new Error("Invalid argument");return this}storeMaybeRef(e){return e?(this.storeBit(1),this.storeRef(e)):this.storeBit(0),this}storeSlice(e){let r=e.clone();for(r.remainingBits>0&&this.storeBits(r.loadBits(r.remainingBits));r.remainingRefs>0;)this.storeRef(r.loadRef());return this}storeMaybeSlice(e){return e?(this.storeBit(1),this.storeSlice(e)):this.storeBit(0),this}storeBuilder(e){return this.storeSlice(e.endCell().beginParse())}storeMaybeBuilder(e){return e?(this.storeBit(1),this.storeBuilder(e)):this.storeBit(0),this}storeWritable(e){return typeof e=="object"?e.writeTo(this):e(this),this}storeMaybeWritable(e){return e?(this.storeBit(1),this.storeWritable(e)):this.storeBit(0),this}store(e){return this.storeWritable(e),this}storeStringTail(e){return(0,Oi.writeString)(e,this),this}storeMaybeStringTail(e){return e!=null?(this.storeBit(1),(0,Oi.writeString)(e,this)):this.storeBit(0),this}storeStringRefTail(e){return this.storeRef(Ei().storeStringTail(e)),this}storeMaybeStringRefTail(e){return e!=null?(this.storeBit(1),this.storeStringRefTail(e)):this.storeBit(0),this}storeDict(e,r,n){return e?e.store(this,r,n):this.storeBit(0),this}storeDictDirect(e,r,n){return e.storeDirect(this,r,n),this}endCell(e){return new Ti.Cell({bits:this._bits.build(),refs:this._refs,exotic:e?.exotic})}asCell(){return this.endCell()}asSlice(){return this.endCell().beginParse()}};Ge.Builder=Qe});var Cn=g(ge=>{"use strict";s();a();Object.defineProperty(ge,"__esModule",{value:!0});ge.SimpleLibraryValue=ge.storeSimpleLibrary=ge.loadSimpleLibrary=void 0;function Ri(t){return{public:t.loadBit(),root:t.loadRef()}}ge.loadSimpleLibrary=Ri;function ki(t){return e=>{e.storeBit(t.public),e.storeRef(t.root)}}ge.storeSimpleLibrary=ki;ge.SimpleLibraryValue={serialize(t,e){ki(t)(e)},parse(t){return Ri(t)}}});var Pn=g(Ye=>{"use strict";s();a();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.storeTickTock=Ye.loadTickTock=void 0;function Xd(t){return{tick:t.loadBit(),tock:t.loadBit()}}Ye.loadTickTock=Xd;function Zd(t){return e=>{e.storeBit(t.tick),e.storeBit(t.tock)}}Ye.storeTickTock=Zd});var Ze=g(Xe=>{"use strict";s();a();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.storeStateInit=Xe.loadStateInit=void 0;var Jd=ie(),ef=Cn(),qi=Pn();function tf(t){let e;t.loadBit()&&(e=t.loadUint(5));let r;t.loadBit()&&(r=(0,qi.loadTickTock)(t));let n=t.loadMaybeRef(),o=t.loadMaybeRef(),i=t.loadDict(Jd.Dictionary.Keys.BigUint(256),ef.SimpleLibraryValue);return i.size===0&&(i=void 0),{splitDepth:e,special:r,code:n,data:o,libraries:i}}Xe.loadStateInit=tf;function rf(t){return e=>{t.splitDepth!==null&&t.splitDepth!==void 0?(e.storeBit(!0),e.storeUint(t.splitDepth,5)):e.storeBit(!1),t.special!==null&&t.special!==void 0?(e.storeBit(!0),e.store((0,qi.storeTickTock)(t.special))):e.storeBit(!1),e.storeMaybeRef(t.code),e.storeMaybeRef(t.data),e.storeDict(t.libraries)}}Xe.storeStateInit=rf});var ji=g(Ir=>{"use strict";s();a();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.contractAddress=void 0;var nf=w(),of=Ze(),sf=Y();function af(t,e){let r=(0,nf.beginCell)().store((0,of.storeStateInit)(e)).endCell().hash();return new sf.Address(t,r)}Ir.contractAddress=af});var Vi=g(Je=>{"use strict";s();a();Object.defineProperty(Je,"__esModule",{value:!0});Je.parseTuple=Je.serializeTuple=void 0;var zt=w(),lf=BigInt("-9223372036854775808"),uf=BigInt("9223372036854775807");function Ni(t,e){if(t.type==="null")e.storeUint(0,8);else if(t.type==="int")t.value<=uf&&t.value>=lf?(e.storeUint(1,8),e.storeInt(t.value,64)):(e.storeUint(256,15),e.storeInt(t.value,257));else if(t.type==="nan")e.storeInt(767,16);else if(t.type==="cell")e.storeUint(3,8),e.storeRef(t.cell);else if(t.type==="slice")e.storeUint(4,8),e.storeUint(0,10),e.storeUint(t.cell.bits.length,10),e.storeUint(0,3),e.storeUint(t.cell.refs.length,3),e.storeRef(t.cell);else if(t.type==="builder")e.storeUint(5,8),e.storeRef(t.cell);else if(t.type==="tuple"){let r=null,n=null;for(let o=0;o<t.items.length;o++){let i=r;r=n,n=i,o>1&&(r=(0,zt.beginCell)().storeRef(n).storeRef(r).endCell());let u=(0,zt.beginCell)();Ni(t.items[o],u),n=u.endCell()}e.storeUint(7,8),e.storeUint(t.items.length,16),r&&e.storeRef(r),n&&e.storeRef(n)}else throw Error("Invalid value")}function Ft(t){let e=t.loadUint(8);if(e===0)return{type:"null"};if(e===1)return{type:"int",value:t.loadIntBig(64)};if(e===2)return t.loadUint(7)===0?{type:"int",value:t.loadIntBig(257)}:(t.loadBit(),{type:"nan"});if(e===3)return{type:"cell",cell:t.loadRef()};if(e===4){let r=t.loadUint(10),n=t.loadUint(10),o=t.loadUint(3),i=t.loadUint(3),u=t.loadRef().beginParse();u.skip(r);let f=u.loadBits(n-r),c=(0,zt.beginCell)().storeBits(f);if(o<i){for(let h=0;h<o;h++)u.loadRef();for(let h=0;h<i-o;h++)c.storeRef(u.loadRef())}return{type:"slice",cell:c.endCell()}}else{if(e===5)return{type:"builder",cell:t.loadRef()};if(e===7){let r=t.loadUint(16),n=[];if(r>1){let o=t.loadRef().beginParse(),i=t.loadRef().beginParse();n.unshift(Ft(i));for(let u=0;u<r-2;u++){let f=o;o=f.loadRef().beginParse(),i=f.loadRef().beginParse(),n.unshift(Ft(i))}n.unshift(Ft(o))}else r===1&&n.push(Ft(t.loadRef().beginParse()));return{type:"tuple",items:n}}else throw Error("Unsupported stack item")}}function Di(t,e){if(t.length>0){let r=(0,zt.beginCell)();Di(t.slice(0,t.length-1),r),e.storeRef(r.endCell()),Ni(t[t.length-1],e)}}function df(t){let e=(0,zt.beginCell)();e.storeUint(t.length,24);let r=[...t];return Di(r,e),e.endCell()}Je.serializeTuple=df;function ff(t){let e=[],r=t.beginParse(),n=r.loadUint(24);for(let o=0;o<n;o++){let i=r.loadRef();e.unshift(Ft(r)),r=i.beginParse()}return e}Je.parseTuple=ff});var Ki=g(Tr=>{"use strict";s();a();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.TupleReader=void 0;var pe=class{constructor(e){this.items=[...e]}get remaining(){return this.items.length}peek(){if(this.items.length===0)throw Error("EOF");return this.items[0]}pop(){if(this.items.length===0)throw Error("EOF");let e=this.items[0];return this.items.splice(0,1),e}skip(e=1){for(let r=0;r<e;r++)this.pop();return this}readBigNumber(){let e=this.pop();if(e.type!=="int")throw Error("Not a number");return e.value}readBigNumberOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="int")throw Error("Not a number");return e.value}readNumber(){return Number(this.readBigNumber())}readNumberOpt(){let e=this.readBigNumberOpt();return e!==null?Number(e):null}readBoolean(){return this.readNumber()!==0}readBooleanOpt(){let e=this.readNumberOpt();return e!==null?e!==0:null}readAddress(){let e=this.readCell().beginParse().loadAddress();if(e!==null)return e;throw Error("Not an address")}readAddressOpt(){let e=this.readCellOpt();return e!==null?e.beginParse().loadMaybeAddress():null}readCell(){let e=this.pop();if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell: "+e.type);return e.cell}readCellOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="cell"&&e.type!=="slice"&&e.type!=="builder")throw Error("Not a cell");return e.cell}readTuple(){let e=this.pop();if(e.type!=="tuple")throw Error("Not a tuple");return new pe(e.items)}readTupleOpt(){let e=this.pop();if(e.type==="null")return null;if(e.type!=="tuple")throw Error("Not a tuple");return new pe(e.items)}static readLispList(e){let r=[],n=e;for(;n!==null;){var o=n.pop();if(n.items.length===0||n.items[0].type!=="tuple"&&n.items[0].type!=="null")throw Error("Lisp list consists only from (any, tuple) elements and ends with null");n=n.readTupleOpt(),r.push(o)}return r}readLispListDirect(){return this.items.length===1&&this.items[0].type==="null"?[]:pe.readLispList(this)}readLispList(){return pe.readLispList(this.readTupleOpt())}readBuffer(){let e=this.readCell().beginParse();if(e.remainingRefs!==0||e.remainingBits%8!==0)throw Error("Not a buffer");return e.loadBuffer(e.remainingBits/8)}readBufferOpt(){if(this.peek().type==="null")return null;let r=this.readCell().beginParse();if(r.remainingRefs!==0||r.remainingBits%8!==0)throw Error("Not a buffer");return r.loadBuffer(r.remainingBits/8)}readString(){return this.readCell().beginParse().loadStringTail()}readStringOpt(){return this.peek().type==="null"?null:this.readCell().beginParse().loadStringTail()}};Tr.TupleReader=pe});var Li=g(Or=>{"use strict";s();a();Object.defineProperty(Or,"__esModule",{value:!0});Or.TupleBuilder=void 0;var wn=w(),xn=se(),An=cr(),Mn=class{constructor(){this._tuple=[]}writeNumber(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:BigInt(e)})}writeBoolean(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:e?-1n:0n})}writeBuffer(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,wn.beginCell)().storeBuffer(e).endCell()})}writeString(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,wn.beginCell)().storeStringTail(e).endCell()})}writeCell(e){e==null?this._tuple.push({type:"null"}):e instanceof xn.Cell?this._tuple.push({type:"cell",cell:e}):e instanceof An.Slice&&this._tuple.push({type:"cell",cell:e.asCell()})}writeSlice(e){e==null?this._tuple.push({type:"null"}):e instanceof xn.Cell?this._tuple.push({type:"slice",cell:e}):e instanceof An.Slice&&this._tuple.push({type:"slice",cell:e.asCell()})}writeBuilder(e){e==null?this._tuple.push({type:"null"}):e instanceof xn.Cell?this._tuple.push({type:"builder",cell:e}):e instanceof An.Slice&&this._tuple.push({type:"builder",cell:e.asCell()})}writeTuple(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"tuple",items:e})}writeAddress(e){e==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,wn.beginCell)().storeAddress(e).endCell()})}build(){return[...this._tuple]}};Or.TupleBuilder=Mn});var vn=g(et=>{"use strict";s();a();Object.defineProperty(et,"__esModule",{value:!0});et.fromNano=et.toNano=void 0;function cf(t){if(typeof t=="bigint")return t*1000000000n;{if(typeof t=="number"){if(!Number.isFinite(t))throw Error("Invalid number");if(Math.log10(t)<=6)t=t.toLocaleString("en",{minimumFractionDigits:9,useGrouping:!1});else if(t-Math.trunc(t)===0)t=t.toLocaleString("en",{maximumFractionDigits:0,useGrouping:!1});else throw Error("Not enough precision for a number value. Use string value instead")}let e=!1;for(;t.startsWith("-");)e=!e,t=t.slice(1);if(t===".")throw Error("Invalid number");let r=t.split(".");if(r.length>2)throw Error("Invalid number");let n=r[0],o=r[1];if(n||(n="0"),o||(o="0"),o.length>9)throw Error("Invalid number");for(;o.length<9;)o+="0";let i=BigInt(n)*1000000000n+BigInt(o);return e&&(i=-i),i}}et.toNano=cf;function hf(t){let e=BigInt(t),r=!1;e<0&&(r=!0,e=-e);let o=(e%1000000000n).toString();for(;o.length<9;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];let f=`${(e/1000000000n).toString()}${o==="0"?"":`.${o}`}`;return r&&(f="-"+f),f}et.fromNano=hf});var Hi=g(ye=>{"use strict";s();a();Object.defineProperty(ye,"__esModule",{value:!0});ye.comment=ye.external=ye.internal=void 0;var Er=Y(),Fi=se(),zi=w(),gf=vn();function pf(t){let e=!0;t.bounce!==null&&t.bounce!==void 0&&(e=t.bounce);let r;if(typeof t.to=="string")r=Er.Address.parse(t.to);else if(Er.Address.isAddress(t.to))r=t.to;else throw new Error(`Invalid address ${t.to}`);let n;typeof t.value=="string"?n=(0,gf.toNano)(t.value):n=t.value;let o=Fi.Cell.EMPTY;return typeof t.body=="string"?o=(0,zi.beginCell)().storeUint(0,32).storeStringTail(t.body).endCell():t.body&&(o=t.body),{info:{type:"internal",dest:r,value:{coins:n},bounce:e,ihrDisabled:!0,bounced:!1,ihrFee:0n,forwardFee:0n,createdAt:0,createdLt:0n},init:t.init??void 0,body:o}}ye.internal=pf;function yf(t){let e;if(typeof t.to=="string")e=Er.Address.parse(t.to);else if(Er.Address.isAddress(t.to))e=t.to;else throw new Error(`Invalid address ${t.to}`);return{info:{type:"external-in",dest:e,importFee:0n},init:t.init??void 0,body:t.body||Fi.Cell.EMPTY}}ye.external=yf;function _f(t){return(0,zi.beginCell)().storeUint(0,32).storeStringTail(t).endCell()}ye.comment=_f});var Un=g(tt=>{"use strict";s();a();Object.defineProperty(tt,"__esModule",{value:!0});tt.storeAccountState=tt.loadAccountState=void 0;var Wi=Ze();function bf(t){return t.loadBit()?{type:"active",state:(0,Wi.loadStateInit)(t)}:t.loadBit()?{type:"frozen",stateHash:t.loadUintBig(256)}:{type:"uninit"}}tt.loadAccountState=bf;function Bf(t){return e=>{t.type==="active"?(e.storeBit(!0),e.store((0,Wi.storeStateInit)(t.state))):t.type==="frozen"?(e.storeBit(!1),e.storeBit(!0),e.storeUint(t.stateHash,256)):t.type==="uninit"&&(e.storeBit(!1),e.storeBit(!1))}}tt.storeAccountState=Bf});var te=g(rt=>{"use strict";s();a();Object.defineProperty(rt,"__esModule",{value:!0});rt.storeCurrencyCollection=rt.loadCurrencyCollection=void 0;var $i=ie();function mf(t){let e=t.loadCoins(),r=t.loadDict($i.Dictionary.Keys.Uint(32),$i.Dictionary.Values.BigVarUint(5));return r.size===0?{coins:e}:{other:r,coins:e}}rt.loadCurrencyCollection=mf;function Sf(t){return e=>{e.storeCoins(t.coins),t.other?e.storeDict(t.other):e.storeBit(0)}}rt.storeCurrencyCollection=Sf});var In=g(nt=>{"use strict";s();a();Object.defineProperty(nt,"__esModule",{value:!0});nt.storeAccountStorage=nt.loadAccountStorage=void 0;var Qi=Un(),Gi=te();function Cf(t){return{lastTransLt:t.loadUintBig(64),balance:(0,Gi.loadCurrencyCollection)(t),state:(0,Qi.loadAccountState)(t)}}nt.loadAccountStorage=Cf;function Pf(t){return e=>{e.storeUint(t.lastTransLt,64),e.store((0,Gi.storeCurrencyCollection)(t.balance)),e.store((0,Qi.storeAccountState)(t.state))}}nt.storeAccountStorage=Pf});var Tn=g(ot=>{"use strict";s();a();Object.defineProperty(ot,"__esModule",{value:!0});ot.storeStorageUsed=ot.loadStorageUsed=void 0;function wf(t){return{cells:t.loadVarUintBig(3),bits:t.loadVarUintBig(3),publicCells:t.loadVarUintBig(3)}}ot.loadStorageUsed=wf;function xf(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3),e.storeVarUint(t.publicCells,3)}}ot.storeStorageUsed=xf});var On=g(it=>{"use strict";s();a();Object.defineProperty(it,"__esModule",{value:!0});it.storeStorageInfo=it.loadStorageInfo=void 0;var Yi=Tn();function Af(t){return{used:(0,Yi.loadStorageUsed)(t),lastPaid:t.loadUint(32),duePayment:t.loadMaybeCoins()}}it.loadStorageInfo=Af;function Mf(t){return e=>{e.store((0,Yi.storeStorageUsed)(t.used)),e.storeUint(t.lastPaid,32),e.storeMaybeCoins(t.duePayment)}}it.storeStorageInfo=Mf});var En=g(st=>{"use strict";s();a();Object.defineProperty(st,"__esModule",{value:!0});st.storeAccount=st.loadAccount=void 0;var Xi=In(),Zi=On();function vf(t){return{addr:t.loadAddress(),storageStats:(0,Zi.loadStorageInfo)(t),storage:(0,Xi.loadAccountStorage)(t)}}st.loadAccount=vf;function Uf(t){return e=>{e.storeAddress(t.addr),e.store((0,Zi.storeStorageInfo)(t.storageStats)),e.store((0,Xi.storeAccountStorage)(t.storage))}}st.storeAccount=Uf});var Rn=g(at=>{"use strict";s();a();Object.defineProperty(at,"__esModule",{value:!0});at.storeAccountStatus=at.loadAccountStatus=void 0;function If(t){let e=t.loadUint(2);if(e===0)return"uninitialized";if(e===1)return"frozen";if(e===2)return"active";if(e===3)return"non-existing";throw Error("Invalid data")}at.loadAccountStatus=If;function Tf(t){return e=>{if(t==="uninitialized")e.storeUint(0,2);else if(t==="frozen")e.storeUint(1,2);else if(t==="active")e.storeUint(2,2);else if(t==="non-existing")e.storeUint(3,2);else throw Error("Invalid data");return e}}at.storeAccountStatus=Tf});var Rr=g(lt=>{"use strict";s();a();Object.defineProperty(lt,"__esModule",{value:!0});lt.storeAccountStatusChange=lt.loadAccountStatusChange=void 0;function Of(t){return t.loadBit()?t.loadBit()?"deleted":"frozen":"unchanged"}lt.loadAccountStatusChange=Of;function Ef(t){return e=>{if(t=="unchanged")e.storeBit(0);else if(t==="frozen")e.storeBit(1),e.storeBit(0);else if(t==="deleted")e.storeBit(1),e.storeBit(1);else throw Error("Invalid account status change")}}lt.storeAccountStatusChange=Ef});var kn=g(ut=>{"use strict";s();a();Object.defineProperty(ut,"__esModule",{value:!0});ut.storeCommonMessageInfoRelaxed=ut.loadCommonMessageInfoRelaxed=void 0;var Ji=te();function Rf(t){if(!t.loadBit()){let i=t.loadBit(),u=t.loadBit(),f=t.loadBit(),c=t.loadMaybeAddress(),h=t.loadAddress(),y=(0,Ji.loadCurrencyCollection)(t),B=t.loadCoins(),_=t.loadCoins(),b=t.loadUintBig(64),m=t.loadUint(32);return{type:"internal",ihrDisabled:i,bounce:u,bounced:f,src:c,dest:h,value:y,ihrFee:B,forwardFee:_,createdLt:b,createdAt:m}}if(!t.loadBit())throw Error("External In message is not possible for CommonMessageInfoRelaxed");let e=t.loadMaybeAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}ut.loadCommonMessageInfoRelaxed=Rf;function kf(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,Ji.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}ut.storeCommonMessageInfoRelaxed=kf});var jn=g(dt=>{"use strict";s();a();Object.defineProperty(dt,"__esModule",{value:!0});dt.storeMessageRelaxed=dt.loadMessageRelaxed=void 0;var qf=w(),es=kn(),qn=Ze();function jf(t){let e=(0,es.loadCommonMessageInfoRelaxed)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,qn.loadStateInit)(t.loadRef().beginParse()):r=(0,qn.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}dt.loadMessageRelaxed=jf;function Nf(t,e){return r=>{if(r.store((0,es.storeCommonMessageInfoRelaxed)(t.info)),t.init){r.storeBit(!0);let o=(0,qf.beginCell)().store((0,qn.storeStateInit)(t.init)),i=!1;e&&e.forceRef?i=!0:r.availableBits-2>=o.bits?i=!1:i=!0,i?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:r.availableBits-1>=t.body.bits.length&&r.refs+t.body.refs.length<=4&&!t.body.isExotic?n=!1:n=!0,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}dt.storeMessageRelaxed=Nf});var ss=g(H=>{"use strict";s();a();Object.defineProperty(H,"__esModule",{value:!0});H.loadOutList=H.storeOutList=H.loadOutAction=H.storeOutAction=void 0;var ts=jn(),Nn=w();function rs(t){switch(t.type){case"sendMsg":return Df(t);case"setCode":return Vf(t);default:throw new Error(`Unknown action type ${t.type}`)}}H.storeOutAction=rs;var ns=247711853;function Df(t){return e=>{e.storeUint(ns,32).storeUint(t.mode,8).storeRef((0,Nn.beginCell)().store((0,ts.storeMessageRelaxed)(t.outMsg)).endCell())}}var os=2907562126;function Vf(t){return e=>{e.storeUint(os,32).storeRef(t.newCode)}}function is(t){let e=t.loadUint(32);if(e===ns){let r=t.loadUint(8),n=(0,ts.loadMessageRelaxed)(t.loadRef().beginParse());return{type:"sendMsg",mode:r,outMsg:n}}if(e===os){let r=t.loadRef();return{type:"setCode",newCode:r}}throw new Error(`Unknown out action tag 0x${e.toString(16)}`)}H.loadOutAction=is;function Kf(t){let e=t.reduce((r,n)=>(0,Nn.beginCell)().storeRef(r).store(rs(n)).endCell(),(0,Nn.beginCell)().endCell());return r=>{r.storeSlice(e.beginParse())}}H.storeOutList=Kf;function Lf(t){let e=[];for(;t.remainingRefs;){let r=t.loadRef();e.push(is(t)),t=r.beginParse()}return e.reverse()}H.loadOutList=Lf});var Dn=g(ft=>{"use strict";s();a();Object.defineProperty(ft,"__esModule",{value:!0});ft.storeCommonMessageInfo=ft.loadCommonMessageInfo=void 0;var as=te();function Ff(t){if(!t.loadBit()){let i=t.loadBit(),u=t.loadBit(),f=t.loadBit(),c=t.loadAddress(),h=t.loadAddress(),y=(0,as.loadCurrencyCollection)(t),B=t.loadCoins(),_=t.loadCoins(),b=t.loadUintBig(64),m=t.loadUint(32);return{type:"internal",ihrDisabled:i,bounce:u,bounced:f,src:c,dest:h,value:y,ihrFee:B,forwardFee:_,createdLt:b,createdAt:m}}if(!t.loadBit()){let i=t.loadMaybeExternalAddress(),u=t.loadAddress(),f=t.loadCoins();return{type:"external-in",src:i,dest:u,importFee:f}}let e=t.loadAddress(),r=t.loadMaybeExternalAddress(),n=t.loadUintBig(64),o=t.loadUint(32);return{type:"external-out",src:e,dest:r,createdLt:n,createdAt:o}}ft.loadCommonMessageInfo=Ff;function zf(t){return e=>{if(t.type==="internal")e.storeBit(0),e.storeBit(t.ihrDisabled),e.storeBit(t.bounce),e.storeBit(t.bounced),e.storeAddress(t.src),e.storeAddress(t.dest),e.store((0,as.storeCurrencyCollection)(t.value)),e.storeCoins(t.ihrFee),e.storeCoins(t.forwardFee),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else if(t.type==="external-in")e.storeBit(1),e.storeBit(0),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeCoins(t.importFee);else if(t.type==="external-out")e.storeBit(1),e.storeBit(1),e.storeAddress(t.src),e.storeAddress(t.dest),e.storeUint(t.createdLt,64),e.storeUint(t.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}ft.storeCommonMessageInfo=zf});var Vn=g(ct=>{"use strict";s();a();Object.defineProperty(ct,"__esModule",{value:!0});ct.storeComputeSkipReason=ct.loadComputeSkipReason=void 0;function Hf(t){let e=t.loadUint(2);if(e===0)return"no-state";if(e===1)return"bad-state";if(e===2)return"no-gas";throw new Error(`Unknown ComputeSkipReason: ${e}`)}ct.loadComputeSkipReason=Hf;function Wf(t){return e=>{if(t==="no-state")e.storeUint(0,2);else if(t==="bad-state")e.storeUint(1,2);else if(t==="no-gas")e.storeUint(2,2);else throw new Error(`Unknown ComputeSkipReason: ${t}`)}}ct.storeComputeSkipReason=Wf});var Kn=g(ht=>{"use strict";s();a();Object.defineProperty(ht,"__esModule",{value:!0});ht.storeDepthBalanceInfo=ht.loadDepthBalanceInfo=void 0;var ls=te();function $f(t){return{splitDepth:t.loadUint(5),balance:(0,ls.loadCurrencyCollection)(t)}}ht.loadDepthBalanceInfo=$f;function Qf(t){return e=>{e.storeUint(t.splitDepth,5),e.store((0,ls.storeCurrencyCollection)(t.balance))}}ht.storeDepthBalanceInfo=Qf});var Ln=g(gt=>{"use strict";s();a();Object.defineProperty(gt,"__esModule",{value:!0});gt.storeHashUpdate=gt.loadHashUpdate=void 0;function Gf(t){if(t.loadUint(8)!==114)throw Error("Invalid data");let e=t.loadBuffer(32),r=t.loadBuffer(32);return{oldHash:e,newHash:r}}gt.loadHashUpdate=Gf;function Yf(t){return e=>{e.storeUint(114,8),e.storeBuffer(t.oldHash),e.storeBuffer(t.newHash)}}gt.storeHashUpdate=Yf});var zn=g(kr=>{"use strict";s();a();Object.defineProperty(kr,"__esModule",{value:!0});kr.loadMasterchainStateExtra=void 0;var Fn=ie(),Xf=te();function Zf(t){if(t.loadUint(16)!==52262)throw Error("Invalid data");t.loadBit()&&t.loadRef();let e=t.loadUintBig(256),r=Fn.Dictionary.load(Fn.Dictionary.Keys.Int(32),Fn.Dictionary.Values.Cell(),t),n=(0,Xf.loadCurrencyCollection)(t);return{config:r,configAddress:e,globalBalance:n}}kr.loadMasterchainStateExtra=Zf});var Wn=g(_e=>{"use strict";s();a();Object.defineProperty(_e,"__esModule",{value:!0});_e.MessageValue=_e.storeMessage=_e.loadMessage=void 0;var us=w(),ds=Dn(),Hn=Ze();function fs(t){let e=(0,ds.loadCommonMessageInfo)(t),r=null;t.loadBit()&&(t.loadBit()?r=(0,Hn.loadStateInit)(t.loadRef().beginParse()):r=(0,Hn.loadStateInit)(t));let n=t.loadBit()?t.loadRef():t.asCell();return{info:e,init:r,body:n}}_e.loadMessage=fs;function cs(t,e){return r=>{if(r.store((0,ds.storeCommonMessageInfo)(t.info)),t.init){r.storeBit(!0);let o=(0,us.beginCell)().store((0,Hn.storeStateInit)(t.init)),i=!1;e&&e.forceRef?i=!0:i=r.availableBits-2<o.bits+t.body.bits.length,i?(r.storeBit(!0),r.storeRef(o)):(r.storeBit(!1),r.storeBuilder(o))}else r.storeBit(!1);let n=!1;e&&e.forceRef?n=!0:n=r.availableBits-1<t.body.bits.length||r.refs+t.body.refs.length>4,n?(r.storeBit(!0),r.storeRef(t.body)):(r.storeBit(!1),r.storeBuilder(t.body.asBuilder()))}}_e.storeMessage=cs;_e.MessageValue={serialize(t,e){e.storeRef((0,us.beginCell)().store(cs(t)))},parse(t){return fs(t.loadRef().beginParse())}}});var hs=g(Ht=>{"use strict";s();a();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.SendMode=void 0;var Jf;(function(t){t[t.CARRY_ALL_REMAINING_BALANCE=128]="CARRY_ALL_REMAINING_BALANCE",t[t.CARRY_ALL_REMAINING_INCOMING_VALUE=64]="CARRY_ALL_REMAINING_INCOMING_VALUE",t[t.DESTROY_ACCOUNT_IF_ZERO=32]="DESTROY_ACCOUNT_IF_ZERO",t[t.PAY_GAS_SEPARATELY=1]="PAY_GAS_SEPARATELY",t[t.IGNORE_ERRORS=2]="IGNORE_ERRORS",t[t.NONE=0]="NONE"})(Jf=Ht.SendMode||(Ht.SendMode={}))});var $n=g(pt=>{"use strict";s();a();Object.defineProperty(pt,"__esModule",{value:!0});pt.storeShardAccount=pt.loadShardAccount=void 0;var gs=w(),ps=En();function ec(t){let e=t.loadRef(),r;if(!e.isExotic){let n=e.beginParse();n.loadBit()&&(r=(0,ps.loadAccount)(n))}return{account:r,lastTransactionHash:t.loadUintBig(256),lastTransactionLt:t.loadUintBig(64)}}pt.loadShardAccount=ec;function tc(t){return e=>{t.account?e.storeRef((0,gs.beginCell)().storeBit(!0).store((0,ps.storeAccount)(t.account))):e.storeRef((0,gs.beginCell)().storeBit(!1)),e.storeUint(t.lastTransactionHash,256),e.storeUint(t.lastTransactionLt,64)}}pt.storeShardAccount=tc});var Qn=g(re=>{"use strict";s();a();Object.defineProperty(re,"__esModule",{value:!0});re.storeShardAccounts=re.loadShardAccounts=re.ShardAccountRefValue=void 0;var ys=ie(),_s=Kn(),bs=$n();re.ShardAccountRefValue={parse:t=>{let e=(0,_s.loadDepthBalanceInfo)(t),r=(0,bs.loadShardAccount)(t);return{depthBalanceInfo:e,shardAccount:r}},serialize(t,e){e.store((0,_s.storeDepthBalanceInfo)(t.depthBalanceInfo)),e.store((0,bs.storeShardAccount)(t.shardAccount))}};function rc(t){return ys.Dictionary.load(ys.Dictionary.Keys.BigUint(256),re.ShardAccountRefValue,t)}re.loadShardAccounts=rc;function nc(t){return e=>{e.storeDict(t)}}re.storeShardAccounts=nc});var Gn=g(yt=>{"use strict";s();a();Object.defineProperty(yt,"__esModule",{value:!0});yt.storeShardIdent=yt.loadShardIdent=void 0;function oc(t){if(t.loadUint(2)!==0)throw Error("Invalid data");return{shardPrefixBits:t.loadUint(6),workchainId:t.loadInt(32),shardPrefix:t.loadUintBig(64)}}yt.loadShardIdent=oc;function ic(t){return e=>{e.storeUint(0,2),e.storeUint(t.shardPrefixBits,6),e.storeInt(t.workchainId,32),e.storeUint(t.shardPrefix,64)}}yt.storeShardIdent=ic});var Bs=g(qr=>{"use strict";s();a();Object.defineProperty(qr,"__esModule",{value:!0});qr.loadShardStateUnsplit=void 0;var sc=zn(),ac=Qn(),lc=Gn();function uc(t){if(t.loadUint(32)!==2418257890)throw Error("Invalid data");let e=t.loadInt(32),r=(0,lc.loadShardIdent)(t),n=t.loadUint(32),o=t.loadUint(32),i=t.loadUint(32),u=t.loadUintBig(64),f=t.loadUint(32);t.loadRef();let c=t.loadBit(),h=t.loadRef(),y;h.isExotic||(y=(0,ac.loadShardAccounts)(h.beginParse())),t.loadRef();let B=t.loadBit(),_=null;if(B){let b=t.loadRef();b.isExotic||(_=(0,sc.loadMasterchainStateExtra)(b.beginParse()))}return{globalId:e,shardId:r,seqno:n,vertSeqNo:o,genUtime:i,genLt:u,minRefMcSeqno:f,beforeSplit:c,accounts:y,extras:_}}qr.loadShardStateUnsplit=uc});var Yn=g(_t=>{"use strict";s();a();Object.defineProperty(_t,"__esModule",{value:!0});_t.storeSplitMergeInfo=_t.loadSplitMergeInfo=void 0;function dc(t){let e=t.loadUint(6),r=t.loadUint(6),n=t.loadUintBig(256),o=t.loadUintBig(256);return{currentShardPrefixLength:e,accountSplitDepth:r,thisAddress:n,siblingAddress:o}}_t.loadSplitMergeInfo=dc;function fc(t){return e=>{e.storeUint(t.currentShardPrefixLength,6),e.storeUint(t.accountSplitDepth,6),e.storeUint(t.thisAddress,256),e.storeUint(t.siblingAddress,256)}}_t.storeSplitMergeInfo=fc});var jr=g(bt=>{"use strict";s();a();Object.defineProperty(bt,"__esModule",{value:!0});bt.storeStorageUsedShort=bt.loadStorageUsedShort=void 0;function cc(t){let e=t.loadVarUintBig(3),r=t.loadVarUintBig(3);return{cells:e,bits:r}}bt.loadStorageUsedShort=cc;function hc(t){return e=>{e.storeVarUint(t.cells,3),e.storeVarUint(t.bits,3)}}bt.storeStorageUsedShort=hc});var Xn=g(Bt=>{"use strict";s();a();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.storeTransactionActionPhase=Bt.loadTransactionActionPhase=void 0;var ms=Rr(),Ss=jr();function gc(t){let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=(0,ms.loadAccountStatusChange)(t),i=t.loadBit()?t.loadCoins():void 0,u=t.loadBit()?t.loadCoins():void 0,f=t.loadInt(32),c=t.loadBit()?t.loadInt(32):void 0,h=t.loadUint(16),y=t.loadUint(16),B=t.loadUint(16),_=t.loadUint(16),b=t.loadUintBig(256),m=(0,Ss.loadStorageUsedShort)(t);return{success:e,valid:r,noFunds:n,statusChange:o,totalFwdFees:i,totalActionFees:u,resultCode:f,resultArg:c,totalActions:h,specActions:y,skippedActions:B,messagesCreated:_,actionListHash:b,totalMessageSize:m}}Bt.loadTransactionActionPhase=gc;function pc(t){return e=>{e.storeBit(t.success),e.storeBit(t.valid),e.storeBit(t.noFunds),e.store((0,ms.storeAccountStatusChange)(t.statusChange)),e.storeMaybeCoins(t.totalFwdFees),e.storeMaybeCoins(t.totalActionFees),e.storeInt(t.resultCode,32),e.storeMaybeInt(t.resultArg,32),e.storeUint(t.totalActions,16),e.storeUint(t.specActions,16),e.storeUint(t.skippedActions,16),e.storeUint(t.messagesCreated,16),e.storeUint(t.actionListHash,256),e.store((0,Ss.storeStorageUsedShort)(t.totalMessageSize))}}Bt.storeTransactionActionPhase=pc});var Zn=g(mt=>{"use strict";s();a();Object.defineProperty(mt,"__esModule",{value:!0});mt.storeTransactionBouncePhase=mt.loadTransactionBouncePhase=void 0;var Nr=jr();function yc(t){if(t.loadBit()){let e=(0,Nr.loadStorageUsedShort)(t),r=t.loadCoins(),n=t.loadCoins();return{type:"ok",messageSize:e,messageFees:r,forwardFees:n}}if(t.loadBit()){let e=(0,Nr.loadStorageUsedShort)(t),r=t.loadCoins();return{type:"no-funds",messageSize:e,requiredForwardFees:r}}return{type:"negative-funds"}}mt.loadTransactionBouncePhase=yc;function _c(t){return e=>{if(t.type==="ok")e.storeBit(!0),e.store((0,Nr.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.messageFees),e.storeCoins(t.forwardFees);else if(t.type==="negative-funds")e.storeBit(!1),e.storeBit(!1);else if(t.type==="no-funds")e.storeBit(!1),e.storeBit(!0),e.store((0,Nr.storeStorageUsedShort)(t.messageSize)),e.storeCoins(t.requiredForwardFees);else throw new Error("Invalid TransactionBouncePhase type")}}mt.storeTransactionBouncePhase=_c});var Jn=g(St=>{"use strict";s();a();Object.defineProperty(St,"__esModule",{value:!0});St.storeTransactionComputePhase=St.loadTransactionComputePhase=void 0;var bc=w(),Cs=Vn();function Bc(t){if(!t.loadBit()){let S=(0,Cs.loadComputeSkipReason)(t);return{type:"skipped",reason:S}}let e=t.loadBit(),r=t.loadBit(),n=t.loadBit(),o=t.loadCoins(),i=t.loadRef().beginParse(),u=i.loadVarUintBig(3),f=i.loadVarUintBig(3),c=i.loadBit()?i.loadVarUintBig(2):void 0,h=i.loadUint(8),y=i.loadInt(32),B=i.loadBit()?i.loadInt(32):void 0,_=i.loadUint(32),b=i.loadUintBig(256),m=i.loadUintBig(256);return{type:"vm",success:e,messageStateUsed:r,accountActivated:n,gasFees:o,gasUsed:u,gasLimit:f,gasCredit:c,mode:h,exitCode:y,exitArg:B,vmSteps:_,vmInitStateHash:b,vmFinalStateHash:m}}St.loadTransactionComputePhase=Bc;function mc(t){return e=>{if(t.type==="skipped"){e.storeBit(0),e.store((0,Cs.storeComputeSkipReason)(t.reason));return}e.storeBit(1),e.storeBit(t.success),e.storeBit(t.messageStateUsed),e.storeBit(t.accountActivated),e.storeCoins(t.gasFees),e.storeRef((0,bc.beginCell)().storeVarUint(t.gasUsed,3).storeVarUint(t.gasLimit,3).store(r=>t.gasCredit!==void 0&&t.gasCredit!==null?r.storeBit(1).storeVarUint(t.gasCredit,2):r.storeBit(0)).storeUint(t.mode,8).storeInt(t.exitCode,32).store(r=>t.exitArg!==void 0&&t.exitArg!==null?r.storeBit(1).storeInt(t.exitArg,32):r.storeBit(0)).storeUint(t.vmSteps,32).storeUint(t.vmInitStateHash,256).storeUint(t.vmFinalStateHash,256).endCell())}}St.storeTransactionComputePhase=mc});var eo=g(Ct=>{"use strict";s();a();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.storeTransactionCreditPhase=Ct.loadTransactionCreditPhase=void 0;var Ps=te();function Sc(t){let e=t.loadBit()?t.loadCoins():void 0,r=(0,Ps.loadCurrencyCollection)(t);return{dueFeesColelcted:e,credit:r}}Ct.loadTransactionCreditPhase=Sc;function Cc(t){return e=>{t.dueFeesColelcted===null||t.dueFeesColelcted===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.dueFeesColelcted)),e.store((0,Ps.storeCurrencyCollection)(t.credit))}}Ct.storeTransactionCreditPhase=Cc});var to=g(Pt=>{"use strict";s();a();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.storeTransactionsStoragePhase=Pt.loadTransactionStoragePhase=void 0;var ws=Rr();function Pc(t){let e=t.loadCoins(),r;t.loadBit()&&(r=t.loadCoins());let n=(0,ws.loadAccountStatusChange)(t);return{storageFeesCollected:e,storageFeesDue:r,statusChange:n}}Pt.loadTransactionStoragePhase=Pc;function wc(t){return e=>{e.storeCoins(t.storageFeesCollected),t.storageFeesDue===null||t.storageFeesDue===void 0?e.storeBit(!1):(e.storeBit(!0),e.storeCoins(t.storageFeesDue)),e.store((0,ws.storeAccountStatusChange)(t.statusChange))}}Pt.storeTransactionsStoragePhase=wc});var no=g(At=>{"use strict";s();a();Object.defineProperty(At,"__esModule",{value:!0});At.storeTransactionDescription=At.loadTransactionDescription=void 0;var ro=w(),Dr=Yn(),xs=oo(),wt=Xn(),As=Zn(),xt=Jn(),Ms=eo(),be=to();function xc(t){let e=t.loadUint(4);if(e===0){let r=t.loadBit(),n;t.loadBit()&&(n=(0,be.loadTransactionStoragePhase)(t));let o;t.loadBit()&&(o=(0,Ms.loadTransactionCreditPhase)(t));let i=(0,xt.loadTransactionComputePhase)(t),u;t.loadBit()&&(u=(0,wt.loadTransactionActionPhase)(t.loadRef().beginParse()));let f=t.loadBit(),c;t.loadBit()&&(c=(0,As.loadTransactionBouncePhase)(t));let h=t.loadBit();return{type:"generic",creditFirst:r,storagePhase:n,creditPhase:o,computePhase:i,actionPhase:u,bouncePhase:c,aborted:f,destroyed:h}}if(e===1)return{type:"storage",storagePhase:(0,be.loadTransactionStoragePhase)(t)};if(e===2||e===3){let r=e===3,n=(0,be.loadTransactionStoragePhase)(t),o=(0,xt.loadTransactionComputePhase)(t),i;t.loadBit()&&(i=(0,wt.loadTransactionActionPhase)(t.loadRef().beginParse()));let u=t.loadBit(),f=t.loadBit();return{type:"tick-tock",isTock:r,storagePhase:n,computePhase:o,actionPhase:i,aborted:u,destroyed:f}}if(e===4){let r=(0,Dr.loadSplitMergeInfo)(t),n;t.loadBit()&&(n=(0,be.loadTransactionStoragePhase)(t));let o=(0,xt.loadTransactionComputePhase)(t),i;t.loadBit()&&(i=(0,wt.loadTransactionActionPhase)(t.loadRef().beginParse()));let u=t.loadBit(),f=t.loadBit();return{type:"split-prepare",splitInfo:r,storagePhase:n,computePhase:o,actionPhase:i,aborted:u,destroyed:f}}if(e===5){let r=(0,Dr.loadSplitMergeInfo)(t),n=(0,xs.loadTransaction)(t.loadRef().beginParse()),o=t.loadBit();return{type:"split-install",splitInfo:r,prepareTransaction:n,installed:o}}throw Error(`Unsupported transaction description type ${e}`)}At.loadTransactionDescription=xc;function Ac(t){return e=>{if(t.type==="generic")e.storeUint(0,4),e.storeBit(t.creditFirst),t.storagePhase?(e.storeBit(!0),e.store((0,be.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),t.creditPhase?(e.storeBit(!0),e.store((0,Ms.storeTransactionCreditPhase)(t.creditPhase))):e.storeBit(!1),e.store((0,xt.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,ro.beginCell)().store((0,wt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),t.bouncePhase?(e.storeBit(!0),e.store((0,As.storeTransactionBouncePhase)(t.bouncePhase))):e.storeBit(!1),e.storeBit(t.destroyed);else if(t.type==="storage")e.storeUint(1,4),e.store((0,be.storeTransactionsStoragePhase)(t.storagePhase));else if(t.type==="tick-tock")e.storeUint(t.isTock?3:2,4),e.store((0,be.storeTransactionsStoragePhase)(t.storagePhase)),e.store((0,xt.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.storeRef((0,ro.beginCell)().store((0,wt.storeTransactionActionPhase)(t.actionPhase)))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-prepare")e.storeUint(4,4),e.store((0,Dr.storeSplitMergeInfo)(t.splitInfo)),t.storagePhase?(e.storeBit(!0),e.store((0,be.storeTransactionsStoragePhase)(t.storagePhase))):e.storeBit(!1),e.store((0,xt.storeTransactionComputePhase)(t.computePhase)),t.actionPhase?(e.storeBit(!0),e.store((0,wt.storeTransactionActionPhase)(t.actionPhase))):e.storeBit(!1),e.storeBit(t.aborted),e.storeBit(t.destroyed);else if(t.type==="split-install")e.storeUint(5,4),e.store((0,Dr.storeSplitMergeInfo)(t.splitInfo)),e.storeRef((0,ro.beginCell)().store((0,xs.storeTransaction)(t.prepareTransaction))),e.storeBit(t.installed);else throw Error(`Unsupported transaction description type ${t.type}`)}}At.storeTransactionDescription=Ac});var oo=g(Mt=>{"use strict";s();a();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.storeTransaction=Mt.loadTransaction=void 0;var Vr=w(),Mc=ie(),Kr=Rn(),vs=te(),Us=Ln(),io=Wn(),Is=no();function vc(t){let e=t.asCell();if(t.loadUint(4)!==7)throw Error("Invalid data");let r=t.loadUintBig(256),n=t.loadUintBig(64),o=t.loadUintBig(256),i=t.loadUintBig(64),u=t.loadUint(32),f=t.loadUint(15),c=(0,Kr.loadAccountStatus)(t),h=(0,Kr.loadAccountStatus)(t),B=t.loadRef().beginParse(),_=B.loadBit()?(0,io.loadMessage)(B.loadRef().beginParse()):void 0,b=B.loadDict(Mc.Dictionary.Keys.Uint(15),io.MessageValue);B.endParse();let m=(0,vs.loadCurrencyCollection)(t),S=(0,Us.loadHashUpdate)(t.loadRef().beginParse()),q=(0,Is.loadTransactionDescription)(t.loadRef().beginParse());return{address:r,lt:n,prevTransactionHash:o,prevTransactionLt:i,now:u,outMessagesCount:f,oldStatus:c,endStatus:h,inMessage:_,outMessages:b,totalFees:m,stateUpdate:S,description:q,raw:e,hash:()=>e.hash()}}Mt.loadTransaction=vc;function Uc(t){return e=>{e.storeUint(7,4),e.storeUint(t.address,256),e.storeUint(t.lt,64),e.storeUint(t.prevTransactionHash,256),e.storeUint(t.prevTransactionLt,64),e.storeUint(t.now,32),e.storeUint(t.outMessagesCount,15),e.store((0,Kr.storeAccountStatus)(t.oldStatus)),e.store((0,Kr.storeAccountStatus)(t.endStatus));let r=(0,Vr.beginCell)();t.inMessage?(r.storeBit(!0),r.storeRef((0,Vr.beginCell)().store((0,io.storeMessage)(t.inMessage)))):r.storeBit(!1),r.storeDict(t.outMessages),e.storeRef(r),e.store((0,vs.storeCurrencyCollection)(t.totalFees)),e.storeRef((0,Vr.beginCell)().store((0,Us.storeHashUpdate)(t.stateUpdate))),e.storeRef((0,Vr.beginCell)().store((0,Is.storeTransactionDescription)(t.description)))}}Mt.storeTransaction=Uc});var sa=g(d=>{"use strict";s();a();Object.defineProperty(d,"__esModule",{value:!0});d.loadStorageInfo=d.storeStateInit=d.loadStateInit=d.storeSplitMergeInfo=d.loadSplitMergeInfo=d.storeSimpleLibrary=d.loadSimpleLibrary=d.loadShardStateUnsplit=d.storeShardIdent=d.loadShardIdent=d.storeShardAccounts=d.loadShardAccounts=d.ShardAccountRefValue=d.storeShardAccount=d.loadShardAccount=d.SendMode=d.storeMessageRelaxed=d.loadMessageRelaxed=d.storeMessage=d.loadMessage=d.loadMasterchainStateExtra=d.storeHashUpdate=d.loadHashUpdate=d.storeDepthBalanceInfo=d.loadDepthBalanceInfo=d.storeCurrencyCollection=d.loadCurrencyCollection=d.storeComputeSkipReason=d.loadComputeSkipReason=d.storeCommonMessageInfoRelaxed=d.loadCommonMessageInfoRelaxed=d.storeCommonMessageInfo=d.loadCommonMessageInfo=d.storeOutList=d.loadOutList=d.storeOutAction=d.loadOutAction=d.storeAccountStorage=d.loadAccountStorage=d.storeAccountStatusChange=d.loadAccountStatusChange=d.storeAccountStatus=d.loadAccountStatus=d.storeAccountState=d.loadAccountState=d.storeAccount=d.loadAccount=d.comment=d.external=d.internal=void 0;d.storeTransactionsStoragePhase=d.loadTransactionStoragePhase=d.storeTransactionDescription=d.loadTransactionDescription=d.storeTransactionCreditPhase=d.loadTransactionCreditPhase=d.storeTransactionComputePhase=d.loadTransactionComputePhase=d.storeTransactionBouncePhase=d.loadTransactionBouncePhase=d.storeTransactionActionPhase=d.loadTransactionActionPhase=d.storeTransaction=d.loadTransaction=d.storeTickTock=d.loadTickTock=d.storeStorageUsedShort=d.loadStorageUsedShort=d.storeStorageUsed=d.loadStorageUsed=d.storeStorageInfo=void 0;var so=Hi();Object.defineProperty(d,"internal",{enumerable:!0,get:function(){return so.internal}});Object.defineProperty(d,"external",{enumerable:!0,get:function(){return so.external}});Object.defineProperty(d,"comment",{enumerable:!0,get:function(){return so.comment}});var Ts=En();Object.defineProperty(d,"loadAccount",{enumerable:!0,get:function(){return Ts.loadAccount}});Object.defineProperty(d,"storeAccount",{enumerable:!0,get:function(){return Ts.storeAccount}});var Os=Un();Object.defineProperty(d,"loadAccountState",{enumerable:!0,get:function(){return Os.loadAccountState}});Object.defineProperty(d,"storeAccountState",{enumerable:!0,get:function(){return Os.storeAccountState}});var Es=Rn();Object.defineProperty(d,"loadAccountStatus",{enumerable:!0,get:function(){return Es.loadAccountStatus}});Object.defineProperty(d,"storeAccountStatus",{enumerable:!0,get:function(){return Es.storeAccountStatus}});var Rs=Rr();Object.defineProperty(d,"loadAccountStatusChange",{enumerable:!0,get:function(){return Rs.loadAccountStatusChange}});Object.defineProperty(d,"storeAccountStatusChange",{enumerable:!0,get:function(){return Rs.storeAccountStatusChange}});var ks=In();Object.defineProperty(d,"loadAccountStorage",{enumerable:!0,get:function(){return ks.loadAccountStorage}});Object.defineProperty(d,"storeAccountStorage",{enumerable:!0,get:function(){return ks.storeAccountStorage}});var Lr=ss();Object.defineProperty(d,"loadOutAction",{enumerable:!0,get:function(){return Lr.loadOutAction}});Object.defineProperty(d,"storeOutAction",{enumerable:!0,get:function(){return Lr.storeOutAction}});Object.defineProperty(d,"loadOutList",{enumerable:!0,get:function(){return Lr.loadOutList}});Object.defineProperty(d,"storeOutList",{enumerable:!0,get:function(){return Lr.storeOutList}});var qs=Dn();Object.defineProperty(d,"loadCommonMessageInfo",{enumerable:!0,get:function(){return qs.loadCommonMessageInfo}});Object.defineProperty(d,"storeCommonMessageInfo",{enumerable:!0,get:function(){return qs.storeCommonMessageInfo}});var js=kn();Object.defineProperty(d,"loadCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return js.loadCommonMessageInfoRelaxed}});Object.defineProperty(d,"storeCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return js.storeCommonMessageInfoRelaxed}});var Ns=Vn();Object.defineProperty(d,"loadComputeSkipReason",{enumerable:!0,get:function(){return Ns.loadComputeSkipReason}});Object.defineProperty(d,"storeComputeSkipReason",{enumerable:!0,get:function(){return Ns.storeComputeSkipReason}});var Ds=te();Object.defineProperty(d,"loadCurrencyCollection",{enumerable:!0,get:function(){return Ds.loadCurrencyCollection}});Object.defineProperty(d,"storeCurrencyCollection",{enumerable:!0,get:function(){return Ds.storeCurrencyCollection}});var Vs=Kn();Object.defineProperty(d,"loadDepthBalanceInfo",{enumerable:!0,get:function(){return Vs.loadDepthBalanceInfo}});Object.defineProperty(d,"storeDepthBalanceInfo",{enumerable:!0,get:function(){return Vs.storeDepthBalanceInfo}});var Ks=Ln();Object.defineProperty(d,"loadHashUpdate",{enumerable:!0,get:function(){return Ks.loadHashUpdate}});Object.defineProperty(d,"storeHashUpdate",{enumerable:!0,get:function(){return Ks.storeHashUpdate}});var Ic=zn();Object.defineProperty(d,"loadMasterchainStateExtra",{enumerable:!0,get:function(){return Ic.loadMasterchainStateExtra}});var Ls=Wn();Object.defineProperty(d,"loadMessage",{enumerable:!0,get:function(){return Ls.loadMessage}});Object.defineProperty(d,"storeMessage",{enumerable:!0,get:function(){return Ls.storeMessage}});var Fs=jn();Object.defineProperty(d,"loadMessageRelaxed",{enumerable:!0,get:function(){return Fs.loadMessageRelaxed}});Object.defineProperty(d,"storeMessageRelaxed",{enumerable:!0,get:function(){return Fs.storeMessageRelaxed}});var Tc=hs();Object.defineProperty(d,"SendMode",{enumerable:!0,get:function(){return Tc.SendMode}});var zs=$n();Object.defineProperty(d,"loadShardAccount",{enumerable:!0,get:function(){return zs.loadShardAccount}});Object.defineProperty(d,"storeShardAccount",{enumerable:!0,get:function(){return zs.storeShardAccount}});var ao=Qn();Object.defineProperty(d,"ShardAccountRefValue",{enumerable:!0,get:function(){return ao.ShardAccountRefValue}});Object.defineProperty(d,"loadShardAccounts",{enumerable:!0,get:function(){return ao.loadShardAccounts}});Object.defineProperty(d,"storeShardAccounts",{enumerable:!0,get:function(){return ao.storeShardAccounts}});var Hs=Gn();Object.defineProperty(d,"loadShardIdent",{enumerable:!0,get:function(){return Hs.loadShardIdent}});Object.defineProperty(d,"storeShardIdent",{enumerable:!0,get:function(){return Hs.storeShardIdent}});var Oc=Bs();Object.defineProperty(d,"loadShardStateUnsplit",{enumerable:!0,get:function(){return Oc.loadShardStateUnsplit}});var Ws=Cn();Object.defineProperty(d,"loadSimpleLibrary",{enumerable:!0,get:function(){return Ws.loadSimpleLibrary}});Object.defineProperty(d,"storeSimpleLibrary",{enumerable:!0,get:function(){return Ws.storeSimpleLibrary}});var $s=Yn();Object.defineProperty(d,"loadSplitMergeInfo",{enumerable:!0,get:function(){return $s.loadSplitMergeInfo}});Object.defineProperty(d,"storeSplitMergeInfo",{enumerable:!0,get:function(){return $s.storeSplitMergeInfo}});var Qs=Ze();Object.defineProperty(d,"loadStateInit",{enumerable:!0,get:function(){return Qs.loadStateInit}});Object.defineProperty(d,"storeStateInit",{enumerable:!0,get:function(){return Qs.storeStateInit}});var Gs=On();Object.defineProperty(d,"loadStorageInfo",{enumerable:!0,get:function(){return Gs.loadStorageInfo}});Object.defineProperty(d,"storeStorageInfo",{enumerable:!0,get:function(){return Gs.storeStorageInfo}});var Ys=Tn();Object.defineProperty(d,"loadStorageUsed",{enumerable:!0,get:function(){return Ys.loadStorageUsed}});Object.defineProperty(d,"storeStorageUsed",{enumerable:!0,get:function(){return Ys.storeStorageUsed}});var Xs=jr();Object.defineProperty(d,"loadStorageUsedShort",{enumerable:!0,get:function(){return Xs.loadStorageUsedShort}});Object.defineProperty(d,"storeStorageUsedShort",{enumerable:!0,get:function(){return Xs.storeStorageUsedShort}});var Zs=Pn();Object.defineProperty(d,"loadTickTock",{enumerable:!0,get:function(){return Zs.loadTickTock}});Object.defineProperty(d,"storeTickTock",{enumerable:!0,get:function(){return Zs.storeTickTock}});var Js=oo();Object.defineProperty(d,"loadTransaction",{enumerable:!0,get:function(){return Js.loadTransaction}});Object.defineProperty(d,"storeTransaction",{enumerable:!0,get:function(){return Js.storeTransaction}});var ea=Xn();Object.defineProperty(d,"loadTransactionActionPhase",{enumerable:!0,get:function(){return ea.loadTransactionActionPhase}});Object.defineProperty(d,"storeTransactionActionPhase",{enumerable:!0,get:function(){return ea.storeTransactionActionPhase}});var ta=Zn();Object.defineProperty(d,"loadTransactionBouncePhase",{enumerable:!0,get:function(){return ta.loadTransactionBouncePhase}});Object.defineProperty(d,"storeTransactionBouncePhase",{enumerable:!0,get:function(){return ta.storeTransactionBouncePhase}});var ra=Jn();Object.defineProperty(d,"loadTransactionComputePhase",{enumerable:!0,get:function(){return ra.loadTransactionComputePhase}});Object.defineProperty(d,"storeTransactionComputePhase",{enumerable:!0,get:function(){return ra.storeTransactionComputePhase}});var na=eo();Object.defineProperty(d,"loadTransactionCreditPhase",{enumerable:!0,get:function(){return na.loadTransactionCreditPhase}});Object.defineProperty(d,"storeTransactionCreditPhase",{enumerable:!0,get:function(){return na.storeTransactionCreditPhase}});var oa=no();Object.defineProperty(d,"loadTransactionDescription",{enumerable:!0,get:function(){return oa.loadTransactionDescription}});Object.defineProperty(d,"storeTransactionDescription",{enumerable:!0,get:function(){return oa.storeTransactionDescription}});var ia=to();Object.defineProperty(d,"loadTransactionStoragePhase",{enumerable:!0,get:function(){return ia.loadTransactionStoragePhase}});Object.defineProperty(d,"storeTransactionsStoragePhase",{enumerable:!0,get:function(){return ia.storeTransactionsStoragePhase}})});var la=g(Fr=>{"use strict";s();a();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.openContract=void 0;var Ec=Y(),aa=se();function Rc(t,e){let r,n=null;if(!Ec.Address.isAddress(t.address))throw Error("Invalid address");if(r=t.address,t.init){if(!(t.init.code instanceof aa.Cell))throw Error("Invalid init.code");if(!(t.init.data instanceof aa.Cell))throw Error("Invalid init.data");n=t.init}let o=e({address:r,init:n});return new Proxy(t,{get(i,u){let f=i[u];return typeof u=="string"&&(u.startsWith("get")||u.startsWith("send"))&&typeof f=="function"?(...c)=>f.apply(i,[o,...c]):f}})}Fr.openContract=Rc});var ua=g(zr=>{"use strict";s();a();Object.defineProperty(zr,"__esModule",{value:!0});zr.ComputeError=void 0;var Wt=class extends Error{constructor(e,r,n){super(e),this.exitCode=r,this.debugLogs=n&&n.debugLogs?n.debugLogs:null,this.logs=n&&n.logs?n.logs:null,Object.setPrototypeOf(this,Wt.prototype)}};zr.ComputeError=Wt});var da=g(Hr=>{"use strict";s();a();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.getMethodId=void 0;var kc=new Int16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);function qc(t){t instanceof l.Buffer||(t=l.Buffer.from(t));let e=0;for(let r=0;r<t.length;r++){let n=t[r];e=(kc[(e>>8^n)&255]^e<<8)&65535}return e}function jc(t){return qc(t)&65535|65536}Hr.getMethodId=jc});var ca=g(vt=>{"use strict";s();a();Object.defineProperty(vt,"__esModule",{value:!0});vt.safeSignVerify=vt.safeSign=void 0;var lo=xr(),Nc=8,Dc=64;function fa(t,e){let r=l.Buffer.from(e);if(r.length>Dc)throw Error("Seed can	 be longer than 64 bytes");if(r.length<Nc)throw Error("Seed must be at least 8 bytes");return(0,lo.sha256_sync)(l.Buffer.concat([l.Buffer.from([255,255]),r,t.hash()]))}function Vc(t,e,r="ton-safe-sign-magic"){return(0,lo.sign)(fa(t,r),e)}vt.safeSign=Vc;function Kc(t,e,r,n="ton-safe-sign-magic"){return(0,lo.signVerify)(fa(t,n),e,r)}vt.safeSignVerify=Kc});var W=g(p=>{"use strict";s();a();var Lc=p&&p.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fc=p&&p.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lc(e,t,r)};Object.defineProperty(p,"__esModule",{value:!0});p.safeSignVerify=p.safeSign=p.getMethodId=p.base32Encode=p.base32Decode=p.crc32c=p.crc16=p.fromNano=p.toNano=p.ComputeError=p.openContract=p.TupleBuilder=p.TupleReader=p.serializeTuple=p.parseTuple=p.generateMerkleUpdate=p.generateMerkleProofDirect=p.generateMerkleProof=p.exoticPruned=p.exoticMerkleUpdate=p.convertToMerkleProof=p.exoticMerkleProof=p.Dictionary=p.Cell=p.CellType=p.Slice=p.beginCell=p.Builder=p.BitBuilder=p.BitReader=p.BitString=p.contractAddress=p.ADNLAddress=p.ExternalAddress=p.address=p.Address=void 0;var ha=Y();Object.defineProperty(p,"Address",{enumerable:!0,get:function(){return ha.Address}});Object.defineProperty(p,"address",{enumerable:!0,get:function(){return ha.address}});var zc=rr();Object.defineProperty(p,"ExternalAddress",{enumerable:!0,get:function(){return zc.ExternalAddress}});var Hc=Ao();Object.defineProperty(p,"ADNLAddress",{enumerable:!0,get:function(){return Hc.ADNLAddress}});var Wc=ji();Object.defineProperty(p,"contractAddress",{enumerable:!0,get:function(){return Wc.contractAddress}});var $c=X();Object.defineProperty(p,"BitString",{enumerable:!0,get:function(){return $c.BitString}});var Qc=J();Object.defineProperty(p,"BitReader",{enumerable:!0,get:function(){return Qc.BitReader}});var Gc=qt();Object.defineProperty(p,"BitBuilder",{enumerable:!0,get:function(){return Gc.BitBuilder}});var ga=w();Object.defineProperty(p,"Builder",{enumerable:!0,get:function(){return ga.Builder}});Object.defineProperty(p,"beginCell",{enumerable:!0,get:function(){return ga.beginCell}});var Yc=cr();Object.defineProperty(p,"Slice",{enumerable:!0,get:function(){return Yc.Slice}});var Xc=ke();Object.defineProperty(p,"CellType",{enumerable:!0,get:function(){return Xc.CellType}});var Zc=se();Object.defineProperty(p,"Cell",{enumerable:!0,get:function(){return Zc.Cell}});var Jc=ie();Object.defineProperty(p,"Dictionary",{enumerable:!0,get:function(){return Jc.Dictionary}});var pa=Dt();Object.defineProperty(p,"exoticMerkleProof",{enumerable:!0,get:function(){return pa.exoticMerkleProof}});Object.defineProperty(p,"convertToMerkleProof",{enumerable:!0,get:function(){return pa.convertToMerkleProof}});var eh=pr();Object.defineProperty(p,"exoticMerkleUpdate",{enumerable:!0,get:function(){return eh.exoticMerkleUpdate}});var th=Br();Object.defineProperty(p,"exoticPruned",{enumerable:!0,get:function(){return th.exoticPruned}});var ya=sr();Object.defineProperty(p,"generateMerkleProof",{enumerable:!0,get:function(){return ya.generateMerkleProof}});Object.defineProperty(p,"generateMerkleProofDirect",{enumerable:!0,get:function(){return ya.generateMerkleProofDirect}});var rh=ln();Object.defineProperty(p,"generateMerkleUpdate",{enumerable:!0,get:function(){return rh.generateMerkleUpdate}});var _a=Vi();Object.defineProperty(p,"parseTuple",{enumerable:!0,get:function(){return _a.parseTuple}});Object.defineProperty(p,"serializeTuple",{enumerable:!0,get:function(){return _a.serializeTuple}});var nh=Ki();Object.defineProperty(p,"TupleReader",{enumerable:!0,get:function(){return nh.TupleReader}});var oh=Li();Object.defineProperty(p,"TupleBuilder",{enumerable:!0,get:function(){return oh.TupleBuilder}});Fc(sa(),p);var ih=la();Object.defineProperty(p,"openContract",{enumerable:!0,get:function(){return ih.openContract}});var sh=ua();Object.defineProperty(p,"ComputeError",{enumerable:!0,get:function(){return sh.ComputeError}});var ba=vn();Object.defineProperty(p,"toNano",{enumerable:!0,get:function(){return ba.toNano}});Object.defineProperty(p,"fromNano",{enumerable:!0,get:function(){return ba.fromNano}});var ah=tr();Object.defineProperty(p,"crc16",{enumerable:!0,get:function(){return ah.crc16}});var lh=Bn();Object.defineProperty(p,"crc32c",{enumerable:!0,get:function(){return lh.crc32c}});var Ba=nn();Object.defineProperty(p,"base32Decode",{enumerable:!0,get:function(){return Ba.base32Decode}});Object.defineProperty(p,"base32Encode",{enumerable:!0,get:function(){return Ba.base32Encode}});var uh=da();Object.defineProperty(p,"getMethodId",{enumerable:!0,get:function(){return uh.getMethodId}});var ma=ca();Object.defineProperty(p,"safeSign",{enumerable:!0,get:function(){return ma.safeSign}});Object.defineProperty(p,"safeSignVerify",{enumerable:!0,get:function(){return ma.safeSignVerify}})});var Sa=g(Wr=>{"use strict";s();a();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.WalletContractV3R2=void 0;var j=W(),dh=Et(),$t=class{static create(e){return new $t(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=j.Cell.fromBoc(l.Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],i=(0,j.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:i},this.address=(0,j.contractAddress)(e,{code:o,data:i})}createTransfer(e){let r=j.SendMode.PAY_GAS_SEPARATELY+j.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId}),o=(0,j.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,j.beginCell)().store((0,j.storeMessage)(o)).endCell()}createWalletTransferV3(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,j.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let o=0;o<32;o++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let o of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,j.beginCell)().store((0,j.storeMessageRelaxed)(o)));let n=dh.signUtil.ed25519.sign(r.endCell().hash(),e.secretKey);return(0,j.beginCell)().storeBuffer(l.Buffer.from(n)).storeBuilder(r).endCell()}};Wr.WalletContractV3R2=$t});var Ca=g($=>{"use strict";s();a();Object.defineProperty($,"__esModule",{value:!0});$.createWalletTransferV4=$.createWalletTransferV3=$.createWalletTransferV2=$.createWalletTransferV1=void 0;var A=W(),$r=xr();function fh(t){let e=(0,A.beginCell)().storeUint(t.seqno,32);t.message&&(e.storeUint(t.sendMode,8),e.storeRef((0,A.beginCell)().store((0,A.storeMessageRelaxed)(t.message))));let r=(0,$r.sign)(e.endCell().hash(),t.secretKey);return(0,A.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}$.createWalletTransferV1=fh;function ch(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,A.beginCell)().storeUint(t.seqno,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,A.beginCell)().store((0,A.storeMessageRelaxed)(o)));let r=(0,$r.sign)(e.endCell().hash(),t.secretKey);return(0,A.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}$.createWalletTransferV2=ch;function hh(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,A.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+60,32);e.storeUint(t.seqno,32);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,A.beginCell)().store((0,A.storeMessageRelaxed)(o)));let r=(0,$r.sign)(e.endCell().hash(),t.secretKey);return(0,A.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}$.createWalletTransferV3=hh;function gh(t){if(t.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let e=(0,A.beginCell)().storeUint(t.walletId,32);if(t.seqno===0)for(let o=0;o<32;o++)e.storeBit(1);else e.storeUint(t.timeout||Math.floor(Date.now()/1e3)+600,32);e.storeUint(t.seqno,32),e.storeUint(0,8);for(let o of t.messages)e.storeUint(t.sendMode,8),e.storeRef((0,A.beginCell)().store((0,A.storeMessageRelaxed)(o)));let r=(0,$r.sign)(e.endCell().hash(),t.secretKey);return(0,A.beginCell)().storeBuffer(r).storeBuilder(e).endCell()}$.createWalletTransferV4=gh});var Gt=g(Qr=>{"use strict";s();a();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.WalletContractV4=void 0;var ne=W(),ph=Ca(),Qt=class{static create(e){return new Qt(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=698983191+e;let o=ne.Cell.fromBoc(l.Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],i=(0,ne.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:o,data:i},this.address=(0,ne.contractAddress)(e,{code:o,data:i})}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return(await e.getState()).state.type==="active"?(await e.get("seqno",[])).stack.readNumber():0}async send(e,r){await e.external(r)}async sendTransfer(e,r){let n=this.createTransfer(r);await this.send(e,n)}createTransfer(e){let r=ne.SendMode.PAY_GAS_SEPARATELY+ne.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=!1;(!e.secretKey||e.secretKey.length==0)&&(e.secretKey=l.Buffer.alloc(64),n=!0);let o=(0,ph.createWalletTransferV4)({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId});if(n)return o;let i=(0,ne.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:o});return(0,ne.beginCell)().store((0,ne.storeMessage)(i)).endCell()}sender(e,r){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:r,sendMode:n.sendMode,messages:[(0,ne.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}};Qr.WalletContractV4=Qt});var Pa=g(Gr=>{"use strict";s();a();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.VenomWalletV3=void 0;var N=W(),yh=Et(),Yt=class{static create(e){return new Yt(e.workchain,e.publicKey,e.walletId)}constructor(e,r,n){this.workchain=e,this.publicKey=r,n!=null?this.walletId=n:this.walletId=1269378442+e;let o=N.Cell.fromBoc(l.Buffer.from("te6ccgEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVA==","base64"))[0],i=(0,N.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(r).endCell();this.init={code:o,data:i},this.address=(0,N.contractAddress)(e,{code:o,data:i})}createTransfer(e){let r=N.SendMode.PAY_GAS_SEPARATELY+N.SendMode.IGNORE_ERRORS;e.sendMode!==null&&e.sendMode!==void 0&&(r=e.sendMode);let n=this.createWalletTransferV3Venom({seqno:e.seqno,sendMode:r,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId,globalId:e.globalId}),o=(0,N.external)({to:this.address,init:e.seqno===0?{code:this.init.code,data:this.init.data}:void 0,body:n});return(0,N.beginCell)().store((0,N.storeMessage)(o)).endCell()}createWalletTransferV3Venom(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,N.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let u=0;u<32;u++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+600,32);r.storeUint(e.seqno,32);for(let u of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,N.beginCell)().store((0,N.storeMessageRelaxed)(u)));let n=l.Buffer.allocUnsafe(4);n.writeInt32BE(e.globalId);let o=l.Buffer.concat([n,r.endCell().hash()],36),i=yh.signUtil.ed25519.sign(o,e.secretKey);return(0,N.beginCell)().storeBuffer(l.Buffer.from(i)).storeBuilder(r).endCell()}};Gr.VenomWalletV3=Yt});var uo=g(Be=>{"use strict";s();a();Object.defineProperty(Be,"__esModule",{value:!0});Be.VenomWalletV3=Be.WalletContractV4=Be.WalletContractV3R2=void 0;var _h=Sa();Object.defineProperty(Be,"WalletContractV3R2",{enumerable:!0,get:function(){return _h.WalletContractV3R2}});var bh=Gt();Object.defineProperty(Be,"WalletContractV4",{enumerable:!0,get:function(){return bh.WalletContractV4}});var Bh=Pa();Object.defineProperty(Be,"VenomWalletV3",{enumerable:!0,get:function(){return Bh.VenomWalletV3}})});var fo=g(M=>{"use strict";s();a();Object.defineProperty(M,"__esModule",{value:!0});M.toBase64Address=M.convertAddress=M.validateAddress=M.getVenomAddressBySeed=M.parseAddress=M.getAddressBySeed=M.getPubKeyBySeed=void 0;var Pe=Et(),mh=uo(),Ut=W(),Sh=Gt();function Ch(t){let{publicKey:e}=Pe.signUtil.ed25519.fromSeed(Pe.base.fromHex(t));return Pe.base.toHex(e)}M.getPubKeyBySeed=Ch;function Ph(t){let{publicKey:e}=Pe.signUtil.ed25519.fromSeed(Pe.base.fromHex(t));return Sh.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(e)}).address.toString({bounceable:!1})}M.getAddressBySeed=Ph;function wa(t){try{if(Ut.Address.isRaw(t))return{address:Ut.Address.parseRaw(t),isRaw:!0,isValid:!0};if(Ut.Address.isFriendly(t))return{...Ut.Address.parseFriendly(t),isUserFriendly:!0,isValid:!0}}catch{}return{isValid:!1}}M.parseAddress=wa;function wh(t){let{publicKey:e}=Pe.signUtil.ed25519.fromSeed(Pe.base.fromHex(t));return mh.VenomWalletV3.create({workchain:0,publicKey:l.Buffer.from(e)}).address.toRawString()}M.getVenomAddressBySeed=wh;function xh(t){try{return Ut.Address.parse(t)}catch{return!1}}M.validateAddress=xh;function Ah(t){let e=wa(t);if(e.isValid){let r=e.address?.toRawString(),n=e.address?.toString({bounceable:!0,urlSafe:!0}),o=e.address?.toString({bounceable:!1,urlSafe:!0});return{raw:r,addrBounceable:{bounceable:!0,urlSafe:!0,userFriendlyBounceable:n},addrUnounceable:{bounceable:!1,urlSafe:!0,userFriendlyUnbounceable:o}}}else return e}M.convertAddress=Ah;function Mh(t,e=!0,r){return typeof t=="string"&&(t=Ut.Address.parse(t)),t.toString({urlSafe:!0,bounceable:e,testOnly:r==="testnet"})}M.toBase64Address=Mh});var Yr=g(P=>{"use strict";s();a();Object.defineProperty(P,"__esModule",{value:!0});P.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=P.NFT_TRANSFER_TONCOIN_AMOUNT=P.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=P.TOKEN_TRANSFER_TONCOIN_AMOUNT=P.NOTCOIN_EXCHANGERS=P.NOTCOIN_FORWARD_TON_AMOUNT=P.BURN_CHUNK_DURATION_APPROX_SEC=P.NOTCOIN_VOUCHERS_ADDRESS=P.NFT_BATCH_SIZE=P.TRANSFER_TIMEOUT_SEC=void 0;P.TRANSFER_TIMEOUT_SEC=600;P.NFT_BATCH_SIZE=4;P.NOTCOIN_VOUCHERS_ADDRESS="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW";P.BURN_CHUNK_DURATION_APPROX_SEC=30;P.NOTCOIN_FORWARD_TON_AMOUNT=30000000n;P.NOTCOIN_EXCHANGERS=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"];P.TOKEN_TRANSFER_TONCOIN_AMOUNT=100000000n;P.TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n;P.NFT_TRANSFER_TONCOIN_AMOUNT=100000000n;P.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT=1n});var Ia=g(v=>{"use strict";s();a();Object.defineProperty(v,"__esModule",{value:!0});v.buildNftTransferPayload=v.buildNotcoinVoucherExchange=v.packBytesAsSnake=v.commentToBytes=v.OpCode=v.NftOpCode=void 0;var we=W(),co=Yr(),vh=Xr(),xa;(function(t){t[t.TransferOwnership=1607220500]="TransferOwnership",t[t.OwnershipAssigned=85167505]="OwnershipAssigned"})(xa=v.NftOpCode||(v.NftOpCode={}));var Aa;(function(t){t[t.Comment=0]="Comment",t[t.Encrypted=560454219]="Encrypted"})(Aa=v.OpCode||(v.OpCode={}));function Ma(t){let e=l.Buffer.from(t),r=new Uint8Array(e.length+4),n=l.Buffer.alloc(4);return n.writeUInt32BE(Aa.Comment),r.set(n,0),r.set(e,4),r}v.commentToBytes=Ma;var Uh=127;function va(t,e=Uh){let r=l.Buffer.from(t);if(r.length<=e)return t;let n=new we.Builder,o,i=n;for(let[u,f]of r.entries())i.availableBits<8&&(o?.storeRef(i),o=i,i=new we.Builder),i=i.storeUint(f,8),u===r.length-1&&o?.storeRef(i);return n.asCell()}v.packBytesAsSnake=va;function Ih(t,e,r){let n=we.Address.parse(e).hash.readUint8()>>4,o=co.NOTCOIN_EXCHANGERS[n],i=new we.Builder().storeUint(1609328194,32).storeUint(r,64).endCell();return Ua(t,o,i,co.NOTCOIN_FORWARD_TON_AMOUNT)}v.buildNotcoinVoucherExchange=Ih;function Ua(t,e,r,n=co.NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT){let o=new we.Builder().storeUint(xa.TransferOwnership,32).storeUint((0,vh.generateQueryId)(),64).storeAddress(we.Address.parse(e)).storeAddress(we.Address.parse(t)).storeBit(!1).storeCoins(n),i;if(r)if(typeof r=="string"){let u=Ma(r),f=Math.floor(o.availableBits/8);i=va(u,f)}else i=r;return i instanceof Uint8Array?(o.storeBit(0),o=o.storeBuffer(l.Buffer.from(i))):o=o.storeMaybeRef(i),o.endCell()}v.buildNftTransferPayload=Ua});var Xr=g(D=>{"use strict";s();a();Object.defineProperty(D,"__esModule",{value:!0});D.bigintRandom=D.generateQueryId=D.buildNotcoinVoucherExchange=D.buildNftTransferPayload=D.signMultiTransaction=void 0;var Th=Me(),Oh=ho();Object.defineProperty(D,"signMultiTransaction",{enumerable:!0,get:function(){return Oh.signMultiTransaction}});var Ta=Ia();Object.defineProperty(D,"buildNftTransferPayload",{enumerable:!0,get:function(){return Ta.buildNftTransferPayload}});Object.defineProperty(D,"buildNotcoinVoucherExchange",{enumerable:!0,get:function(){return Ta.buildNotcoinVoucherExchange}});function Eh(){return Oa(8)}D.generateQueryId=Eh;function Oa(t){let e=BigInt(0);for(let r of(0,Th.randomBytes)(t)){let n=BigInt(r);e=(e<<BigInt(8))+n}return e}D.bigintRandom=Oa});var ho=g(Q=>{"use strict";s();a();Object.defineProperty(Q,"__esModule",{value:!0});Q.signMultiTransaction=Q.jettonTransfer=Q.venomTransfer=Q.transfer=void 0;var Rh=uo(),I=Et(),me=W(),xe=W(),go=Gt(),kh=fo(),qh=Xr(),jh=Yr();function Nh(t,e){var r,n;if(e){let{secretKey:f,publicKey:c}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e));r=f,n=c}else n=I.base.fromHex(t.publicKey);let o=go.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(n)}),i=[(0,me.internal)({to:t.to,value:BigInt(t.amount),bounce:!1,body:t.memo})],u=o.createTransfer({seqno:t.seqno,messages:i,secretKey:e?l.Buffer.from(r):l.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:I.base.toBase64(u.toBoc())}}Q.transfer=Nh;function Dh(t,e){let{secretKey:r,publicKey:n}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e)),o=Rh.VenomWalletV3.create({workchain:0,publicKey:l.Buffer.from(n)}),i=[(0,me.internal)({to:t.to,value:BigInt(t.amount),bounce:t.toIsInit,body:t.memo})],u=o.createTransfer({seqno:t.seqno,messages:i,secretKey:l.Buffer.from(r),globalId:t.globalId,sendMode:t.sendMode,timeout:t.expireAt});return{id:I.base.toBase64(u.hash()),body:I.base.toBase64(u.toBoc())}}Q.venomTransfer=Dh;function Vh(t,e){var r,n;if(e){let{secretKey:m,publicKey:S}=I.signUtil.ed25519.fromSeed(I.base.fromHex(e));r=m,n=S}else n=I.base.fromHex(t.publicKey);let o=go.WalletContractV4.create({workchain:0,publicKey:l.Buffer.from(n)}),i=o.address,u=xe.Address.parse(t.to),f=xe.Address.parse(t.fromJettonAccount);if(t.decimal<0)throw new Error("invalid decimal");if(BigInt(t.amount)<0)throw new Error("invalid amount");let h=t.queryId?BigInt(t.queryId):(0,qh.generateQueryId)(),y,B=(0,xe.beginCell)().storeUint(260734629,32).storeUint(h,64).storeCoins(BigInt(t.amount)).storeAddress(u).storeAddress(i).storeBit(!1).storeCoins(BigInt(t.invokeNotificationFee||"1"));if(t.memo){let m=(0,xe.beginCell)().storeUint(0,32).storeStringTail(t.memo).endCell();y=B.storeBit(!0).storeRef(m).endCell()}else y=B.storeBit(!1).endCell();let _=[(0,me.internal)({to:f,value:BigInt(t.messageAttachedTons||"50000000"),body:y,bounce:!1})],b=o.createTransfer({seqno:t.seqno,messages:_,secretKey:e?l.Buffer.from(r):l.Buffer.alloc(0),sendMode:t.sendMode,timeout:t.expireAt});return{boc:I.base.toBase64(b.toBoc())}}Q.jettonTransfer=Vh;async function Kh(t,e,r,n,o,i){n||(n=Math.round(Date.now()/1e3)+jh.TRANSFER_TIMEOUT_SEC);let u=e.map(m=>{let{amount:S,toAddress:q,stateInit:Tt,isBase64Payload:Jt}=m,{payload:K}=m;if(Jt&&typeof K=="string")K=xe.Cell.fromBase64(K);else if(typeof K=="string")try{K=xe.Cell.fromBase64(K)}catch{}let Ot=Tt?{code:Tt.refs[0],data:Tt.refs[1]}:void 0;return(0,me.internal)({value:S,to:q,body:K,bounce:(0,kh.parseAddress)(q).isBounceable,init:Ot})});var f,c;if(t){let{secretKey:m,publicKey:S}=I.signUtil.ed25519.fromSeed(I.base.fromHex(t));f=m,c=S}else c=I.base.fromHex(i);let h=go.WalletContractV4.create({workchain:o==1?1:0,publicKey:l.Buffer.from(c)}),y=h.createTransfer({seqno:r,secretKey:t?l.Buffer.from(f):l.Buffer.alloc(0),messages:u,sendMode:me.SendMode.PAY_GAS_SEPARATELY+me.SendMode.IGNORE_ERRORS,timeout:n}),B=y.toBoc().toString("base64"),b=Lh(h,r,y).toBoc().toString("base64");return{seqno:r,transaction:B,externalMessage:b}}Q.signMultiTransaction=Kh;function Lh(t,e,r){return(0,xe.beginCell)().storeWritable((0,me.storeMessage)((0,me.external)({to:t.address,init:e===0?t.init:void 0,body:r}))).endCell()}});var Wh=g(G=>{s();a();var Fh=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.JettonWallet=G.VenomWallet=G.TonWallet=void 0;var V=qa(),Ae=fo(),It=ho(),Ea=ka(),R=Et(),zh=Gt(),Xt=W(),Hh=Fh(_o()),Zr=Xr(),Ra=Yr(),Zt=class extends V.BaseWallet{async getRandomPrivateKey(){try{return Promise.resolve((0,V.ed25519_getRandomPrivateKey)(!1,"hex"))}catch{return Promise.reject(V.GenPrivateKeyError)}}async getDerivedPath(e){return`m/44'/607'/${e.index}'`}async getDerivedPrivateKey(e){try{if(e.hdPath)return Promise.resolve((0,V.ed25519_getDerivedPrivateKey)(e,!1,"hex"));{let r=await(0,Ea.mnemonicToSeed)(e.mnemonic.split(" ")),n=R.base.toHex(r);return Promise.resolve(n)}}catch{return Promise.reject(V.GenPrivateKeyError)}}async getNewAddress(e){try{let r={address:(0,Ae.getAddressBySeed)(e.privateKey),publicKey:(0,Ae.getPubKeyBySeed)(e.privateKey)};return Promise.resolve(r)}catch{return Promise.reject(V.NewAddressError)}}async validAddress(e){let r=(0,Ae.parseAddress)(e.address);return Promise.resolve(r)}async parseAddress(e){let r=(0,Ae.parseAddress)(e.address);return Promise.resolve(r)}async convertAddress(e){let r=(0,Ae.convertAddress)(e.address);return Promise.resolve(r)}async validateMnemonicOfTon(e){return(0,Ea.validateMnemonic)(e.mnemonicArray,e.password)}async signTransaction(e){let r=e.data;try{if(r.type=="transfer")return(0,It.transfer)(e.data,e.privateKey);if(r.type=="jettonTransfer")return(0,It.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}async signJettonTransaction(e){try{return(0,It.jettonTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}async getWalletInformation(e){let{workChain:r,publicKey:n,privateKey:o,walletVersion:i}=e,u=r==1?1:0,f;if(n)f=R.base.fromHex(n);else{let{publicKey:b}=R.signUtil.ed25519.fromSeed(R.base.fromHex(o));f=l.Buffer.from(b)}let c;(!i||i=="v4r2"||i=="v4R2")&&(c=zh.WalletContractV4.create({workchain:u,publicKey:f}));let h=c.init?.code?.toBoc().toString("base64"),y=c.init?.data?.toBoc().toString("base64"),B=c.address,_=(0,Xt.beginCell)().storeWritable((0,Xt.storeStateInit)(c.init)).endCell().toBoc().toString("base64");return{initCode:h,initData:y,walletStateInit:_,walletAddress:B.toString({bounceable:!1})}}async getTransactionBodyForSimulate(e){if(e.privateKey){let{publicKey:n}=R.signUtil.ed25519.fromSeed(R.base.fromHex(e.privateKey)),o=R.base.toHex(n);if(e.data.publicKey&&e.data.publicKey!=o)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=o),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");let r=await this.signTransaction(e);return Promise.resolve(r.boc)}async calcTxHash(e){try{let n=Xt.Cell.fromBase64(e.data).hash().toString("hex");return Promise.resolve(n)}catch{return Promise.reject(V.CalcTxHashError)}}async signTonProof(e){let{timestamp:r,domain:n,payload:o}=e.proof,i=l.Buffer.allocUnsafe(8);i.writeBigInt64LE(BigInt(r));let u=l.Buffer.from(n),f=l.Buffer.allocUnsafe(4);f.writeInt32LE(u.byteLength);let c=Xt.Address.parse(e.walletAddress),h=l.Buffer.allocUnsafe(4);h.writeInt32BE(c.workChain);let y=l.Buffer.concat([h,c.hash]),B=l.Buffer.concat([l.Buffer.from(e.tonProofItem,"utf8"),y,f,u,i,l.Buffer.from(o)]),_=l.Buffer.concat([l.Buffer.from(e.messageSalt,"hex"),l.Buffer.from(e.messageAction,"utf8"),l.Buffer.from(await R.base.sha256(B))]),{secretKey:b}=R.signUtil.ed25519.fromSeed(R.base.fromHex(e.privateKey)),m=Hh.default.sign.detached(l.Buffer.from(await R.base.sha256(_)),l.Buffer.from(b));return Promise.resolve(l.Buffer.from(m).toString("base64"))}async signMultiTransaction(e){let r=e.data;if(r.messages.length>4)throw new Error("Payload contains more than 4 messages, which exceeds limit");let n=r.valid_until;if(n&&n>10**10&&(n=Math.round(n/1e3)),n&&n<Date.now()/1e3)throw new Error("the confirmation timeout has expired");let o=[];r.messages.map(u=>{o.push({toAddress:u.address,amount:BigInt(u.amount),payload:u.payload,stateInit:u.stateInit?Xt.Cell.fromBase64(u.stateInit):void 0,isBase64Payload:u.isBase64Payload})});let i=r.network==="1"||r.network==="testnet"?1:0;return await(0,It.signMultiTransaction)(e.privateKey,o,r.seqno,n,i,r.publicKey)}async simulateMultiTransaction(e){if(e.privateKey){let{publicKey:r}=R.signUtil.ed25519.fromSeed(R.base.fromHex(e.privateKey)),n=R.base.toHex(r);if(e.data.publicKey&&e.data.publicKey!=n)throw new Error("public key not pair the private key");e.data.publicKey||(e.data.publicKey=n),e.privateKey=""}else if(!e.data.publicKey)throw new Error("both private key and public key are null");return this.signMultiTransaction(e)}async signMultiTransactionForNFT(e){let r=e.data,o=r.nftAddresses.map((i,u)=>{let f=r.nfts?.[u];return{payload:f?.collectionAddress===Ra.NOTCOIN_VOUCHERS_ADDRESS?(0,Zr.buildNotcoinVoucherExchange)(r.fromNFTAddress,i,f.index):(0,Zr.buildNftTransferPayload)(r.fromNFTAddress,r.toAddress,r.comment),amount:Ra.NFT_TRANSFER_TONCOIN_AMOUNT,toAddress:i}});return await(0,It.signMultiTransaction)(e.privateKey,o,r.seqno,r.expireAt,r.workchain)}async buildNotcoinVoucherExchange(e){let r=(0,Zr.buildNotcoinVoucherExchange)(e.fromNFTAddress,e.nftAddress,e.nftIndex);return Promise.resolve(r.toBoc().toString("base64"))}async buildNftTransferPayload(e){let r=(0,Zr.buildNftTransferPayload)(e.fromNFTAddress,e.nftAddress,e.comment);return Promise.resolve(r.toBoc().toString("base64"))}};G.TonWallet=Zt;var po=class extends Zt{async getNewAddress(e){try{let r={address:(0,Ae.getVenomAddressBySeed)(e.privateKey),publicKey:(0,Ae.getPubKeyBySeed)(e.privateKey)};return Promise.resolve(r)}catch{return Promise.reject(V.NewAddressError)}}async signTransaction(e){try{return(0,It.venomTransfer)(e.data,e.privateKey)}catch{return Promise.reject(V.SignTxError)}}};G.VenomWallet=po;var yo=class extends Zt{};G.JettonWallet=yo});export default Wh();

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=TonWallet-DVHGDMSW.js.map
