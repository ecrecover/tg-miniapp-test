import{a as G}from"./chunk-VZWIAY7N.js";import{c as j}from"./chunk-SXPHI5ON.js";import{b as z}from"./chunk-MBOLLQNC.js";import{c as Y,g as k,h as F,p as O}from"./chunk-JVN7YJ6W.js";import{a as K}from"./chunk-V4V6C6NY.js";import{a as B}from"./chunk-BGUY7SH3.js";import{w as n}from"./chunk-MJYAUOKI.js";import{a as h}from"./chunk-FCCCJLF6.js";import{a as S,x as D,z as W}from"./chunk-4Z4GXCHB.js";import{y as te}from"./chunk-FK3ETA6I.js";import{a as se}from"./chunk-EJQOS3F4.js";import{c as v}from"./chunk-4QSQKIBZ.js";import{G as L,n as y,p as f}from"./chunk-6MTHEPGF.js";import{I as N,w as t}from"./chunk-ZQQ7HNWV.js";import{Y as s,c as ee}from"./chunk-ZOQTSYT4.js";import{a as I}from"./chunk-ADZWCU3Q.js";import{f as p,m as a,o as i}from"./chunk-REC7XVZY.js";a();i();var e=p(I()),H=p(te()),V=p(se());var $=p(ee());N();a();i();var Z=p(I());N();var M=({confirm:c,visible:r})=>Z.default.createElement(y.Prompt,{visible:r,infoType:y.Prompt.INFO_TYPE.warn,title:t("wallet_extension_security_dialog_protect_seed_phrase"),confirmText:t("commonall_text_btn_ok_passive"),text:t("wallet_extension_security_dialog_no_leak"),onConfirm:c,hideCloseBtn:!0,alignBottom:!1,maskClosable:!1,confirmBtnProps:{type:s.TYPE.highlight,size:s.SIZE.lg}});a();i();var o={guard:"_guard_avpbj_1",title:"_title_avpbj_1",subTitle:"_subTitle_avpbj_6",inputPassword:"_inputPassword_avpbj_11",inputClass:"_inputClass_avpbj_15",guardInputClass:"_guardInputClass_avpbj_19"};var m={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},oe=13,Ie=c=>{let r=(0,V.useHistory)(),{current:{walletId:E,actionType:l,nextPath:T=S}}=e.default.useRef(G(r?.location.search.slice(1))),{callback:P,guard:w}=c,d=(0,H.useDispatch)(),[_,q]=e.default.useState(),[b,x]=e.default.useState(),[J,g]=(0,e.useState)(!1),[Q,X]=(0,e.useState)(!1),R=h(({target:{value:u}})=>{q(u),x(void 0)},[]),C=()=>{if(g(!1),P){P();return}T&&r.replace(T)},A=h(async()=>{try{if(g(!0),await O(_)===!0){if(w){X(!0);return}if(l===m.DELETE_LAST_WALLET){await d(Y()),await d(z()),r.push(W);return}else l===m.DELETE_WALLET?(await d(k(E)),L.success(t("wallet_editwallet_toast_delete_wallet_success"))):l===m.DELETE_KEYRING_WALLETS&&(await d(F(E)),L.success(t("wallet_editwallet_toast_delete_wallet_success")));C()}}catch{g(!1),x(t("wallet_set_password_errortip_password_wrong"))}},[T,E,_,l]);return e.default.createElement("div",{className:"verify_password_page__wrapper main-container",onKeyDown:u=>{u.keyCode===oe&&A()}},e.default.createElement(K,{bordered:!1,closeable:[m.DELETE_WALLET,m.DELETE_KEYRING_WALLETS].includes(l)}),e.default.createElement("div",{className:"verify-password-page"},w?e.default.createElement(e.default.Fragment,null,e.default.createElement(v.FlexBox,{className:o.guard,direction:v.DIRECTION.vertical},e.default.createElement(n.Text,{strong:700,className:o.title},t("wallet_extension_security_header_backup_seed_phrase")),e.default.createElement(n.Text,{type:n.TYPE.secondary,className:o.subTitle},t("wallet_extension_security_desc_seed_phrase_leak"))),e.default.createElement(n.Text,{className:o.inputPassword},t("wallet_set_password_maintitle_enter_password"))):e.default.createElement("h2",{className:"verify-password-page__header"},t("wallet_set_password_maintitle_enter_password")),e.default.createElement("div",{className:`verify-password-page__input ${(0,$.default)(o.inputClass,{[o.guardInputClass]:w})}`},e.default.createElement(j,{elementName:"v"},e.default.createElement(f.Password,{autoFocus:!0,value:_,autoComplete:"off",onChange:R,size:f.SIZE.xl,error:b,errorType:f.TIP_TYPE.always,inputClassName:"verify-password-page__input__core"}))),e.default.createElement("div",{onClick:()=>r.push(D),className:"verify-password-page__forget-password"},t("wallet_footer_subtitle_forgot_password")),e.default.createElement(B.FooterActions,null,e.default.createElement(s,{loading:J,onClick:A,size:s.SIZE.lg,type:s.TYPE.highlight,category:s.CATEGORY.fill,disabled:!_||_?.length<6||!!b},t("wallet_set_password_btn_confirm"))),e.default.createElement(M,{visible:Q,confirm:C})))};export{Ie as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-IMBUX5PK.js.map
