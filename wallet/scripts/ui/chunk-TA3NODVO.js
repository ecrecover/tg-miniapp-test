import{a as Da,b as lr}from"./chunk-2U2UJUF7.js";import{a as Fb}from"./chunk-EZI7EDH6.js";import{a as jo,b as Va}from"./chunk-UDH27MKX.js";import{a as kb,b as $t,c as $b}from"./chunk-W426TRRH.js";import{a as jf}from"./chunk-PIGJQYQ3.js";import{a as Vb}from"./chunk-BDEVQ2S7.js";import{d as Kf}from"./chunk-EWYZZSY3.js";import{u as Db}from"./chunk-FHQVMQUK.js";import{c as v,m as h,n as S,o as y}from"./chunk-REC7XVZY.js";var Xn=v(ka=>{"use strict";h();y();Object.defineProperty(ka,"__esModule",{value:!0});ka.HexString=void 0;var Lf=$t(),ri=class{static fromBuffer(e){return ri.fromUint8Array(e)}static fromUint8Array(e){return new ri((0,Lf.bytesToHex)(e))}static ensure(e){return typeof e=="string"?new ri(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from((0,Lf.hexToBytes)(this.noPrefix()))}};ka.HexString=ri});var Lo=v(ot=>{"use strict";h();y();Object.defineProperty(ot,"__esModule",{value:!0});ot.output=ot.exists=ot.hash=ot.bytes=ot.bool=ot.number=void 0;function Fa(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}ot.number=Fa;function Df(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}ot.bool=Df;function Qu(n,...e){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}ot.bytes=Qu;function Vf(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fa(n.outputLen),Fa(n.blockLen)}ot.hash=Vf;function kf(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}ot.exists=kf;function Ff(n,e){Qu(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}ot.output=Ff;var Gb={number:Fa,bool:Df,bytes:Qu,hash:Vf,exists:kf,output:Ff};ot.default=Gb});var $f=v($a=>{"use strict";h();y();Object.defineProperty($a,"__esModule",{value:!0});$a.crypto=void 0;$a.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var ii=v(te=>{"use strict";h();y();Object.defineProperty(te,"__esModule",{value:!0});te.randomBytes=te.wrapConstructorWithOpts=te.wrapConstructor=te.checkOpts=te.Hash=te.concatBytes=te.toBytes=te.utf8ToBytes=te.asyncLoop=te.nextTick=te.hexToBytes=te.bytesToHex=te.isLE=te.rotr=te.createView=te.u32=te.u8=void 0;var Ju=$f(),Wb=n=>new Uint8Array(n.buffer,n.byteOffset,n.byteLength);te.u8=Wb;var Xb=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4));te.u32=Xb;var Zb=n=>new DataView(n.buffer,n.byteOffset,n.byteLength);te.createView=Zb;var Yb=(n,e)=>n<<32-e|n>>>e;te.rotr=Yb;te.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!te.isLE)throw new Error("Non little-endian hardware is not supported");var Qb=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Jb(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=Qb[n[t]];return e}te.bytesToHex=Jb;function ep(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){let r=t*2,i=n.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}te.hexToBytes=ep;var tp=async()=>{};te.nextTick=tp;async function np(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);let s=Date.now()-r;s>=0&&s<e||(await(0,te.nextTick)(),r+=s)}}te.asyncLoop=np;function Gf(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}te.utf8ToBytes=Gf;function tl(n){if(typeof n=="string"&&(n=Gf(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}te.toBytes=tl;function rp(...n){if(!n.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];let e=n.reduce((r,i)=>r+i.length,0),t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){let s=n[r];t.set(s,i),i+=s.length}return t}te.concatBytes=rp;var el=class{clone(){return this._cloneInto()}};te.Hash=el;var ip=n=>Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object;function sp(n,e){if(e!==void 0&&(typeof e!="object"||!ip(e)))throw new TypeError("Options should be object or undefined");return Object.assign(n,e)}te.checkOpts=sp;function op(n){let e=r=>n().update(tl(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}te.wrapConstructor=op;function ap(n){let e=(r,i)=>n(i).update(tl(r)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}te.wrapConstructorWithOpts=ap;function cp(n=32){if(Ju.crypto&&typeof Ju.crypto.getRandomValues=="function")return Ju.crypto.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}te.randomBytes=cp});var Xf=v(Do=>{"use strict";h();y();Object.defineProperty(Do,"__esModule",{value:!0});Do.hmac=void 0;var Ga=Lo(),Wf=ii(),Wa=class extends Wf.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ga.default.hash(e);let r=(0,Wf.toBytes)(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ga.default.exists(this),this.iHash.update(e),this}digestInto(e){Ga.default.exists(this),Ga.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},up=(n,e,t)=>new Wa(n,e).update(t).digest();Do.hmac=up;Do.hmac.create=(n,e)=>new Wa(n,e)});var Qf=v(ds=>{"use strict";h();y();Object.defineProperty(ds,"__esModule",{value:!0});ds.pbkdf2Async=ds.pbkdf2=void 0;var Xa=Lo(),lp=Xf(),ls=ii();function Zf(n,e,t,r){Xa.default.hash(n);let i=(0,ls.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Xa.default.number(s),Xa.default.number(o),Xa.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,ls.toBytes)(e),l=(0,ls.toBytes)(t),d=new Uint8Array(o),u=lp.hmac.create(n,c),g=u._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:d,PRF:u,PRFSalt:g}}function Yf(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function dp(n,e,t,r){let{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Zf(n,e,t,r),l,d=new Uint8Array(4),u=(0,ls.createView)(d),g=new Uint8Array(a.outputLen);for(let p=1,m=0;m<s;p++,m+=a.outputLen){let f=o.subarray(m,m+a.outputLen);u.setInt32(0,p,!1),(l=c._cloneInto(l)).update(d).digestInto(g),f.set(g.subarray(0,f.length));for(let b=1;b<i;b++){a._cloneInto(l).update(g).digestInto(g);for(let T=0;T<f.length;T++)f[T]^=g[T]}}return Yf(a,c,o,l,g)}ds.pbkdf2=dp;async function fp(n,e,t,r){let{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:l}=Zf(n,e,t,r),d,u=new Uint8Array(4),g=(0,ls.createView)(u),p=new Uint8Array(c.outputLen);for(let m=1,f=0;f<s;m++,f+=c.outputLen){let b=a.subarray(f,f+c.outputLen);g.setInt32(0,m,!1),(d=l._cloneInto(d)).update(u).digestInto(p),b.set(p.subarray(0,b.length)),await(0,ls.asyncLoop)(i-1,o,T=>{c._cloneInto(d).update(p).digestInto(p);for(let w=0;w<b.length;w++)b[w]^=p[w]})}return Yf(c,l,a,d,p)}ds.pbkdf2Async=fp});var il=v(Za=>{"use strict";h();y();Object.defineProperty(Za,"__esModule",{value:!0});Za.SHA2=void 0;var nl=Lo(),Vo=ii();function hp(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=r?4:0,l=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+l,a,r)}var rl=class extends Vo.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Vo.createView)(this.buffer)}update(e){nl.default.exists(this);let{view:t,buffer:r,blockLen:i}=this;e=(0,Vo.toBytes)(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let c=(0,Vo.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nl.default.exists(this),nl.default.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:s}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let u=o;u<i;u++)t[u]=0;hp(r,i-8,BigInt(this.length*8),s),this.process(r,0);let a=(0,Vo.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,d[u],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}};Za.SHA2=rl});var Jf=v(fs=>{"use strict";h();y();Object.defineProperty(fs,"__esModule",{value:!0});fs.sha224=fs.sha256=void 0;var yp=il(),Gt=ii(),gp=(n,e,t)=>n&e^~n&t,bp=(n,e,t)=>n&e^n&t^e&t,pp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fr=new Uint32Array(64),Ya=class extends yp.SHA2{constructor(){super(64,32,8,!1),this.A=dr[0]|0,this.B=dr[1]|0,this.C=dr[2]|0,this.D=dr[3]|0,this.E=dr[4]|0,this.F=dr[5]|0,this.G=dr[6]|0,this.H=dr[7]|0}get(){let{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,r,i,s,o,a,c]}set(e,t,r,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let u=0;u<16;u++,t+=4)fr[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){let g=fr[u-15],p=fr[u-2],m=(0,Gt.rotr)(g,7)^(0,Gt.rotr)(g,18)^g>>>3,f=(0,Gt.rotr)(p,17)^(0,Gt.rotr)(p,19)^p>>>10;fr[u]=f+fr[u-7]+m+fr[u-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){let g=(0,Gt.rotr)(a,6)^(0,Gt.rotr)(a,11)^(0,Gt.rotr)(a,25),p=d+g+gp(a,c,l)+pp[u]+fr[u]|0,f=((0,Gt.rotr)(r,2)^(0,Gt.rotr)(r,13)^(0,Gt.rotr)(r,22))+bp(r,i,s)|0;d=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+f|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){fr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},sl=class extends Ya{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};fs.sha256=(0,Gt.wrapConstructor)(()=>new Ya);fs.sha224=(0,Gt.wrapConstructor)(()=>new sl)});var nh=v(Wt=>{"use strict";h();y();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.add=Wt.toBig=Wt.split=Wt.fromBig=void 0;var Qa=BigInt(2**32-1),ol=BigInt(32);function al(n,e=!1){return e?{h:Number(n&Qa),l:Number(n>>ol&Qa)}:{h:Number(n>>ol&Qa)|0,l:Number(n&Qa)|0}}Wt.fromBig=al;function eh(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){let{h:s,l:o}=al(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}Wt.split=eh;var wp=(n,e)=>BigInt(n>>>0)<<ol|BigInt(e>>>0);Wt.toBig=wp;var mp=(n,e,t)=>n>>>t,_p=(n,e,t)=>n<<32-t|e>>>t,Ap=(n,e,t)=>n>>>t|e<<32-t,Tp=(n,e,t)=>n<<32-t|e>>>t,Bp=(n,e,t)=>n<<64-t|e>>>t-32,Ep=(n,e,t)=>n>>>t-32|e<<64-t,Sp=(n,e)=>e,xp=(n,e)=>n,vp=(n,e,t)=>n<<t|e>>>32-t,Up=(n,e,t)=>e<<t|n>>>32-t,Ip=(n,e,t)=>e<<t-32|n>>>64-t,zp=(n,e,t)=>n<<t-32|e>>>64-t;function th(n,e,t,r){let i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}Wt.add=th;var Pp=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Op=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Np=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),qp=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,Mp=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Rp=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,Cp={fromBig:al,split:eh,toBig:Wt.toBig,shrSH:mp,shrSL:_p,rotrSH:Ap,rotrSL:Tp,rotrBH:Bp,rotrBL:Ep,rotr32H:Sp,rotr32L:xp,rotlSH:vp,rotlSL:Up,rotlBH:Ip,rotlBL:zp,add:th,add3L:Pp,add3H:Op,add4L:Np,add4H:qp,add5H:Rp,add5L:Mp};Wt.default=Cp});var rh=v(Xt=>{"use strict";h();y();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.sha384=Xt.sha512_256=Xt.sha512_224=Xt.sha512=Xt.SHA512=void 0;var Hp=il(),Q=nh(),Ja=ii(),[Kp,jp]=Q.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),hr=new Uint32Array(80),yr=new Uint32Array(80),si=class extends Hp.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:d,Fh:u,Fl:g,Gh:p,Gl:m,Hh:f,Hl:b}=this;return[e,t,r,i,s,o,a,c,l,d,u,g,p,m,f,b]}set(e,t,r,i,s,o,a,c,l,d,u,g,p,m,f,b){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=d|0,this.Fh=u|0,this.Fl=g|0,this.Gh=p|0,this.Gl=m|0,this.Hh=f|0,this.Hl=b|0}process(e,t){for(let B=0;B<16;B++,t+=4)hr[B]=e.getUint32(t),yr[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){let x=hr[B-15]|0,U=yr[B-15]|0,E=Q.default.rotrSH(x,U,1)^Q.default.rotrSH(x,U,8)^Q.default.shrSH(x,U,7),z=Q.default.rotrSL(x,U,1)^Q.default.rotrSL(x,U,8)^Q.default.shrSL(x,U,7),P=hr[B-2]|0,F=yr[B-2]|0,L=Q.default.rotrSH(P,F,19)^Q.default.rotrBH(P,F,61)^Q.default.shrSH(P,F,6),M=Q.default.rotrSL(P,F,19)^Q.default.rotrBL(P,F,61)^Q.default.shrSL(P,F,6),ie=Q.default.add4L(z,M,yr[B-7],yr[B-16]),re=Q.default.add4H(ie,E,L,hr[B-7],hr[B-16]);hr[B]=re|0,yr[B]=ie|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:d,Eh:u,El:g,Fh:p,Fl:m,Gh:f,Gl:b,Hh:T,Hl:w}=this;for(let B=0;B<80;B++){let x=Q.default.rotrSH(u,g,14)^Q.default.rotrSH(u,g,18)^Q.default.rotrBH(u,g,41),U=Q.default.rotrSL(u,g,14)^Q.default.rotrSL(u,g,18)^Q.default.rotrBL(u,g,41),E=u&p^~u&f,z=g&m^~g&b,P=Q.default.add5L(w,U,z,jp[B],yr[B]),F=Q.default.add5H(P,T,x,E,Kp[B],hr[B]),L=P|0,M=Q.default.rotrSH(r,i,28)^Q.default.rotrBH(r,i,34)^Q.default.rotrBH(r,i,39),ie=Q.default.rotrSL(r,i,28)^Q.default.rotrBL(r,i,34)^Q.default.rotrBL(r,i,39),re=r&s^r&a^s&a,C=i&o^i&c^o&c;T=f|0,w=b|0,f=p|0,b=m|0,p=u|0,m=g|0,{h:u,l:g}=Q.default.add(l|0,d|0,F|0,L|0),l=a|0,d=c|0,a=s|0,c=o|0,s=r|0,o=i|0;let A=Q.default.add3L(L,ie,C);r=Q.default.add3H(A,F,M,re),i=A|0}({h:r,l:i}=Q.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Q.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Q.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:d}=Q.default.add(this.Dh|0,this.Dl|0,l|0,d|0),{h:u,l:g}=Q.default.add(this.Eh|0,this.El|0,u|0,g|0),{h:p,l:m}=Q.default.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:f,l:b}=Q.default.add(this.Gh|0,this.Gl|0,f|0,b|0),{h:T,l:w}=Q.default.add(this.Hh|0,this.Hl|0,T|0,w|0),this.set(r,i,s,o,a,c,l,d,u,g,p,m,f,b,T,w)}roundClean(){hr.fill(0),yr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Xt.SHA512=si;var cl=class extends si{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},ul=class extends si{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},ll=class extends si{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Xt.sha512=(0,Ja.wrapConstructor)(()=>new si);Xt.sha512_224=(0,Ja.wrapConstructor)(()=>new cl);Xt.sha512_256=(0,Ja.wrapConstructor)(()=>new ul);Xt.sha384=(0,Ja.wrapConstructor)(()=>new ll)});var fl=v(pt=>{"use strict";h();y();Object.defineProperty(pt,"__esModule",{value:!0});pt.mnemonicToSeedSync=pt.mnemonicToSeed=pt.validateMnemonic=pt.entropyToMnemonic=pt.mnemonicToEntropy=pt.generateMnemonic=void 0;var ih=Lo(),sh=Qf(),Lp=Jf(),oh=rh(),Dp=ii(),ec=Fb(),Vp=n=>n[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function ah(n){if(typeof n!="string")throw new TypeError(`Invalid mnemonic type: ${typeof n}`);return n.normalize("NFKD")}function dl(n){let e=ah(n),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}function ch(n){ih.default.bytes(n,16,20,24,28,32)}function kp(n,e=128){if(ih.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return dh((0,Dp.randomBytes)(e/8),n)}pt.generateMnemonic=kp;var Fp=n=>{let e=8-n.length/4;return new Uint8Array([(0,Lp.sha256)(n)[0]>>e<<e])};function uh(n){if(!Array.isArray(n)||n.length!==2048||typeof n[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return n.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),ec.utils.chain(ec.utils.checksum(1,Fp),ec.utils.radix2(11,!0),ec.utils.alphabet(n))}function lh(n,e){let{words:t}=dl(n),r=uh(e).decode(t);return ch(r),r}pt.mnemonicToEntropy=lh;function dh(n,e){return ch(n),uh(e).encode(n).join(Vp(e)?"\u3000":" ")}pt.entropyToMnemonic=dh;function $p(n,e){try{lh(n,e)}catch{return!1}return!0}pt.validateMnemonic=$p;var fh=n=>ah(`mnemonic${n}`);function Gp(n,e=""){return(0,sh.pbkdf2Async)(oh.sha512,dl(n).nfkd,fh(e),{c:2048,dkLen:64})}pt.mnemonicToSeed=Gp;function Wp(n,e=""){return(0,sh.pbkdf2)(oh.sha512,dl(n).nfkd,fh(e),{c:2048,dkLen:64})}pt.mnemonicToSeedSync=Wp});var bh=v(ke=>{"use strict";h();y();var Xp=ke&&ke.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ke,"__esModule",{value:!0});ke.derivePath=ke.isValidPath=ke.getPublicKey=ke.CKDPriv=ke.getMasterKeyFromSeed=void 0;var Zp=Xp(jf()),hh=jo(),yh=Va(),Yp=$t(),Qp=/^m(\/[0-9]+')+$/,gh=n=>n.replace("'",""),Jp="ed25519 seed",ew=2147483648,tw=n=>{let t=hh.hmac.create(yh.sha512,Jp).update((0,Yp.hexToBytes)(n)).digest(),r=t.slice(0,32),i=t.slice(32);return{key:r,chainCode:i}};ke.getMasterKeyFromSeed=tw;var nw=({key:n,chainCode:e},t)=>{let r=new ArrayBuffer(4);new DataView(r).setUint32(0,t);let i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...n,...i]),a=hh.hmac.create(yh.sha512,e).update(o).digest(),c=a.slice(0,32),l=a.slice(32);return{key:c,chainCode:l}};ke.CKDPriv=nw;var rw=(n,e=!0)=>{let r=Zp.default.sign.keyPair.fromSeed(n).secretKey.subarray(32),i=new Uint8Array([0]);return e?new Uint8Array([...i,...r]):r};ke.getPublicKey=rw;var iw=n=>Qp.test(n)?!n.split("/").slice(1).map(gh).some(Number.isNaN):!1;ke.isValidPath=iw;var sw=(n,e,t=ew)=>{if(!(0,ke.isValidPath)(n))throw new Error("Invalid derivation path");let{key:r,chainCode:i}=(0,ke.getMasterKeyFromSeed)(e);return n.split("/").slice(1).map(gh).map(o=>parseInt(o,10)).reduce((o,a)=>(0,ke.CKDPriv)(o,a+t),{key:r,chainCode:i})};ke.derivePath=sw});var ph=v(_n=>{"use strict";h();y();Object.defineProperty(_n,"__esModule",{value:!0});_n.APTOS_COIN=_n.DEFAULT_TXN_TIMEOUT_SEC=_n.DEFAULT_TXN_EXP_SEC_FROM_NOW=_n.DEFAULT_MAX_GAS_AMOUNT=void 0;_n.DEFAULT_MAX_GAS_AMOUNT=2e5;_n.DEFAULT_TXN_EXP_SEC_FROM_NOW=20;_n.DEFAULT_TXN_TIMEOUT_SEC=20;_n.APTOS_COIN="0x1::aptos_coin::AptosCoin"});var _h=v(gr=>{"use strict";h();y();Object.defineProperty(gr,"__esModule",{value:!0});gr.clear=gr.MemoizeExpiring=gr.Memoize=void 0;function mh(n){let e,t,r;return typeof n=="object"?(e=n.hashFunction,t=n.ttlMs,r=n.tags):e=n,(i,s,o)=>{if(o.value!=null)o.value=wh(o.value,e,t,r);else if(o.get!=null)o.get=wh(o.get,e,t,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}gr.Memoize=mh;function ow(n,e){return mh({ttlMs:n,hashFunction:e})}gr.MemoizeExpiring=ow;var tc=new Map;function aw(n){let e=new Set;for(let t of n){let r=tc.get(t);if(r)for(let i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}gr.clear=aw;function wh(n,e,t=0,r){let i=Symbol("__memoized_map__");return function(...s){let o,a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let c=a[i];if(Array.isArray(r))for(let l of r)tc.has(l)?tc.get(l).push(c):tc.set(l,[c]);if(e||s.length>0||t>0){let l;e===!0?l=s.map(g=>g.toString()).join("!"):e?l=e.apply(a,s):l=s[0];let d=`${l}__timestamp`,u=!1;if(t>0)if(!c.has(d))u=!0;else{let g=c.get(d);u=Date.now()-g>t}c.has(l)&&!u?o=c.get(l):(o=n.apply(a,s),c.set(l,o),t>0&&c.set(d,Date.now()))}else{let l=a;c.has(l)?o=c.get(l):(o=n.apply(a,s),c.set(l,o))}return o}}});var hl=v(br=>{"use strict";h();y();var cw=br&&br.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ah=br&&br.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cw(e,n,t)};Object.defineProperty(br,"__esModule",{value:!0});Ah(ph(),br);Ah(_h(),br)});var Fo=v(nc=>{"use strict";h();y();Object.defineProperty(nc,"__esModule",{value:!0});nc.AccountAddress=void 0;var ko=Xn(),Fe=class{constructor(e){if(e.length!==Fe.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=ko.HexString.ensure(e);t.noPrefix().length%2!==0&&(t=new ko.HexString(`0${t.noPrefix()}`));let r=t.toUint8Array();if(r.length>Fe.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Fe.LENGTH)return new Fe(r);let i=new Uint8Array(Fe.LENGTH);return i.set(r,Fe.LENGTH-r.length),new Fe(i)}static isValid(e){if(e==="")return!1;let t=ko.HexString.ensure(e);return t.noPrefix().length%2!==0&&(t=new ko.HexString(`0${t.noPrefix()}`)),t.toUint8Array().length<=Fe.LENGTH}toHexString(){return ko.HexString.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new Fe(e.deserializeFixedBytes(Fe.LENGTH))}static standardizeAddress(e){let t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}};nc.AccountAddress=Fe;Fe.LENGTH=32;Fe.CORE_CODE_ADDRESS=Fe.fromHex("0x1")});var Bh=v(Th=>{"use strict";h();y();Object.defineProperty(Th,"__esModule",{value:!0})});var yl=v(wt=>{"use strict";h();y();Object.defineProperty(wt,"__esModule",{value:!0});wt.MAX_U256_BIG_INT=wt.MAX_U128_BIG_INT=wt.MAX_U64_BIG_INT=wt.MAX_U32_NUMBER=wt.MAX_U16_NUMBER=wt.MAX_U8_NUMBER=void 0;wt.MAX_U8_NUMBER=2**8-1;wt.MAX_U16_NUMBER=2**16-1;wt.MAX_U32_NUMBER=2**32-1;wt.MAX_U64_BIG_INT=BigInt(2**64)-1n;wt.MAX_U128_BIG_INT=BigInt(2**128)-1n;wt.MAX_U256_BIG_INT=BigInt(2**256)-BigInt(1)});var gl=v(hs=>{"use strict";h();y();var oi=hs&&hs.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(hs,"__esModule",{value:!0});hs.Serializer=void 0;var An=yl(),Tn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);let i=new DataView(this.buffer,this.offset);e.apply(i,[0,r,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");let t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e.toString())&BigInt(An.MAX_U32_NUMBER),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){let t=BigInt(e.toString())&An.MAX_U64_BIG_INT,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){let t=BigInt(e.toString())&An.MAX_U128_BIG_INT,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e,r=[];for(;t>>>7!==0;)r.push(t&127|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};oi([ai(0,An.MAX_U8_NUMBER)],Tn.prototype,"serializeU8",null);oi([ai(0,An.MAX_U16_NUMBER)],Tn.prototype,"serializeU16",null);oi([ai(0,An.MAX_U32_NUMBER)],Tn.prototype,"serializeU32",null);oi([ai(BigInt(0),An.MAX_U64_BIG_INT)],Tn.prototype,"serializeU64",null);oi([ai(BigInt(0),An.MAX_U128_BIG_INT)],Tn.prototype,"serializeU128",null);oi([ai(BigInt(0),An.MAX_U256_BIG_INT)],Tn.prototype,"serializeU256",null);oi([ai(0,An.MAX_U32_NUMBER)],Tn.prototype,"serializeU32AsUleb128",null);hs.Serializer=Tn;function ai(n,e,t){return(r,i,s)=>{let o=s.value;return s.value=function(c){let l=BigInt(c.toString());if(l>BigInt(e.toString())||l<BigInt(n.toString()))throw new Error(t||"Value is out of range");o.apply(this,[c])},s}}});var Sh=v(rc=>{"use strict";h();y();Object.defineProperty(rc,"__esModule",{value:!0});rc.Deserializer=void 0;var Eh=yl(),bl=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){let e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){let e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){let e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){let e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){let e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<Eh.MAX_U32_NUMBER;){let r=this.deserializeU8();if(e|=BigInt(r&127)<<BigInt(t),(r&128)===0)break;t+=7}if(e>Eh.MAX_U32_NUMBER)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};rc.Deserializer=bl});var xh=v(ue=>{"use strict";h();y();Object.defineProperty(ue,"__esModule",{value:!0});ue.bcsSerializeFixedBytes=ue.bcsSerializeBytes=ue.bcsSerializeStr=ue.bcsSerializeBool=ue.bcsSerializeU256=ue.bcsSerializeU128=ue.bcsSerializeU32=ue.bcsSerializeU16=ue.bcsSerializeU8=ue.bcsSerializeUint64=ue.bcsToBytes=ue.deserializeVector=ue.serializeVectorWithFunc=ue.serializeVector=void 0;var Zt=gl();function uw(n,e){e.serializeU32AsUleb128(n.length),n.forEach(t=>{t.serialize(e)})}ue.serializeVector=uw;function lw(n,e){let t=new Zt.Serializer;t.serializeU32AsUleb128(n.length);let r=t[e];return n.forEach(i=>{r.call(t,i)}),t.getBytes()}ue.serializeVectorWithFunc=lw;function dw(n,e){let t=n.deserializeUleb128AsU32(),r=[];for(let i=0;i<t;i+=1)r.push(e.deserialize(n));return r}ue.deserializeVector=dw;function fw(n){let e=new Zt.Serializer;return n.serialize(e),e.getBytes()}ue.bcsToBytes=fw;function hw(n){let e=new Zt.Serializer;return e.serializeU64(n),e.getBytes()}ue.bcsSerializeUint64=hw;function yw(n){let e=new Zt.Serializer;return e.serializeU8(n),e.getBytes()}ue.bcsSerializeU8=yw;function gw(n){let e=new Zt.Serializer;return e.serializeU16(n),e.getBytes()}ue.bcsSerializeU16=gw;function bw(n){let e=new Zt.Serializer;return e.serializeU32(n),e.getBytes()}ue.bcsSerializeU32=bw;function pw(n){let e=new Zt.Serializer;return e.serializeU128(n),e.getBytes()}ue.bcsSerializeU128=pw;function ww(n){let e=new Zt.Serializer;return e.serializeU256(n),e.getBytes()}ue.bcsSerializeU256=ww;function mw(n){let e=new Zt.Serializer;return e.serializeBool(n),e.getBytes()}ue.bcsSerializeBool=mw;function _w(n){let e=new Zt.Serializer;return e.serializeStr(n),e.getBytes()}ue.bcsSerializeStr=_w;function Aw(n){let e=new Zt.Serializer;return e.serializeBytes(n),e.getBytes()}ue.bcsSerializeBytes=Aw;function Tw(n){let e=new Zt.Serializer;return e.serializeFixedBytes(n),e.getBytes()}ue.bcsSerializeFixedBytes=Tw});var En=v(Bn=>{"use strict";h();y();var Bw=Bn&&Bn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ic=Bn&&Bn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Bw(e,n,t)};Object.defineProperty(Bn,"__esModule",{value:!0});ic(Bh(),Bn);ic(gl(),Bn);ic(Sh(),Bn);ic(xh(),Bn)});var sc=v(ys=>{"use strict";h();y();Object.defineProperty(ys,"__esModule",{value:!0});ys.Ed25519Signature=ys.Ed25519PublicKey=void 0;var pr=class{constructor(e){if(e.length!==pr.LENGTH)throw new Error(`Ed25519PublicKey length should be ${pr.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){let t=e.deserializeBytes();return new pr(t)}};ys.Ed25519PublicKey=pr;pr.LENGTH=32;var wr=class{constructor(e){if(this.value=e,e.length!==wr.LENGTH)throw new Error(`Ed25519Signature length should be ${wr.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){let t=e.deserializeBytes();return new wr(t)}};ys.Ed25519Signature=wr;wr.LENGTH=64});var wl=v(gs=>{"use strict";h();y();Object.defineProperty(gs,"__esModule",{value:!0});gs.MultiEd25519Signature=gs.MultiEd25519PublicKey=void 0;var Yt=sc(),pl=32,$o=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>pl)throw new Error(`"threshold" cannot be larger than ${pl}`)}toBytes(){let e=new Uint8Array(this.public_keys.length*Yt.Ed25519PublicKey.LENGTH+1);return this.public_keys.forEach((t,r)=>{e.set(t.value,r*Yt.Ed25519PublicKey.LENGTH)}),e[this.public_keys.length*Yt.Ed25519PublicKey.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){let t=e.deserializeBytes(),r=t[t.length-1],i=[];for(let s=0;s<t.length-1;s+=Yt.Ed25519PublicKey.LENGTH){let o=s;i.push(new Yt.Ed25519PublicKey(t.subarray(o,o+Yt.Ed25519PublicKey.LENGTH)))}return new $o(i,r)}};gs.MultiEd25519PublicKey=$o;var Zn=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==Zn.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Zn.BITMAP_LEN}`)}toBytes(){let e=new Uint8Array(this.signatures.length*Yt.Ed25519Signature.LENGTH+Zn.BITMAP_LEN);return this.signatures.forEach((t,r)=>{e.set(t.value,r*Yt.Ed25519Signature.LENGTH)}),e.set(this.bitmap,this.signatures.length*Yt.Ed25519Signature.LENGTH),e}static createBitmap(e){let r=new Uint8Array([0,0,0,0]),i=new Set;return e.forEach(s=>{if(s>=pl)throw new Error(`Invalid bit value ${s}.`);if(i.has(s))throw new Error("Duplicated bits detected.");i.add(s);let o=Math.floor(s/8),a=r[o];a|=128>>s%8,r[o]=a}),r}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){let t=e.deserializeBytes(),r=t.subarray(t.length-4),i=[];for(let s=0;s<t.length-r.length;s+=Yt.Ed25519Signature.LENGTH){let o=s;i.push(new Yt.Ed25519Signature(t.subarray(o,o+Yt.Ed25519Signature.LENGTH)))}return new Zn(i,r)}};gs.MultiEd25519Signature=Zn;Zn.BITMAP_LEN=4});var _l=v(je=>{"use strict";h();y();Object.defineProperty(je,"__esModule",{value:!0});je.AccountAuthenticatorMultiEd25519=je.AccountAuthenticatorEd25519=je.AccountAuthenticator=je.TransactionAuthenticatorFeePayer=je.TransactionAuthenticatorMultiAgent=je.TransactionAuthenticatorMultiEd25519=je.TransactionAuthenticatorEd25519=je.TransactionAuthenticator=void 0;var mr=En(),ml=Fo(),oc=sc(),ac=wl(),ci=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return bs.load(e);case 1:return ps.load(e);case 2:return ws.load(e);case 3:return ms.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}};je.TransactionAuthenticator=ci;var bs=class extends ci{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=oc.Ed25519PublicKey.deserialize(e),r=oc.Ed25519Signature.deserialize(e);return new bs(t,r)}};je.TransactionAuthenticatorEd25519=bs;var ps=class extends ci{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=ac.MultiEd25519PublicKey.deserialize(e),r=ac.MultiEd25519Signature.deserialize(e);return new ps(t,r)}};je.TransactionAuthenticatorMultiEd25519=ps;var ws=class extends ci{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),(0,mr.serializeVector)(this.secondary_signer_addresses,e),(0,mr.serializeVector)(this.secondary_signers,e)}static load(e){let t=Sn.deserialize(e),r=(0,mr.deserializeVector)(e,ml.AccountAddress),i=(0,mr.deserializeVector)(e,Sn);return new ws(t,r,i)}};je.TransactionAuthenticatorMultiAgent=ws;var ms=class extends ci{constructor(e,t,r,i){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=i}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),(0,mr.serializeVector)(this.secondary_signer_addresses,e),(0,mr.serializeVector)(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){let t=Sn.deserialize(e),r=(0,mr.deserializeVector)(e,ml.AccountAddress),i=(0,mr.deserializeVector)(e,Sn),s=ml.AccountAddress.deserialize(e),o=Sn.deserialize(e),a={address:s,authenticator:o};return new ms(t,r,i,a)}};je.TransactionAuthenticatorFeePayer=ms;var Sn=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return _s.load(e);case 1:return As.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}};je.AccountAuthenticator=Sn;var _s=class extends Sn{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=oc.Ed25519PublicKey.deserialize(e),r=oc.Ed25519Signature.deserialize(e);return new _s(t,r)}};je.AccountAuthenticatorEd25519=_s;var As=class extends Sn{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=ac.MultiEd25519PublicKey.deserialize(e),r=ac.MultiEd25519Signature.deserialize(e);return new As(t,r)}};je.AccountAuthenticatorMultiEd25519=As});var uc=v(cc=>{"use strict";h();y();Object.defineProperty(cc,"__esModule",{value:!0});cc.Identifier=void 0;var Go=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){let t=e.deserializeStr();return new Go(t)}};cc.Identifier=Go});var dc=v(ee=>{"use strict";h();y();Object.defineProperty(ee,"__esModule",{value:!0});ee.TypeTagParserError=ee.TypeTagParser=ee.objectStructTag=ee.optionStructTag=ee.stringStructTag=ee.StructTag=ee.TypeTagStruct=ee.TypeTagVector=ee.TypeTagSigner=ee.TypeTagAddress=ee.TypeTagU256=ee.TypeTagU128=ee.TypeTagU64=ee.TypeTagU32=ee.TypeTagU16=ee.TypeTagU8=ee.TypeTagBool=ee.TypeTag=void 0;var ui=Fo(),vh=En(),xn=uc(),Ze=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return li.load(e);case 1:return di.load(e);case 2:return yi.load(e);case 3:return gi.load(e);case 4:return Ar.load(e);case 5:return Ts.load(e);case 6:return pi.load(e);case 7:return Tr.load(e);case 8:return fi.load(e);case 9:return hi.load(e);case 10:return bi.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}};ee.TypeTag=Ze;var li=class extends Ze{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new li}};ee.TypeTagBool=li;var di=class extends Ze{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new di}};ee.TypeTagU8=di;var fi=class extends Ze{serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new fi}};ee.TypeTagU16=fi;var hi=class extends Ze{serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new hi}};ee.TypeTagU32=hi;var yi=class extends Ze{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new yi}};ee.TypeTagU64=yi;var gi=class extends Ze{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new gi}};ee.TypeTagU128=gi;var bi=class extends Ze{serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new bi}};ee.TypeTagU256=bi;var Ar=class extends Ze{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Ar}};ee.TypeTagAddress=Ar;var Ts=class extends Ze{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new Ts}};ee.TypeTagSigner=Ts;var pi=class extends Ze{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){let t=Ze.deserialize(e);return new pi(t)}};ee.TypeTagVector=pi;var Tr=class extends Ze{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){let t=an.deserialize(e);return new Tr(t)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===ui.AccountAddress.CORE_CODE_ADDRESS.toHexString()}};ee.TypeTagStruct=Tr;var an=class{constructor(e,t,r,i){this.address=e,this.module_name=t,this.name=r,this.type_args=i}static fromString(e){let t=new Bs(e).parseTypeTag();return new an(t.value.address,t.value.module_name,t.value.name,t.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),(0,vh.serializeVector)(this.type_args,e)}static deserialize(e){let t=ui.AccountAddress.deserialize(e),r=xn.Identifier.deserialize(e),i=xn.Identifier.deserialize(e),s=(0,vh.deserializeVector)(e,Ze);return new an(t,r,i,s)}};ee.StructTag=an;ee.stringStructTag=new an(ui.AccountAddress.fromHex("0x1"),new xn.Identifier("string"),new xn.Identifier("String"),[]);function Ew(n){return new an(ui.AccountAddress.fromHex("0x1"),new xn.Identifier("option"),new xn.Identifier("Option"),[n])}ee.optionStructTag=Ew;function Sw(n){return new an(ui.AccountAddress.fromHex("0x1"),new xn.Identifier("object"),new xn.Identifier("Object"),[n])}ee.objectStructTag=Sw;function _r(n){throw new lc(n)}function Uh(n){return!!n.match(/\s/)}function Ih(n){return!!n.match(/[_A-Za-z0-9]/g)}function xw(n){return!!n.match(/T\d+/g)}function vw(n,e){let t=n[e];if(t===":"){if(n.slice(e,e+2)==="::")return[["COLON","::"],2];_r("Unrecognized token.")}else{if(t==="<")return[["LT","<"],1];if(t===">")return[["GT",">"],1];if(t===",")return[["COMMA",","],1];if(Uh(t)){let r="";for(let i=e;i<n.length;i+=1){let s=n[i];if(Uh(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(Ih(t)){let r="";for(let i=e;i<n.length;i+=1){let s=n[i];if(Ih(s))r=`${r}${s}`;else break}return xw(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function Uw(n){let e=0,t=[];for(;e<n.length;){let[r,i]=vw(n,e);r[0]!=="SPACE"&&t.push(r),e+=i}return t}var Bs=class{constructor(e,t){this.typeTags=[],this.tokens=Uw(e),this.typeTags=t||[]}consume(e){let t=this.tokens.shift();(!t||t[1]!==e)&&_r("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){let r=[];for(this.tokens.length<=0&&_r("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&_r("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&_r("Invalid type tag.");let[e,t]=this.tokens.shift();if(t==="u8")return new di;if(t==="u16")return new fi;if(t==="u32")return new hi;if(t==="u64")return new yi;if(t==="u128")return new gi;if(t==="u256")return new bi;if(t==="bool")return new li;if(t==="address")return new Ar;if(t==="vector"){this.consume("<");let r=this.parseTypeTag();return this.consume(">"),new pi(r)}if(t==="string")return new Tr(ee.stringStructTag);if(e==="IDENT"&&(t.startsWith("0x")||t.startsWith("0X"))){let r=ui.AccountAddress.fromHex(t);this.consume("::");let[i,s]=this.tokens.shift();i!=="IDENT"&&_r("Invalid type tag."),this.consume("::");let[o,a]=this.tokens.shift();if(o!=="IDENT"&&_r("Invalid type tag."),ui.AccountAddress.CORE_CODE_ADDRESS.toHexString()===r.toHexString()&&s==="object"&&a==="Object")return this.consumeWholeGeneric(),new Ar;let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));let l=new an(r,new xn.Identifier(s),new xn.Identifier(a),c);return new Tr(l)}if(e==="GENERIC"){this.typeTags.length===0&&_r("Can't convert generic type since no typeTags were specified.");let r=parseInt(t.substring(1),10);return new Bs(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}};ee.TypeTagParser=Bs;var lc=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}};ee.TypeTagParserError=lc});var Bl=v(D=>{"use strict";h();y();Object.defineProperty(D,"__esModule",{value:!0});D.UserTransaction=D.Transaction=D.TransactionArgumentBool=D.TransactionArgumentU8Vector=D.TransactionArgumentAddress=D.TransactionArgumentU256=D.TransactionArgumentU128=D.TransactionArgumentU64=D.TransactionArgumentU32=D.TransactionArgumentU16=D.TransactionArgumentU8=D.TransactionArgument=D.ChainId=D.TransactionPayloadMultisig=D.TransactionPayloadEntryFunction=D.TransactionPayloadScript=D.TransactionPayload=D.FeePayerRawTransaction=D.MultiAgentRawTransaction=D.RawTransactionWithData=D.SignedTransaction=D.WriteSet=D.ChangeSet=D.ModuleId=D.Module=D.MultiSig=D.MultiSigTransactionPayload=D.EntryFunction=D.Script=D.RawTransaction=void 0;var zh=lr(),Iw=Xn(),cn=En(),Br=Fo(),zw=_l(),fc=uc(),Ph=dc(),Er=class{constructor(e,t,r,i,s,o,a){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){let t=Br.AccountAddress.deserialize(e),r=e.deserializeU64(),i=wi.deserialize(e),s=e.deserializeU64(),o=e.deserializeU64(),a=e.deserializeU64(),c=Ns.deserialize(e);return new Er(t,r,i,s,o,a,c)}};D.RawTransaction=Er;var Es=class{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),(0,cn.serializeVector)(this.ty_args,e),(0,cn.serializeVector)(this.args,e)}static deserialize(e){let t=e.deserializeBytes(),r=(0,cn.deserializeVector)(e,Ph.TypeTag),i=(0,cn.deserializeVector)(e,qt);return new Es(t,r,i)}};D.Script=Es;var Yn=class{constructor(e,t,r,i){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=i}static natural(e,t,r,i){return new Yn(Sr.fromStr(e),new fc.Identifier(t),r,i)}static natual(e,t,r,i){return Yn.natural(e,t,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),(0,cn.serializeVector)(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(e){let t=Sr.deserialize(e),r=fc.Identifier.deserialize(e),i=(0,cn.deserializeVector)(e,Ph.TypeTag),s=e.deserializeUleb128AsU32(),o=[];for(let c=0;c<s;c+=1)o.push(e.deserializeBytes());let a=o;return new Yn(t,r,i,a)}};D.EntryFunction=Yn;var Ss=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new Ss(Yn.deserialize(e))}};D.MultiSigTransactionPayload=Ss;var xs=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){let t=Br.AccountAddress.deserialize(e),r=e.deserializeBool(),i;return r&&(i=Ss.deserialize(e)),new xs(t,i)}};D.MultiSig=xs;var Wo=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){let t=e.deserializeBytes();return new Wo(t)}};D.Module=Wo;var Sr=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){let t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new Sr(Br.AccountAddress.fromHex(new Iw.HexString(t[0])),new fc.Identifier(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){let t=Br.AccountAddress.deserialize(e),r=fc.Identifier.deserialize(e);return new Sr(t,r)}};D.ModuleId=Sr;var Al=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}};D.ChangeSet=Al;var Tl=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}};D.WriteSet=Tl;var vs=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){let t=Er.deserialize(e),r=zw.TransactionAuthenticator.deserialize(e);return new vs(t,r)}};D.SignedTransaction=vs;var Xo=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Us.load(e);case 1:return Is.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}};D.RawTransactionWithData=Xo;var Us=class extends Xo{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),(0,cn.serializeVector)(this.secondary_signer_addresses,e)}static load(e){let t=Er.deserialize(e),r=(0,cn.deserializeVector)(e,Br.AccountAddress);return new Us(t,r)}};D.MultiAgentRawTransaction=Us;var Is=class extends Xo{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),(0,cn.serializeVector)(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(e){let t=Er.deserialize(e),r=(0,cn.deserializeVector)(e,Br.AccountAddress),i=Br.AccountAddress.deserialize(e);return new Is(t,r,i)}};D.FeePayerRawTransaction=Is;var wi=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return zs.load(e);case 2:return Ps.load(e);case 3:return Os.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}};D.TransactionPayload=wi;var zs=class extends wi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){let t=Es.deserialize(e);return new zs(t)}};D.TransactionPayloadScript=zs;var Ps=class extends wi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){let t=Yn.deserialize(e);return new Ps(t)}};D.TransactionPayloadEntryFunction=Ps;var Os=class extends wi{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){let t=xs.deserialize(e);return new Os(t)}};D.TransactionPayloadMultisig=Os;var Ns=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){let t=e.deserializeU8();return new Ns(t)}};D.ChainId=Ns;var qt=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return qs.load(e);case 1:return Cs.load(e);case 2:return Hs.load(e);case 3:return js.load(e);case 4:return Ls.load(e);case 5:return Ds.load(e);case 6:return Ms.load(e);case 7:return Rs.load(e);case 8:return Ks.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}};D.TransactionArgument=qt;var qs=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){let t=e.deserializeU8();return new qs(t)}};D.TransactionArgumentU8=qs;var Ms=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){let t=e.deserializeU16();return new Ms(t)}};D.TransactionArgumentU16=Ms;var Rs=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){let t=e.deserializeU32();return new Rs(t)}};D.TransactionArgumentU32=Rs;var Cs=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){let t=e.deserializeU64();return new Cs(t)}};D.TransactionArgumentU64=Cs;var Hs=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){let t=e.deserializeU128();return new Hs(t)}};D.TransactionArgumentU128=Hs;var Ks=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){let t=e.deserializeU256();return new Ks(t)}};D.TransactionArgumentU256=Ks;var js=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){let t=Br.AccountAddress.deserialize(e);return new js(t)}};D.TransactionArgumentAddress=js;var Ls=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){let t=e.deserializeBytes();return new Ls(t)}};D.TransactionArgumentU8Vector=Ls;var Ds=class extends qt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){let t=e.deserializeBool();return new Ds(t)}};D.TransactionArgumentBool=Ds;var hc=class{getHashSalt(){let e=zh.sha3_256.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Vs.load(e);default:throw new Error(`Unknown variant index for Transaction: ${t}`)}}};D.Transaction=hc;var Vs=class extends hc{constructor(e){super(),this.value=e}hash(){let e=zh.sha3_256.create();return e.update(this.getHashSalt()),e.update((0,cn.bcsToBytes)(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new Vs(vs.deserialize(e))}};D.UserTransaction=Vs});var Nh=v(yc=>{"use strict";h();y();Object.defineProperty(yc,"__esModule",{value:!0});yc.AuthenticationKey=void 0;var Pw=Xn(),Oh=lr(),Mt=class{constructor(e){if(e.length!==Mt.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){let t=e.toBytes(),r=new Uint8Array(t.length+1);r.set(t),r.set([Mt.MULTI_ED25519_SCHEME],t.length);let i=Oh.sha3_256.create();return i.update(r),new Mt(i.digest())}static fromEd25519PublicKey(e){let t=e.value,r=new Uint8Array(t.length+1);r.set(t),r.set([Mt.ED25519_SCHEME],t.length);let i=Oh.sha3_256.create();return i.update(r),new Mt(i.digest())}derivedAddress(){return Pw.HexString.fromUint8Array(this.bytes)}};yc.AuthenticationKey=Mt;Mt.LENGTH=32;Mt.MULTI_ED25519_SCHEME=1;Mt.ED25519_SCHEME=0;Mt.DERIVE_RESOURCE_ACCOUNT_SCHEME=255});var vr=v(mt=>{"use strict";h();y();var Ow=mt&&mt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xr=mt&&mt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ow(e,n,t)};Object.defineProperty(mt,"__esModule",{value:!0});xr(Fo(),mt);xr(_l(),mt);xr(Bl(),mt);xr(dc(),mt);xr(uc(),mt);xr(sc(),mt);xr(wl(),mt);xr(Nh(),mt)});var El=v(Ye=>{"use strict";h();y();var Nw=Ye&&Ye.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),qw=Ye&&Ye.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Mw=Ye&&Ye.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Rw=Ye&&Ye.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Nw(e,n,t);return qw(e,n),e},Cw=Ye&&Ye.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getAddressFromAccountOrAddress=Ye.AptosAccount=void 0;var un=Xn(),gc=Cw(jf()),Hw=Rw(fl()),Kw=$t(),jw=Da(),Lw=lr(),Dw=bh(),Vw=hl(),bc=vr(),kw=En(),Fw=Db(),vn=class{static fromAptosAccountObject(e){return new vn(un.HexString.ensure(e.privateKeyHex).toUint8Array(),e.address)}static fromPrivateKey(e){return new vn(e.toUint8Array())}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(e,t){if(!vn.isValidPath(e))throw new Error("Invalid derivation path");let r=t.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:i}=(0,Dw.derivePath)(e,(0,Kw.bytesToHex)(Hw.mnemonicToSeedSync(r)));return new vn(i)}constructor(e,t){if(!e||e.length!==32&&e.length!==64)throw new Error("invalid key");e?this.signingKey=gc.default.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=gc.default.sign.keyPair(),this.accountAddress=un.HexString.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){let e=new bc.Ed25519PublicKey(this.signingKey.publicKey);return bc.AuthenticationKey.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){let r=(0,kw.bcsToBytes)(bc.AccountAddress.fromHex(e)),i=new Uint8Array([...r,...t,bc.AuthenticationKey.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=Lw.sha3_256.create();return s.update(i),un.HexString.fromUint8Array(s.digest())}static getCollectionID(e,t){let r=new Fw.TextEncoder().encode(`${e}::${t}`),i=jw.sha256.create();return i.update(r),un.HexString.fromUint8Array(i.digest())}pubKey(){return un.HexString.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){let t=gc.default.sign.detached(e,this.signingKey.secretKey);return un.HexString.fromUint8Array(t)}signHexString(e){let t=un.HexString.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){let r=un.HexString.ensure(e).toUint8Array(),i=un.HexString.ensure(t).toUint8Array();return gc.default.sign.detached.verify(r,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:un.HexString.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};Mw([(0,Vw.Memoize)()],vn.prototype,"authKey",null);Ye.AptosAccount=vn;function $w(n){return n instanceof vn?n.address():un.HexString.ensure(n)}Ye.getAddressFromAccountOrAddress=$w});var qh=v(Qt=>{"use strict";h();y();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.EntryFunctionABI=Qt.TransactionScriptABI=Qt.ScriptABI=Qt.ArgumentABI=Qt.TypeArgumentABI=void 0;var Ur=En(),Gw=Bl(),Ww=dc(),mi=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){let t=e.deserializeStr();return new mi(t)}};Qt.TypeArgumentABI=mi;var _i=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){let t=e.deserializeStr(),r=Ww.TypeTag.deserialize(e);return new _i(t,r)}};Qt.ArgumentABI=_i;var Zo=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return ks.load(e);case 1:return Fs.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}};Qt.ScriptABI=Zo;var ks=class extends Zo{constructor(e,t,r,i,s){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),(0,Ur.serializeVector)(this.ty_args,e),(0,Ur.serializeVector)(this.args,e)}static load(e){let t=e.deserializeStr(),r=e.deserializeStr(),i=e.deserializeBytes(),s=(0,Ur.deserializeVector)(e,mi),o=(0,Ur.deserializeVector)(e,_i);return new ks(t,r,i,s,o)}};Qt.TransactionScriptABI=ks;var Fs=class extends Zo{constructor(e,t,r,i,s){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),(0,Ur.serializeVector)(this.ty_args,e),(0,Ur.serializeVector)(this.args,e)}static load(e){let t=e.deserializeStr(),r=Gw.ModuleId.deserialize(e),i=e.deserializeStr(),s=(0,Ur.deserializeVector)(e,mi),o=(0,Ur.deserializeVector)(e,_i);return new Fs(t,r,i,s,o)}};Qt.EntryFunctionABI=Fs});var Rh=v(Jt=>{"use strict";h();y();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.argToTransactionArgument=Jt.serializeArg=Jt.ensureBigInt=Jt.ensureNumber=Jt.ensureBoolean=void 0;var pc=Xn(),oe=vr();function wc(n,e,t){if(!e?.includes(typeof n))throw new Error(t||`Invalid arg: ${n} type should be ${e instanceof Array?e.join(" or "):e}`)}function Sl(n){if(wc(n,["boolean","string"]),typeof n=="boolean")return n;if(n==="true")return!0;if(n==="false")return!1;throw new Error("Invalid boolean string.")}Jt.ensureBoolean=Sl;function Ai(n){if(wc(n,["number","string"]),typeof n=="number")return n;let e=Number.parseInt(n,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}Jt.ensureNumber=Ai;function Ti(n){return wc(n,["number","bigint","string"]),BigInt(n)}Jt.ensureBigInt=Ti;function Xw(n,e,t){xl(n,e,t,0)}Jt.serializeArg=Xw;function xl(n,e,t,r){if(e instanceof oe.TypeTagBool)t.serializeBool(Sl(n));else if(e instanceof oe.TypeTagU8)t.serializeU8(Ai(n));else if(e instanceof oe.TypeTagU16)t.serializeU16(Ai(n));else if(e instanceof oe.TypeTagU32)t.serializeU32(Ai(n));else if(e instanceof oe.TypeTagU64)t.serializeU64(Ti(n));else if(e instanceof oe.TypeTagU128)t.serializeU128(Ti(n));else if(e instanceof oe.TypeTagU256)t.serializeU256(Ti(n));else if(e instanceof oe.TypeTagAddress)Mh(n,t);else if(e instanceof oe.TypeTagVector)Zw(n,e,t,r);else if(e instanceof oe.TypeTagStruct)Yw(n,e,t,r);else throw new Error("Unsupported arg type.")}function Mh(n,e){let t;if(typeof n=="string"||n instanceof pc.HexString)t=oe.AccountAddress.fromHex(n);else if(n instanceof oe.AccountAddress)t=n;else throw new Error("Invalid account address.");t.serialize(e)}function Zw(n,e,t,r){if(e.value instanceof oe.TypeTagU8){if(n instanceof Uint8Array){t.serializeBytes(n);return}if(n instanceof pc.HexString){t.serializeBytes(n.toUint8Array());return}if(typeof n=="string"){t.serializeStr(n);return}}if(!Array.isArray(n))throw new Error("Invalid vector args.");t.serializeU32AsUleb128(n.length),n.forEach(i=>xl(i,e.value,t,r+1))}function Yw(n,e,t,r){let{address:i,module_name:s,name:o,type_args:a}=e.value,c=`${pc.HexString.fromUint8Array(i.address).toShortString()}::${s.value}::${o.value}`;if(c==="0x1::string::String")wc(n,["string"]),t.serializeStr(n);else if(c==="0x1::object::Object")Mh(n,t);else if(c==="0x1::option::Option"){if(a.length!==1)throw new Error(`Option has the wrong number of type arguments ${a.length}`);Qw(n,a[0],t,r)}else throw new Error("Unsupported struct type in function argument")}function Qw(n,e,t,r){n==null?t.serializeU32AsUleb128(0):(t.serializeU32AsUleb128(1),xl(n,e,t,r+1))}function Jw(n,e){if(e instanceof oe.TypeTagBool)return new oe.TransactionArgumentBool(Sl(n));if(e instanceof oe.TypeTagU8)return new oe.TransactionArgumentU8(Ai(n));if(e instanceof oe.TypeTagU16)return new oe.TransactionArgumentU16(Ai(n));if(e instanceof oe.TypeTagU32)return new oe.TransactionArgumentU32(Ai(n));if(e instanceof oe.TypeTagU64)return new oe.TransactionArgumentU64(Ti(n));if(e instanceof oe.TypeTagU128)return new oe.TransactionArgumentU128(Ti(n));if(e instanceof oe.TypeTagU256)return new oe.TransactionArgumentU256(Ti(n));if(e instanceof oe.TypeTagAddress){let t;if(typeof n=="string"||n instanceof pc.HexString)t=oe.AccountAddress.fromHex(n);else if(n instanceof oe.AccountAddress)t=n;else throw new Error("Invalid account address.");return new oe.TransactionArgumentAddress(t)}if(e instanceof oe.TypeTagVector&&e.value instanceof oe.TypeTagU8){if(!(n instanceof Uint8Array))throw new Error(`${n} should be an instance of Uint8Array`);return new oe.TransactionArgumentU8Vector(n)}throw new Error("Unknown type for TransactionArgument.")}Jt.argToTransactionArgument=Jw});var Lh=v(_t=>{"use strict";h();y();Object.defineProperty(_t,"__esModule",{value:!0});_t.buildRawTransactionByABI=_t.fetchABI=_t.TransactionBuilderABI=_t.TransactionBuilderMultiEd25519=_t.TransactionBuilderEd25519=_t.TransactionBuilder=void 0;var em=lr(),$e=vr(),$s=En(),tm=Xn(),Bi=qh(),Ch=Rh(),Kh=vr(),Hh=hl(),nm="APTOS::RawTransaction",rm="APTOS::RawTransactionWithData",Ei=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){let t=em.sha3_256.create();if(e instanceof $e.RawTransaction)t.update(nm);else if(e instanceof $e.MultiAgentRawTransaction)t.update(rm);else throw new Error("Unknown transaction type.");let r=t.digest(),i=(0,$s.bcsToBytes)(e),s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}};_t.TransactionBuilder=Ei;var vl=class extends Ei{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){let t=Ei.getSigningMessage(e),r=this.signingFunction(t),i=new $e.TransactionAuthenticatorEd25519(new $e.Ed25519PublicKey(this.publicKey),r);return new $e.SignedTransaction(e,i)}sign(e){return(0,$s.bcsToBytes)(this.rawToSigned(e))}};_t.TransactionBuilderEd25519=vl;var Ul=class extends Ei{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){let t=Ei.getSigningMessage(e),r=this.signingFunction(t),i=new $e.TransactionAuthenticatorMultiEd25519(this.publicKey,r);return new $e.SignedTransaction(e,i)}sign(e){return(0,$s.bcsToBytes)(this.rawToSigned(e))}};_t.TransactionBuilderMultiEd25519=Ul;var Si=class{constructor(e,t){this.abiMap=new Map,e.forEach(r=>{let i=new $s.Deserializer(r),s=Bi.ScriptABI.deserialize(i),o;if(s instanceof Bi.EntryFunctionABI){let a=s,{address:c,name:l}=a.module_name;o=`${tm.HexString.fromUint8Array(c.address).toShortString()}::${l.value}::${a.name}`}else o=s.name;if(this.abiMap.has(o))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(o,s)}),this.builderConfig={maxGasAmount:BigInt(Hh.DEFAULT_MAX_GAS_AMOUNT),expSecFromNow:Hh.DEFAULT_TXN_EXP_SEC_FROM_NOW,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((r,i)=>{let s=new $s.Serializer;return(0,Ch.serializeArg)(r,e[i].type_tag,s),s.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((r,i)=>(0,Ch.argToTransactionArgument)(r,e[i].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,r){let i=t.map(a=>new Kh.TypeTagParser(a).parseTypeTag()),s;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);let o=this.abiMap.get(e);if(o instanceof Bi.EntryFunctionABI){let a=o,c=Si.toBCSArgs(a.args,r);s=new $e.TransactionPayloadEntryFunction(new $e.EntryFunction(a.module_name,new $e.Identifier(a.name),i,c))}else if(o instanceof Bi.TransactionScriptABI){let a=o,c=Si.toTransactionArguments(a.args,r);s=new $e.TransactionPayloadScript(new $e.Script(a.code,i,c))}else throw new Error("Unknown ABI format.");return s}build(e,t,r){let{sender:i,sequenceNumber:s,gasUnitPrice:o,maxGasAmount:a,expSecFromNow:c,chainId:l}=this.builderConfig;if(!o)throw new Error("No gasUnitPrice provided.");let d=i instanceof $e.AccountAddress?i:$e.AccountAddress.fromHex(i),u=BigInt(Math.floor(Date.now()/1e3)+Number(c)),g=this.buildTransactionPayload(e,t,r);if(g)return new $e.RawTransaction(d,BigInt(s),g,BigInt(a),BigInt(o),u,new $e.ChainId(Number(l)));throw new Error("Invalid ABI.")}};_t.TransactionBuilderABI=Si;function jh(n){let e=n.map(r=>r.abi).flatMap(r=>r.exposed_functions.filter(i=>i.is_entry).map(i=>({fullName:`${r.address}::${r.name}::${i.name}`,...i}))),t=new Map;return e.forEach(r=>{t.set(r.fullName,r)}),t}_t.fetchABI=jh;function im(n,e,t,r,i){if(t=(f=>f.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");let[a,c]=t.split("::"),l=jh(n);if(!l.has(t))throw new Error(`${t} doesn't exist.`);let d=l.get(t);if(!d)throw Error("abi miss");let g=d.params.filter(f=>f!=="signer"&&f!=="&signer").map((f,b)=>new Bi.ArgumentABI(`var${b}`,new Kh.TypeTagParser(f,r).parseTypeTag())),p=new Bi.EntryFunctionABI(d.name,$e.ModuleId.fromStr(`${a}::${c}`),"",d.generic_type_params.map((f,b)=>new Bi.TypeArgumentABI(`${b}`)),g);return new Si([(0,$s.bcsToBytes)(p)],e).build(t,r,i)}_t.buildRawTransactionByABI=im});var Dh=v(Yo=>{"use strict";h();y();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.MoveFunctionVisibility=void 0;var sm;(function(n){n.PRIVATE="private",n.PUBLIC="public",n.FRIEND="friend"})(sm=Yo.MoveFunctionVisibility||(Yo.MoveFunctionVisibility={}))});var zl=v(Ge=>{"use strict";h();y();var Vh=Ge&&Ge.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),om=Ge&&Ge.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),am=Ge&&Ge.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vh(e,n,t)},Il=Ge&&Ge.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Vh(e,n,t);return om(e,n),e};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.MoveTypes=Ge.TxnBuilderTypes=Ge.BCS=void 0;am(Lh(),Ge);Ge.BCS=Il(En());Ge.TxnBuilderTypes=Il(vr());Ge.MoveTypes=Il(Dh())});var Ol=v(ne=>{"use strict";h();y();Object.defineProperty(ne,"__esModule",{value:!0});ne.validSignedTransaction=ne.signMessage=ne.createRawTransactionByABI=ne.generateBCSSimulateTransaction=ne.generateBCSTransaction=ne.claimNFTTokenPayload=ne.offerNFTTokenPayloadObject=ne.offerNFTTokenPayload=ne.createNFTTokenPayload=ne.createNFTCollectionPayload=ne.transferCoin=ne.burnCoin=ne.mintCoin=ne.registerCoin=ne.transferPayload=ne.simulateTransaction=ne.createRawTransaction=ne.transfer=void 0;var cm=Xn(),um=El(),N=zl(),Fh=vr(),lm=En(),kh=Kf();function dm(n,e,t,r,i,s,o,a){let c=$h(e,t),l=Pl(n.address(),c,r,i,s,o,a);return Wh(n,l)}ne.transfer=dm;function Pl(n,e,t,r,i,s,o){return new N.TxnBuilderTypes.RawTransaction(N.TxnBuilderTypes.AccountAddress.fromHex(n),t,e,i,s,o,new N.TxnBuilderTypes.ChainId(r))}ne.createRawTransaction=Pl;function fm(n,e,t,r,i,s,o){let a=Pl(n.address(),e,t,r,i,s,o);return Xh(n,a)}ne.simulateTransaction=fm;function $h(n,e){return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::aptos_account","transfer",[],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(n)),N.BCS.bcsSerializeUint64(e)]))}ne.transferPayload=$h;function hm(n){let e=new N.TxnBuilderTypes.TypeTagStruct(N.TxnBuilderTypes.StructTag.fromString(n));return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::managed_coin","register",[e],[]))}ne.registerCoin=hm;function ym(n,e,t){let r=new N.TxnBuilderTypes.TypeTagStruct(N.TxnBuilderTypes.StructTag.fromString(n));return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::managed_coin","mint",[r],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(e)),N.BCS.bcsSerializeUint64(t)]))}ne.mintCoin=ym;function gm(n,e){let t=new N.TxnBuilderTypes.TypeTagStruct(N.TxnBuilderTypes.StructTag.fromString(n));return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::managed_coin","burn",[t],[N.BCS.bcsSerializeUint64(e)]))}ne.burnCoin=gm;function bm(n,e,t){let r=new N.TxnBuilderTypes.TypeTagStruct(N.TxnBuilderTypes.StructTag.fromString(n));return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::coin","transfer",[r],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(e)),N.BCS.bcsSerializeUint64(t)]))}ne.transferCoin=bm;function Gh(n){let e=new N.BCS.Serializer;return e.serializeU32AsUleb128(n.length),n.forEach(t=>{e.serializeBool(t)}),e.getBytes()}function pm(n,e,t){return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x3::token","create_collection_script",[],[N.BCS.bcsSerializeStr(n),N.BCS.bcsSerializeStr(e),N.BCS.bcsSerializeStr(t),N.BCS.bcsSerializeUint64(9007199254740991),Gh([!1,!1,!1])]))}ne.createNFTCollectionPayload=pm;function wm(n,e,t,r,i,s){let a=new N.BCS.Serializer;return a.serializeU32AsUleb128(0),new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x3::token","create_token_script",[],[N.BCS.bcsSerializeStr(e),N.BCS.bcsSerializeStr(t),N.BCS.bcsSerializeStr(r),N.BCS.bcsSerializeUint64(i),N.BCS.bcsSerializeUint64(9007199254740991),N.BCS.bcsSerializeStr(s),N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(n.address())),N.BCS.bcsSerializeUint64(0),N.BCS.bcsSerializeUint64(0),Gh([!1,!1,!1,!1,!1]),a.getBytes(),a.getBytes(),a.getBytes()]))}ne.createNFTTokenPayload=wm;function mm(n,e,t,r,i,s){return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x3::token_transfers","offer_script",[],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(n.hex())),N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(e.hex())),N.BCS.bcsSerializeStr(t),N.BCS.bcsSerializeStr(r),N.BCS.bcsSerializeUint64(i),N.BCS.bcsSerializeUint64(s)]))}ne.offerNFTTokenPayload=mm;function _m(n,e,t){return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x1::object","transfer",[Fh.StructTag.fromString("0x1::object::ObjectCore")],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(n.hex())),N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(e.hex())),N.BCS.bcsSerializeUint64(t)]))}ne.offerNFTTokenPayloadObject=_m;function Am(n,e,t,r,i){return new N.TxnBuilderTypes.TransactionPayloadEntryFunction(N.TxnBuilderTypes.EntryFunction.natural("0x3::token_transfers","claim_script",[],[N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(n.hex())),N.BCS.bcsToBytes(N.TxnBuilderTypes.AccountAddress.fromHex(e.hex())),N.BCS.bcsSerializeStr(t),N.BCS.bcsSerializeStr(r),N.BCS.bcsSerializeUint64(i)]))}ne.claimNFTTokenPayload=Am;function Wh(n,e){return new N.TransactionBuilderEd25519(r=>{let i=n.signBuffer(S.Buffer.from(r));return new N.TxnBuilderTypes.Ed25519Signature(i.toUint8Array())},n.pubKey().toUint8Array()).sign(e)}ne.generateBCSTransaction=Wh;function Xh(n,e){return new N.TransactionBuilderEd25519(r=>{let i=new Uint8Array(64);return new N.TxnBuilderTypes.Ed25519Signature(i)},n.pubKey().toUint8Array()).sign(e)}ne.generateBCSSimulateTransaction=Xh;function Tm(n,e,t,r,i,s,o,a){let c={sender:n,sequenceNumber:e,gasUnitPrice:i,maxGasAmount:r,expSecFromNow:s.toString(),chainId:t},l=JSON.parse(o),d=JSON.parse(a);return(0,N.buildRawTransactionByABI)(d,c,l.function,l.type_arguments||l.typeArguments,l.arguments||l.functionArguments)}ne.createRawTransactionByABI=Tm;async function Bm(n,e){let t=new TextEncoder,r=S.Buffer.from(t.encode(n)),s=um.AptosAccount.fromPrivateKey(cm.HexString.ensure(e)).signBuffer(r);return Promise.resolve(s.hex())}ne.signMessage=Bm;function Em(n,e){let t=Fh.SignedTransaction.deserialize(new lm.Deserializer(kh.base.fromHex(n))),r=t.authenticator,i=r.public_key.value,s=r.signature.value,o=N.TransactionBuilder.getSigningMessage(t.raw_txn);if(!e&&!kh.signUtil.ed25519.verify(o,s,i))throw Error("signature error");return t}ne.validSignedTransaction=Em});var mc=v(At=>{"use strict";h();y();Object.defineProperty(At,"__esModule",{value:!0});At.MAX_U256_BIG_INT=At.MAX_U128_BIG_INT=At.MAX_U64_BIG_INT=At.MAX_U32_NUMBER=At.MAX_U16_NUMBER=At.MAX_U8_NUMBER=void 0;At.MAX_U8_NUMBER=255;At.MAX_U16_NUMBER=65535;At.MAX_U32_NUMBER=4294967295;At.MAX_U64_BIG_INT=18446744073709551615n;At.MAX_U128_BIG_INT=340282366920938463463374607431768211455n;At.MAX_U256_BIG_INT=115792089237316195423570985008687907853269984665640564039457584007913129639935n});var Yh=v(_c=>{"use strict";h();y();Object.defineProperty(_c,"__esModule",{value:!0});_c.Deserializer=void 0;var Zh=mc(),Nl=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){let e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){let e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){let e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){let e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){let e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<Zh.MAX_U32_NUMBER;){let r=this.deserializeU8();if(e|=BigInt(r&127)<<BigInt(t),(r&128)===0)break;t+=7}if(e>Zh.MAX_U32_NUMBER)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}deserialize(e){return e.deserialize(this)}deserializeVector(e){let t=this.deserializeUleb128AsU32(),r=new Array;for(let i=0;i<t;i+=1)r.push(this.deserialize(e));return r}};_c.Deserializer=Nl});var Tc=v(Ac=>{"use strict";h();y();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.ParsingError=void 0;var ql=class extends Error{constructor(e,t){super(e),this.invalidReason=t}};Ac.ParsingError=ql});var ln=v(xi=>{"use strict";h();y();Object.defineProperty(xi,"__esModule",{value:!0});xi.Hex=xi.HexInvalidReason=void 0;var Qh=$t(),Ml=Tc(),Bc;(function(n){n.TOO_SHORT="too_short",n.INVALID_LENGTH="invalid_length",n.INVALID_HEX_CHARS="invalid_hex_chars"})(Bc=xi.HexInvalidReason||(xi.HexInvalidReason={}));var Ir=class{constructor(e){this.data=e}toUint8Array(){return this.data}toStringWithoutPrefix(){return(0,Qh.bytesToHex)(this.data)}toString(){return`0x${this.toStringWithoutPrefix()}`}static fromHexString(e){let t=e;if(t.startsWith("0x")&&(t=t.slice(2)),t.length===0)throw new Ml.ParsingError("Hex string is too short, must be at least 1 char long, excluding the optional leading 0x.",Bc.TOO_SHORT);if(t.length%2!==0)throw new Ml.ParsingError("Hex string must be an even number of hex characters.",Bc.INVALID_LENGTH);try{return new Ir((0,Qh.hexToBytes)(t))}catch(r){throw new Ml.ParsingError(`Hex string contains invalid hex characters: ${r?.message}`,Bc.INVALID_HEX_CHARS)}}static fromHexInput(e){return e instanceof Uint8Array?new Ir(e):Ir.fromHexString(e)}static isValid(e){try{return Ir.fromHexString(e),{valid:!0}}catch(t){return{valid:!1,invalidReason:t?.invalidReason,invalidReasonMessage:t?.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((t,r)=>t===e.data[r])}};xi.Hex=Ir});var Me=v(at=>{"use strict";h();y();var vi=at&&at.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(at,"__esModule",{value:!0});at.validateNumberInRange=at.outOfRangeErrorMessage=at.ensureBoolean=at.Serializer=at.Serializable=void 0;var Un=mc(),Sm=ln(),Rl=class{bcsToBytes(){let e=new dn;return this.serialize(e),e.toUint8Array()}bcsToHex(){let e=this.bcsToBytes();return Sm.Hex.fromHexInput(e)}};at.Serializable=Rl;var dn=class{constructor(e=64){if(e<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(e),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}appendToBuffer(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);let i=new DataView(this.buffer,this.offset);e.apply(i,[0,r,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.appendToBuffer(e)}serializeFixedBytes(e){this.appendToBuffer(e)}serializeBool(e){Jh(e);let t=e?1:0;this.appendToBuffer(new Uint8Array([t]))}serializeU8(e){this.appendToBuffer(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e)&BigInt(Un.MAX_U32_NUMBER),r=BigInt(e)>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){let t=BigInt(e)&Un.MAX_U64_BIG_INT,r=BigInt(e)>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){let t=BigInt(e)&Un.MAX_U128_BIG_INT,r=BigInt(e)>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e,r=[];for(;t>>>7!==0;)r.push(t&127|128),t>>>=7;r.push(t),this.appendToBuffer(new Uint8Array(r))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(e){e.serialize(this)}serializeVector(e){this.serializeU32AsUleb128(e.length),e.forEach(t=>{t.serialize(this)})}};vi([Ui(0,Un.MAX_U8_NUMBER)],dn.prototype,"serializeU8",null);vi([Ui(0,Un.MAX_U16_NUMBER)],dn.prototype,"serializeU16",null);vi([Ui(0,Un.MAX_U32_NUMBER)],dn.prototype,"serializeU32",null);vi([Ui(BigInt(0),Un.MAX_U64_BIG_INT)],dn.prototype,"serializeU64",null);vi([Ui(BigInt(0),Un.MAX_U128_BIG_INT)],dn.prototype,"serializeU128",null);vi([Ui(BigInt(0),Un.MAX_U256_BIG_INT)],dn.prototype,"serializeU256",null);vi([Ui(0,Un.MAX_U32_NUMBER)],dn.prototype,"serializeU32AsUleb128",null);at.Serializer=dn;function Jh(n){if(typeof n!="boolean")throw new Error(`${n} is not a boolean value`)}at.ensureBoolean=Jh;var xm=(n,e,t)=>`${n} is out of range: [${e}, ${t}]`;at.outOfRangeErrorMessage=xm;function ey(n,e,t){let r=BigInt(n);if(r>BigInt(t)||r<BigInt(e))throw new Error((0,at.outOfRangeErrorMessage)(n,e,t))}at.validateNumberInRange=ey;function Ui(n,e){return(t,r,i)=>{let s=i.value;return i.value=function(a){return ey(a,n,e),s.apply(this,[a])},i}}});var Cl=v(Ec=>{"use strict";h();y();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.FixedBytes=void 0;var vm=Me(),Um=ln(),Qo=class extends vm.Serializable{constructor(e){super(),this.value=Um.Hex.fromHexInput(e).toUint8Array()}serialize(e){e.serializeFixedBytes(this.value)}serializeForEntryFunction(e){e.serialize(this)}serializeForScriptFunction(e){e.serialize(this)}static deserialize(e,t){let r=e.deserializeFixedBytes(t);return new Qo(r)}};Ec.FixedBytes=Qo});var Hl=v(Sc=>{"use strict";h();y();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.EntryFunctionBytes=void 0;var Im=Me(),ty=Cl(),Jo=class extends Im.Serializable{constructor(e){super(),this.value=new ty.FixedBytes(e)}serialize(e){e.serialize(this.value)}serializeForEntryFunction(e){e.serializeU32AsUleb128(this.value.value.length),e.serialize(this)}static deserialize(e,t){let r=ty.FixedBytes.deserialize(e,t);return new Jo(r.value)}};Sc.EntryFunctionBytes=Jo});var ry=v(ny=>{"use strict";h();y();Object.defineProperty(ny,"__esModule",{value:!0})});var Le=v(R=>{"use strict";h();y();var zm=R&&R.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Pm=R&&R.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zm(e,n,t)};Object.defineProperty(R,"__esModule",{value:!0});R.DeriveScheme=R.SigningSchemeInput=R.SigningScheme=R.RoleType=R.MoveAbility=R.MoveFunctionVisibility=R.isMultiEd25519Signature=R.isFeePayerSignature=R.isMultiAgentSignature=R.isSecp256k1Signature=R.isEd25519Signature=R.isStateCheckpointTransactionResponse=R.isBlockMetadataTransactionResponse=R.isGenesisTransactionResponse=R.isUserTransactionResponse=R.isPendingTransactionResponse=R.TransactionResponseType=R.AnySignatureVariant=R.AnyPublicKeyVariant=R.AccountAuthenticatorVariant=R.TransactionAuthenticatorVariant=R.TransactionVariants=R.TransactionPayloadVariants=R.ScriptTransactionArgumentVariants=R.TypeTagVariants=R.MimeType=void 0;Pm(ry(),R);var Om;(function(n){n.JSON="application/json",n.BCS="application/x-bcs",n.BCS_SIGNED_TRANSACTION="application/x.aptos.signed_transaction+bcs"})(Om=R.MimeType||(R.MimeType={}));var Nm;(function(n){n[n.Bool=0]="Bool",n[n.U8=1]="U8",n[n.U64=2]="U64",n[n.U128=3]="U128",n[n.Address=4]="Address",n[n.Signer=5]="Signer",n[n.Vector=6]="Vector",n[n.Struct=7]="Struct",n[n.U16=8]="U16",n[n.U32=9]="U32",n[n.U256=10]="U256",n[n.Reference=254]="Reference",n[n.Generic=255]="Generic"})(Nm=R.TypeTagVariants||(R.TypeTagVariants={}));var qm;(function(n){n[n.U8=0]="U8",n[n.U64=1]="U64",n[n.U128=2]="U128",n[n.Address=3]="Address",n[n.U8Vector=4]="U8Vector",n[n.Bool=5]="Bool",n[n.U16=6]="U16",n[n.U32=7]="U32",n[n.U256=8]="U256"})(qm=R.ScriptTransactionArgumentVariants||(R.ScriptTransactionArgumentVariants={}));var Mm;(function(n){n[n.Script=0]="Script",n[n.EntryFunction=2]="EntryFunction",n[n.Multisig=3]="Multisig"})(Mm=R.TransactionPayloadVariants||(R.TransactionPayloadVariants={}));var Rm;(function(n){n[n.MultiAgentTransaction=0]="MultiAgentTransaction",n[n.FeePayerTransaction=1]="FeePayerTransaction"})(Rm=R.TransactionVariants||(R.TransactionVariants={}));var Cm;(function(n){n[n.Ed25519=0]="Ed25519",n[n.MultiEd25519=1]="MultiEd25519",n[n.MultiAgent=2]="MultiAgent",n[n.FeePayer=3]="FeePayer",n[n.SingleSender=4]="SingleSender"})(Cm=R.TransactionAuthenticatorVariant||(R.TransactionAuthenticatorVariant={}));var Hm;(function(n){n[n.Ed25519=0]="Ed25519",n[n.MultiEd25519=1]="MultiEd25519",n[n.SingleKey=2]="SingleKey",n[n.MultiKey=3]="MultiKey"})(Hm=R.AccountAuthenticatorVariant||(R.AccountAuthenticatorVariant={}));var Km;(function(n){n[n.Ed25519=0]="Ed25519",n[n.Secp256k1=1]="Secp256k1"})(Km=R.AnyPublicKeyVariant||(R.AnyPublicKeyVariant={}));var jm;(function(n){n[n.Ed25519=0]="Ed25519",n[n.Secp256k1=1]="Secp256k1"})(jm=R.AnySignatureVariant||(R.AnySignatureVariant={}));var Gs;(function(n){n.Pending="pending_transaction",n.User="user_transaction",n.Genesis="genesis_transaction",n.BlockMetadata="block_metadata_transaction",n.StateCheckpoint="state_checkpoint_transaction"})(Gs=R.TransactionResponseType||(R.TransactionResponseType={}));function Lm(n){return n.type===Gs.Pending}R.isPendingTransactionResponse=Lm;function Dm(n){return n.type===Gs.User}R.isUserTransactionResponse=Dm;function Vm(n){return n.type===Gs.Genesis}R.isGenesisTransactionResponse=Vm;function km(n){return n.type===Gs.BlockMetadata}R.isBlockMetadataTransactionResponse=km;function Fm(n){return n.type===Gs.StateCheckpoint}R.isStateCheckpointTransactionResponse=Fm;function $m(n){return"signature"in n&&n.signature==="ed25519_signature"}R.isEd25519Signature=$m;function Gm(n){return"signature"in n&&n.signature==="secp256k1_ecdsa_signature"}R.isSecp256k1Signature=Gm;function Wm(n){return n.type==="multi_agent_signature"}R.isMultiAgentSignature=Wm;function Xm(n){return n.type==="fee_payer_signature"}R.isFeePayerSignature=Xm;function Zm(n){return n.type==="multi_ed25519_signature"}R.isMultiEd25519Signature=Zm;var Ym;(function(n){n.PRIVATE="private",n.PUBLIC="public",n.FRIEND="friend"})(Ym=R.MoveFunctionVisibility||(R.MoveFunctionVisibility={}));var Qm;(function(n){n.STORE="store",n.DROP="drop",n.KEY="key",n.COPY="copy"})(Qm=R.MoveAbility||(R.MoveAbility={}));var Jm;(function(n){n.VALIDATOR="validator",n.FULL_NODE="full_node"})(Jm=R.RoleType||(R.RoleType={}));var e1;(function(n){n[n.Ed25519=0]="Ed25519",n[n.MultiEd25519=1]="MultiEd25519",n[n.SingleKey=2]="SingleKey",n[n.MultiKey=3]="MultiKey"})(e1=R.SigningScheme||(R.SigningScheme={}));var t1;(function(n){n[n.Ed25519=0]="Ed25519",n[n.Secp256k1Ecdsa=2]="Secp256k1Ecdsa"})(t1=R.SigningSchemeInput||(R.SigningSchemeInput={}));var n1;(function(n){n[n.DeriveAuid=251]="DeriveAuid",n[n.DeriveObjectAddressFromObject=252]="DeriveObjectAddressFromObject",n[n.DeriveObjectAddressFromGuid=253]="DeriveObjectAddressFromGuid",n[n.DeriveObjectAddressFromSeed=254]="DeriveObjectAddressFromSeed",n[n.DeriveResourceAccountAddress=255]="DeriveResourceAccountAddress"})(n1=R.DeriveScheme||(R.DeriveScheme={}))});var xc=v(Qe=>{"use strict";h();y();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.U256=Qe.U128=Qe.U64=Qe.U32=Qe.U16=Qe.U8=Qe.Bool=void 0;var Ws=mc(),Tt=Me(),Ii=Le(),ea=class extends Tt.Serializable{constructor(e){super(),(0,Tt.ensureBoolean)(e),this.value=e}serialize(e){e.serializeBool(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.Bool),e.serialize(this)}static deserialize(e){return new ea(e.deserializeBool())}};Qe.Bool=ea;var ta=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,0,Ws.MAX_U8_NUMBER),this.value=e}serialize(e){e.serializeU8(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U8),e.serialize(this)}static deserialize(e){return new ta(e.deserializeU8())}};Qe.U8=ta;var na=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,0,Ws.MAX_U16_NUMBER),this.value=e}serialize(e){e.serializeU16(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U16),e.serialize(this)}static deserialize(e){return new na(e.deserializeU16())}};Qe.U16=na;var ra=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,0,Ws.MAX_U32_NUMBER),this.value=e}serialize(e){e.serializeU32(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U32),e.serialize(this)}static deserialize(e){return new ra(e.deserializeU32())}};Qe.U32=ra;var ia=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,BigInt(0),Ws.MAX_U64_BIG_INT),this.value=BigInt(e)}serialize(e){e.serializeU64(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U64),e.serialize(this)}static deserialize(e){return new ia(e.deserializeU64())}};Qe.U64=ia;var sa=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,BigInt(0),Ws.MAX_U128_BIG_INT),this.value=BigInt(e)}serialize(e){e.serializeU128(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U128),e.serialize(this)}static deserialize(e){return new sa(e.deserializeU128())}};Qe.U128=sa;var oa=class extends Tt.Serializable{constructor(e){super(),(0,Tt.validateNumberInRange)(e,BigInt(0),Ws.MAX_U256_BIG_INT),this.value=BigInt(e)}serialize(e){e.serializeU256(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(Ii.ScriptTransactionArgumentVariants.U256),e.serialize(this)}static deserialize(e){return new oa(e.deserializeU256())}};Qe.U256=oa});var jl=v(zr=>{"use strict";h();y();Object.defineProperty(zr,"__esModule",{value:!0});zr.MoveOption=zr.MoveString=zr.MoveVector=void 0;var ct=xc(),Kl=Me(),r1=Le(),i1=ln(),We=class extends Kl.Serializable{constructor(e){super(),this.values=e}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){if(!(this.values[0]instanceof ct.U8)&&this.values[0]!==void 0)throw new Error("Script function arguments only accept u8 vectors");e.serializeU32AsUleb128(r1.ScriptTransactionArgumentVariants.U8Vector),e.serialize(this)}static U8(e){let t;if(Array.isArray(e)&&typeof e[0]=="number")t=e;else if(typeof e=="string"){let r=i1.Hex.fromHexInput(e);t=Array.from(r.toUint8Array())}else if(e instanceof Uint8Array)t=Array.from(e);else throw new Error("Invalid input type");return new We(t.map(r=>new ct.U8(r)))}static U16(e){return new We(e.map(t=>new ct.U16(t)))}static U32(e){return new We(e.map(t=>new ct.U32(t)))}static U64(e){return new We(e.map(t=>new ct.U64(t)))}static U128(e){return new We(e.map(t=>new ct.U128(t)))}static U256(e){return new We(e.map(t=>new ct.U256(t)))}static Bool(e){return new We(e.map(t=>new ct.Bool(t)))}static MoveString(e){return new We(e.map(t=>new zi(t)))}serialize(e){e.serializeVector(this.values)}static deserialize(e,t){let r=e.deserializeUleb128AsU32(),i=new Array;for(let s=0;s<r;s+=1)i.push(t.deserialize(e));return new We(i)}};zr.MoveVector=We;var zi=class extends Kl.Serializable{constructor(e){super(),this.value=e}serialize(e){e.serializeStr(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){let t=this.bcsToBytes().slice(1);We.U8(t).serializeForScriptFunction(e)}static deserialize(e){return new zi(e.deserializeStr())}};zr.MoveString=zi;var Rt=class extends Kl.Serializable{constructor(e){super(),typeof e<"u"&&e!==null?this.vec=new We([e]):this.vec=new We([]),[this.value]=this.vec.values}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}unwrap(){if(this.isSome())return this.vec.values[0];throw new Error("Called unwrap on a MoveOption with no value")}isSome(){return this.vec.values.length===1}serialize(e){this.vec.serialize(e)}static U8(e){return new Rt(e!=null?new ct.U8(e):void 0)}static U16(e){return new Rt(e!=null?new ct.U16(e):void 0)}static U32(e){return new Rt(e!=null?new ct.U32(e):void 0)}static U64(e){return new Rt(e!=null?new ct.U64(e):void 0)}static U128(e){return new Rt(e!=null?new ct.U128(e):void 0)}static U256(e){return new Rt(e!=null?new ct.U256(e):void 0)}static Bool(e){return new Rt(e!=null?new ct.Bool(e):void 0)}static MoveString(e){return new Rt(e!=null?new zi(e):void 0)}static deserialize(e,t){let r=We.deserialize(e,t);return new Rt(r.values[0])}};zr.MoveOption=Rt});var tn=v(en=>{"use strict";h();y();var s1=en&&en.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Xs=en&&en.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&s1(e,n,t)};Object.defineProperty(en,"__esModule",{value:!0});Xs(Yh(),en);Xs(Me(),en);Xs(Hl(),en);Xs(Cl(),en);Xs(xc(),en);Xs(jl(),en)});var fn=v(le=>{"use strict";h();y();Object.defineProperty(le,"__esModule",{value:!0});le.notImplemented=le.bitMask=void 0;le.isBytes=Uc;le.abytes=Ic;le.abool=a1;le.bytesToHex=kl;le.numberToHexUnpadded=oy;le.hexToNumber=Fl;le.hexToBytes=zc;le.bytesToNumberBE=u1;le.bytesToNumberLE=l1;le.numberToBytesBE=ay;le.numberToBytesLE=d1;le.numberToVarBytesBE=f1;le.ensureBytes=h1;le.concatBytes=cy;le.equalBytes=y1;le.utf8ToBytes=g1;le.inRange=uy;le.aInRange=b1;le.bitLen=p1;le.bitGet=w1;le.bitSet=m1;le.createHmacDrbg=A1;le.validateObject=B1;le.memoized=S1;var Vl=BigInt(0),vc=BigInt(1),o1=BigInt(2);function Uc(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Ic(n){if(!Uc(n))throw new Error("Uint8Array expected")}function a1(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}var c1=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function kl(n){Ic(n);let e="";for(let t=0;t<n.length;t++)e+=c1[n[t]];return e}function oy(n){let e=n.toString(16);return e.length&1?`0${e}`:e}function Fl(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}var Qn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function iy(n){if(n>=Qn._0&&n<=Qn._9)return n-Qn._0;if(n>=Qn._A&&n<=Qn._F)return n-(Qn._A-10);if(n>=Qn._a&&n<=Qn._f)return n-(Qn._a-10)}function zc(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);let e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){let o=iy(n.charCodeAt(s)),a=iy(n.charCodeAt(s+1));if(o===void 0||a===void 0){let c=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function u1(n){return Fl(kl(n))}function l1(n){return Ic(n),Fl(kl(Uint8Array.from(n).reverse()))}function ay(n,e){return zc(n.toString(16).padStart(e*2,"0"))}function d1(n,e){return ay(n,e).reverse()}function f1(n){return zc(oy(n))}function h1(n,e,t){let r;if(typeof e=="string")try{r=zc(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Uc(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);let i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function cy(...n){let e=0;for(let r=0;r<n.length;r++){let i=n[r];Ic(i),e+=i.length}let t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){let s=n[r];t.set(s,i),i+=s.length}return t}function y1(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function g1(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}var Ll=n=>typeof n=="bigint"&&Vl<=n;function uy(n,e,t){return Ll(n)&&Ll(e)&&Ll(t)&&e<=n&&n<t}function b1(n,e,t,r){if(!uy(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function p1(n){let e;for(e=0;n>Vl;n>>=vc,e+=1);return e}function w1(n,e){return n>>BigInt(e)&vc}function m1(n,e,t){return n|(t?vc:Vl)<<BigInt(e)}var _1=n=>(o1<<BigInt(n-1))-vc;le.bitMask=_1;var Dl=n=>new Uint8Array(n),sy=n=>Uint8Array.from(n);function A1(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Dl(n),i=Dl(n),s=0,o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>t(i,r,...u),c=(u=Dl())=>{i=a(sy([0]),u),r=a(),u.length!==0&&(i=a(sy([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,g=[];for(;u<e;){r=a();let p=r.slice();g.push(p),u+=r.length}return cy(...g)};return(u,g)=>{o(),c(u);let p;for(;!(p=g(l()));)c();return o(),p}}var T1={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Uc(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function B1(n,e,t={}){let r=(i,s,o)=>{let a=T1[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let c=n[i];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(let[i,s]of Object.entries(e))r(i,s,!1);for(let[i,s]of Object.entries(t))r(i,s,!0);return n}var E1=()=>{throw new Error("not implemented")};le.notImplemented=E1;function S1(n){let e=new WeakMap;return(t,...r)=>{let i=e.get(t);if(i!==void 0)return i;let s=n(t,...r);return e.set(t,s),s}}});var Or=v(_e=>{"use strict";h();y();Object.defineProperty(_e,"__esModule",{value:!0});_e.isNegativeLE=void 0;_e.mod=Ct;_e.pow=fy;_e.pow2=I1;_e.invert=Pc;_e.tonelliShanks=hy;_e.FpSqrt=yy;_e.validateField=O1;_e.FpPow=gy;_e.FpInvertBatch=by;_e.FpDiv=N1;_e.FpLegendre=py;_e.FpIsSquare=q1;_e.nLength=Gl;_e.Field=M1;_e.FpSqrtOdd=R1;_e.FpSqrtEven=C1;_e.hashToPrivateScalar=H1;_e.getFieldBytesLength=Wl;_e.getMinHashLength=wy;_e.mapHashToField=K1;var Ht=fn(),Re=BigInt(0),be=BigInt(1),Pr=BigInt(2),x1=BigInt(3),$l=BigInt(4),ly=BigInt(5),dy=BigInt(8),v1=BigInt(9),U1=BigInt(16);function Ct(n,e){let t=n%e;return t>=Re?t:e+t}function fy(n,e,t){if(t<=Re||e<Re)throw new Error("Expected power/modulo > 0");if(t===be)return Re;let r=be;for(;e>Re;)e&be&&(r=r*n%t),n=n*n%t,e>>=be;return r}function I1(n,e,t){let r=n;for(;e-- >Re;)r*=r,r%=t;return r}function Pc(n,e){if(n===Re||e<=Re)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Ct(n,e),r=e,i=Re,s=be,o=be,a=Re;for(;t!==Re;){let l=r/t,d=r%t,u=i-o*l,g=s-a*l;r=t,t=d,i=o,s=a,o=u,a=g}if(r!==be)throw new Error("invert: does not exist");return Ct(i,e)}function hy(n){let e=(n-be)/Pr,t,r,i;for(t=n-be,r=0;t%Pr===Re;t/=Pr,r++);for(i=Pr;i<n&&fy(i,e,n)!==n-be;i++);if(r===1){let o=(n+be)/$l;return function(c,l){let d=c.pow(l,o);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}let s=(t+be)/Pr;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,d=a.pow(a.mul(a.ONE,i),t),u=a.pow(c,s),g=a.pow(c,t);for(;!a.eql(g,a.ONE);){if(a.eql(g,a.ZERO))return a.ZERO;let p=1;for(let f=a.sqr(g);p<l&&!a.eql(f,a.ONE);p++)f=a.sqr(f);let m=a.pow(d,be<<BigInt(l-p-1));d=a.sqr(m),u=a.mul(u,m),g=a.mul(g,d),l=p}return u}}function yy(n){if(n%$l===x1){let e=(n+be)/$l;return function(r,i){let s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%dy===ly){let e=(n-ly)/dy;return function(r,i){let s=r.mul(i,Pr),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,Pr),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return n%U1,hy(n)}var z1=(n,e)=>(Ct(n,e)&be)===be;_e.isNegativeLE=z1;var P1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O1(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=P1.reduce((r,i)=>(r[i]="function",r),e);return(0,Ht.validateObject)(n,t)}function gy(n,e,t){if(t<Re)throw new Error("Expected power > 0");if(t===Re)return n.ONE;if(t===be)return e;let r=n.ONE,i=e;for(;t>Re;)t&be&&(r=n.mul(r,i)),i=n.sqr(i),t>>=be;return r}function by(n,e){let t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function N1(n,e,t){return n.mul(e,typeof t=="bigint"?Pc(t,n.ORDER):n.inv(t))}function py(n){let e=(n-be)/Pr;return(t,r)=>t.pow(r,e)}function q1(n){let e=py(n.ORDER);return t=>{let r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function Gl(n,e){let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function M1(n,e,t=!1,r={}){if(n<=Re)throw new Error(`Expected Field ORDER > 0, got ${n}`);let{nBitLength:i,nByteLength:s}=Gl(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=yy(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:(0,Ht.bitMask)(i),ZERO:Re,ONE:be,create:c=>Ct(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Re<=c&&c<n},is0:c=>c===Re,isOdd:c=>(c&be)===be,neg:c=>Ct(-c,n),eql:(c,l)=>c===l,sqr:c=>Ct(c*c,n),add:(c,l)=>Ct(c+l,n),sub:(c,l)=>Ct(c-l,n),mul:(c,l)=>Ct(c*l,n),pow:(c,l)=>gy(a,c,l),div:(c,l)=>Ct(c*Pc(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Pc(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>by(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>t?(0,Ht.numberToBytesLE)(c,s):(0,Ht.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return t?(0,Ht.bytesToNumberLE)(c):(0,Ht.bytesToNumberBE)(c)}});return Object.freeze(a)}function R1(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");let t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function C1(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");let t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function H1(n,e,t=!1){n=(0,Ht.ensureBytes)("privateHash",n);let r=n.length,i=Gl(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);let s=t?(0,Ht.bytesToNumberLE)(n):(0,Ht.bytesToNumberBE)(n);return Ct(s,e-be)+be}function Wl(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function wy(n){let e=Wl(n);return e+Math.ceil(e/2)}function K1(n,e,t=!1){let r=n.length,i=Wl(e),s=wy(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);let o=t?(0,Ht.bytesToNumberBE)(n):(0,Ht.bytesToNumberLE)(n),a=Ct(o,e-be)+be;return t?(0,Ht.numberToBytesLE)(a,i):(0,Ht.numberToBytesBE)(a,i)}});var Yl=v(Oc=>{"use strict";h();y();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.wNAF=D1;Oc.validateBasic=V1;var my=Or(),j1=fn(),L1=BigInt(0),Xl=BigInt(1),Zl=new WeakMap,_y=new WeakMap;function D1(n,e){let t=(s,o)=>{let a=o.negate();return s?a:o},r=s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},i=s=>{r(s);let o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(s,o){let a=n.ZERO,c=s;for(;o>L1;)o&Xl&&(a=a.add(c)),c=c.double(),o>>=Xl;return a},precomputeWindow(s,o){let{windows:a,windowSize:c}=i(o),l=[],d=s,u=d;for(let g=0;g<a;g++){u=d,l.push(u);for(let p=1;p<c;p++)u=u.add(d),l.push(u);d=u.double()}return l},wNAF(s,o,a){let{windows:c,windowSize:l}=i(s),d=n.ZERO,u=n.BASE,g=BigInt(2**s-1),p=2**s,m=BigInt(s);for(let f=0;f<c;f++){let b=f*l,T=Number(a&g);a>>=m,T>l&&(T-=p,a+=Xl);let w=b,B=b+Math.abs(T)-1,x=f%2!==0,U=T<0;T===0?u=u.add(t(x,o[w])):d=d.add(t(U,o[B]))}return{p:d,f:u}},wNAFCached(s,o,a){let c=_y.get(s)||1,l=Zl.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&Zl.set(s,a(l))),this.wNAF(c,l,o)},setWindowSize(s,o){r(o),_y.set(s,o),Zl.delete(s)}}}function V1(n){return(0,my.validateField)(n.Fp),(0,j1.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,my.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}});var Ty=v(Ql=>{"use strict";h();y();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.twistedEdwards=W1;var Ay=Yl(),k1=Or(),Et=fn(),Kt=fn(),hn=BigInt(0),Bt=BigInt(1),Nc=BigInt(2),F1=BigInt(8),$1={zip215:!0};function G1(n){let e=(0,Ay.validateBasic)(n);return Et.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function W1(n){let e=G1(n),{Fp:t,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=Nc<<BigInt(a*8)-Bt,d=t.create,u=e.uvRatio||((A,_)=>{try{return{isValid:!0,value:t.sqrt(A*t.inv(_))}}catch{return{isValid:!1,value:hn}}}),g=e.adjustScalarBytes||(A=>A),p=e.domain||((A,_,I)=>{if((0,Kt.abool)("phflag",I),_.length||I)throw new Error("Contexts/pre-hash are not supported");return A});function m(A,_){Et.aInRange("coordinate "+A,_,hn,l)}function f(A){if(!(A instanceof w))throw new Error("ExtendedPoint expected")}let b=(0,Kt.memoized)((A,_)=>{let{ex:I,ey:O,ez:q}=A,j=A.is0();_==null&&(_=j?F1:t.inv(q));let V=d(I*_),G=d(O*_),$=d(q*_);if(j)return{x:hn,y:Bt};if($!==Bt)throw new Error("invZ was invalid");return{x:V,y:G}}),T=(0,Kt.memoized)(A=>{let{a:_,d:I}=e;if(A.is0())throw new Error("bad point: ZERO");let{ex:O,ey:q,ez:j,et:V}=A,G=d(O*O),$=d(q*q),X=d(j*j),se=d(X*X),he=d(G*_),Te=d(X*d(he+$)),xe=d(se+d(I*d(G*$)));if(Te!==xe)throw new Error("bad point: equation left != right (1)");let ge=d(O*q),Ke=d(j*V);if(ge!==Ke)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(_,I,O,q){this.ex=_,this.ey=I,this.ez=O,this.et=q,m("x",_),m("y",I),m("z",O),m("t",q),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof w)throw new Error("extended point not allowed");let{x:I,y:O}=_||{};return m("x",I),m("y",O),new w(I,O,Bt,d(I*O))}static normalizeZ(_){let I=t.invertBatch(_.map(O=>O.ez));return _.map((O,q)=>O.toAffine(I[q])).map(w.fromAffine)}_setWindowSize(_){U.setWindowSize(this,_)}assertValidity(){T(this)}equals(_){f(_);let{ex:I,ey:O,ez:q}=this,{ex:j,ey:V,ez:G}=_,$=d(I*G),X=d(j*q),se=d(O*G),he=d(V*q);return $===X&&se===he}is0(){return this.equals(w.ZERO)}negate(){return new w(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){let{a:_}=e,{ex:I,ey:O,ez:q}=this,j=d(I*I),V=d(O*O),G=d(Nc*d(q*q)),$=d(_*j),X=I+O,se=d(d(X*X)-j-V),he=$+V,Te=he-G,xe=$-V,ge=d(se*Te),Ke=d(he*xe),ze=d(se*xe),ve=d(Te*he);return new w(ge,Ke,ve,ze)}add(_){f(_);let{a:I,d:O}=e,{ex:q,ey:j,ez:V,et:G}=this,{ex:$,ey:X,ez:se,et:he}=_;if(I===BigInt(-1)){let Of=d((j-q)*(X+$)),Nf=d((j+q)*(X-$)),Yu=d(Nf-Of);if(Yu===hn)return this.double();let qf=d(V*Nc*he),Mf=d(G*Nc*se),Rf=Mf+qf,Cf=Nf+Of,Hf=Mf-qf,Hb=d(Rf*Yu),Kb=d(Cf*Hf),jb=d(Rf*Hf),Lb=d(Yu*Cf);return new w(Hb,Kb,Lb,jb)}let Te=d(q*$),xe=d(j*X),ge=d(G*O*he),Ke=d(V*se),ze=d((q+j)*($+X)-Te-xe),ve=Ke-ge,bt=Ke+ge,mn=d(xe-I*Te),ni=d(ze*ve),La=d(bt*mn),Rb=d(ze*mn),Cb=d(ve*bt);return new w(ni,La,Cb,Rb)}subtract(_){return this.add(_.negate())}wNAF(_){return U.wNAFCached(this,_,w.normalizeZ)}multiply(_){let I=_;Et.aInRange("scalar",I,Bt,r);let{p:O,f:q}=this.wNAF(I);return w.normalizeZ([O,q])[0]}multiplyUnsafe(_){let I=_;return Et.aInRange("scalar",I,hn,r),I===hn?x:this.equals(x)||I===Bt?this:this.equals(B)?this.wNAF(I).p:U.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(_){return b(this,_)}clearCofactor(){let{h:_}=e;return _===Bt?this:this.multiplyUnsafe(_)}static fromHex(_,I=!1){let{d:O,a:q}=e,j=t.BYTES;_=(0,Kt.ensureBytes)("pointHex",_,j),(0,Kt.abool)("zip215",I);let V=_.slice(),G=_[j-1];V[j-1]=G&-129;let $=Et.bytesToNumberLE(V),X=I?l:t.ORDER;Et.aInRange("pointHex.y",$,hn,X);let se=d($*$),he=d(se-Bt),Te=d(O*se-q),{isValid:xe,value:ge}=u(he,Te);if(!xe)throw new Error("Point.fromHex: invalid y coordinate");let Ke=(ge&Bt)===Bt,ze=(G&128)!==0;if(!I&&ge===hn&&ze)throw new Error("Point.fromHex: x=0 and x_0=1");return ze!==Ke&&(ge=d(-ge)),w.fromAffine({x:ge,y:$})}static fromPrivateKey(_){return P(_).point}toRawBytes(){let{x:_,y:I}=this.toAffine(),O=Et.numberToBytesLE(I,t.BYTES);return O[O.length-1]|=_&Bt?128:0,O}toHex(){return Et.bytesToHex(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Bt,d(e.Gx*e.Gy)),w.ZERO=new w(hn,Bt,Bt,hn);let{BASE:B,ZERO:x}=w,U=(0,Ay.wNAF)(w,a*8);function E(A){return(0,k1.mod)(A,r)}function z(A){return E(Et.bytesToNumberLE(A))}function P(A){let _=a;A=(0,Kt.ensureBytes)("private key",A,_);let I=(0,Kt.ensureBytes)("hashed private key",s(A),2*_),O=g(I.slice(0,_)),q=I.slice(_,2*_),j=z(O),V=B.multiply(j),G=V.toRawBytes();return{head:O,prefix:q,scalar:j,point:V,pointBytes:G}}function F(A){return P(A).pointBytes}function L(A=new Uint8Array,..._){let I=Et.concatBytes(..._);return z(s(p(I,(0,Kt.ensureBytes)("context",A),!!i)))}function M(A,_,I={}){A=(0,Kt.ensureBytes)("message",A),i&&(A=i(A));let{prefix:O,scalar:q,pointBytes:j}=P(_),V=L(I.context,O,A),G=B.multiply(V).toRawBytes(),$=L(I.context,G,j,A),X=E(V+$*q);Et.aInRange("signature.s",X,hn,r);let se=Et.concatBytes(G,Et.numberToBytesLE(X,t.BYTES));return(0,Kt.ensureBytes)("result",se,a*2)}let ie=$1;function re(A,_,I,O=ie){let{context:q,zip215:j}=O,V=t.BYTES;A=(0,Kt.ensureBytes)("signature",A,2*V),_=(0,Kt.ensureBytes)("message",_),j!==void 0&&(0,Kt.abool)("zip215",j),i&&(_=i(_));let G=Et.bytesToNumberLE(A.slice(V,2*V)),$,X,se;try{$=w.fromHex(I,j),X=w.fromHex(A.slice(0,V),j),se=B.multiplyUnsafe(G)}catch{return!1}if(!j&&$.isSmallOrder())return!1;let he=L(q,X.toRawBytes(),$.toRawBytes(),_);return X.add($.multiplyUnsafe(he)).subtract(se).clearCofactor().equals(w.ZERO)}return B._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:M,verify:re,ExtendedPoint:w,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(A=8,_=w.BASE){return _._setWindowSize(A),_.multiply(BigInt(3)),_}}}}});var td=v(Pi=>{"use strict";h();y();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.expand_message_xmd=By;Pi.expand_message_xof=Ey;Pi.hash_to_field=Jl;Pi.isogenyMap=Q1;Pi.createHasher=J1;var X1=Or(),Je=fn(),Z1=Je.bytesToNumberBE;function Nr(n,e){if(n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);let t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function Y1(n,e){let t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function ed(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function By(n,e,t,r){(0,Je.abytes)(n),(0,Je.abytes)(e),ed(t),e.length>255&&(e=r((0,Je.concatBytes)((0,Je.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=r,o=Math.ceil(t/i);if(o>255)throw new Error("Invalid xmd length");let a=(0,Je.concatBytes)(e,Nr(e.length,1)),c=Nr(0,s),l=Nr(t,2),d=new Array(o),u=r((0,Je.concatBytes)(c,n,l,Nr(0,1),a));d[0]=r((0,Je.concatBytes)(u,Nr(1,1),a));for(let p=1;p<=o;p++){let m=[Y1(u,d[p-1]),Nr(p+1,1),a];d[p]=r((0,Je.concatBytes)(...m))}return(0,Je.concatBytes)(...d).slice(0,t)}function Ey(n,e,t,r,i){if((0,Je.abytes)(n),(0,Je.abytes)(e),ed(t),e.length>255){let s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update((0,Je.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:t}).update(n).update(Nr(t,2)).update(e).update(Nr(e.length,1)).digest()}function Jl(n,e,t){(0,Je.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:i,m:s,hash:o,expand:a,DST:c}=t;(0,Je.abytes)(n),ed(e);let l=typeof c=="string"?(0,Je.utf8ToBytes)(c):c,d=r.toString(2).length,u=Math.ceil((d+i)/8),g=e*s*u,p;if(a==="xmd")p=By(n,l,g,o);else if(a==="xof")p=Ey(n,l,g,i,o);else if(a==="_internal_pass")p=n;else throw new Error('expand must be "xmd" or "xof"');let m=new Array(e);for(let f=0;f<e;f++){let b=new Array(s);for(let T=0;T<s;T++){let w=u*(T+f*s),B=p.subarray(w,w+u);b[T]=(0,X1.mod)(Z1(B),r)}m[f]=b}return m}function Q1(n,e){let t=e.map(r=>Array.from(r).reverse());return(r,i)=>{let[s,o,a,c]=t.map(l=>l.reduce((d,u)=>n.add(n.mul(d,r),u)));return r=n.div(s,o),i=n.mul(i,n.div(a,c)),{x:r,y:i}}}function J1(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){let s=Jl(r,2,{...t,DST:t.DST,...i}),o=n.fromAffine(e(s[0])),a=n.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){let s=Jl(r,1,{...t,DST:t.encodeDST,...i}),o=n.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(let s of r)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=n.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}}});var xy=v(rd=>{"use strict";h();y();Object.defineProperty(rd,"__esModule",{value:!0});rd.montgomery=t2;var Sy=Or(),qr=fn(),Zs=BigInt(0),nd=BigInt(1);function e2(n){return(0,qr.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function t2(n){let e=e2(n),{P:t}=e,r=w=>(0,Sy.mod)(w,t),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(w=>w),c=e.powPminus2||(w=>(0,Sy.pow)(w,t-BigInt(2),t));function l(w,B,x){let U=r(w*(B-x));return B=r(B-U),x=r(x+U),[B,x]}let d=(e.a-BigInt(2))/BigInt(4);function u(w,B){(0,qr.aInRange)("u",w,Zs,t),(0,qr.aInRange)("scalar",B,Zs,t);let x=B,U=w,E=nd,z=Zs,P=w,F=nd,L=Zs,M;for(let re=BigInt(i-1);re>=Zs;re--){let C=x>>re&nd;L^=C,M=l(L,E,P),E=M[0],P=M[1],M=l(L,z,F),z=M[0],F=M[1],L=C;let A=E+z,_=r(A*A),I=E-z,O=r(I*I),q=_-O,j=P+F,V=P-F,G=r(V*A),$=r(j*I),X=G+$,se=G-$;P=r(X*X),F=r(U*r(se*se)),E=r(_*O),z=r(q*(_+r(d*q)))}M=l(L,E,P),E=M[0],P=M[1],M=l(L,z,F),z=M[0],F=M[1];let ie=c(z);return r(E*ie)}function g(w){return(0,qr.numberToBytesLE)(r(w),s)}function p(w){let B=(0,qr.ensureBytes)("u coordinate",w,s);return o===32&&(B[31]&=127),(0,qr.bytesToNumberLE)(B)}function m(w){let B=(0,qr.ensureBytes)("scalar",w),x=B.length;if(x!==s&&x!==o)throw new Error(`Expected ${s} or ${o} bytes, got ${x}`);return(0,qr.bytesToNumberLE)(a(B))}function f(w,B){let x=p(B),U=m(w),E=u(x,U);if(E===Zs)throw new Error("Invalid private or public key received");return g(E)}let b=g(e.Gu);function T(w){return f(w,b)}return{scalarMult:f,scalarMultBase:T,getSharedSecret:(w,B)=>f(w,B),getPublicKey:w=>T(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:b}}});var Hy=v(Z=>{"use strict";h();y();Object.defineProperty(Z,"__esModule",{value:!0});Z.hash_to_ristretto255=Z.hashToRistretto255=Z.RistrettoPoint=Z.encodeToCurve=Z.hashToCurve=Z.edwardsToMontgomery=Z.x25519=Z.ed25519ph=Z.ed25519ctx=Z.ed25519=Z.ED25519_TORSION_SUBGROUP=void 0;Z.edwardsToMontgomeryPub=Ry;Z.edwardsToMontgomeryPriv=i2;var Mc=Va(),aa=$t(),cd=Ty(),zy=td(),de=Or(),n2=xy(),Oi=fn(),ca=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),od=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),r2=BigInt(0),In=BigInt(1),qc=BigInt(2),Py=BigInt(3),Oy=BigInt(5),ud=BigInt(8);function Ny(n){let e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=ca,a=n*n%s*n%s,c=(0,de.pow2)(a,qc,s)*a%s,l=(0,de.pow2)(c,In,s)*n%s,d=(0,de.pow2)(l,Oy,s)*l%s,u=(0,de.pow2)(d,e,s)*d%s,g=(0,de.pow2)(u,t,s)*u%s,p=(0,de.pow2)(g,r,s)*g%s,m=(0,de.pow2)(p,i,s)*p%s,f=(0,de.pow2)(m,i,s)*p%s,b=(0,de.pow2)(f,e,s)*d%s;return{pow_p_5_8:(0,de.pow2)(b,qc,s)*n%s,b2:a}}function qy(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function ld(n,e){let t=ca,r=(0,de.mod)(e*e*e,t),i=(0,de.mod)(r*r*e,t),s=Ny(n*i).pow_p_5_8,o=(0,de.mod)(n*r*s,t),a=(0,de.mod)(e*o*o,t),c=o,l=(0,de.mod)(o*od,t),d=a===n,u=a===(0,de.mod)(-n,t),g=a===(0,de.mod)(-n*od,t);return d&&(o=c),(u||g)&&(o=l),(0,de.isNegativeLE)(o,t)&&(o=(0,de.mod)(-o,t)),{isValid:d||u,value:o}}Z.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var H=(()=>(0,de.Field)(ca,void 0,!0))(),ua=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:H,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ud,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Mc.sha512,randomBytes:aa.randomBytes,adjustScalarBytes:qy,uvRatio:ld}))();Z.ed25519=(()=>(0,cd.twistedEdwards)(ua))();function My(n,e,t){if(e.length>255)throw new Error("Context is too big");return(0,aa.concatBytes)((0,aa.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}Z.ed25519ctx=(()=>(0,cd.twistedEdwards)({...ua,domain:My}))();Z.ed25519ph=(()=>(0,cd.twistedEdwards)(Object.assign({},ua,{domain:My,prehash:Mc.sha512})))();Z.x25519=(()=>(0,n2.montgomery)({P:ca,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:n=>{let e=ca,{pow_p_5_8:t,b2:r}=Ny(n);return(0,de.mod)((0,de.pow2)(t,Py,e)*r,e)},adjustScalarBytes:qy,randomBytes:aa.randomBytes}))();function Ry(n){let{y:e}=Z.ed25519.ExtendedPoint.fromHex(n),t=BigInt(1);return H.toBytes(H.create((t+e)*H.inv(t-e)))}Z.edwardsToMontgomery=Ry;function i2(n){let e=ua.hash(n.subarray(0,32));return ua.adjustScalarBytes(e).subarray(0,32)}var s2=(()=>(H.ORDER+Py)/ud)(),o2=(()=>H.pow(qc,s2))(),vy=(()=>H.sqrt(H.neg(H.ONE)))();function a2(n){let e=(H.ORDER-Oy)/ud,t=BigInt(486662),r=H.sqr(n);r=H.mul(r,qc);let i=H.add(r,H.ONE),s=H.neg(t),o=H.sqr(i),a=H.mul(o,i),c=H.mul(r,t);c=H.mul(c,s),c=H.add(c,o),c=H.mul(c,s);let l=H.sqr(a);o=H.sqr(l),l=H.mul(l,a),l=H.mul(l,c),o=H.mul(o,l);let d=H.pow(o,e);d=H.mul(d,l);let u=H.mul(d,vy);o=H.sqr(d),o=H.mul(o,a);let g=H.eql(o,c),p=H.cmov(u,d,g),m=H.mul(s,r),f=H.mul(d,n);f=H.mul(f,o2);let b=H.mul(f,vy),T=H.mul(c,r);o=H.sqr(f),o=H.mul(o,a);let w=H.eql(o,T),B=H.cmov(b,f,w);o=H.sqr(p),o=H.mul(o,a);let x=H.eql(o,c),U=H.cmov(m,s,x),E=H.cmov(B,p,x),z=H.isOdd(E);return E=H.cmov(E,H.neg(E),x!==z),{xMn:U,xMd:i,yMn:E,yMd:In}}var c2=(()=>(0,de.FpSqrtEven)(H,H.neg(BigInt(486664))))();function u2(n){let{xMn:e,xMd:t,yMn:r,yMd:i}=a2(n),s=H.mul(e,i);s=H.mul(s,c2);let o=H.mul(t,r),a=H.sub(e,t),c=H.add(e,t),l=H.mul(o,c),d=H.eql(l,H.ZERO);s=H.cmov(s,H.ZERO,d),o=H.cmov(o,H.ONE,d),a=H.cmov(a,H.ONE,d),c=H.cmov(c,H.ONE,d);let u=H.invertBatch([o,c]);return{x:H.mul(s,u[0]),y:H.mul(a,u[1])}}var Cy=(()=>(0,zy.createHasher)(Z.ed25519.ExtendedPoint,n=>u2(n[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:H.ORDER,m:1,k:128,expand:"xmd",hash:Mc.sha512}))();Z.hashToCurve=(()=>Cy.hashToCurve)();Z.encodeToCurve=(()=>Cy.encodeToCurve)();function id(n){if(!(n instanceof Pe))throw new Error("RistrettoPoint expected")}var ad=od,l2=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),d2=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),f2=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),h2=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Uy=n=>ld(In,n),y2=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sd=n=>Z.ed25519.CURVE.Fp.create((0,Oi.bytesToNumberLE)(n)&y2);function Iy(n){let{d:e}=Z.ed25519.CURVE,t=Z.ed25519.CURVE.Fp.ORDER,r=Z.ed25519.CURVE.Fp.create,i=r(ad*n*n),s=r((i+In)*f2),o=BigInt(-1),a=r((o-e*i)*r(i+e)),{isValid:c,value:l}=ld(s,a),d=r(l*n);(0,de.isNegativeLE)(d,t)||(d=r(-d)),c||(l=d),c||(o=i);let u=r(o*(i-In)*h2-a),g=l*l,p=r((l+l)*a),m=r(u*l2),f=r(In-g),b=r(In+g);return new Z.ed25519.ExtendedPoint(r(p*b),r(f*m),r(m*b),r(p*f))}var Pe=class{constructor(e){this.ep=e}static fromAffine(e){return new Pe(Z.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,Oi.ensureBytes)("ristrettoHash",e,64);let t=sd(e.slice(0,32)),r=Iy(t),i=sd(e.slice(32,64)),s=Iy(i);return new Pe(r.add(s))}static fromHex(e){e=(0,Oi.ensureBytes)("ristrettoHex",e,32);let{a:t,d:r}=Z.ed25519.CURVE,i=Z.ed25519.CURVE.Fp.ORDER,s=Z.ed25519.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=sd(e);if(!(0,Oi.equalBytes)((0,Oi.numberToBytesLE)(a,32),e)||(0,de.isNegativeLE)(a,i))throw new Error(o);let c=s(a*a),l=s(In+t*c),d=s(In-t*c),u=s(l*l),g=s(d*d),p=s(t*r*u-g),{isValid:m,value:f}=Uy(s(p*g)),b=s(f*d),T=s(f*b*p),w=s((a+a)*b);(0,de.isNegativeLE)(w,i)&&(w=s(-w));let B=s(l*T),x=s(w*B);if(!m||(0,de.isNegativeLE)(x,i)||B===r2)throw new Error(o);return new Pe(new Z.ed25519.ExtendedPoint(w,B,In,x))}toRawBytes(){let{ex:e,ey:t,ez:r,et:i}=this.ep,s=Z.ed25519.CURVE.Fp.ORDER,o=Z.ed25519.CURVE.Fp.create,a=o(o(r+t)*o(r-t)),c=o(e*t),l=o(c*c),{value:d}=Uy(o(a*l)),u=o(d*a),g=o(d*c),p=o(u*g*i),m;if((0,de.isNegativeLE)(i*p,s)){let b=o(t*ad),T=o(e*ad);e=b,t=T,m=o(u*d2)}else m=g;(0,de.isNegativeLE)(e*p,s)&&(t=o(-t));let f=o((r-t)*m);return(0,de.isNegativeLE)(f,s)&&(f=o(-f)),(0,Oi.numberToBytesLE)(f,32)}toHex(){return(0,Oi.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){id(e);let{ex:t,ey:r}=this.ep,{ex:i,ey:s}=e.ep,o=Z.ed25519.CURVE.Fp.create,a=o(t*s)===o(r*i),c=o(r*s)===o(t*i);return a||c}add(e){return id(e),new Pe(this.ep.add(e.ep))}subtract(e){return id(e),new Pe(this.ep.subtract(e.ep))}multiply(e){return new Pe(this.ep.multiply(e))}multiplyUnsafe(e){return new Pe(this.ep.multiplyUnsafe(e))}double(){return new Pe(this.ep.double())}negate(){return new Pe(this.ep.negate())}};Z.RistrettoPoint=(()=>(Pe.BASE||(Pe.BASE=new Pe(Z.ed25519.ExtendedPoint.BASE)),Pe.ZERO||(Pe.ZERO=new Pe(Z.ed25519.ExtendedPoint.ZERO)),Pe))();var g2=(n,e)=>{let t=e.DST,r=typeof t=="string"?(0,aa.utf8ToBytes)(t):t,i=(0,zy.expand_message_xmd)(n,r,64,Mc.sha512);return Pe.hashToCurve(i)};Z.hashToRistretto255=g2;Z.hash_to_ristretto255=Z.hashToRistretto255});var Mi=v(qi=>{"use strict";h();y();Object.defineProperty(qi,"__esModule",{value:!0});qi.AccountAddress=qi.AddressInvalidReason=void 0;var dd=$t(),b2=Me(),Ni=Tc(),p2=Le(),Mr;(function(n){n.INCORRECT_NUMBER_OF_BYTES="incorrect_number_of_bytes",n.INVALID_HEX_CHARS="invalid_hex_chars",n.TOO_SHORT="too_short",n.TOO_LONG="too_long",n.LEADING_ZERO_X_REQUIRED="leading_zero_x_required",n.LONG_FORM_REQUIRED_UNLESS_SPECIAL="long_form_required_unless_special",n.INVALID_PADDING_ZEROES="INVALID_PADDING_ZEROES"})(Mr=qi.AddressInvalidReason||(qi.AddressInvalidReason={}));var fe=class extends b2.Serializable{constructor(e){if(super(),e.length!==fe.LENGTH)throw new Ni.ParsingError("AccountAddress data should be exactly 32 bytes long",Mr.INCORRECT_NUMBER_OF_BYTES);this.data=e}isSpecial(){return this.data.slice(0,this.data.length-1).every(e=>e===0)&&this.data[this.data.length-1]<16}toString(){return`0x${this.toStringWithoutPrefix()}`}toStringWithoutPrefix(){let e=(0,dd.bytesToHex)(this.data);return this.isSpecial()&&(e=e[e.length-1]),e}toStringLong(){return`0x${this.toStringLongWithoutPrefix()}`}toStringLongWithoutPrefix(){return(0,dd.bytesToHex)(this.data)}toUint8Array(){return this.data}serialize(e){e.serializeFixedBytes(this.data)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(p2.ScriptTransactionArgumentVariants.Address),e.serialize(this)}static deserialize(e){let t=e.deserializeFixedBytes(fe.LENGTH);return new fe(t)}static fromStringStrict(e){if(!e.startsWith("0x"))throw new Ni.ParsingError("Hex string must start with a leading 0x.",Mr.LEADING_ZERO_X_REQUIRED);let t=fe.fromString(e);if(e.length!==fe.LONG_STRING_LENGTH+2)if(t.isSpecial()){if(e.length!==3)throw new Ni.ParsingError(`The given hex string ${e} is a special address not in LONG form, it must be 0x0 to 0xf without padding zeroes.`,Mr.INVALID_PADDING_ZEROES)}else throw new Ni.ParsingError(`The given hex string ${e} is not a special address, it must be represented as 0x + 64 chars.`,Mr.LONG_FORM_REQUIRED_UNLESS_SPECIAL);return t}static fromString(e){let t=e;if(e.startsWith("0x")&&(t=e.slice(2)),t.length===0)throw new Ni.ParsingError("Hex string is too short, must be 1 to 64 chars long, excluding the leading 0x.",Mr.TOO_SHORT);if(t.length>64)throw new Ni.ParsingError("Hex string is too long, must be 1 to 64 chars long, excluding the leading 0x.",Mr.TOO_LONG);let r;try{r=(0,dd.hexToBytes)(t.padStart(64,"0"))}catch(i){throw new Ni.ParsingError(`Hex characters are invalid: ${i?.message}`,Mr.INVALID_HEX_CHARS)}return new fe(r)}static from(e){return e instanceof fe?e:e instanceof Uint8Array?new fe(e):fe.fromString(e)}static fromStrict(e){return e instanceof fe?e:e instanceof Uint8Array?new fe(e):fe.fromStringStrict(e)}static isValid(e){try{return e.strict?fe.fromStrict(e.input):fe.from(e.input),{valid:!0}}catch(t){return{valid:!1,invalidReason:t?.invalidReason,invalidReasonMessage:t?.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((t,r)=>t===e.data[r])}};qi.AccountAddress=fe;fe.LENGTH=32;fe.LONG_STRING_LENGTH=64;fe.ZERO=fe.from("0x0");fe.ONE=fe.from("0x1");fe.TWO=fe.from("0x2");fe.THREE=fe.from("0x3");fe.FOUR=fe.from("0x4")});var Ys=v(Rc=>{"use strict";h();y();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.AuthenticationKey=void 0;var w2=lr(),m2=Mi(),Ky=ln(),_2=Me(),zn=class extends _2.Serializable{constructor(e){super();let{data:t}=e,r=Ky.Hex.fromHexInput(t);if(r.toUint8Array().length!==zn.LENGTH)throw new Error(`Authentication Key length should be ${zn.LENGTH}`);this.data=r}serialize(e){e.serializeFixedBytes(this.data.toUint8Array())}static deserialize(e){let t=e.deserializeFixedBytes(zn.LENGTH);return new zn({data:t})}toString(){return this.data.toString()}toUint8Array(){return this.data.toUint8Array()}static fromSchemeAndBytes(e){let{scheme:t,input:r}=e,i=Ky.Hex.fromHexInput(r).toUint8Array(),s=new Uint8Array([...i,t]),o=w2.sha3_256.create();o.update(s);let a=o.digest();return new zn({data:a})}static fromPublicKeyAndScheme(e){let{publicKey:t}=e;return t.authKey()}static fromPublicKey(e){let{publicKey:t}=e;return t.authKey()}derivedAddress(){return new m2.AccountAddress(this.data.toUint8Array())}};Rc.AuthenticationKey=zn;zn.LENGTH=32});var Cc=v(ae=>{"use strict";h();y();var A2=ae&&ae.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),T2=ae&&ae.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),B2=ae&&ae.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&A2(e,n,t);return T2(e,n),e};Object.defineProperty(ae,"__esModule",{value:!0});ae.mnemonicToSeed=ae.splitPath=ae.CKDPriv=ae.deriveKey=ae.isValidHardenedPath=ae.isValidBIP44Path=ae.HARDENED_OFFSET=ae.KeyType=ae.APTOS_BIP44_REGEX=ae.APTOS_HARDENED_REGEX=void 0;var E2=jo(),S2=Va(),x2=B2(fl());ae.APTOS_HARDENED_REGEX=/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'?$/;ae.APTOS_BIP44_REGEX=/^m\/44'\/637'\/[0-9]+'\/[0-9]+\/[0-9]+$/;var v2;(function(n){n.ED25519="ed25519 seed"})(v2=ae.KeyType||(ae.KeyType={}));ae.HARDENED_OFFSET=2147483648;function U2(n){return ae.APTOS_BIP44_REGEX.test(n)}ae.isValidBIP44Path=U2;function I2(n){return ae.APTOS_HARDENED_REGEX.test(n)}ae.isValidHardenedPath=I2;var z2=(n,e)=>{let t=E2.hmac.create(S2.sha512,n).update(e).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}};ae.deriveKey=z2;var P2=({key:n,chainCode:e},t)=>{let r=new ArrayBuffer(4);new DataView(r).setUint32(0,t);let i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...n,...i]);return(0,ae.deriveKey)(e,o)};ae.CKDPriv=P2;var O2=n=>n.replace("'",""),N2=n=>n.split("/").slice(1).map(O2);ae.splitPath=N2;var q2=n=>{let e=n.trim().split(/\s+/).map(t=>t.toLowerCase()).join(" ");return x2.mnemonicToSeedSync(e)};ae.mnemonicToSeed=q2});var Ri=v(Qs=>{"use strict";h();y();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.AccountPublicKey=Qs.PublicKey=void 0;var M2=tn(),R2=ln(),Hc=class extends M2.Serializable{toString(){let e=this.toUint8Array();return R2.Hex.fromHexInput(e).toString()}};Qs.PublicKey=Hc;var fd=class extends Hc{};Qs.AccountPublicKey=fd});var Ci=v(Kc=>{"use strict";h();y();Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Signature=void 0;var C2=tn(),H2=ln(),hd=class extends C2.Serializable{toString(){let e=this.toUint8Array();return H2.Hex.fromHexInput(e).toString()}};Kc.Signature=hd});var yd=v(jc=>{"use strict";h();y();Object.defineProperty(jc,"__esModule",{value:!0});jc.convertSigningMessage=void 0;var K2=ln(),j2=n=>typeof n=="string"?K2.Hex.isValid(n).valid?n:S.Buffer.from(n,"utf8"):n;jc.convertSigningMessage=j2});var Hi=v(Rr=>{"use strict";h();y();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Ed25519Signature=Rr.Ed25519PrivateKey=Rr.Ed25519PublicKey=void 0;var Lc=Hy(),L2=Me(),D2=Ys(),la=ln(),V2=Le(),Js=Cc(),k2=Ri(),F2=Ci(),Ly=yd(),jy=[237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16],Pn=class extends k2.AccountPublicKey{constructor(e){super();let t=la.Hex.fromHexInput(e);if(t.toUint8Array().length!==Pn.LENGTH)throw new Error(`PublicKey length should be ${Pn.LENGTH}`);this.key=t}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof On))return!1;let i=(0,Ly.convertSigningMessage)(t),s=la.Hex.fromHexInput(i).toUint8Array(),o=r.toUint8Array(),a=this.key.toUint8Array();return r.isCanonicalSignature()?Lc.ed25519.verify(o,s,a):!1}authKey(){return D2.AuthenticationKey.fromSchemeAndBytes({scheme:V2.SigningScheme.Ed25519,input:this.toUint8Array()})}toUint8Array(){return this.key.toUint8Array()}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new Pn(t)}static isPublicKey(e){return e instanceof Pn}};Rr.Ed25519PublicKey=Pn;Pn.LENGTH=32;var St=class extends L2.Serializable{constructor(e){super();let t=la.Hex.fromHexInput(e);if(t.toUint8Array().length!==St.LENGTH)throw new Error(`PrivateKey length should be ${St.LENGTH}`);this.signingKey=t}static generate(){let e=Lc.ed25519.utils.randomPrivateKey();return new St(e)}static fromDerivationPath(e,t){if(!(0,Js.isValidHardenedPath)(e))throw new Error(`Invalid derivation path ${e}`);return St.fromDerivationPathInner(e,(0,Js.mnemonicToSeed)(t))}static fromDerivationPathInner(e,t,r=Js.HARDENED_OFFSET){let{key:i,chainCode:s}=(0,Js.deriveKey)(St.SLIP_0010_SEED,t),o=(0,Js.splitPath)(e).map(c=>parseInt(c,10)),{key:a}=o.reduce((c,l)=>(0,Js.CKDPriv)(c,l+r),{key:i,chainCode:s});return new St(a)}publicKey(){let e=Lc.ed25519.getPublicKey(this.signingKey.toUint8Array());return new Pn(e)}sign(e){let t=(0,Ly.convertSigningMessage)(e),r=la.Hex.fromHexInput(t).toUint8Array(),i=Lc.ed25519.sign(r,this.signingKey.toUint8Array());return new On(i)}toUint8Array(){return this.signingKey.toUint8Array()}toString(){return this.signingKey.toString()}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new St(t)}static isPrivateKey(e){return e instanceof St}};Rr.Ed25519PrivateKey=St;St.LENGTH=32;St.SLIP_0010_SEED="ed25519 seed";var On=class extends F2.Signature{constructor(e){super();let t=la.Hex.fromHexInput(e);if(t.toUint8Array().length!==On.LENGTH)throw new Error(`Signature length should be ${On.LENGTH}`);this.data=t}toUint8Array(){return this.data.toUint8Array()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new On(t)}isCanonicalSignature(){let e=this.toUint8Array().slice(32);for(let t=e.length-1;t>=0;t-=1){if(e[t]<jy[t])return!0;if(e[t]>jy[t])return!1}return!1}};Rr.Ed25519Signature=On;On.LENGTH=64});var Dc=v(eo=>{"use strict";h();y();Object.defineProperty(eo,"__esModule",{value:!0});eo.MultiEd25519Signature=eo.MultiEd25519PublicKey=void 0;var $2=Le(),G2=Ys(),nn=Hi(),W2=Ri(),X2=Ci(),xt=class extends W2.AccountPublicKey{constructor(e){super();let{publicKeys:t,threshold:r}=e;if(t.length>xt.MAX_KEYS||t.length<xt.MIN_KEYS)throw new Error(`Must have between ${xt.MIN_KEYS} and ${xt.MAX_KEYS} public keys, inclusive`);if(r<xt.MIN_THRESHOLD||r>t.length)throw new Error(`Threshold must be between ${xt.MIN_THRESHOLD} and ${t.length}, inclusive`);this.publicKeys=t,this.threshold=r}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof et))return!1;let i=[];for(let s=0;s<4;s+=1)for(let o=0;o<8;o+=1)if((r.bitmap[s]&1<<7-o)!==0){let c=s*8+o;i.push(c)}if(i.length!==r.signatures.length)throw new Error("Bitmap and signatures length mismatch");if(i.length<this.threshold)throw new Error("Not enough signatures");for(let s=0;s<i.length;s+=1)if(!this.publicKeys[i[s]].verifySignature({message:t,signature:r.signatures[s]}))return!1;return!0}authKey(){return G2.AuthenticationKey.fromSchemeAndBytes({scheme:$2.SigningScheme.MultiEd25519,input:this.toUint8Array()})}toUint8Array(){let e=new Uint8Array(this.publicKeys.length*nn.Ed25519PublicKey.LENGTH+1);return this.publicKeys.forEach((t,r)=>{e.set(t.toUint8Array(),r*nn.Ed25519PublicKey.LENGTH)}),e[this.publicKeys.length*nn.Ed25519PublicKey.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let t=e.deserializeBytes(),r=t[t.length-1],i=[];for(let s=0;s<t.length-1;s+=nn.Ed25519PublicKey.LENGTH){let o=s;i.push(new nn.Ed25519PublicKey(t.subarray(o,o+nn.Ed25519PublicKey.LENGTH)))}return new xt({publicKeys:i,threshold:r})}};eo.MultiEd25519PublicKey=xt;xt.MAX_KEYS=32;xt.MIN_KEYS=2;xt.MIN_THRESHOLD=1;var et=class extends X2.Signature{constructor(e){super();let{signatures:t,bitmap:r}=e;if(t.length>et.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${et.MAX_SIGNATURES_SUPPORTED}`);if(this.signatures=t,!(r instanceof Uint8Array))this.bitmap=et.createBitmap({bits:r});else{if(r.length!==et.BITMAP_LEN)throw new Error(`"bitmap" length should be ${et.BITMAP_LEN}`);this.bitmap=r}}toUint8Array(){let e=new Uint8Array(this.signatures.length*nn.Ed25519Signature.LENGTH+et.BITMAP_LEN);return this.signatures.forEach((t,r)=>{e.set(t.toUint8Array(),r*nn.Ed25519Signature.LENGTH)}),e.set(this.bitmap,this.signatures.length*nn.Ed25519Signature.LENGTH),e}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let t=e.deserializeBytes(),r=t.subarray(t.length-4),i=[];for(let s=0;s<t.length-r.length;s+=nn.Ed25519Signature.LENGTH){let o=s;i.push(new nn.Ed25519Signature(t.subarray(o,o+nn.Ed25519Signature.LENGTH)))}return new et({signatures:i,bitmap:r})}static createBitmap(e){let{bits:t}=e,r=128,i=new Uint8Array([0,0,0,0]),s=new Set;return t.forEach((o,a)=>{if(o>=et.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${et.MAX_SIGNATURES_SUPPORTED-1}.`);if(s.has(o))throw new Error("Duplicate bits detected.");if(a>0&&o<=t[a-1])throw new Error("The bits need to be sorted in ascending order.");s.add(o);let c=Math.floor(o/8),l=i[c];l|=r>>o%8,i[c]=l}),i}};eo.MultiEd25519Signature=et;et.MAX_SIGNATURES_SUPPORTED=32;et.BITMAP_LEN=4});var bd=v(ut=>{"use strict";h();y();Object.defineProperty(ut,"__esModule",{value:!0});ut.DER=void 0;ut.weierstrassPoints=ky;ut.weierstrass=e_;ut.SWUFpSqrtRatio=Fy;ut.mapToCurveSimpleSWU=t_;var gd=Yl(),to=Or(),ce=fn(),Xe=fn();function Dy(n){n.lowS!==void 0&&(0,Xe.abool)("lowS",n.lowS),n.prehash!==void 0&&(0,Xe.abool)("prehash",n.prehash)}function Z2(n){let e=(0,gd.validateBasic)(n);ce.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Y2,hexToBytes:Q2}=ce;ut.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){let{Err:e}=ut.DER;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");let t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Y2(r),l:n.subarray(t+2)}},toSig(n){let{Err:e}=ut.DER,t=typeof n=="string"?Q2(n):n;ce.abytes(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=ut.DER._parseInt(t.subarray(2)),{d:o,l:a}=ut.DER._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{let d=l.toString(16);return d.length&1?`0${d}`:d},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),c=t(o);return`30${t(o+s+4)}02${c}${i}02${a}${r}`}};var Nn=BigInt(0),ye=BigInt(1),Cr=BigInt(2),Vc=BigInt(3),Vy=BigInt(4);function ky(n){let e=Z2(n),{Fp:t}=e,r=e.toBytes||((m,f,b)=>{let T=f.toAffine();return ce.concatBytes(Uint8Array.from([4]),t.toBytes(T.x),t.toBytes(T.y))}),i=e.fromBytes||(m=>{let f=m.subarray(1),b=t.fromBytes(f.subarray(0,t.BYTES)),T=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:b,y:T}});function s(m){let{a:f,b}=e,T=t.sqr(m),w=t.mul(T,m);return t.add(t.add(w,t.mul(m,f)),b)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return ce.inRange(m,ye,e.n)}function a(m){let{allowedPrivateKeyLengths:f,nByteLength:b,wrapPrivateKey:T,n:w}=e;if(f&&typeof m!="bigint"){if(ce.isBytes(m)&&(m=ce.bytesToHex(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let B;try{B=typeof m=="bigint"?m:ce.bytesToNumberBE((0,Xe.ensureBytes)("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return T&&(B=to.mod(B,w)),ce.aInRange("private key",B,ye,w),B}function c(m){if(!(m instanceof u))throw new Error("ProjectivePoint expected")}let l=(0,Xe.memoized)((m,f)=>{let{px:b,py:T,pz:w}=m;if(t.eql(w,t.ONE))return{x:b,y:T};let B=m.is0();f==null&&(f=B?t.ONE:t.inv(w));let x=t.mul(b,f),U=t.mul(T,f),E=t.mul(w,f);if(B)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x,y:U}}),d=(0,Xe.memoized)(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}let{x:f,y:b}=m.toAffine();if(!t.isValid(f)||!t.isValid(b))throw new Error("bad point: x or y not FE");let T=t.sqr(b),w=s(f);if(!t.eql(T,w))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class u{constructor(f,b,T){if(this.px=f,this.py=b,this.pz=T,f==null||!t.isValid(f))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if(T==null||!t.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(f){let{x:b,y:T}=f||{};if(!f||!t.isValid(b)||!t.isValid(T))throw new Error("invalid affine point");if(f instanceof u)throw new Error("projective point not allowed");let w=B=>t.eql(B,t.ZERO);return w(b)&&w(T)?u.ZERO:new u(b,T,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){let b=t.invertBatch(f.map(T=>T.pz));return f.map((T,w)=>T.toAffine(b[w])).map(u.fromAffine)}static fromHex(f){let b=u.fromAffine(i((0,Xe.ensureBytes)("pointHex",f)));return b.assertValidity(),b}static fromPrivateKey(f){return u.BASE.multiply(a(f))}_setWindowSize(f){p.setWindowSize(this,f)}assertValidity(){d(this)}hasEvenY(){let{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);let{px:b,py:T,pz:w}=this,{px:B,py:x,pz:U}=f,E=t.eql(t.mul(b,U),t.mul(B,w)),z=t.eql(t.mul(T,U),t.mul(x,w));return E&&z}negate(){return new u(this.px,t.neg(this.py),this.pz)}double(){let{a:f,b}=e,T=t.mul(b,Vc),{px:w,py:B,pz:x}=this,U=t.ZERO,E=t.ZERO,z=t.ZERO,P=t.mul(w,w),F=t.mul(B,B),L=t.mul(x,x),M=t.mul(w,B);return M=t.add(M,M),z=t.mul(w,x),z=t.add(z,z),U=t.mul(f,z),E=t.mul(T,L),E=t.add(U,E),U=t.sub(F,E),E=t.add(F,E),E=t.mul(U,E),U=t.mul(M,U),z=t.mul(T,z),L=t.mul(f,L),M=t.sub(P,L),M=t.mul(f,M),M=t.add(M,z),z=t.add(P,P),P=t.add(z,P),P=t.add(P,L),P=t.mul(P,M),E=t.add(E,P),L=t.mul(B,x),L=t.add(L,L),P=t.mul(L,M),U=t.sub(U,P),z=t.mul(L,F),z=t.add(z,z),z=t.add(z,z),new u(U,E,z)}add(f){c(f);let{px:b,py:T,pz:w}=this,{px:B,py:x,pz:U}=f,E=t.ZERO,z=t.ZERO,P=t.ZERO,F=e.a,L=t.mul(e.b,Vc),M=t.mul(b,B),ie=t.mul(T,x),re=t.mul(w,U),C=t.add(b,T),A=t.add(B,x);C=t.mul(C,A),A=t.add(M,ie),C=t.sub(C,A),A=t.add(b,w);let _=t.add(B,U);return A=t.mul(A,_),_=t.add(M,re),A=t.sub(A,_),_=t.add(T,w),E=t.add(x,U),_=t.mul(_,E),E=t.add(ie,re),_=t.sub(_,E),P=t.mul(F,A),E=t.mul(L,re),P=t.add(E,P),E=t.sub(ie,P),P=t.add(ie,P),z=t.mul(E,P),ie=t.add(M,M),ie=t.add(ie,M),re=t.mul(F,re),A=t.mul(L,A),ie=t.add(ie,re),re=t.sub(M,re),re=t.mul(F,re),A=t.add(A,re),M=t.mul(ie,A),z=t.add(z,M),M=t.mul(_,A),E=t.mul(C,E),E=t.sub(E,M),M=t.mul(C,ie),P=t.mul(_,P),P=t.add(P,M),new u(E,z,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(u.ZERO)}wNAF(f){return p.wNAFCached(this,f,u.normalizeZ)}multiplyUnsafe(f){ce.aInRange("scalar",f,Nn,e.n);let b=u.ZERO;if(f===Nn)return b;if(f===ye)return this;let{endo:T}=e;if(!T)return p.unsafeLadder(this,f);let{k1neg:w,k1:B,k2neg:x,k2:U}=T.splitScalar(f),E=b,z=b,P=this;for(;B>Nn||U>Nn;)B&ye&&(E=E.add(P)),U&ye&&(z=z.add(P)),P=P.double(),B>>=ye,U>>=ye;return w&&(E=E.negate()),x&&(z=z.negate()),z=new u(t.mul(z.px,T.beta),z.py,z.pz),E.add(z)}multiply(f){let{endo:b,n:T}=e;ce.aInRange("scalar",f,ye,T);let w,B;if(b){let{k1neg:x,k1:U,k2neg:E,k2:z}=b.splitScalar(f),{p:P,f:F}=this.wNAF(U),{p:L,f:M}=this.wNAF(z);P=p.constTimeNegate(x,P),L=p.constTimeNegate(E,L),L=new u(t.mul(L.px,b.beta),L.py,L.pz),w=P.add(L),B=F.add(M)}else{let{p:x,f:U}=this.wNAF(f);w=x,B=U}return u.normalizeZ([w,B])[0]}multiplyAndAddUnsafe(f,b,T){let w=u.BASE,B=(U,E)=>E===Nn||E===ye||!U.equals(w)?U.multiplyUnsafe(E):U.multiply(E),x=B(this,b).add(B(f,T));return x.is0()?void 0:x}toAffine(f){return l(this,f)}isTorsionFree(){let{h:f,isTorsionFree:b}=e;if(f===ye)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:f,clearCofactor:b}=e;return f===ye?this:b?b(u,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return(0,Xe.abool)("isCompressed",f),this.assertValidity(),r(u,this,f)}toHex(f=!0){return(0,Xe.abool)("isCompressed",f),ce.bytesToHex(this.toRawBytes(f))}}u.BASE=new u(e.Gx,e.Gy,t.ONE),u.ZERO=new u(t.ZERO,t.ONE,t.ZERO);let g=e.nBitLength,p=(0,gd.wNAF)(u,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:o}}function J2(n){let e=(0,gd.validateBasic)(n);return ce.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function e_(n){let e=J2(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(C){return to.mod(C,r)}function a(C){return to.invert(C,r)}let{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:u}=ky({...e,toBytes(C,A,_){let I=A.toAffine(),O=t.toBytes(I.x),q=ce.concatBytes;return(0,Xe.abool)("isCompressed",_),_?q(Uint8Array.from([A.hasEvenY()?2:3]),O):q(Uint8Array.from([4]),O,t.toBytes(I.y))},fromBytes(C){let A=C.length,_=C[0],I=C.subarray(1);if(A===i&&(_===2||_===3)){let O=ce.bytesToNumberBE(I);if(!ce.inRange(O,ye,t.ORDER))throw new Error("Point is not on curve");let q=d(O),j;try{j=t.sqrt(q)}catch($){let X=$ instanceof Error?": "+$.message:"";throw new Error("Point is not on curve"+X)}let V=(j&ye)===ye;return(_&1)===1!==V&&(j=t.neg(j)),{x:O,y:j}}else if(A===s&&_===4){let O=t.fromBytes(I.subarray(0,t.BYTES)),q=t.fromBytes(I.subarray(t.BYTES,2*t.BYTES));return{x:O,y:q}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=C=>ce.bytesToHex(ce.numberToBytesBE(C,e.nByteLength));function p(C){let A=r>>ye;return C>A}function m(C){return p(C)?o(-C):C}let f=(C,A,_)=>ce.bytesToNumberBE(C.slice(A,_));class b{constructor(A,_,I){this.r=A,this.s=_,this.recovery=I,this.assertValidity()}static fromCompact(A){let _=e.nByteLength;return A=(0,Xe.ensureBytes)("compactSignature",A,_*2),new b(f(A,0,_),f(A,_,2*_))}static fromDER(A){let{r:_,s:I}=ut.DER.toSig((0,Xe.ensureBytes)("DER",A));return new b(_,I)}assertValidity(){ce.aInRange("r",this.r,ye,r),ce.aInRange("s",this.s,ye,r)}addRecoveryBit(A){return new b(this.r,this.s,A)}recoverPublicKey(A){let{r:_,s:I,recovery:O}=this,q=E((0,Xe.ensureBytes)("msgHash",A));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");let j=O===2||O===3?_+e.n:_;if(j>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=(O&1)===0?"02":"03",G=c.fromHex(V+g(j)),$=a(j),X=o(-q*$),se=o(I*$),he=c.BASE.multiplyAndAddUnsafe(G,X,se);if(!he)throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ce.hexToBytes(this.toDERHex())}toDERHex(){return ut.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ce.hexToBytes(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let T={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let C=to.getMinHashLength(e.n);return to.mapHashToField(e.randomBytes(C),e.n)},precompute(C=8,A=c.BASE){return A._setWindowSize(C),A.multiply(BigInt(3)),A}};function w(C,A=!0){return c.fromPrivateKey(C).toRawBytes(A)}function B(C){let A=ce.isBytes(C),_=typeof C=="string",I=(A||_)&&C.length;return A?I===i||I===s:_?I===2*i||I===2*s:C instanceof c}function x(C,A,_=!0){if(B(C))throw new Error("first arg must be private key");if(!B(A))throw new Error("second arg must be public key");return c.fromHex(A).multiply(l(C)).toRawBytes(_)}let U=e.bits2int||function(C){let A=ce.bytesToNumberBE(C),_=C.length*8-e.nBitLength;return _>0?A>>BigInt(_):A},E=e.bits2int_modN||function(C){return o(U(C))},z=ce.bitMask(e.nBitLength);function P(C){return ce.aInRange(`num < 2^${e.nBitLength}`,C,Nn,z),ce.numberToBytesBE(C,e.nByteLength)}function F(C,A,_=L){if(["recovered","canonical"].some(xe=>xe in _))throw new Error("sign() legacy options not supported");let{hash:I,randomBytes:O}=e,{lowS:q,prehash:j,extraEntropy:V}=_;q==null&&(q=!0),C=(0,Xe.ensureBytes)("msgHash",C),Dy(_),j&&(C=(0,Xe.ensureBytes)("prehashed msgHash",I(C)));let G=E(C),$=l(A),X=[P($),P(G)];if(V!=null&&V!==!1){let xe=V===!0?O(t.BYTES):V;X.push((0,Xe.ensureBytes)("extraEntropy",xe))}let se=ce.concatBytes(...X),he=G;function Te(xe){let ge=U(xe);if(!u(ge))return;let Ke=a(ge),ze=c.BASE.multiply(ge).toAffine(),ve=o(ze.x);if(ve===Nn)return;let bt=o(Ke*o(he+ve*$));if(bt===Nn)return;let mn=(ze.x===ve?0:2)|Number(ze.y&ye),ni=bt;return q&&p(bt)&&(ni=m(bt),mn^=1),new b(ve,ni,mn)}return{seed:se,k2sig:Te}}let L={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function ie(C,A,_=L){let{seed:I,k2sig:O}=F(C,A,_),q=e;return ce.createHmacDrbg(q.hash.outputLen,q.nByteLength,q.hmac)(I,O)}c.BASE._setWindowSize(8);function re(C,A,_,I=M){let O=C;if(A=(0,Xe.ensureBytes)("msgHash",A),_=(0,Xe.ensureBytes)("publicKey",_),"strict"in I)throw new Error("options.strict was renamed to lowS");Dy(I);let{lowS:q,prehash:j}=I,V,G;try{if(typeof O=="string"||ce.isBytes(O))try{V=b.fromDER(O)}catch(ze){if(!(ze instanceof ut.DER.Err))throw ze;V=b.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){let{r:ze,s:ve}=O;V=new b(ze,ve)}else throw new Error("PARSE");G=c.fromHex(_)}catch(ze){if(ze.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&V.hasHighS())return!1;j&&(A=e.hash(A));let{r:$,s:X}=V,se=E(A),he=a(X),Te=o(se*he),xe=o($*he),ge=c.BASE.multiplyAndAddUnsafe(G,Te,xe)?.toAffine();return ge?o(ge.x)===$:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:x,sign:ie,verify:re,ProjectivePoint:c,Signature:b,utils:T}}function Fy(n,e){let t=n.ORDER,r=Nn;for(let m=t-ye;m%Cr===Nn;m/=Cr)r+=ye;let i=r,s=Cr<<i-ye-ye,o=s*Cr,a=(t-ye)/o,c=(a-ye)/Cr,l=o-ye,d=s,u=n.pow(e,a),g=n.pow(e,(a+ye)/Cr),p=(m,f)=>{let b=u,T=n.pow(f,l),w=n.sqr(T);w=n.mul(w,f);let B=n.mul(m,w);B=n.pow(B,c),B=n.mul(B,T),T=n.mul(B,f),w=n.mul(B,m);let x=n.mul(w,T);B=n.pow(x,d);let U=n.eql(B,n.ONE);T=n.mul(w,g),B=n.mul(x,b),w=n.cmov(T,w,U),x=n.cmov(B,x,U);for(let E=i;E>ye;E--){let z=E-Cr;z=Cr<<z-ye;let P=n.pow(x,z),F=n.eql(P,n.ONE);T=n.mul(w,b),b=n.mul(b,b),P=n.mul(x,b),w=n.cmov(T,w,F),x=n.cmov(P,x,F)}return{isValid:U,value:w}};if(n.ORDER%Vy===Vc){let m=(n.ORDER-Vc)/Vy,f=n.sqrt(n.neg(e));p=(b,T)=>{let w=n.sqr(T),B=n.mul(b,T);w=n.mul(w,B);let x=n.pow(w,m);x=n.mul(x,B);let U=n.mul(x,f),E=n.mul(n.sqr(x),T),z=n.eql(E,b),P=n.cmov(U,x,z);return{isValid:z,value:P}}}return p}function t_(n,e){if(to.validateField(n),!n.isValid(e.A)||!n.isValid(e.B)||!n.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=Fy(n,e.Z);if(!n.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,l,d,u;i=n.sqr(r),i=n.mul(i,e.Z),s=n.sqr(i),s=n.add(s,i),o=n.add(s,n.ONE),o=n.mul(o,e.B),a=n.cmov(e.Z,n.neg(s),!n.eql(s,n.ZERO)),a=n.mul(a,e.A),s=n.sqr(o),l=n.sqr(a),c=n.mul(l,e.A),s=n.add(s,c),s=n.mul(s,o),l=n.mul(l,a),c=n.mul(l,e.B),s=n.add(s,c),d=n.mul(i,o);let{isValid:g,value:p}=t(s,l);u=n.mul(i,r),u=n.mul(u,p),d=n.cmov(d,o,g),u=n.cmov(u,p,g);let m=n.isOdd(r)===n.isOdd(u);return u=n.cmov(n.neg(u),u,m),d=n.div(d,a),{x:d,y:u}}}});var Wy=v(kc=>{"use strict";h();y();Object.defineProperty(kc,"__esModule",{value:!0});kc.getHash=Gy;kc.createCurve=i_;var n_=jo(),$y=$t(),r_=bd();function Gy(n){return{hash:n,hmac:(e,...t)=>(0,n_.hmac)(n,e,(0,$y.concatBytes)(...t)),randomBytes:$y.randomBytes}}function i_(n,e){let t=r=>(0,r_.weierstrass)({...n,...Gy(r)});return Object.freeze({...t(e),create:t})}});var i0=v(Ut=>{"use strict";h();y();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.encodeToCurve=Ut.hashToCurve=Ut.schnorr=Ut.secp256k1=void 0;var Fc=Da(),s_=$t(),o_=Wy(),Yy=td(),De=Or(),vt=fn(),a_=bd(),ha=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),da=BigInt(1),Gc=BigInt(2),Xy=(n,e)=>(n+e/Gc)/e;function Qy(n){let e=ha,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,d=l*l*n%e,u=(0,De.pow2)(d,t,e)*d%e,g=(0,De.pow2)(u,t,e)*d%e,p=(0,De.pow2)(g,Gc,e)*l%e,m=(0,De.pow2)(p,i,e)*p%e,f=(0,De.pow2)(m,s,e)*m%e,b=(0,De.pow2)(f,a,e)*f%e,T=(0,De.pow2)(b,c,e)*b%e,w=(0,De.pow2)(T,a,e)*f%e,B=(0,De.pow2)(w,t,e)*d%e,x=(0,De.pow2)(B,o,e)*m%e,U=(0,De.pow2)(x,r,e)*l%e,E=(0,De.pow2)(U,Gc,e);if(!Hr.eql(Hr.sqr(E),n))throw new Error("Cannot find square root");return E}var Hr=(0,De.Field)(ha,void 0,void 0,{sqrt:Qy});Ut.secp256k1=(0,o_.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Hr,n:$c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{let e=$c,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-da*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=Xy(s*n,e),c=Xy(-r*n,e),l=(0,De.mod)(n-a*t-c*i,e),d=(0,De.mod)(-a*r-c*s,e),u=l>o,g=d>o;if(u&&(l=e-l),g&&(d=e-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:u,k1:l,k2neg:g,k2:d}}}},Fc.sha256);var Jy=BigInt(0),Zy={};function Wc(n,...e){let t=Zy[n];if(t===void 0){let r=(0,Fc.sha256)(Uint8Array.from(n,i=>i.charCodeAt(0)));t=(0,vt.concatBytes)(r,r),Zy[n]=t}return(0,Fc.sha256)((0,vt.concatBytes)(t,...e))}var _d=n=>n.toRawBytes(!0).slice(1),wd=n=>(0,vt.numberToBytesBE)(n,32),pd=n=>(0,De.mod)(n,ha),fa=n=>(0,De.mod)(n,$c),Ad=Ut.secp256k1.ProjectivePoint,c_=(n,e,t)=>Ad.BASE.multiplyAndAddUnsafe(n,e,t);function md(n){let e=Ut.secp256k1.utils.normPrivateKeyToScalar(n),t=Ad.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:fa(-e),bytes:_d(t)}}function e0(n){(0,vt.aInRange)("x",n,da,ha);let e=pd(n*n),t=pd(e*n+BigInt(7)),r=Qy(t);r%Gc!==Jy&&(r=pd(-r));let i=new Ad(n,r,da);return i.assertValidity(),i}var no=vt.bytesToNumberBE;function t0(...n){return fa(no(Wc("BIP0340/challenge",...n)))}function u_(n){return md(n).bytes}function l_(n,e,t=(0,s_.randomBytes)(32)){let r=(0,vt.ensureBytes)("message",n),{bytes:i,scalar:s}=md(e),o=(0,vt.ensureBytes)("auxRand",t,32),a=wd(s^no(Wc("BIP0340/aux",o))),c=Wc("BIP0340/nonce",a,i,r),l=fa(no(c));if(l===Jy)throw new Error("sign failed: k is zero");let{bytes:d,scalar:u}=md(l),g=t0(d,i,r),p=new Uint8Array(64);if(p.set(d,0),p.set(wd(fa(u+g*s)),32),!n0(p,r,i))throw new Error("sign: Invalid signature produced");return p}function n0(n,e,t){let r=(0,vt.ensureBytes)("signature",n,64),i=(0,vt.ensureBytes)("message",e),s=(0,vt.ensureBytes)("publicKey",t,32);try{let o=e0(no(s)),a=no(r.subarray(0,32));if(!(0,vt.inRange)(a,da,ha))return!1;let c=no(r.subarray(32,64));if(!(0,vt.inRange)(c,da,$c))return!1;let l=t0(wd(a),_d(o),i),d=c_(o,c,fa(-l));return!(!d||!d.hasEvenY()||d.toAffine().x!==a)}catch{return!1}}Ut.schnorr=(()=>({getPublicKey:u_,sign:l_,verify:n0,utils:{randomPrivateKey:Ut.secp256k1.utils.randomPrivateKey,lift_x:e0,pointToBytes:_d,numberToBytesBE:vt.numberToBytesBE,bytesToNumberBE:vt.bytesToNumberBE,taggedHash:Wc,mod:De.mod}}))();var d_=(()=>(0,Yy.isogenyMap)(Hr,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(n=>n.map(e=>BigInt(e)))))(),f_=(()=>(0,a_.mapToCurveSimpleSWU)(Hr,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Hr.create(BigInt("-11"))}))(),r0=(()=>(0,Yy.createHasher)(Ut.secp256k1.ProjectivePoint,n=>{let{x:e,y:t}=f_(Hr.create(n[0]));return d_(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Hr.ORDER,m:1,k:128,expand:"xmd",hash:Fc.sha256}))();Ut.hashToCurve=(()=>r0.hashToCurve)();Ut.encodeToCurve=(()=>r0.encodeToCurve)()});var c0=v(ro=>{"use strict";h();y();Object.defineProperty(ro,"__esModule",{value:!0});ro.ripemd160=ro.RIPEMD160=void 0;var h_=$b(),ya=$t(),y_=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),o0=new Uint8Array(new Array(16).fill(0).map((n,e)=>e)),g_=o0.map(n=>(9*n+5)%16),Td=[o0],Bd=[g_];for(let n=0;n<4;n++)for(let e of[Td,Bd])e.push(e[n].map(t=>y_[t]));var a0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),b_=Td.map((n,e)=>n.map(t=>a0[e][t])),p_=Bd.map((n,e)=>n.map(t=>a0[e][t])),w_=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),m_=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function s0(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}var Xc=new Uint32Array(16),Zc=class extends h_.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:i,h4:s}=this;return[e,t,r,i,s]}set(e,t,r,i,s){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let p=0;p<16;p++,t+=4)Xc[p]=e.getUint32(t,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,l=this.h3|0,d=l,u=this.h4|0,g=u;for(let p=0;p<5;p++){let m=4-p,f=w_[p],b=m_[p],T=Td[p],w=Bd[p],B=b_[p],x=p_[p];for(let U=0;U<16;U++){let E=(0,ya.rotl)(r+s0(p,s,a,l)+Xc[T[U]]+f,B[U])+u|0;r=u,u=l,l=(0,ya.rotl)(a,10)|0,a=s,s=E}for(let U=0;U<16;U++){let E=(0,ya.rotl)(i+s0(m,o,c,d)+Xc[w[U]]+b,x[U])+g|0;i=g,g=d,d=(0,ya.rotl)(c,10)|0,c=o,o=E}}this.set(this.h1+a+d|0,this.h2+l+g|0,this.h3+u+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Xc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};ro.RIPEMD160=Zc;ro.ripemd160=(0,ya.wrapConstructor)(()=>new Zc)});var Ki=v(Ae=>{"use strict";h();y();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.bitMask=void 0;Ae.isBytes=Qc;Ae.abytes=Jc;Ae.bytesToHex=Sd;Ae.numberToHexUnpadded=f0;Ae.hexToNumber=xd;Ae.hexToBytes=eu;Ae.bytesToNumberBE=T_;Ae.bytesToNumberLE=B_;Ae.numberToBytesBE=h0;Ae.numberToBytesLE=E_;Ae.numberToVarBytesBE=S_;Ae.ensureBytes=x_;Ae.concatBytes=y0;Ae.equalBytes=v_;Ae.utf8ToBytes=U_;Ae.bitLen=I_;Ae.bitGet=z_;Ae.bitSet=P_;Ae.createHmacDrbg=N_;Ae.validateObject=M_;var d0=BigInt(0),Yc=BigInt(1),__=BigInt(2);function Qc(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Jc(n){if(!Qc(n))throw new Error("Uint8Array expected")}var A_=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Sd(n){Jc(n);let e="";for(let t=0;t<n.length;t++)e+=A_[n[t]];return e}function f0(n){let e=n.toString(16);return e.length&1?`0${e}`:e}function xd(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}var Jn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function u0(n){if(n>=Jn._0&&n<=Jn._9)return n-Jn._0;if(n>=Jn._A&&n<=Jn._F)return n-(Jn._A-10);if(n>=Jn._a&&n<=Jn._f)return n-(Jn._a-10)}function eu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);let e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){let o=u0(n.charCodeAt(s)),a=u0(n.charCodeAt(s+1));if(o===void 0||a===void 0){let c=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function T_(n){return xd(Sd(n))}function B_(n){return Jc(n),xd(Sd(Uint8Array.from(n).reverse()))}function h0(n,e){return eu(n.toString(16).padStart(e*2,"0"))}function E_(n,e){return h0(n,e).reverse()}function S_(n){return eu(f0(n))}function x_(n,e,t){let r;if(typeof e=="string")try{r=eu(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Qc(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);let i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function y0(...n){let e=0;for(let r=0;r<n.length;r++){let i=n[r];Jc(i),e+=i.length}let t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){let s=n[r];t.set(s,i),i+=s.length}return t}function v_(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function U_(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function I_(n){let e;for(e=0;n>d0;n>>=Yc,e+=1);return e}function z_(n,e){return n>>BigInt(e)&Yc}function P_(n,e,t){return n|(t?Yc:d0)<<BigInt(e)}var O_=n=>(__<<BigInt(n-1))-Yc;Ae.bitMask=O_;var Ed=n=>new Uint8Array(n),l0=n=>Uint8Array.from(n);function N_(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Ed(n),i=Ed(n),s=0,o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>t(i,r,...u),c=(u=Ed())=>{i=a(l0([0]),u),r=a(),u.length!==0&&(i=a(l0([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,g=[];for(;u<e;){r=a();let p=r.slice();g.push(p),u+=r.length}return y0(...g)};return(u,g)=>{o(),c(u);let p;for(;!(p=g(l()));)c();return o(),p}}var q_={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Qc(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function M_(n,e,t={}){let r=(i,s,o)=>{let a=q_[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let c=n[i];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(let[i,s]of Object.entries(e))r(i,s,!1);for(let[i,s]of Object.entries(t))r(i,s,!0);return n}});var io=v(Be=>{"use strict";h();y();Object.defineProperty(Be,"__esModule",{value:!0});Be.isNegativeLE=void 0;Be.mod=jt;Be.pow=p0;Be.pow2=K_;Be.invert=tu;Be.tonelliShanks=w0;Be.FpSqrt=m0;Be.validateField=D_;Be.FpPow=_0;Be.FpInvertBatch=A0;Be.FpDiv=V_;Be.FpIsSquare=k_;Be.nLength=Ud;Be.Field=F_;Be.FpSqrtOdd=$_;Be.FpSqrtEven=G_;Be.hashToPrivateScalar=W_;Be.getFieldBytesLength=Id;Be.getMinHashLength=T0;Be.mapHashToField=X_;var Lt=Ki(),Ce=BigInt(0),pe=BigInt(1),Kr=BigInt(2),R_=BigInt(3),vd=BigInt(4),g0=BigInt(5),b0=BigInt(8),C_=BigInt(9),H_=BigInt(16);function jt(n,e){let t=n%e;return t>=Ce?t:e+t}function p0(n,e,t){if(t<=Ce||e<Ce)throw new Error("Expected power/modulo > 0");if(t===pe)return Ce;let r=pe;for(;e>Ce;)e&pe&&(r=r*n%t),n=n*n%t,e>>=pe;return r}function K_(n,e,t){let r=n;for(;e-- >Ce;)r*=r,r%=t;return r}function tu(n,e){if(n===Ce||e<=Ce)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=jt(n,e),r=e,i=Ce,s=pe,o=pe,a=Ce;for(;t!==Ce;){let l=r/t,d=r%t,u=i-o*l,g=s-a*l;r=t,t=d,i=o,s=a,o=u,a=g}if(r!==pe)throw new Error("invert: does not exist");return jt(i,e)}function w0(n){let e=(n-pe)/Kr,t,r,i;for(t=n-pe,r=0;t%Kr===Ce;t/=Kr,r++);for(i=Kr;i<n&&p0(i,e,n)!==n-pe;i++);if(r===1){let o=(n+pe)/vd;return function(c,l){let d=c.pow(l,o);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}let s=(t+pe)/Kr;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,d=a.pow(a.mul(a.ONE,i),t),u=a.pow(c,s),g=a.pow(c,t);for(;!a.eql(g,a.ONE);){if(a.eql(g,a.ZERO))return a.ZERO;let p=1;for(let f=a.sqr(g);p<l&&!a.eql(f,a.ONE);p++)f=a.sqr(f);let m=a.pow(d,pe<<BigInt(l-p-1));d=a.sqr(m),u=a.mul(u,m),g=a.mul(g,d),l=p}return u}}function m0(n){if(n%vd===R_){let e=(n+pe)/vd;return function(r,i){let s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%b0===g0){let e=(n-g0)/b0;return function(r,i){let s=r.mul(i,Kr),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,Kr),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return n%H_,w0(n)}var j_=(n,e)=>(jt(n,e)&pe)===pe;Be.isNegativeLE=j_;var L_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D_(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=L_.reduce((r,i)=>(r[i]="function",r),e);return(0,Lt.validateObject)(n,t)}function _0(n,e,t){if(t<Ce)throw new Error("Expected power > 0");if(t===Ce)return n.ONE;if(t===pe)return e;let r=n.ONE,i=e;for(;t>Ce;)t&pe&&(r=n.mul(r,i)),i=n.sqr(i),t>>=pe;return r}function A0(n,e){let t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function V_(n,e,t){return n.mul(e,typeof t=="bigint"?tu(t,n.ORDER):n.inv(t))}function k_(n){let e=(n.ORDER-pe)/Kr;return t=>{let r=n.pow(t,e);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function Ud(n,e){let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function F_(n,e,t=!1,r={}){if(n<=Ce)throw new Error(`Expected Field ORDER > 0, got ${n}`);let{nBitLength:i,nByteLength:s}=Ud(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=m0(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:(0,Lt.bitMask)(i),ZERO:Ce,ONE:pe,create:c=>jt(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ce<=c&&c<n},is0:c=>c===Ce,isOdd:c=>(c&pe)===pe,neg:c=>jt(-c,n),eql:(c,l)=>c===l,sqr:c=>jt(c*c,n),add:(c,l)=>jt(c+l,n),sub:(c,l)=>jt(c-l,n),mul:(c,l)=>jt(c*l,n),pow:(c,l)=>_0(a,c,l),div:(c,l)=>jt(c*tu(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>tu(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>A0(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>t?(0,Lt.numberToBytesLE)(c,s):(0,Lt.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return t?(0,Lt.bytesToNumberLE)(c):(0,Lt.bytesToNumberBE)(c)}});return Object.freeze(a)}function $_(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");let t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function G_(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");let t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function W_(n,e,t=!1){n=(0,Lt.ensureBytes)("privateHash",n);let r=n.length,i=Ud(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);let s=t?(0,Lt.bytesToNumberLE)(n):(0,Lt.bytesToNumberBE)(n);return jt(s,e-pe)+pe}function Id(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function T0(n){let e=Id(n);return e+Math.ceil(e/2)}function X_(n,e,t=!1){let r=n.length,i=Id(e),s=T0(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);let o=t?(0,Lt.bytesToNumberBE)(n):(0,Lt.bytesToNumberLE)(n),a=jt(o,e-pe)+pe;return t?(0,Lt.numberToBytesLE)(a,i):(0,Lt.numberToBytesBE)(a,i)}});var E0=v(nu=>{"use strict";h();y();Object.defineProperty(nu,"__esModule",{value:!0});nu.wNAF=Q_;nu.validateBasic=J_;var B0=io(),Z_=Ki(),Y_=BigInt(0),zd=BigInt(1);function Q_(n,e){let t=(i,s)=>{let o=s.negate();return i?o:s},r=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>Y_;)s&zd&&(o=o.add(a)),a=a.double(),s>>=zd;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=r(s),c=[],l=i,d=l;for(let u=0;u<o;u++){d=l,c.push(d);for(let g=1;g<a;g++)d=d.add(l),c.push(d);l=d.double()}return c},wNAF(i,s,o){let{windows:a,windowSize:c}=r(i),l=n.ZERO,d=n.BASE,u=BigInt(2**i-1),g=2**i,p=BigInt(i);for(let m=0;m<a;m++){let f=m*c,b=Number(o&u);o>>=p,b>c&&(b-=g,o+=zd);let T=f,w=f+Math.abs(b)-1,B=m%2!==0,x=b<0;b===0?d=d.add(t(B,s[T])):l=l.add(t(x,s[w]))}return{p:l,f:d}},wNAFCached(i,s,o,a){let c=i._WINDOW_SIZE||1,l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function J_(n){return(0,B0.validateField)(n.Fp),(0,Z_.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,B0.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}});var Od=v(lt=>{"use strict";h();y();Object.defineProperty(lt,"__esModule",{value:!0});lt.DER=void 0;lt.weierstrassPoints=x0;lt.weierstrass=iA;lt.SWUFpSqrtRatio=v0;lt.mapToCurveSimpleSWU=sA;var Pd=E0(),so=io(),Ee=Ki(),qn=Ki();function eA(n){let e=(0,Pd.validateBasic)(n);Ee.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:tA,hexToBytes:nA}=Ee;lt.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){let{Err:e}=lt.DER;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");let t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:tA(r),l:n.subarray(t+2)}},toSig(n){let{Err:e}=lt.DER,t=typeof n=="string"?nA(n):n;Ee.abytes(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=lt.DER._parseInt(t.subarray(2)),{d:o,l:a}=lt.DER._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{let d=l.toString(16);return d.length&1?`0${d}`:d},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),c=t(o);return`30${t(o+s+4)}02${c}${i}02${a}${r}`}};var yn=BigInt(0),Ue=BigInt(1),jr=BigInt(2),ru=BigInt(3),S0=BigInt(4);function x0(n){let e=eA(n),{Fp:t}=e,r=e.toBytes||((m,f,b)=>{let T=f.toAffine();return Ee.concatBytes(Uint8Array.from([4]),t.toBytes(T.x),t.toBytes(T.y))}),i=e.fromBytes||(m=>{let f=m.subarray(1),b=t.fromBytes(f.subarray(0,t.BYTES)),T=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:b,y:T}});function s(m){let{a:f,b}=e,T=t.sqr(m),w=t.mul(T,m);return t.add(t.add(w,t.mul(m,f)),b)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&yn<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){let{allowedPrivateKeyLengths:f,nByteLength:b,wrapPrivateKey:T,n:w}=e;if(f&&typeof m!="bigint"){if(Ee.isBytes(m)&&(m=Ee.bytesToHex(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let B;try{B=typeof m=="bigint"?m:Ee.bytesToNumberBE((0,qn.ensureBytes)("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return T&&(B=so.mod(B,w)),a(B),B}let l=new Map;function d(m){if(!(m instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(f,b,T){if(this.px=f,this.py=b,this.pz=T,f==null||!t.isValid(f))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if(T==null||!t.isValid(T))throw new Error("z required")}static fromAffine(f){let{x:b,y:T}=f||{};if(!f||!t.isValid(b)||!t.isValid(T))throw new Error("invalid affine point");if(f instanceof u)throw new Error("projective point not allowed");let w=B=>t.eql(B,t.ZERO);return w(b)&&w(T)?u.ZERO:new u(b,T,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){let b=t.invertBatch(f.map(T=>T.pz));return f.map((T,w)=>T.toAffine(b[w])).map(u.fromAffine)}static fromHex(f){let b=u.fromAffine(i((0,qn.ensureBytes)("pointHex",f)));return b.assertValidity(),b}static fromPrivateKey(f){return u.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:f,y:b}=this.toAffine();if(!t.isValid(f)||!t.isValid(b))throw new Error("bad point: x or y not FE");let T=t.sqr(b),w=s(f);if(!t.eql(T,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){d(f);let{px:b,py:T,pz:w}=this,{px:B,py:x,pz:U}=f,E=t.eql(t.mul(b,U),t.mul(B,w)),z=t.eql(t.mul(T,U),t.mul(x,w));return E&&z}negate(){return new u(this.px,t.neg(this.py),this.pz)}double(){let{a:f,b}=e,T=t.mul(b,ru),{px:w,py:B,pz:x}=this,U=t.ZERO,E=t.ZERO,z=t.ZERO,P=t.mul(w,w),F=t.mul(B,B),L=t.mul(x,x),M=t.mul(w,B);return M=t.add(M,M),z=t.mul(w,x),z=t.add(z,z),U=t.mul(f,z),E=t.mul(T,L),E=t.add(U,E),U=t.sub(F,E),E=t.add(F,E),E=t.mul(U,E),U=t.mul(M,U),z=t.mul(T,z),L=t.mul(f,L),M=t.sub(P,L),M=t.mul(f,M),M=t.add(M,z),z=t.add(P,P),P=t.add(z,P),P=t.add(P,L),P=t.mul(P,M),E=t.add(E,P),L=t.mul(B,x),L=t.add(L,L),P=t.mul(L,M),U=t.sub(U,P),z=t.mul(L,F),z=t.add(z,z),z=t.add(z,z),new u(U,E,z)}add(f){d(f);let{px:b,py:T,pz:w}=this,{px:B,py:x,pz:U}=f,E=t.ZERO,z=t.ZERO,P=t.ZERO,F=e.a,L=t.mul(e.b,ru),M=t.mul(b,B),ie=t.mul(T,x),re=t.mul(w,U),C=t.add(b,T),A=t.add(B,x);C=t.mul(C,A),A=t.add(M,ie),C=t.sub(C,A),A=t.add(b,w);let _=t.add(B,U);return A=t.mul(A,_),_=t.add(M,re),A=t.sub(A,_),_=t.add(T,w),E=t.add(x,U),_=t.mul(_,E),E=t.add(ie,re),_=t.sub(_,E),P=t.mul(F,A),E=t.mul(L,re),P=t.add(E,P),E=t.sub(ie,P),P=t.add(ie,P),z=t.mul(E,P),ie=t.add(M,M),ie=t.add(ie,M),re=t.mul(F,re),A=t.mul(L,A),ie=t.add(ie,re),re=t.sub(M,re),re=t.mul(F,re),A=t.add(A,re),M=t.mul(ie,A),z=t.add(z,M),M=t.mul(_,A),E=t.mul(C,E),E=t.sub(E,M),M=t.mul(C,ie),P=t.mul(_,P),P=t.add(P,M),new u(E,z,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(u.ZERO)}wNAF(f){return p.wNAFCached(this,l,f,b=>{let T=t.invertBatch(b.map(w=>w.pz));return b.map((w,B)=>w.toAffine(T[B])).map(u.fromAffine)})}multiplyUnsafe(f){let b=u.ZERO;if(f===yn)return b;if(a(f),f===Ue)return this;let{endo:T}=e;if(!T)return p.unsafeLadder(this,f);let{k1neg:w,k1:B,k2neg:x,k2:U}=T.splitScalar(f),E=b,z=b,P=this;for(;B>yn||U>yn;)B&Ue&&(E=E.add(P)),U&Ue&&(z=z.add(P)),P=P.double(),B>>=Ue,U>>=Ue;return w&&(E=E.negate()),x&&(z=z.negate()),z=new u(t.mul(z.px,T.beta),z.py,z.pz),E.add(z)}multiply(f){a(f);let b=f,T,w,{endo:B}=e;if(B){let{k1neg:x,k1:U,k2neg:E,k2:z}=B.splitScalar(b),{p:P,f:F}=this.wNAF(U),{p:L,f:M}=this.wNAF(z);P=p.constTimeNegate(x,P),L=p.constTimeNegate(E,L),L=new u(t.mul(L.px,B.beta),L.py,L.pz),T=P.add(L),w=F.add(M)}else{let{p:x,f:U}=this.wNAF(b);T=x,w=U}return u.normalizeZ([T,w])[0]}multiplyAndAddUnsafe(f,b,T){let w=u.BASE,B=(U,E)=>E===yn||E===Ue||!U.equals(w)?U.multiplyUnsafe(E):U.multiply(E),x=B(this,b).add(B(f,T));return x.is0()?void 0:x}toAffine(f){let{px:b,py:T,pz:w}=this,B=this.is0();f==null&&(f=B?t.ONE:t.inv(w));let x=t.mul(b,f),U=t.mul(T,f),E=t.mul(w,f);if(B)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x,y:U}}isTorsionFree(){let{h:f,isTorsionFree:b}=e;if(f===Ue)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:f,clearCofactor:b}=e;return f===Ue?this:b?b(u,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return this.assertValidity(),r(u,this,f)}toHex(f=!0){return Ee.bytesToHex(this.toRawBytes(f))}}u.BASE=new u(e.Gx,e.Gy,t.ONE),u.ZERO=new u(t.ZERO,t.ONE,t.ZERO);let g=e.nBitLength,p=(0,Pd.wNAF)(u,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function rA(n){let e=(0,Pd.validateBasic)(n);return Ee.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function iA(n){let e=rA(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(A){return yn<A&&A<t.ORDER}function a(A){return so.mod(A,r)}function c(A){return so.invert(A,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:g}=x0({...e,toBytes(A,_,I){let O=_.toAffine(),q=t.toBytes(O.x),j=Ee.concatBytes;return I?j(Uint8Array.from([_.hasEvenY()?2:3]),q):j(Uint8Array.from([4]),q,t.toBytes(O.y))},fromBytes(A){let _=A.length,I=A[0],O=A.subarray(1);if(_===i&&(I===2||I===3)){let q=Ee.bytesToNumberBE(O);if(!o(q))throw new Error("Point is not on curve");let j=u(q),V;try{V=t.sqrt(j)}catch(X){let se=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+se)}let G=(V&Ue)===Ue;return(I&1)===1!==G&&(V=t.neg(V)),{x:q,y:V}}else if(_===s&&I===4){let q=t.fromBytes(O.subarray(0,t.BYTES)),j=t.fromBytes(O.subarray(t.BYTES,2*t.BYTES));return{x:q,y:j}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=A=>Ee.bytesToHex(Ee.numberToBytesBE(A,e.nByteLength));function m(A){let _=r>>Ue;return A>_}function f(A){return m(A)?a(-A):A}let b=(A,_,I)=>Ee.bytesToNumberBE(A.slice(_,I));class T{constructor(_,I,O){this.r=_,this.s=I,this.recovery=O,this.assertValidity()}static fromCompact(_){let I=e.nByteLength;return _=(0,qn.ensureBytes)("compactSignature",_,I*2),new T(b(_,0,I),b(_,I,2*I))}static fromDER(_){let{r:I,s:O}=lt.DER.toSig((0,qn.ensureBytes)("DER",_));return new T(I,O)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new T(this.r,this.s,_)}recoverPublicKey(_){let{r:I,s:O,recovery:q}=this,j=z((0,qn.ensureBytes)("msgHash",_));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");let V=q===2||q===3?I+e.n:I;if(V>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let G=(q&1)===0?"02":"03",$=l.fromHex(G+p(V)),X=c(V),se=a(-j*X),he=a(O*X),Te=l.BASE.multiplyAndAddUnsafe($,se,he);if(!Te)throw new Error("point at infinify");return Te.assertValidity(),Te}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ee.hexToBytes(this.toDERHex())}toDERHex(){return lt.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ee.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let w={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let A=so.getMinHashLength(e.n);return so.mapHashToField(e.randomBytes(A),e.n)},precompute(A=8,_=l.BASE){return _._setWindowSize(A),_.multiply(BigInt(3)),_}};function B(A,_=!0){return l.fromPrivateKey(A).toRawBytes(_)}function x(A){let _=Ee.isBytes(A),I=typeof A=="string",O=(_||I)&&A.length;return _?O===i||O===s:I?O===2*i||O===2*s:A instanceof l}function U(A,_,I=!0){if(x(A))throw new Error("first arg must be private key");if(!x(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(d(A)).toRawBytes(I)}let E=e.bits2int||function(A){let _=Ee.bytesToNumberBE(A),I=A.length*8-e.nBitLength;return I>0?_>>BigInt(I):_},z=e.bits2int_modN||function(A){return a(E(A))},P=Ee.bitMask(e.nBitLength);function F(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(yn<=A&&A<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ee.numberToBytesBE(A,e.nByteLength)}function L(A,_,I=M){if(["recovered","canonical"].some(ge=>ge in I))throw new Error("sign() legacy options not supported");let{hash:O,randomBytes:q}=e,{lowS:j,prehash:V,extraEntropy:G}=I;j==null&&(j=!0),A=(0,qn.ensureBytes)("msgHash",A),V&&(A=(0,qn.ensureBytes)("prehashed msgHash",O(A)));let $=z(A),X=d(_),se=[F(X),F($)];if(G!=null&&G!==!1){let ge=G===!0?q(t.BYTES):G;se.push((0,qn.ensureBytes)("extraEntropy",ge))}let he=Ee.concatBytes(...se),Te=$;function xe(ge){let Ke=E(ge);if(!g(Ke))return;let ze=c(Ke),ve=l.BASE.multiply(Ke).toAffine(),bt=a(ve.x);if(bt===yn)return;let mn=a(ze*a(Te+bt*X));if(mn===yn)return;let ni=(ve.x===bt?0:2)|Number(ve.y&Ue),La=mn;return j&&m(mn)&&(La=f(mn),ni^=1),new T(bt,La,ni)}return{seed:he,k2sig:xe}}let M={lowS:e.lowS,prehash:!1},ie={lowS:e.lowS,prehash:!1};function re(A,_,I=M){let{seed:O,k2sig:q}=L(A,_,I),j=e;return Ee.createHmacDrbg(j.hash.outputLen,j.nByteLength,j.hmac)(O,q)}l.BASE._setWindowSize(8);function C(A,_,I,O=ie){let q=A;if(_=(0,qn.ensureBytes)("msgHash",_),I=(0,qn.ensureBytes)("publicKey",I),"strict"in O)throw new Error("options.strict was renamed to lowS");let{lowS:j,prehash:V}=O,G,$;try{if(typeof q=="string"||Ee.isBytes(q))try{G=T.fromDER(q)}catch(ve){if(!(ve instanceof lt.DER.Err))throw ve;G=T.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){let{r:ve,s:bt}=q;G=new T(ve,bt)}else throw new Error("PARSE");$=l.fromHex(I)}catch(ve){if(ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&G.hasHighS())return!1;V&&(_=e.hash(_));let{r:X,s:se}=G,he=z(_),Te=c(se),xe=a(he*Te),ge=a(X*Te),Ke=l.BASE.multiplyAndAddUnsafe($,xe,ge)?.toAffine();return Ke?a(Ke.x)===X:!1}return{CURVE:e,getPublicKey:B,getSharedSecret:U,sign:re,verify:C,ProjectivePoint:l,Signature:T,utils:w}}function v0(n,e){let t=n.ORDER,r=yn;for(let m=t-Ue;m%jr===yn;m/=jr)r+=Ue;let i=r,s=jr<<i-Ue-Ue,o=s*jr,a=(t-Ue)/o,c=(a-Ue)/jr,l=o-Ue,d=s,u=n.pow(e,a),g=n.pow(e,(a+Ue)/jr),p=(m,f)=>{let b=u,T=n.pow(f,l),w=n.sqr(T);w=n.mul(w,f);let B=n.mul(m,w);B=n.pow(B,c),B=n.mul(B,T),T=n.mul(B,f),w=n.mul(B,m);let x=n.mul(w,T);B=n.pow(x,d);let U=n.eql(B,n.ONE);T=n.mul(w,g),B=n.mul(x,b),w=n.cmov(T,w,U),x=n.cmov(B,x,U);for(let E=i;E>Ue;E--){let z=E-jr;z=jr<<z-Ue;let P=n.pow(x,z),F=n.eql(P,n.ONE);T=n.mul(w,b),b=n.mul(b,b),P=n.mul(x,b),w=n.cmov(T,w,F),x=n.cmov(P,x,F)}return{isValid:U,value:w}};if(n.ORDER%S0===ru){let m=(n.ORDER-ru)/S0,f=n.sqrt(n.neg(e));p=(b,T)=>{let w=n.sqr(T),B=n.mul(b,T);w=n.mul(w,B);let x=n.pow(w,m);x=n.mul(x,B);let U=n.mul(x,f),E=n.mul(n.sqr(x),T),z=n.eql(E,b),P=n.cmov(U,x,z);return{isValid:z,value:P}}}return p}function sA(n,e){if(so.validateField(n),!n.isValid(e.A)||!n.isValid(e.B)||!n.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=v0(n,e.Z);if(!n.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,l,d,u;i=n.sqr(r),i=n.mul(i,e.Z),s=n.sqr(i),s=n.add(s,i),o=n.add(s,n.ONE),o=n.mul(o,e.B),a=n.cmov(e.Z,n.neg(s),!n.eql(s,n.ZERO)),a=n.mul(a,e.A),s=n.sqr(o),l=n.sqr(a),c=n.mul(l,e.A),s=n.add(s,c),s=n.mul(s,o),l=n.mul(l,a),c=n.mul(l,e.B),s=n.add(s,c),d=n.mul(i,o);let{isValid:g,value:p}=t(s,l);u=n.mul(i,r),u=n.mul(u,p),d=n.cmov(d,o,g),u=n.cmov(u,p,g);let m=n.isOdd(r)===n.isOdd(u);return u=n.cmov(n.neg(u),u,m),d=n.div(d,a),{x:d,y:u}}}});var z0=v(iu=>{"use strict";h();y();Object.defineProperty(iu,"__esModule",{value:!0});iu.getHash=I0;iu.createCurve=cA;var oA=jo(),U0=$t(),aA=Od();function I0(n){return{hash:n,hmac:(e,...t)=>(0,oA.hmac)(n,e,(0,U0.concatBytes)(...t)),randomBytes:U0.randomBytes}}function cA(n,e){let t=r=>(0,aA.weierstrass)({...n,...I0(r)});return Object.freeze({...t(e),create:t})}});var N0=v(ji=>{"use strict";h();y();Object.defineProperty(ji,"__esModule",{value:!0});ji.expand_message_xmd=P0;ji.expand_message_xof=O0;ji.hash_to_field=Nd;ji.isogenyMap=fA;ji.createHasher=hA;var uA=io(),tt=Ki(),lA=tt.bytesToNumberBE;function Lr(n,e){if(n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);let t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function dA(n,e){let t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function qd(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function P0(n,e,t,r){(0,tt.abytes)(n),(0,tt.abytes)(e),qd(t),e.length>255&&(e=r((0,tt.concatBytes)((0,tt.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=r,o=Math.ceil(t/i);if(o>255)throw new Error("Invalid xmd length");let a=(0,tt.concatBytes)(e,Lr(e.length,1)),c=Lr(0,s),l=Lr(t,2),d=new Array(o),u=r((0,tt.concatBytes)(c,n,l,Lr(0,1),a));d[0]=r((0,tt.concatBytes)(u,Lr(1,1),a));for(let p=1;p<=o;p++){let m=[dA(u,d[p-1]),Lr(p+1,1),a];d[p]=r((0,tt.concatBytes)(...m))}return(0,tt.concatBytes)(...d).slice(0,t)}function O0(n,e,t,r,i){if((0,tt.abytes)(n),(0,tt.abytes)(e),qd(t),e.length>255){let s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update((0,tt.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:t}).update(n).update(Lr(t,2)).update(e).update(Lr(e.length,1)).digest()}function Nd(n,e,t){(0,tt.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:i,m:s,hash:o,expand:a,DST:c}=t;(0,tt.abytes)(n),qd(e);let l=typeof c=="string"?(0,tt.utf8ToBytes)(c):c,d=r.toString(2).length,u=Math.ceil((d+i)/8),g=e*s*u,p;if(a==="xmd")p=P0(n,l,g,o);else if(a==="xof")p=O0(n,l,g,i,o);else if(a==="_internal_pass")p=n;else throw new Error('expand must be "xmd" or "xof"');let m=new Array(e);for(let f=0;f<e;f++){let b=new Array(s);for(let T=0;T<s;T++){let w=u*(T+f*s),B=p.subarray(w,w+u);b[T]=(0,uA.mod)(lA(B),r)}m[f]=b}return m}function fA(n,e){let t=e.map(r=>Array.from(r).reverse());return(r,i)=>{let[s,o,a,c]=t.map(l=>l.reduce((d,u)=>n.add(n.mul(d,r),u)));return r=n.div(s,o),i=n.mul(i,n.div(a,c)),{x:r,y:i}}}function hA(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){let s=Nd(r,2,{...t,DST:t.DST,...i}),o=n.fromAffine(e(s[0])),a=n.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){let s=Nd(r,1,{...t,DST:t.encodeDST,...i}),o=n.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(let s of r)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=n.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}}});var k0=v(It=>{"use strict";h();y();Object.defineProperty(It,"__esModule",{value:!0});It.encodeToCurve=It.hashToCurve=It.schnorr=It.secp256k1=void 0;var su=Da(),yA=$t(),gA=z0(),R0=N0(),Ve=io(),nt=Ki(),bA=Od(),uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ou=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),C0=BigInt(1),au=BigInt(2),q0=(n,e)=>(n+e/au)/e;function H0(n){let e=uu,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,d=l*l*n%e,u=(0,Ve.pow2)(d,t,e)*d%e,g=(0,Ve.pow2)(u,t,e)*d%e,p=(0,Ve.pow2)(g,au,e)*l%e,m=(0,Ve.pow2)(p,i,e)*p%e,f=(0,Ve.pow2)(m,s,e)*m%e,b=(0,Ve.pow2)(f,a,e)*f%e,T=(0,Ve.pow2)(b,c,e)*b%e,w=(0,Ve.pow2)(T,a,e)*f%e,B=(0,Ve.pow2)(w,t,e)*d%e,x=(0,Ve.pow2)(B,o,e)*m%e,U=(0,Ve.pow2)(x,r,e)*l%e,E=(0,Ve.pow2)(U,au,e);if(!Dr.eql(Dr.sqr(E),n))throw new Error("Cannot find square root");return E}var Dr=(0,Ve.Field)(uu,void 0,void 0,{sqrt:H0});It.secp256k1=(0,gA.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Dr,n:ou,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{let e=ou,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-C0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=q0(s*n,e),c=q0(-r*n,e),l=(0,Ve.mod)(n-a*t-c*i,e),d=(0,Ve.mod)(-a*r-c*s,e),u=l>o,g=d>o;if(u&&(l=e-l),g&&(d=e-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:u,k1:l,k2neg:g,k2:d}}}},su.sha256);var lu=BigInt(0),K0=n=>typeof n=="bigint"&&lu<n&&n<uu,pA=n=>typeof n=="bigint"&&lu<n&&n<ou,M0={};function cu(n,...e){let t=M0[n];if(t===void 0){let r=(0,su.sha256)(Uint8Array.from(n,i=>i.charCodeAt(0)));t=(0,nt.concatBytes)(r,r),M0[n]=t}return(0,su.sha256)((0,nt.concatBytes)(t,...e))}var Hd=n=>n.toRawBytes(!0).slice(1),Rd=n=>(0,nt.numberToBytesBE)(n,32),Md=n=>(0,Ve.mod)(n,uu),ga=n=>(0,Ve.mod)(n,ou),Kd=It.secp256k1.ProjectivePoint,wA=(n,e,t)=>Kd.BASE.multiplyAndAddUnsafe(n,e,t);function Cd(n){let e=It.secp256k1.utils.normPrivateKeyToScalar(n),t=Kd.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:ga(-e),bytes:Hd(t)}}function j0(n){if(!K0(n))throw new Error("bad x: need 0 < x < p");let e=Md(n*n),t=Md(e*n+BigInt(7)),r=H0(t);r%au!==lu&&(r=Md(-r));let i=new Kd(n,r,C0);return i.assertValidity(),i}function L0(...n){return ga((0,nt.bytesToNumberBE)(cu("BIP0340/challenge",...n)))}function mA(n){return Cd(n).bytes}function _A(n,e,t=(0,yA.randomBytes)(32)){let r=(0,nt.ensureBytes)("message",n),{bytes:i,scalar:s}=Cd(e),o=(0,nt.ensureBytes)("auxRand",t,32),a=Rd(s^(0,nt.bytesToNumberBE)(cu("BIP0340/aux",o))),c=cu("BIP0340/nonce",a,i,r),l=ga((0,nt.bytesToNumberBE)(c));if(l===lu)throw new Error("sign failed: k is zero");let{bytes:d,scalar:u}=Cd(l),g=L0(d,i,r),p=new Uint8Array(64);if(p.set(d,0),p.set(Rd(ga(u+g*s)),32),!D0(p,r,i))throw new Error("sign: Invalid signature produced");return p}function D0(n,e,t){let r=(0,nt.ensureBytes)("signature",n,64),i=(0,nt.ensureBytes)("message",e),s=(0,nt.ensureBytes)("publicKey",t,32);try{let o=j0((0,nt.bytesToNumberBE)(s)),a=(0,nt.bytesToNumberBE)(r.subarray(0,32));if(!K0(a))return!1;let c=(0,nt.bytesToNumberBE)(r.subarray(32,64));if(!pA(c))return!1;let l=L0(Rd(a),Hd(o),i),d=wA(o,c,ga(-l));return!(!d||!d.hasEvenY()||d.toAffine().x!==a)}catch{return!1}}It.schnorr=(()=>({getPublicKey:mA,sign:_A,verify:D0,utils:{randomPrivateKey:It.secp256k1.utils.randomPrivateKey,lift_x:j0,pointToBytes:Hd,numberToBytesBE:nt.numberToBytesBE,bytesToNumberBE:nt.bytesToNumberBE,taggedHash:cu,mod:Ve.mod}}))();var AA=(()=>(0,R0.isogenyMap)(Dr,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(n=>n.map(e=>BigInt(e)))))(),TA=(()=>(0,bA.mapToCurveSimpleSWU)(Dr,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Dr.create(BigInt("-11"))}))(),V0=(()=>(0,R0.createHasher)(It.secp256k1.ProjectivePoint,n=>{let{x:e,y:t}=TA(Dr.create(n[0]));return AA(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Dr.ORDER,m:1,k:128,expand:"xmd",hash:su.sha256}))();It.hashToCurve=(()=>V0.hashToCurve)();It.encodeToCurve=(()=>V0.encodeToCurve)()});var tg=v(K=>{"use strict";h();y();Object.defineProperty(K,"__esModule",{value:!0});K.bytes=K.stringToBytes=K.str=K.bytesToString=K.hex=K.utf8=K.bech32m=K.bech32=K.base58check=K.createBase58check=K.base58xmr=K.base58xrp=K.base58flickr=K.base58=K.base64urlnopad=K.base64url=K.base64nopad=K.base64=K.base32crockford=K.base32hexnopad=K.base32hex=K.base32nopad=K.base32=K.base16=K.utils=K.assertNumber=void 0;function Vr(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)}K.assertNumber=Vr;function pa(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function dt(...n){let e=s=>s,t=(s,o)=>a=>s(o(a)),r=n.map(s=>s.encode).reduceRight(t,e),i=n.map(s=>s.decode).reduce(t,e);return{encode:r,decode:i}}function zt(n){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(t=>{if(Vr(t),t<0||t>=n.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${n.length})`);return n[t]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(t=>{if(typeof t!="string")throw new Error(`alphabet.decode: not string element=${t}`);let r=n.indexOf(t);if(r===-1)throw new Error(`Unknown letter: "${t}". Allowed: ${n}`);return r})}}}function Pt(n=""){if(typeof n!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let t of e)if(typeof t!="string")throw new Error(`join.encode: non-string input=${t}`);return e.join(n)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(n)}}}function wa(n,e="="){if(Vr(n),typeof e!="string")throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;t.length*n%8;)t.push(e);return t},decode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of t)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=t.length;if(r*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if(!((r-1)*n%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function X0(n){if(typeof n!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>n(e)}}function jd(n,e,t){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let r=0,i=[],s=Array.from(n);for(s.forEach(o=>{if(Vr(o),o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let c=r;c<s.length;c++){let l=s[c],d=e*o+l;if(!Number.isSafeInteger(d)||e*o/e!==o||d-l!==e*o)throw new Error("convertRadix: carry overflow");o=d%t;let u=Math.floor(d/t);if(s[c]=u,!Number.isSafeInteger(u)||u*t+o!==d)throw new Error("convertRadix: carry overflow");if(a)u?a=!1:r=c;else continue}if(i.push(o),a)break}for(let o=0;o<n.length-1&&n[o]===0;o++)i.push(0);return i.reverse()}var Z0=(n,e)=>e?Z0(e,n%e):n,du=(n,e)=>n+(e-Z0(n,e));function fu(n,e,t,r){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(du(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${du(e,t)}`);let i=0,s=0,o=2**t-1,a=[];for(let c of n){if(Vr(c),c>=2**e)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)a.push((i>>s-t&o)>>>0);i&=2**s-1}if(i=i<<t-s&o,!r&&s>=e)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&a.push(i>>>0),a}function Y0(n){return Vr(n),{encode:e=>{if(!pa(e))throw new Error("radix.encode input should be Uint8Array");return jd(Array.from(e),2**8,n)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(jd(e,n,2**8))}}}function Dt(n,e=!1){if(Vr(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(du(8,n)>32||du(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!pa(t))throw new Error("radix2.encode input should be Uint8Array");return fu(Array.from(t),8,n,!e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(fu(t,n,8,e))}}}function F0(n){if(typeof n!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return n.apply(null,e)}catch{}}}function Q0(n,e){if(Vr(n),typeof e!="function")throw new Error("checksum fn should be function");return{encode(t){if(!pa(t))throw new Error("checksum.encode: input should be Uint8Array");let r=e(t).slice(0,n),i=new Uint8Array(t.length+n);return i.set(t),i.set(r,t.length),i},decode(t){if(!pa(t))throw new Error("checksum.decode: input should be Uint8Array");let r=t.slice(0,-n),i=e(r).slice(0,n),s=t.slice(-n);for(let o=0;o<n;o++)if(i[o]!==s[o])throw new Error("Invalid checksum");return r}}}K.utils={alphabet:zt,chain:dt,checksum:Q0,convertRadix:jd,convertRadix2:fu,radix:Y0,radix2:Dt,join:Pt,padding:wa};K.base16=dt(Dt(4),zt("0123456789ABCDEF"),Pt(""));K.base32=dt(Dt(5),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),wa(5),Pt(""));K.base32nopad=dt(Dt(5),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Pt(""));K.base32hex=dt(Dt(5),zt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),wa(5),Pt(""));K.base32hexnopad=dt(Dt(5),zt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Pt(""));K.base32crockford=dt(Dt(5),zt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Pt(""),X0(n=>n.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));K.base64=dt(Dt(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),wa(6),Pt(""));K.base64nopad=dt(Dt(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Pt(""));K.base64url=dt(Dt(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),wa(6),Pt(""));K.base64urlnopad=dt(Dt(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Pt(""));var Dd=n=>dt(Y0(58),zt(n),Pt(""));K.base58=Dd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");K.base58flickr=Dd("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");K.base58xrp=Dd("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");var $0=[0,2,3,5,6,7,9,10,11];K.base58xmr={encode(n){let e="";for(let t=0;t<n.length;t+=8){let r=n.subarray(t,t+8);e+=K.base58.encode(r).padStart($0[r.length],"1")}return e},decode(n){let e=[];for(let t=0;t<n.length;t+=11){let r=n.slice(t,t+11),i=$0.indexOf(r.length),s=K.base58.decode(r);for(let o=0;o<s.length-i;o++)if(s[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(e)}};var BA=n=>dt(Q0(4,e=>n(n(e))),K.base58);K.createBase58check=BA;K.base58check=K.createBase58check;var Ld=dt(zt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Pt("")),G0=[996825010,642813549,513874426,1027748829,705979059];function ba(n){let e=n>>25,t=(n&33554431)<<5;for(let r=0;r<G0.length;r++)(e>>r&1)===1&&(t^=G0[r]);return t}function W0(n,e,t=1){let r=n.length,i=1;for(let s=0;s<r;s++){let o=n.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${n})`);i=ba(i)^o>>5}i=ba(i);for(let s=0;s<r;s++)i=ba(i)^n.charCodeAt(s)&31;for(let s of e)i=ba(i)^s;for(let s=0;s<6;s++)i=ba(i);return i^=t,Ld.encode(fu([i%2**30],30,5,!1))}function J0(n){let e=n==="bech32"?1:734539939,t=Dt(5),r=t.decode,i=t.encode,s=F0(r);function o(d,u,g=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(u)||u.length&&typeof u[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof u}`);if(d.length===0)throw new TypeError(`Invalid prefix length ${d.length}`);let p=d.length+7+u.length;if(g!==!1&&p>g)throw new TypeError(`Length ${p} exceeds limit ${g}`);let m=d.toLowerCase(),f=W0(m,u,e);return`${m}1${Ld.encode(u)}${f}`}function a(d,u=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||u!==!1&&d.length>u)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${u})`);let g=d.toLowerCase();if(d!==g&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");let p=g.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');let m=g.slice(0,p),f=g.slice(p+1);if(f.length<6)throw new Error("Data must be at least 6 characters long");let b=Ld.decode(f).slice(0,-6),T=W0(m,b,e);if(!f.endsWith(T))throw new Error(`Invalid checksum in ${d}: expected "${T}"`);return{prefix:m,words:b}}let c=F0(a);function l(d){let{prefix:u,words:g}=a(d,!1);return{prefix:u,words:g,bytes:r(g)}}return{encode:o,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:i}}K.bech32=J0("bech32");K.bech32m=J0("bech32m");K.utf8={encode:n=>new TextDecoder().decode(n),decode:n=>new TextEncoder().encode(n)};K.hex=dt(Dt(4),zt("0123456789abcdef"),Pt(""),X0(n=>{if(typeof n!="string"||n.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof n} with length ${n.length}`);return n.toLowerCase()}));var hu={utf8:K.utf8,hex:K.hex,base16:K.base16,base32:K.base32,base64:K.base64,base64url:K.base64url,base58:K.base58,base58xmr:K.base58xmr},eg="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",EA=(n,e)=>{if(typeof n!="string"||!hu.hasOwnProperty(n))throw new TypeError(eg);if(!pa(e))throw new TypeError("bytesToString() expects Uint8Array");return hu[n].encode(e)};K.bytesToString=EA;K.str=K.bytesToString;var SA=(n,e)=>{if(!hu.hasOwnProperty(n))throw new TypeError(eg);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return hu[n].decode(e)};K.stringToBytes=SA;K.bytes=K.stringToBytes});var og=v(nr=>{"use strict";h();y();Object.defineProperty(nr,"__esModule",{value:!0});nr.HDKey=nr.HARDENED_OFFSET=void 0;var ng=jo(),xA=c0(),sg=Da(),rg=Va(),ma=kb(),Mn=$t(),er=k0(),vA=io(),UA=tg(),yu=er.secp256k1.ProjectivePoint,Vd=(0,UA.createBase58check)(sg.sha256);function ig(n){return BigInt(`0x${(0,Mn.bytesToHex)(n)}`)}function IA(n){return(0,Mn.hexToBytes)(n.toString(16).padStart(64,"0"))}var zA=(0,Mn.utf8ToBytes)("Bitcoin seed"),kd={private:76066276,public:76067358};nr.HARDENED_OFFSET=2147483648;var PA=n=>(0,xA.ripemd160)((0,sg.sha256)(n)),OA=n=>(0,Mn.createView)(n).getUint32(0,!1),gu=n=>{if(!Number.isSafeInteger(n)||n<0||n>2**32-1)throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);let e=new Uint8Array(4);return(0,Mn.createView)(e).setUint32(0,n,!1),e},tr=class{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return OA(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let e=this.privateKey;if(!e)throw new Error("No private key");return Vd.encode(this.serialize(this.versions.private,(0,Mn.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Vd.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=kd){if((0,ma.bytes)(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let r=(0,ng.hmac)(rg.sha512,zA,e);return new tr({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=kd){let r=Vd.decode(e),i=(0,Mn.createView)(r),s=i.getUint32(0,!1),o={versions:t,depth:r[4],parentFingerprint:i.getUint32(5,!1),index:i.getUint32(9,!1),chainCode:r.slice(13,45)},a=r.slice(45),c=a[0]===0;if(s!==t[c?"private":"public"])throw new Error("Version mismatch");return c?new tr({...o,privateKey:a.slice(1)}):new tr({...o,publicKey:a})}static fromJSON(e){return tr.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||kd,this.depth=e.depth||0,this.chainCode=e.chainCode||null,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!er.secp256k1.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:ig(e.privateKey),this.privKeyBytes=IA(this.privKey),this.pubKey=er.secp256k1.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=yu.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=PA(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;let t=e.replace(/^[mM]'?\//,"").split("/"),r=this;for(let i of t){let s=/^(\d+)('?)$/.exec(i),o=s&&s[1];if(!s||s.length!==3||typeof o!="string")throw new Error(`Invalid child index: ${i}`);let a=+o;if(!Number.isSafeInteger(a)||a>=nr.HARDENED_OFFSET)throw new Error("Invalid index");s[2]==="'"&&(a+=nr.HARDENED_OFFSET),r=r.deriveChild(a)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=gu(e);if(e>=nr.HARDENED_OFFSET){let a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");t=(0,Mn.concatBytes)(new Uint8Array([0]),a,t)}else t=(0,Mn.concatBytes)(this.pubKey,t);let r=(0,ng.hmac)(rg.sha512,this.chainCode,t),i=ig(r.slice(0,32)),s=r.slice(32);if(!er.secp256k1.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");let o={versions:this.versions,chainCode:s,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){let a=(0,vA.mod)(this.privKey+i,er.secp256k1.CURVE.n);if(!er.secp256k1.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=a}else{let a=yu.fromHex(this.pubKey).add(yu.fromPrivateKey(i));if(a.equals(yu.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=a.toRawBytes(!0)}return new tr(o)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,ma.bytes)(e,32),er.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if((0,ma.bytes)(e,32),(0,ma.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=er.secp256k1.Signature.fromCompact(t)}catch{return!1}return er.secp256k1.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,ma.bytes)(t,33),(0,Mn.concatBytes)(gu(e),new Uint8Array([this.depth]),gu(this.parentFingerprint),gu(this.index),this.chainCode,t)}};nr.HDKey=tr});var Fd=v(kr=>{"use strict";h();y();Object.defineProperty(kr,"__esModule",{value:!0});kr.Secp256k1Signature=kr.Secp256k1PrivateKey=kr.Secp256k1PublicKey=void 0;var cg=lr(),bu=i0(),NA=og(),qA=tn(),_a=ln(),ag=Cc(),MA=Ri(),RA=Ci(),ug=yd(),Rn=class extends MA.PublicKey{constructor(e){super();let t=_a.Hex.fromHexInput(e);if(t.toUint8Array().length!==Rn.LENGTH)throw new Error(`PublicKey length should be ${Rn.LENGTH}`);this.key=t}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof Cn))return!1;let i=(0,ug.convertSigningMessage)(t),s=_a.Hex.fromHexInput(i).toUint8Array(),o=(0,cg.sha3_256)(s),a=r.toUint8Array();return bu.secp256k1.verify(a,o,this.key.toUint8Array(),{lowS:!0})}toUint8Array(){return this.key.toUint8Array()}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new Rn(t)}static isPublicKey(e){return e instanceof Rn}};kr.Secp256k1PublicKey=Rn;Rn.LENGTH=65;var rn=class extends qA.Serializable{constructor(e){super();let t=_a.Hex.fromHexInput(e);if(t.toUint8Array().length!==rn.LENGTH)throw new Error(`PrivateKey length should be ${rn.LENGTH}`);this.key=t}static generate(){let e=bu.secp256k1.utils.randomPrivateKey();return new rn(e)}static fromDerivationPath(e,t){if(!(0,ag.isValidBIP44Path)(e))throw new Error(`Invalid derivation path ${e}`);return rn.fromDerivationPathInner(e,(0,ag.mnemonicToSeed)(t))}static fromDerivationPathInner(e,t){let{privateKey:r}=NA.HDKey.fromMasterSeed(t).derive(e);if(r===null)throw new Error("Invalid key");return new rn(r)}sign(e){let t=(0,ug.convertSigningMessage)(e),r=_a.Hex.fromHexInput(t),i=(0,cg.sha3_256)(r.toUint8Array()),s=bu.secp256k1.sign(i,this.key.toUint8Array(),{lowS:!0});return new Cn(s.toCompactRawBytes())}publicKey(){let e=bu.secp256k1.getPublicKey(this.key.toUint8Array(),!1);return new Rn(e)}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new rn(t)}static isPrivateKey(e){return e instanceof rn}};kr.Secp256k1PrivateKey=rn;rn.LENGTH=32;var Cn=class extends RA.Signature{constructor(e){super();let t=_a.Hex.fromHexInput(e);if(t.toUint8Array().length!==Cn.LENGTH)throw new Error(`Signature length should be ${Cn.LENGTH}, received ${t.toUint8Array().length}`);this.data=t}toUint8Array(){return this.data.toUint8Array()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let t=e.deserializeBytes();return new Cn(t)}};kr.Secp256k1Signature=Cn;Cn.LENGTH=64});var $d=v(co=>{"use strict";h();y();Object.defineProperty(co,"__esModule",{value:!0});co.AnySignature=co.AnyPublicKey=void 0;var rr=Le(),CA=Ys(),Aa=Hi(),HA=Ri(),Ta=Fd(),KA=Ci(),oo=class extends HA.AccountPublicKey{constructor(e){if(super(),this.publicKey=e,e instanceof Aa.Ed25519PublicKey)this.variant=rr.AnyPublicKeyVariant.Ed25519;else if(e instanceof Ta.Secp256k1PublicKey)this.variant=rr.AnyPublicKeyVariant.Secp256k1;else throw new Error("Unsupported public key type")}verifySignature(e){let{message:t,signature:r}=e;return r instanceof ao?this.publicKey.verifySignature({message:t,signature:r.signature}):!1}authKey(){return CA.AuthenticationKey.fromSchemeAndBytes({scheme:rr.SigningScheme.SingleKey,input:this.toUint8Array()})}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeU32AsUleb128(this.variant),this.publicKey.serialize(e)}static deserialize(e){let t=e.deserializeUleb128AsU32(),r;switch(t){case rr.AnyPublicKeyVariant.Ed25519:r=Aa.Ed25519PublicKey.deserialize(e);break;case rr.AnyPublicKeyVariant.Secp256k1:r=Ta.Secp256k1PublicKey.deserialize(e);break;default:throw new Error(`Unknown variant index for AnyPublicKey: ${t}`)}return new oo(r)}static isPublicKey(e){return e instanceof oo}isEd25519(){return this.publicKey instanceof Aa.Ed25519PublicKey}isSecp256k1PublicKey(){return this.publicKey instanceof Ta.Secp256k1PublicKey}};co.AnyPublicKey=oo;var ao=class extends KA.Signature{constructor(e){if(super(),this.signature=e,e instanceof Aa.Ed25519Signature)this.variant=rr.AnySignatureVariant.Ed25519;else if(e instanceof Ta.Secp256k1Signature)this.variant=rr.AnySignatureVariant.Secp256k1;else throw new Error("Unsupported signature type")}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeU32AsUleb128(this.variant),this.signature.serialize(e)}static deserialize(e){let t=e.deserializeUleb128AsU32(),r;switch(t){case rr.AnySignatureVariant.Ed25519:r=Aa.Ed25519Signature.deserialize(e);break;case rr.AnySignatureVariant.Secp256k1:r=Ta.Secp256k1Signature.deserialize(e);break;default:throw new Error(`Unknown variant index for AnySignature: ${t}`)}return new ao(r)}};co.AnySignature=ao});var Gd=v(uo=>{"use strict";h();y();Object.defineProperty(uo,"__esModule",{value:!0});uo.MultiKeySignature=uo.MultiKey=void 0;var jA=Le(),LA=Ys(),DA=Ri(),VA=Ci(),Fr=$d();function kA(n){let e=n;return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}var Ba=class extends DA.AccountPublicKey{constructor(e){super();let{publicKeys:t,signaturesRequired:r}=e;if(r<1)throw new Error("The number of required signatures needs to be greater than 0");if(t.length<r)throw new Error(`Provided ${t.length} public keys is smaller than the ${r} required signatures`);this.publicKeys=t.map(i=>i instanceof Fr.AnyPublicKey?i:new Fr.AnyPublicKey(i)),this.signaturesRequired=r}verifySignature(e){throw new Error("not implemented")}authKey(){return LA.AuthenticationKey.fromSchemeAndBytes({scheme:jA.SigningScheme.MultiKey,input:this.toUint8Array()})}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeVector(this.publicKeys),e.serializeU8(this.signaturesRequired)}static deserialize(e){let t=e.deserializeVector(Fr.AnyPublicKey),r=e.deserializeU8();return new Ba({publicKeys:t,signaturesRequired:r})}createBitmap(e){let{bits:t}=e,r=128,i=new Uint8Array([0,0,0,0]),s=new Set;return t.forEach((o,a)=>{if(a+1>this.publicKeys.length)throw new Error(`Signature index ${a+1} is out of public keys range, ${this.publicKeys.length}.`);if(s.has(o))throw new Error(`Duplicate bit ${o} detected.`);s.add(o);let c=Math.floor(o/8),l=i[c];l|=r>>o%8,i[c]=l}),i}getIndex(e){let t=e instanceof Fr.AnyPublicKey?e:new Fr.AnyPublicKey(e),r=this.publicKeys.findIndex(i=>i.toString()===t.toString());if(r!==-1)return r;throw new Error("Public key not found in MultiKey")}};uo.MultiKey=Ba;var ft=class extends VA.Signature{constructor(e){super();let{signatures:t,bitmap:r}=e;if(t.length>ft.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${ft.MAX_SIGNATURES_SUPPORTED}`);if(this.signatures=t.map(s=>s instanceof Fr.AnySignature?s:new Fr.AnySignature(s)),!(r instanceof Uint8Array))this.bitmap=ft.createBitmap({bits:r});else{if(r.length!==ft.BITMAP_LEN)throw new Error(`"bitmap" length should be ${ft.BITMAP_LEN}`);this.bitmap=r}let i=this.bitmap.reduce((s,o)=>s+kA(o),0);if(i!==this.signatures.length)throw new Error(`Expecting ${i} signatures from the bitmap, but got ${this.signatures.length}`)}static createBitmap(e){let{bits:t}=e,r=128,i=new Uint8Array([0,0,0,0]),s=new Set;return t.forEach(o=>{if(o>=ft.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${ft.MAX_SIGNATURES_SUPPORTED-1}.`);if(s.has(o))throw new Error("Duplicate bits detected.");s.add(o);let a=Math.floor(o/8),c=i[a];c|=r>>o%8,i[a]=c}),i}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeVector(this.signatures),e.serializeBytes(this.bitmap)}static deserialize(e){let t=e.deserializeVector(Fr.AnySignature),r=e.deserializeBytes();return new ft({signatures:t,bitmap:r})}};uo.MultiKeySignature=ft;ft.BITMAP_LEN=4;ft.MAX_SIGNATURES_SUPPORTED=ft.BITMAP_LEN*8});var dg=v(lg=>{"use strict";h();y();Object.defineProperty(lg,"__esModule",{value:!0})});var $r=v(ht=>{"use strict";h();y();var FA=ht&&ht.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ir=ht&&ht.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&FA(e,n,t)};Object.defineProperty(ht,"__esModule",{value:!0});ir(Hi(),ht);ir(Cc(),ht);ir(Dc(),ht);ir(Gd(),ht);ir(dg(),ht);ir(Ri(),ht);ir(Fd(),ht);ir(Ci(),ht);ir($d(),ht)});var $i=v(sn=>{"use strict";h();y();Object.defineProperty(sn,"__esModule",{value:!0});sn.AccountAuthenticatorMultiKey=sn.AccountAuthenticatorSingleKey=sn.AccountAuthenticatorMultiEd25519=sn.AccountAuthenticatorEd25519=sn.AccountAuthenticator=void 0;var $A=tn(),fg=$r(),hg=Hi(),yg=Dc(),gg=Gd(),Gr=Le(),Li=class extends $A.Serializable{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case Gr.AccountAuthenticatorVariant.Ed25519:return Di.load(e);case Gr.AccountAuthenticatorVariant.MultiEd25519:return Vi.load(e);case Gr.AccountAuthenticatorVariant.SingleKey:return ki.load(e);case Gr.AccountAuthenticatorVariant.MultiKey:return Fi.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}isEd25519(){return this instanceof Di}isMultiEd25519(){return this instanceof Vi}isSingleKey(){return this instanceof ki}isMultiKey(){return this instanceof Fi}};sn.AccountAuthenticator=Li;var Di=class extends Li{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(Gr.AccountAuthenticatorVariant.Ed25519),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=hg.Ed25519PublicKey.deserialize(e),r=hg.Ed25519Signature.deserialize(e);return new Di(t,r)}};sn.AccountAuthenticatorEd25519=Di;var Vi=class extends Li{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(Gr.AccountAuthenticatorVariant.MultiEd25519),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=yg.MultiEd25519PublicKey.deserialize(e),r=yg.MultiEd25519Signature.deserialize(e);return new Vi(t,r)}};sn.AccountAuthenticatorMultiEd25519=Vi;var ki=class extends Li{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(Gr.AccountAuthenticatorVariant.SingleKey),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=fg.AnyPublicKey.deserialize(e),r=fg.AnySignature.deserialize(e);return new ki(t,r)}};sn.AccountAuthenticatorSingleKey=ki;var Fi=class extends Li{constructor(e,t){super(),this.public_keys=e,this.signatures=t}serialize(e){e.serializeU32AsUleb128(Gr.AccountAuthenticatorVariant.MultiKey),this.public_keys.serialize(e),this.signatures.serialize(e)}static load(e){let t=gg.MultiKey.deserialize(e),r=gg.MultiKeySignature.deserialize(e);return new Fi(t,r)}};sn.AccountAuthenticatorMultiKey=Fi});var pu=v(Oe=>{"use strict";h();y();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ProcessorType=Oe.RAW_TRANSACTION_WITH_DATA_SALT=Oe.RAW_TRANSACTION_SALT=Oe.APTOS_COIN=Oe.DEFAULT_TXN_TIMEOUT_SEC=Oe.DEFAULT_TXN_EXP_SEC_FROM_NOW=Oe.DEFAULT_MAX_GAS_AMOUNT=Oe.AptosApiType=void 0;var GA;(function(n){n.FULLNODE="Fullnode",n.INDEXER="Indexer",n.FAUCET="Faucet"})(GA=Oe.AptosApiType||(Oe.AptosApiType={}));Oe.DEFAULT_MAX_GAS_AMOUNT=2e5;Oe.DEFAULT_TXN_EXP_SEC_FROM_NOW=20;Oe.DEFAULT_TXN_TIMEOUT_SEC=20;Oe.APTOS_COIN="0x1::aptos_coin::AptosCoin";Oe.RAW_TRANSACTION_SALT="APTOS::RawTransaction";Oe.RAW_TRANSACTION_WITH_DATA_SALT="APTOS::RawTransactionWithData";var WA;(function(n){n.ACCOUNT_TRANSACTION_PROCESSOR="account_transactions_processor",n.DEFAULT="default_processor",n.EVENTS_PROCESSOR="events_processor",n.FUNGIBLE_ASSET_PROCESSOR="fungible_asset_processor",n.STAKE_PROCESSOR="stake_processor",n.TOKEN_V2_PROCESSOR="token_v2_processor",n.USER_TRANSACTION_PROCESSOR="user_transaction_processor"})(WA=Oe.ProcessorType||(Oe.ProcessorType={}))});var Wd=v(wu=>{"use strict";h();y();Object.defineProperty(wu,"__esModule",{value:!0});wu.ChainId=void 0;var XA=Me(),Ea=class extends XA.Serializable{constructor(e){super(),this.chainId=e}serialize(e){e.serializeU8(this.chainId)}static deserialize(e){let t=e.deserializeU8();return new Ea(t)}};wu.ChainId=Ea});var lo=v(mu=>{"use strict";h();y();Object.defineProperty(mu,"__esModule",{value:!0});mu.Identifier=void 0;var ZA=Me(),Sa=class extends ZA.Serializable{constructor(e){super(),this.identifier=e}serialize(e){e.serializeStr(this.identifier)}static deserialize(e){let t=e.deserializeStr();return new Sa(t)}};mu.Identifier=Sa});var Vt=v(gn=>{"use strict";h();y();var YA=gn&&gn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xa=gn&&gn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YA(e,n,t)};Object.defineProperty(gn,"__esModule",{value:!0});xa(Mi(),gn);xa(Ys(),gn);xa(Tc(),gn);xa($r(),gn);xa(ln(),gn)});var Xd=v(_u=>{"use strict";h();y();Object.defineProperty(_u,"__esModule",{value:!0});_u.ModuleId=void 0;var QA=Me(),bg=Vt(),pg=lo(),fo=class extends QA.Serializable{constructor(e,t){super(),this.address=e,this.name=t}static fromStr(e){let t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new fo(bg.AccountAddress.fromString(t[0]),new pg.Identifier(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){let t=bg.AccountAddress.deserialize(e),r=pg.Identifier.deserialize(e);return new fo(t,r)}};_u.ModuleId=fo});var Ua=v(J=>{"use strict";h();y();Object.defineProperty(J,"__esModule",{value:!0});J.objectStructTag=J.optionStructTag=J.stringStructTag=J.aptosCoinStructTag=J.StructTag=J.TypeTagStruct=J.TypeTagVector=J.TypeTagGeneric=J.TypeTagReference=J.TypeTagSigner=J.TypeTagAddress=J.TypeTagU256=J.TypeTagU128=J.TypeTagU64=J.TypeTagU32=J.TypeTagU16=J.TypeTagU8=J.TypeTagBool=J.TypeTag=void 0;var wg=Me(),Wr=Vt(),Hn=lo(),we=Le(),He=class extends wg.Serializable{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case we.TypeTagVariants.Bool:return Gi.load(e);case we.TypeTagVariants.U8:return Xr.load(e);case we.TypeTagVariants.U64:return Zi.load(e);case we.TypeTagVariants.U128:return Yi.load(e);case we.TypeTagVariants.Address:return Ji.load(e);case we.TypeTagVariants.Signer:return es.load(e);case we.TypeTagVariants.Vector:return Zr.load(e);case we.TypeTagVariants.Struct:return ns.load(e);case we.TypeTagVariants.U16:return Wi.load(e);case we.TypeTagVariants.U32:return Xi.load(e);case we.TypeTagVariants.U256:return Qi.load(e);case we.TypeTagVariants.Generic:return ts.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}isBool(){return this instanceof Gi}isAddress(){return this instanceof Ji}isGeneric(){return this instanceof ts}isSigner(){return this instanceof es}isVector(){return this instanceof Zr}isStruct(){return this instanceof ns}isU8(){return this instanceof Xr}isU16(){return this instanceof Wi}isU32(){return this instanceof Xi}isU64(){return this instanceof Zi}isU128(){return this instanceof Yi}isU256(){return this instanceof Qi}};J.TypeTag=He;var Gi=class extends He{toString(){return"bool"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Bool)}static load(e){return new Gi}};J.TypeTagBool=Gi;var Xr=class extends He{toString(){return"u8"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U8)}static load(e){return new Xr}};J.TypeTagU8=Xr;var Wi=class extends He{toString(){return"u16"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U16)}static load(e){return new Wi}};J.TypeTagU16=Wi;var Xi=class extends He{toString(){return"u32"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U32)}static load(e){return new Xi}};J.TypeTagU32=Xi;var Zi=class extends He{toString(){return"u64"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U64)}static load(e){return new Zi}};J.TypeTagU64=Zi;var Yi=class extends He{toString(){return"u128"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U128)}static load(e){return new Yi}};J.TypeTagU128=Yi;var Qi=class extends He{toString(){return"u256"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.U256)}static load(e){return new Qi}};J.TypeTagU256=Qi;var Ji=class extends He{toString(){return"address"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Address)}static load(e){return new Ji}};J.TypeTagAddress=Ji;var es=class extends He{toString(){return"signer"}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Signer)}static load(e){return new es}};J.TypeTagSigner=es;var va=class extends He{toString(){return`&${this.value.toString()}`}constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Reference)}static load(e){let t=He.deserialize(e);return new va(t)}};J.TypeTagReference=va;var ts=class extends He{toString(){return`T${this.value}`}constructor(e){if(super(),this.value=e,e<0)throw new Error("Generic type parameter index cannot be negative")}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Generic),e.serializeU32(this.value)}static load(e){let t=e.deserializeU32();return new ts(t)}};J.TypeTagGeneric=ts;var Zr=class extends He{toString(){return`vector<${this.value.toString()}>`}constructor(e){super(),this.value=e}static u8(){return new Zr(new Xr)}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Vector),this.value.serialize(e)}static load(e){let t=He.deserialize(e);return new Zr(t)}};J.TypeTagVector=Zr;var ns=class extends He{toString(){let e="";return this.value.typeArgs.length>0&&(e=`<${this.value.typeArgs.map(t=>t.toString()).join(", ")}>`),`${this.value.address.toString()}::${this.value.moduleName.identifier}::${this.value.name.identifier}${e}`}constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(we.TypeTagVariants.Struct),this.value.serialize(e)}static load(e){let t=Kn.deserialize(e);return new ns(t)}isTypeTag(e,t,r){return this.value.moduleName.identifier===t&&this.value.name.identifier===r&&this.value.address.equals(e)}isString(){return this.isTypeTag(Wr.AccountAddress.ONE,"string","String")}isOption(){return this.isTypeTag(Wr.AccountAddress.ONE,"option","Option")}isObject(){return this.isTypeTag(Wr.AccountAddress.ONE,"object","Object")}};J.TypeTagStruct=ns;var Kn=class extends wg.Serializable{constructor(e,t,r,i){super(),this.address=e,this.moduleName=t,this.name=r,this.typeArgs=i}serialize(e){e.serialize(this.address),e.serialize(this.moduleName),e.serialize(this.name),e.serializeVector(this.typeArgs)}static deserialize(e){let t=Wr.AccountAddress.deserialize(e),r=Hn.Identifier.deserialize(e),i=Hn.Identifier.deserialize(e),s=e.deserializeVector(He);return new Kn(t,r,i,s)}};J.StructTag=Kn;function JA(){return new Kn(Wr.AccountAddress.ONE,new Hn.Identifier("aptos_coin"),new Hn.Identifier("AptosCoin"),[])}J.aptosCoinStructTag=JA;function eT(){return new Kn(Wr.AccountAddress.ONE,new Hn.Identifier("string"),new Hn.Identifier("String"),[])}J.stringStructTag=eT;function tT(n){return new Kn(Wr.AccountAddress.ONE,new Hn.Identifier("option"),new Hn.Identifier("Option"),[n])}J.optionStructTag=tT;function nT(n){return new Kn(Wr.AccountAddress.ONE,new Hn.Identifier("object"),new Hn.Identifier("Object"),[n])}J.objectStructTag=nT});var Zd=v(Ne=>{"use strict";h();y();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.MultiSigTransactionPayload=Ne.MultiSig=Ne.Script=Ne.EntryFunction=Ne.TransactionPayloadMultiSig=Ne.TransactionPayloadEntryFunction=Ne.TransactionPayloadScript=Ne.TransactionPayload=Ne.deserializeFromScriptArgument=void 0;var Ag=Me(),rT=Hl(),Yr=xc(),iT=jl(),Tg=Vt(),mg=lo(),_g=Xd(),yt=Le(),Bg=Ua();function Eg(n){let e=n.deserializeUleb128AsU32();switch(e){case yt.ScriptTransactionArgumentVariants.U8:return Yr.U8.deserialize(n);case yt.ScriptTransactionArgumentVariants.U64:return Yr.U64.deserialize(n);case yt.ScriptTransactionArgumentVariants.U128:return Yr.U128.deserialize(n);case yt.ScriptTransactionArgumentVariants.Address:return Tg.AccountAddress.deserialize(n);case yt.ScriptTransactionArgumentVariants.U8Vector:return iT.MoveVector.deserialize(n,Yr.U8);case yt.ScriptTransactionArgumentVariants.Bool:return Yr.Bool.deserialize(n);case yt.ScriptTransactionArgumentVariants.U16:return Yr.U16.deserialize(n);case yt.ScriptTransactionArgumentVariants.U32:return Yr.U32.deserialize(n);case yt.ScriptTransactionArgumentVariants.U256:return Yr.U256.deserialize(n);default:throw new Error(`Unknown variant index for ScriptTransactionArgument: ${e}`)}}Ne.deserializeFromScriptArgument=Eg;var ho=class extends Ag.Serializable{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case yt.TransactionPayloadVariants.Script:return yo.load(e);case yt.TransactionPayloadVariants.EntryFunction:return go.load(e);case yt.TransactionPayloadVariants.Multisig:return bo.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}};Ne.TransactionPayload=ho;var yo=class extends ho{constructor(e){super(),this.script=e}serialize(e){e.serializeU32AsUleb128(yt.TransactionPayloadVariants.Script),this.script.serialize(e)}static load(e){let t=po.deserialize(e);return new yo(t)}};Ne.TransactionPayloadScript=yo;var go=class extends ho{constructor(e){super(),this.entryFunction=e}serialize(e){e.serializeU32AsUleb128(yt.TransactionPayloadVariants.EntryFunction),this.entryFunction.serialize(e)}static load(e){let t=Qr.deserialize(e);return new go(t)}};Ne.TransactionPayloadEntryFunction=go;var bo=class extends ho{constructor(e){super(),this.multiSig=e}serialize(e){e.serializeU32AsUleb128(yt.TransactionPayloadVariants.Multisig),this.multiSig.serialize(e)}static load(e){let t=wo.deserialize(e);return new bo(t)}};Ne.TransactionPayloadMultiSig=bo;var Qr=class{constructor(e,t,r,i){this.module_name=e,this.function_name=t,this.type_args=r,this.args=i}static build(e,t,r,i){return new Qr(_g.ModuleId.fromStr(e),new mg.Identifier(t),r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{t.serializeForEntryFunction(e)})}static deserialize(e){let t=_g.ModuleId.deserialize(e),r=mg.Identifier.deserialize(e),i=e.deserializeVector(Bg.TypeTag),s=e.deserializeUleb128AsU32(),o=new Array;for(let a=0;a<s;a+=1){let c=e.deserializeUleb128AsU32(),l=rT.EntryFunctionBytes.deserialize(e,c);o.push(l)}return new Qr(t,r,i,o)}};Ne.EntryFunction=Qr;var po=class{constructor(e,t,r){this.bytecode=e,this.type_args=t,this.args=r}serialize(e){e.serializeBytes(this.bytecode),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{t.serializeForScriptFunction(e)})}static deserialize(e){let t=e.deserializeBytes(),r=e.deserializeVector(Bg.TypeTag),i=e.deserializeUleb128AsU32(),s=new Array;for(let o=0;o<i;o+=1){let a=Eg(e);s.push(a)}return new po(t,r,s)}};Ne.Script=po;var wo=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){let t=Tg.AccountAddress.deserialize(e),r=e.deserializeBool(),i;return r&&(i=mo.deserialize(e)),new wo(t,i)}};Ne.MultiSig=wo;var mo=class extends Ag.Serializable{constructor(e){super(),this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return e.deserializeUleb128AsU32(),new mo(Qr.deserialize(e))}};Ne.MultiSigTransactionPayload=mo});var za=v(jn=>{"use strict";h();y();Object.defineProperty(jn,"__esModule",{value:!0});jn.FeePayerRawTransaction=jn.MultiAgentRawTransaction=jn.RawTransactionWithData=jn.RawTransaction=void 0;var Sg=Me(),sT=Wd(),Au=Vt(),oT=Zd(),Tu=Le(),rs=class extends Sg.Serializable{constructor(e,t,r,i,s,o,a){super(),this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){let t=Au.AccountAddress.deserialize(e),r=e.deserializeU64(),i=oT.TransactionPayload.deserialize(e),s=e.deserializeU64(),o=e.deserializeU64(),a=e.deserializeU64(),c=sT.ChainId.deserialize(e);return new rs(t,r,i,s,o,a,c)}};jn.RawTransaction=rs;var Ia=class extends Sg.Serializable{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case Tu.TransactionVariants.MultiAgentTransaction:return _o.load(e);case Tu.TransactionVariants.FeePayerTransaction:return Ao.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}};jn.RawTransactionWithData=Ia;var _o=class extends Ia{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(Tu.TransactionVariants.MultiAgentTransaction),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses)}static load(e){let t=rs.deserialize(e),r=e.deserializeVector(Au.AccountAddress);return new _o(t,r)}};jn.MultiAgentRawTransaction=_o;var Ao=class extends Ia{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(Tu.TransactionVariants.FeePayerTransaction),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses),this.fee_payer_address.serialize(e)}static load(e){let t=rs.deserialize(e),r=e.deserializeVector(Au.AccountAddress),i=Au.AccountAddress.deserialize(e);return new Ao(t,r,i)}};jn.FeePayerRawTransaction=Ao});var Qd=v(Eu=>{"use strict";h();y();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.RotationProofChallenge=void 0;var aT=Me(),cT=Mi(),Bu=tn(),Yd=class extends aT.Serializable{constructor(e){super(),this.accountAddress=cT.AccountAddress.ONE,this.moduleName=new Bu.MoveString("account"),this.structName=new Bu.MoveString("RotationProofChallenge"),this.sequenceNumber=new Bu.U64(e.sequenceNumber),this.originator=e.originator,this.currentAuthKey=e.currentAuthKey,this.newPublicKey=Bu.MoveVector.U8(e.newPublicKey.toUint8Array())}serialize(e){e.serialize(this.accountAddress),e.serialize(this.moduleName),e.serialize(this.structName),e.serialize(this.sequenceNumber),e.serialize(this.originator),e.serialize(this.currentAuthKey),e.serialize(this.newPublicKey)}};Eu.RotationProofChallenge=Yd});var Su=v(Ot=>{"use strict";h();y();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.TransactionAuthenticatorSingleSender=Ot.TransactionAuthenticatorFeePayer=Ot.TransactionAuthenticatorMultiAgent=Ot.TransactionAuthenticatorMultiEd25519=Ot.TransactionAuthenticatorEd25519=Ot.TransactionAuthenticator=void 0;var To=$i(),uT=tn(),Jd=Vt(),xg=Hi(),vg=Dc(),Ln=Le(),Jr=class extends uT.Serializable{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case Ln.TransactionAuthenticatorVariant.Ed25519:return Bo.load(e);case Ln.TransactionAuthenticatorVariant.MultiEd25519:return Eo.load(e);case Ln.TransactionAuthenticatorVariant.MultiAgent:return So.load(e);case Ln.TransactionAuthenticatorVariant.FeePayer:return xo.load(e);case Ln.TransactionAuthenticatorVariant.SingleSender:return vo.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}};Ot.TransactionAuthenticator=Jr;var Bo=class extends Jr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(Ln.TransactionAuthenticatorVariant.Ed25519),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=xg.Ed25519PublicKey.deserialize(e),r=xg.Ed25519Signature.deserialize(e);return new Bo(t,r)}};Ot.TransactionAuthenticatorEd25519=Bo;var Eo=class extends Jr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(Ln.TransactionAuthenticatorVariant.MultiEd25519),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let t=vg.MultiEd25519PublicKey.deserialize(e),r=vg.MultiEd25519Signature.deserialize(e);return new Eo(t,r)}};Ot.TransactionAuthenticatorMultiEd25519=Eo;var So=class extends Jr{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(Ln.TransactionAuthenticatorVariant.MultiAgent),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers)}static load(e){let t=To.AccountAuthenticator.deserialize(e),r=e.deserializeVector(Jd.AccountAddress),i=e.deserializeVector(To.AccountAuthenticator);return new So(t,r,i)}};Ot.TransactionAuthenticatorMultiAgent=So;var xo=class extends Jr{constructor(e,t,r,i){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=i}serialize(e){e.serializeU32AsUleb128(Ln.TransactionAuthenticatorVariant.FeePayer),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){let t=To.AccountAuthenticator.deserialize(e),r=e.deserializeVector(Jd.AccountAddress),i=e.deserializeVector(To.AccountAuthenticator),s=Jd.AccountAddress.deserialize(e),o=To.AccountAuthenticator.deserialize(e),a={address:s,authenticator:o};return new xo(t,r,i,a)}};Ot.TransactionAuthenticatorFeePayer=xo;var vo=class extends Jr{constructor(e){super(),this.sender=e}serialize(e){e.serializeU32AsUleb128(Ln.TransactionAuthenticatorVariant.SingleSender),this.sender.serialize(e)}static load(e){let t=To.AccountAuthenticator.deserialize(e);return new vo(t)}};Ot.TransactionAuthenticatorSingleSender=vo});var ef=v(xu=>{"use strict";h();y();Object.defineProperty(xu,"__esModule",{value:!0});xu.SignedTransaction=void 0;var lT=Su(),dT=Me(),fT=za(),Pa=class extends dT.Serializable{constructor(e,t){super(),this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){let t=fT.RawTransaction.deserialize(e),r=lT.TransactionAuthenticator.deserialize(e);return new Pa(t,r)}};xu.SignedTransaction=Pa});var Ig=v(Ug=>{"use strict";h();y();Object.defineProperty(Ug,"__esModule",{value:!0})});var tf=v(vu=>{"use strict";h();y();Object.defineProperty(vu,"__esModule",{value:!0});vu.SimpleTransaction=void 0;var hT=Me(),yT=Vt(),gT=za(),Oa=class extends hT.Serializable{constructor(e,t){super(),this.rawTransaction=e,this.feePayerAddress=t}serialize(e){this.rawTransaction.serialize(e),this.feePayerAddress===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.feePayerAddress.serialize(e))}static deserialize(e){let t=gT.RawTransaction.deserialize(e),r=e.deserializeBool(),i;return r&&(i=yT.AccountAddress.deserialize(e)),new Oa(t,i)}};vu.SimpleTransaction=Oa});var nf=v(Uu=>{"use strict";h();y();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.MultiAgentTransaction=void 0;var bT=Me(),zg=Vt(),pT=za(),Na=class extends bT.Serializable{constructor(e,t,r){super(),this.rawTransaction=e,this.feePayerAddress=r,this.secondarySignerAddresses=t}serialize(e){this.rawTransaction.serialize(e),e.serializeVector(this.secondarySignerAddresses),this.feePayerAddress===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.feePayerAddress.serialize(e))}static deserialize(e){let t=pT.RawTransaction.deserialize(e),r=e.deserializeVector(zg.AccountAddress),i=e.deserializeBool(),s;return i&&(s=zg.AccountAddress.deserialize(e)),new Na(t,r,s)}};Uu.MultiAgentTransaction=Na});var Iu=v(rt=>{"use strict";h();y();var wT=rt&&rt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Dn=rt&&rt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wT(e,n,t)};Object.defineProperty(rt,"__esModule",{value:!0});Dn(Wd(),rt);Dn(lo(),rt);Dn(Xd(),rt);Dn(za(),rt);Dn(Qd(),rt);Dn(ef(),rt);Dn(Ig(),rt);Dn(Zd(),rt);Dn(tf(),rt);Dn(nf(),rt)});var zu=v(Vn=>{"use strict";h();y();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.generateSigningMessageForTransaction=Vn.generateSigningMessageForSerializable=Vn.generateSigningMessage=Vn.deriveTransactionType=void 0;var mT=lr(),rf=pu(),Pg=Iu();function Og(n){return n.feePayerAddress?new Pg.FeePayerRawTransaction(n.rawTransaction,n.secondarySignerAddresses??[],n.feePayerAddress):n.secondarySignerAddresses?new Pg.MultiAgentRawTransaction(n.rawTransaction,n.secondarySignerAddresses):n.rawTransaction}Vn.deriveTransactionType=Og;function qa(n,e){let t=mT.sha3_256.create();if(!e.startsWith("APTOS::"))throw new Error(`Domain separator needs to start with 'APTOS::'.  Provided - ${e}`);t.update(e);let r=t.digest(),i=n,s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}Vn.generateSigningMessage=qa;function _T(n){return qa(n.bcsToBytes(),`APTOS::${n.constructor.name}`)}Vn.generateSigningMessageForSerializable=_T;function AT(n){let e=Og(n);return n.feePayerAddress||n.secondarySignerAddresses?qa(e.bcsToBytes(),rf.RAW_TRANSACTION_WITH_DATA_SALT):qa(e.bcsToBytes(),rf.RAW_TRANSACTION_SALT)}Vn.generateSigningMessageForTransaction=AT});var sf=v(Pu=>{"use strict";h();y();Object.defineProperty(Pu,"__esModule",{value:!0});Pu.Ed25519Account=void 0;var Ng=$i(),TT=Le(),BT=Mi(),qg=$r(),ET=zu(),Uo=class{constructor(e){this.signingScheme=TT.SigningScheme.Ed25519;let{privateKey:t,address:r}=e;this.privateKey=t,this.publicKey=t.publicKey(),this.accountAddress=r?BT.AccountAddress.from(r):this.publicKey.authKey().derivedAddress()}static generate(){let e=qg.Ed25519PrivateKey.generate();return new Uo({privateKey:e})}static fromDerivationPath(e){let{path:t,mnemonic:r}=e,i=qg.Ed25519PrivateKey.fromDerivationPath(t,r);return new Uo({privateKey:i})}verifySignature(e){return this.publicKey.verifySignature(e)}signWithAuthenticator(e){return new Ng.AccountAuthenticatorEd25519(this.publicKey,this.privateKey.sign(e))}signTransactionWithAuthenticator(e){return new Ng.AccountAuthenticatorEd25519(this.publicKey,this.signTransaction(e))}sign(e){return this.privateKey.sign(e)}signTransaction(e){return this.sign((0,ET.generateSigningMessageForTransaction)(e))}};Pu.Ed25519Account=Uo});var of=v(Ou=>{"use strict";h();y();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.SingleKeyAccount=void 0;var Mg=$i(),is=Le(),ST=Mi(),Io=$r(),xT=zu(),zo=class{constructor(e){this.signingScheme=is.SigningScheme.SingleKey;let{privateKey:t,address:r}=e;this.privateKey=t,this.publicKey=new Io.AnyPublicKey(t.publicKey()),this.accountAddress=r?ST.AccountAddress.from(r):this.publicKey.authKey().derivedAddress()}static generate(e={}){let{scheme:t=is.SigningSchemeInput.Ed25519}=e,r;switch(t){case is.SigningSchemeInput.Ed25519:r=Io.Ed25519PrivateKey.generate();break;case is.SigningSchemeInput.Secp256k1Ecdsa:r=Io.Secp256k1PrivateKey.generate();break;default:throw new Error(`Unsupported signature scheme ${t}`)}return new zo({privateKey:r})}static fromDerivationPath(e){let{scheme:t=is.SigningSchemeInput.Ed25519,path:r,mnemonic:i}=e,s;switch(t){case is.SigningSchemeInput.Ed25519:s=Io.Ed25519PrivateKey.fromDerivationPath(r,i);break;case is.SigningSchemeInput.Secp256k1Ecdsa:s=Io.Secp256k1PrivateKey.fromDerivationPath(r,i);break;default:throw new Error(`Unsupported signature scheme ${t}`)}return new zo({privateKey:s})}verifySignature(e){return this.publicKey.verifySignature(e)}signWithAuthenticator(e){return new Mg.AccountAuthenticatorSingleKey(this.publicKey,this.sign(e))}signTransactionWithAuthenticator(e){return new Mg.AccountAuthenticatorSingleKey(this.publicKey,this.signTransaction(e))}sign(e){return new Io.AnySignature(this.privateKey.sign(e))}signTransaction(e){return this.sign((0,xT.generateSigningMessageForTransaction)(e))}};Ou.SingleKeyAccount=zo});var Rg=v(qu=>{"use strict";h();y();Object.defineProperty(qu,"__esModule",{value:!0});qu.Account=void 0;var Nu=Le(),vT=$r(),af=sf(),cf=of(),uf=class{static generate(e={}){let{scheme:t=Nu.SigningSchemeInput.Ed25519,legacy:r=!0}=e;return t===Nu.SigningSchemeInput.Ed25519&&r?af.Ed25519Account.generate():cf.SingleKeyAccount.generate({scheme:t})}static fromPrivateKey(e){let{privateKey:t,address:r,legacy:i=!0}=e;return t instanceof vT.Ed25519PrivateKey&&i?new af.Ed25519Account({privateKey:t,address:r}):new cf.SingleKeyAccount({privateKey:t,address:r})}static fromPrivateKeyAndAddress(e){return this.fromPrivateKey(e)}static fromDerivationPath(e){let{scheme:t=Nu.SigningSchemeInput.Ed25519,mnemonic:r,path:i,legacy:s=!0}=e;return t===Nu.SigningSchemeInput.Ed25519&&s?af.Ed25519Account.fromDerivationPath({mnemonic:r,path:i}):cf.SingleKeyAccount.fromDerivationPath({scheme:t,mnemonic:r,path:i})}static authKey(e){let{publicKey:t}=e;return t.authKey()}verifySignature(e){return this.publicKey.verifySignature(e)}};qu.Account=uf});var Hg=v(Mu=>{"use strict";h();y();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.MultiKeyAccount=void 0;var lf=$r(),UT=Le(),Cg=$i(),Po=class{constructor(e){let{multiKey:t,signers:r}=e;this.publicKey=t,this.signingScheme=UT.SigningScheme.MultiKey,this.accountAddress=this.publicKey.authKey().derivedAddress();let i=[];for(let o of r)i.push(this.publicKey.getIndex(o.publicKey));let s=r.map((o,a)=>[o,i[a]]);s.sort((o,a)=>o[1]-a[1]),this.signers=s.map(o=>o[0]),this.signerIndicies=s.map(o=>o[1]),this.signaturesBitmap=this.publicKey.createBitmap({bits:i})}static fromPublicKeysAndSigners(e){let{publicKeys:t,signaturesRequired:r,signers:i}=e,s=new lf.MultiKey({publicKeys:t,signaturesRequired:r});return new Po({multiKey:s,signers:i})}static isMultiKeySigner(e){return e instanceof Po}signWithAuthenticator(e){return new Cg.AccountAuthenticatorMultiKey(this.publicKey,this.sign(e))}signTransactionWithAuthenticator(e){return new Cg.AccountAuthenticatorMultiKey(this.publicKey,this.signTransaction(e))}sign(e){let t=[];for(let r of this.signers)t.push(r.sign(e));return new lf.MultiKeySignature({signatures:t,bitmap:this.signaturesBitmap})}signTransaction(e){let t=[];for(let r of this.signers)t.push(r.signTransaction(e));return new lf.MultiKeySignature({signatures:t,bitmap:this.signaturesBitmap})}verifySignature(e){let{message:t,signature:r}=e;if(!this.signerIndicies.every((s,o)=>o===0||s>=this.signerIndicies[o-1]))return!1;for(let s=0;s<r.signatures.length;s+=1){let o=r.signatures[s];if(!this.publicKey.publicKeys[this.signerIndicies[s]].verifySignature({message:t,signature:o}))return!1}return!0}};Mu.MultiKeyAccount=Po});var df=v(kn=>{"use strict";h();y();var IT=kn&&kn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ru=kn&&kn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&IT(e,n,t)};Object.defineProperty(kn,"__esModule",{value:!0});Ru(sf(),kn);Ru(Rg(),kn);Ru(of(),kn);Ru(Hg(),kn)});var Cu=v(sr=>{"use strict";h();y();Object.defineProperty(sr,"__esModule",{value:!0});sr.NetworkToNetworkName=sr.NetworkToChainId=sr.Network=void 0;var Oo;(function(n){n.MAINNET="mainnet",n.TESTNET="testnet",n.DEVNET="devnet",n.LOCAL="local",n.CUSTOM="custom"})(Oo=sr.Network||(sr.Network={}));sr.NetworkToChainId={mainnet:1,testnet:2};sr.NetworkToNetworkName={mainnet:Oo.MAINNET,testnet:Oo.TESTNET,devnet:Oo.DEVNET,local:Oo.LOCAL,custom:Oo.CUSTOM}});var Kg=v(Hu=>{"use strict";h();y();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.AptosConfig=void 0;var zT=Cu(),ff=class{constructor(e){this.network=e?.network??zT.Network.DEVNET,this.moveModule=e?.moveModule}};Hu.AptosConfig=ff});var hf=v(Ku=>{"use strict";h();y();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.normalizeBundle=void 0;var PT=tn();function OT(n,e){let t=e.bcsToBytes(),r=new PT.Deserializer(t);return n.deserialize(r)}Ku.normalizeBundle=OT});var yf=v(or=>{"use strict";h();y();Object.defineProperty(or,"__esModule",{value:!0});or.parseTypeTag=or.TypeTagParserError=or.TypeTagParserErrorType=void 0;var gt=Ua(),NT=Vt(),jg=lo();function Lg(n){return!!n.match(/^[_a-zA-Z0-9]+$/)}function Dg(n){return!!n.match(/\s/)}function qT(n){return!!n.match(/^T[0-9]+$/)}function MT(n,e){let t=e;for(;t<n.length;t+=1){let r=n[t];if(!Dg(r))break}return t}var Se;(function(n){n.InvalidTypeTag="unknown type",n.UnexpectedGenericType="unexpected generic type",n.UnexpectedTypeArgumentClose="unexpected '>'",n.UnexpectedWhitespaceCharacter="unexpected whitespace character",n.UnexpectedComma="unexpected ','",n.TypeArgumentCountMismatch="type argument count doesn't match expected amount",n.MissingTypeArgumentClose="no matching '>' for '<'",n.UnexpectedPrimitiveTypeArguments="primitive types not expected to have type arguments",n.UnexpectedVectorTypeArgumentCount="vector type expected to have exactly one type argument",n.UnexpectedStructFormat="unexpected struct format, must be of the form 0xaddress::module_name::struct_name",n.InvalidModuleNameCharacter="module name must only contain alphanumeric or '_' characters",n.InvalidStructNameCharacter="struct name must only contain alphanumeric or '_' characters"})(Se=or.TypeTagParserErrorType||(or.TypeTagParserErrorType={}));var me=class extends Error{constructor(e,t){super(`Failed to parse typeTag '${e}', ${t}`)}};or.TypeTagParserError=me;function RT(n,e){let t=e?.allowGenerics??!1,r=[],i=[],s=[],o=0,a="",c=1;for(;o<n.length;){let l=n[o];if(l==="<")r.push({savedExpectedTypes:c,savedStr:a,savedTypes:s}),a="",s=[],c=1;else if(l===">"){if(a!==""){let m=ju(a,i,t);s.push(m)}let d=r.pop();if(d===void 0)throw new me(n,Se.UnexpectedTypeArgumentClose);if(c!==s.length)throw new me(n,Se.TypeArgumentCountMismatch);let{savedStr:u,savedTypes:g,savedExpectedTypes:p}=d;i=s,s=g,a=u,c=p}else if(l===","){if(a.length!==0){let d=ju(a,i,t);i=[],s.push(d),a="",c+=1}}else if(Dg(l)){let d=!1;if(a.length!==0){let g=ju(a,i,t);i=[],s.push(g),a="",d=!0}o=MT(n,o);let u=n[o];if(o<n.length&&d&&u!==","&&u!==">")throw new me(n,Se.UnexpectedWhitespaceCharacter);continue}else a+=l;o+=1}if(r.length>0)throw new me(n,Se.MissingTypeArgumentClose);switch(s.length){case 0:return ju(a,i,t);case 1:if(a==="")return s[0];throw new me(n,Se.UnexpectedComma);default:throw new me(n,Se.UnexpectedWhitespaceCharacter)}}or.parseTypeTag=RT;function ju(n,e,t){switch(n){case"&signer":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagReference(new gt.TypeTagSigner);case"signer":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagSigner;case"bool":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagBool;case"address":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagAddress;case"u8":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU8;case"u16":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU16;case"u32":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU32;case"u64":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU64;case"u128":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU128;case"u256":if(e.length>0)throw new me(n,Se.UnexpectedPrimitiveTypeArguments);return new gt.TypeTagU256;case"vector":if(e.length!==1)throw new me(n,Se.UnexpectedVectorTypeArgumentCount);return new gt.TypeTagVector(e[0]);default:if(qT(n)){if(t)return new gt.TypeTagGeneric(Number(n.split("T")[1]));throw new me(n,Se.UnexpectedGenericType)}if(!n.match(/:/))throw new me(n,Se.InvalidTypeTag);let r=n.split("::");if(r.length!==3)throw new me(n,Se.UnexpectedStructFormat);if(!Lg(r[1]))throw new me(n,Se.InvalidModuleNameCharacter);if(!Lg(r[2]))throw new me(n,Se.InvalidStructNameCharacter);return new gt.TypeTagStruct(new gt.StructTag(NT.AccountAddress.fromString(r[0]),new jg.Identifier(r[1]),new jg.Identifier(r[2]),e))}}});var Lu=v(Y=>{"use strict";h();y();Object.defineProperty(Y,"__esModule",{value:!0});Y.getFunctionParts=Y.findFirstNonSignerArg=Y.throwTypeMismatch=Y.isScriptDataInput=Y.isBcsU256=Y.isBcsU128=Y.isBcsU64=Y.isBcsU32=Y.isBcsU16=Y.isBcsU8=Y.isBcsFixedBytes=Y.isBcsString=Y.isBcsAddress=Y.isBcsBool=Y.isEncodedEntryFunctionArgument=Y.isNull=Y.isLargeNumber=Y.isNumber=Y.isString=Y.isBool=void 0;var bn=tn(),CT=Vt();function HT(n){return typeof n=="boolean"}Y.isBool=HT;function KT(n){return typeof n=="string"}Y.isString=KT;function jT(n){return typeof n=="number"}Y.isNumber=jT;function LT(n){return typeof n=="number"||typeof n=="bigint"||typeof n=="string"}Y.isLargeNumber=LT;function DT(n){return n==null}Y.isNull=DT;function VT(n){return Vg(n)||Gg(n)||Wg(n)||Xg(n)||Zg(n)||Yg(n)||Qg(n)||kg(n)||Fg(n)||$g(n)||n instanceof bn.MoveVector||n instanceof bn.MoveOption}Y.isEncodedEntryFunctionArgument=VT;function Vg(n){return n instanceof bn.Bool}Y.isBcsBool=Vg;function kg(n){return n instanceof CT.AccountAddress}Y.isBcsAddress=kg;function Fg(n){return n instanceof bn.MoveString}Y.isBcsString=Fg;function $g(n){return n instanceof bn.FixedBytes}Y.isBcsFixedBytes=$g;function Gg(n){return n instanceof bn.U8}Y.isBcsU8=Gg;function Wg(n){return n instanceof bn.U16}Y.isBcsU16=Wg;function Xg(n){return n instanceof bn.U32}Y.isBcsU32=Xg;function Zg(n){return n instanceof bn.U64}Y.isBcsU64=Zg;function Yg(n){return n instanceof bn.U128}Y.isBcsU128=Yg;function Qg(n){return n instanceof bn.U256}Y.isBcsU256=Qg;function kT(n){return"bytecode"in n}Y.isScriptDataInput=kT;function FT(n,e){throw new Error(`Type mismatch for argument ${e}, expected '${n}'`)}Y.throwTypeMismatch=FT;function $T(n){let e=n.params.findIndex(t=>t!=="signer"&&t!=="&signer");return e<0?n.params.length:e}Y.findFirstNonSignerArg=$T;function GT(n){let e=n.split("::");if(e.length!==3)throw new Error(`Invalid function ${n}`);let t=e[0],r=e[1],i=e[2];return{moduleAddress:t,moduleName:r,functionName:i}}Y.getFunctionParts=GT});var bf=v(Fn=>{"use strict";h();y();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.checkOrConvertArgument=Fn.convertArgument=Fn.fetchEntryFunctionAbi=Fn.standardizeTypeTags=void 0;var eb=yf(),WT=Ua(),it=tn(),Jg=Vt(),W=Lu();function XT(n){return n?.map(e=>(0,W.isString)(e)?(0,eb.parseTypeTag)(e):e)??[]}Fn.standardizeTypeTags=XT;async function ZT(n,e,t,r){let s=JSON.parse(r?.moveModule)?.abi?.exposed_functions.find(c=>c.name===t);if(!s)throw new Error(`Could not find entry function ABI for '${n}::${e}::${t}'`);if(!s.is_entry)throw new Error(`'${n}::${e}::${t}' is not an entry function`);let o=(0,W.findFirstNonSignerArg)(s),a=[];for(let c=o;c<s.params.length;c+=1)a.push((0,eb.parseTypeTag)(s.params[c],{allowGenerics:!0}));return{typeParameters:s.generic_type_params,parameters:a}}Fn.fetchEntryFunctionAbi=ZT;function YT(n,e,t,r,i){if(r>=e.parameters.length)throw new Error(`Too many arguments for '${n}', expected ${e.parameters.length}`);let s=e.parameters[r];return Ma(t,s,r,i)}Fn.convertArgument=YT;function Ma(n,e,t,r){return(0,W.isEncodedEntryFunctionArgument)(n)?(gf(e,n,t),n):QT(n,e,t,r)}Fn.checkOrConvertArgument=Ma;function QT(n,e,t,r){if(e.isBool()){if((0,W.isBool)(n))return new it.Bool(n);(0,W.throwTypeMismatch)("boolean",t)}if(e.isAddress()){if((0,W.isString)(n))return Jg.AccountAddress.fromString(n);(0,W.throwTypeMismatch)("string | AccountAddress",t)}if(e.isU8()){if((0,W.isNumber)(n))return new it.U8(n);(0,W.throwTypeMismatch)("number",t)}if(e.isU16()){if((0,W.isNumber)(n))return new it.U16(n);(0,W.throwTypeMismatch)("number",t)}if(e.isU32()){if((0,W.isNumber)(n))return new it.U32(n);(0,W.throwTypeMismatch)("number",t)}if(e.isU64()){if((0,W.isLargeNumber)(n))return new it.U64(BigInt(n));(0,W.throwTypeMismatch)("bigint | number | string",t)}if(e.isU128()){if((0,W.isLargeNumber)(n))return new it.U128(BigInt(n));(0,W.throwTypeMismatch)("bigint | number | string",t)}if(e.isU256()){if((0,W.isLargeNumber)(n))return new it.U256(BigInt(n));(0,W.throwTypeMismatch)("bigint | number | string",t)}if(e.isGeneric()){let i=e.value;if(i<0||i>=r.length)throw new Error(`Generic argument ${e.toString()} is invalid for argument ${t}`);return Ma(n,r[i],t,r)}if(e.isVector()){if(e.value.isU8()){if((0,W.isString)(n)){let i=new TextEncoder;return it.MoveVector.U8(i.encode(n))}if(n instanceof Uint8Array)return it.MoveVector.U8(n);if(n instanceof ArrayBuffer)return it.MoveVector.U8(new Uint8Array(n))}if(Array.isArray(n))return new it.MoveVector(n.map(i=>Ma(i,e.value,t,r)));throw new Error(`Type mismatch for argument ${t}, type '${e.toString()}'`)}if(e.isStruct()){if(e.isString()){if((0,W.isString)(n))return new it.MoveString(n);(0,W.throwTypeMismatch)("string",t)}if(e.isObject()){if((0,W.isString)(n))return Jg.AccountAddress.fromString(n);(0,W.throwTypeMismatch)("string | AccountAddress",t)}if(e.isOption())return(0,W.isNull)(n)?new it.MoveOption(null):new it.MoveOption(Ma(n,e.value.typeArgs[0],t,r));throw new Error(`Unsupported struct input type for argument ${t}, type '${e.toString()}'`)}throw new Error(`Type mismatch for argument ${t}, type '${e.toString()}'`)}function gf(n,e,t){if(n.isBool()){if((0,W.isBcsBool)(e))return;(0,W.throwTypeMismatch)("Bool",t)}if(n.isAddress()){if((0,W.isBcsAddress)(e))return;(0,W.throwTypeMismatch)("AccountAddress",t)}if(n.isU8()){if((0,W.isBcsU8)(e))return;(0,W.throwTypeMismatch)("U8",t)}if(n.isU16()){if((0,W.isBcsU16)(e))return;(0,W.throwTypeMismatch)("U16",t)}if(n.isU32()){if((0,W.isBcsU32)(e))return;(0,W.throwTypeMismatch)("U32",t)}if(n.isU64()){if((0,W.isBcsU64)(e))return;(0,W.throwTypeMismatch)("U64",t)}if(n.isU128()){if((0,W.isBcsU128)(e))return;(0,W.throwTypeMismatch)("U128",t)}if(n.isU256()){if((0,W.isBcsU256)(e))return;(0,W.throwTypeMismatch)("U256",t)}if(n.isVector()){if(e instanceof it.MoveVector){e.values.length>0&&gf(n.value,e.values[0],t);return}(0,W.throwTypeMismatch)("MoveVector",t)}if(n instanceof WT.TypeTagStruct){if(n.isString()){if((0,W.isBcsString)(e))return;(0,W.throwTypeMismatch)("MoveString",t)}if(n.isObject()){if((0,W.isBcsAddress)(e))return;(0,W.throwTypeMismatch)("AccountAddress",t)}if(n.isOption()){if(e instanceof it.MoveOption){e.value!==void 0&&gf(n.value.typeArgs[0],e.value,t);return}(0,W.throwTypeMismatch)("MoveOption",t)}}throw new Error(`Type mismatch for argument ${t}, expected '${n.toString()}'`)}});var tb=v(qo=>{"use strict";h();y();Object.defineProperty(qo,"__esModule",{value:!0});qo.memoize=qo.memoizeAsync=void 0;var No=new Map;function JT(n,e,t){return async(...r)=>{if(No.has(e)){let{value:s,timestamp:o}=No.get(e);if(t===void 0||Date.now()-o<=t)return s}let i=await n(...r);return No.set(e,{value:i,timestamp:Date.now()}),i}}qo.memoizeAsync=JT;function eB(n,e,t){return(...r)=>{if(No.has(e)){let{value:s,timestamp:o}=No.get(e);if(t===void 0||Date.now()-o<=t)return s}let i=n(...r);return No.set(e,{value:i,timestamp:Date.now()}),i}}qo.memoize=eB});var _f=v(qe=>{"use strict";h();y();Object.defineProperty(qe,"__esModule",{value:!0});qe.generateUserTransactionHash=qe.hashValues=qe.generateSignedTransaction=qe.getAuthenticatorForSimulation=qe.generateSignedTransactionForSimulation=qe.buildTransaction=qe.generateRawTransaction=qe.generateTransactionPayloadWithABI=qe.generateTransactionPayload=void 0;var tB=lr(),ss=Vt(),Ra=$r(),Du=Hi(),nb=pu(),nB=hf(),os=$i(),ei=Su(),pn=Iu(),Vu=ef(),pf=bf(),rB=tb(),wf=Lu(),iB=tf(),sB=nf();async function oB(n){if((0,wf.isScriptDataInput)(n))return aB(n);let{moduleAddress:e,moduleName:t,functionName:r}=(0,wf.getFunctionParts)(n.function),i=await fB({key:"entry-function",moduleAddress:e,moduleName:t,functionName:r,aptosConfig:n.aptosConfig,abi:n.abi,fetch:pf.fetchEntryFunctionAbi});return rb({...n,abi:i})}qe.generateTransactionPayload=oB;function rb(n){let e=n.abi,{moduleAddress:t,moduleName:r,functionName:i}=(0,wf.getFunctionParts)(n.function),s=(0,pf.standardizeTypeTags)(n.typeArguments);if(s.length!==e.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${e.typeParameters.length}, received ${s.length}`);let o=n.functionArguments.map((c,l)=>(0,pf.convertArgument)(n.function,e,c,l,s));if(o.length!==e.parameters.length)throw new Error(`Too few arguments for '${t}::${r}::${i}', expected ${e.parameters.length} but got ${o.length}`);let a=pn.EntryFunction.build(`${t}::${r}`,i,s,o);if("multisigAddress"in n){let c=ss.AccountAddress.from(n.multisigAddress);return new pn.TransactionPayloadMultiSig(new pn.MultiSig(c,new pn.MultiSigTransactionPayload(a)))}return new pn.TransactionPayloadEntryFunction(a)}qe.generateTransactionPayloadWithABI=rb;function aB(n){return new pn.TransactionPayloadScript(new pn.Script(ss.Hex.fromHexInput(n.bytecode).toUint8Array(),n.typeArguments??[],n.functionArguments))}async function ib(n){let{aptosConfig:e,sender:t,payload:r,options:i,feePayerAddress:s}=n,o;o=i?.accountSequenceNumber;let a;a=i?.gasUnitPrice;let c;c=i?.chainId;let{maxGasAmount:l,gasUnitPrice:d,expireTimestamp:u,chainId:g}={maxGasAmount:i?.maxGasAmount?BigInt(i.maxGasAmount):BigInt(nb.DEFAULT_MAX_GAS_AMOUNT),gasUnitPrice:BigInt(i?.gasUnitPrice),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+nb.DEFAULT_TXN_EXP_SEC_FROM_NOW),...i};return new pn.RawTransaction(ss.AccountAddress.from(t),BigInt(o),r,BigInt(l),BigInt(d),BigInt(u),new pn.ChainId(g))}qe.generateRawTransaction=ib;async function cB(n){let{aptosConfig:e,sender:t,payload:r,options:i,feePayerAddress:s}=n,o=await ib({aptosConfig:e,sender:t,payload:r,options:i,feePayerAddress:s});if("secondarySignerAddresses"in n){let a=n.secondarySignerAddresses?.map(c=>ss.AccountAddress.from(c))??[];return new sB.MultiAgentTransaction(o,a,n.feePayerAddress?ss.AccountAddress.from(n.feePayerAddress):void 0)}return new iB.SimpleTransaction(o,n.feePayerAddress?ss.AccountAddress.from(n.feePayerAddress):void 0)}qe.buildTransaction=cB;function uB(n){let{signerPublicKey:e,transaction:t,secondarySignersPublicKeys:r,feePayerPublicKey:i}=n,s=Ca(e);if(t.feePayerAddress){let a=new pn.FeePayerRawTransaction(t.rawTransaction,t.secondarySignerAddresses??[],t.feePayerAddress),c=[];r&&(c=r.map(u=>Ca(u)));let l=Ca(i),d=new ei.TransactionAuthenticatorFeePayer(s,t.secondarySignerAddresses??[],c,{address:t.feePayerAddress,authenticator:l});return new Vu.SignedTransaction(a.raw_txn,d).bcsToBytes()}if(t.secondarySignerAddresses){let a=new pn.MultiAgentRawTransaction(t.rawTransaction,t.secondarySignerAddresses),c=[];c=r.map(d=>Ca(d));let l=new ei.TransactionAuthenticatorMultiAgent(s,t.secondarySignerAddresses,c);return new Vu.SignedTransaction(a.raw_txn,l).bcsToBytes()}let o;if(s instanceof os.AccountAuthenticatorEd25519)o=new ei.TransactionAuthenticatorEd25519(s.public_key,s.signature);else if(s instanceof os.AccountAuthenticatorSingleKey)o=new ei.TransactionAuthenticatorSingleSender(s);else throw new Error("Invalid public key");return new Vu.SignedTransaction(t.rawTransaction,o).bcsToBytes()}qe.generateSignedTransactionForSimulation=uB;function Ca(n){if(n instanceof Ra.AnyPublicKey){if(n.publicKey instanceof Du.Ed25519PublicKey)return new os.AccountAuthenticatorSingleKey(n,new Ra.AnySignature(new Du.Ed25519Signature(new Uint8Array(64))));if(n.publicKey instanceof Ra.Secp256k1PublicKey)return new os.AccountAuthenticatorSingleKey(n,new Ra.AnySignature(new Ra.Secp256k1Signature(new Uint8Array(64))))}return new os.AccountAuthenticatorEd25519(new Du.Ed25519PublicKey(n.toUint8Array()),new Du.Ed25519Signature(new Uint8Array(64)))}qe.getAuthenticatorForSimulation=Ca;function sb(n){let{transaction:e,feePayerAuthenticator:t,additionalSignersAuthenticators:r}=n,i=(0,nB.normalizeBundle)(os.AccountAuthenticator,n.senderAuthenticator),s;if(e.feePayerAddress){if(!t)throw new Error("Must provide a feePayerAuthenticator argument to generate a signed fee payer transaction");s=new ei.TransactionAuthenticatorFeePayer(i,e.secondarySignerAddresses??[],r??[],{address:e.feePayerAddress,authenticator:t})}else if(e.secondarySignerAddresses){if(!r)throw new Error("Must provide a additionalSignersAuthenticators argument to generate a signed multi agent transaction");s=new ei.TransactionAuthenticatorMultiAgent(i,e.secondarySignerAddresses,r)}else i instanceof os.AccountAuthenticatorEd25519?s=new ei.TransactionAuthenticatorEd25519(i.public_key,i.signature):s=new ei.TransactionAuthenticatorSingleSender(i);return new Vu.SignedTransaction(e.rawTransaction,s).bcsToBytes()}qe.generateSignedTransaction=sb;function mf(n){let e=tB.sha3_256.create();for(let t of n)e.update(t);return e.digest()}qe.hashValues=mf;var lB=mf(["APTOS::Transaction"]);function dB(n){let e=sb(n);return new ss.Hex(mf([lB,new Uint8Array([0]),e])).toString()}qe.generateUserTransactionHash=dB;async function fB({key:n,moduleAddress:e,moduleName:t,functionName:r,aptosConfig:i,abi:s,fetch:o}){return s!==void 0?s:(0,rB.memoizeAsync)(async()=>o(e,t,r,i),`${n}-${i.network}-${e}-${t}-${r}`,1e3*60*5)()}});var ab=v(ti=>{"use strict";h();y();var hB=ti&&ti.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ob=ti&&ti.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&hB(e,n,t)};Object.defineProperty(ti,"__esModule",{value:!0});ob($i(),ti);ob(Su(),ti)});var cb=v($n=>{"use strict";h();y();var yB=$n&&$n.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ku=$n&&$n.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&yB(e,n,t)};Object.defineProperty($n,"__esModule",{value:!0});ku(Lu(),$n);ku(_f(),$n);ku(bf(),$n);ku(zu(),$n)});var lb=v(ub=>{"use strict";h();y();Object.defineProperty(ub,"__esModule",{value:!0})});var Fu=v(on=>{"use strict";h();y();var gB=on&&on.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Mo=on&&on.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gB(e,n,t)};Object.defineProperty(on,"__esModule",{value:!0});Mo(ab(),on);Mo(Iu(),on);Mo(cb(),on);Mo(Ua(),on);Mo(yf(),on);Mo(lb(),on)});var cs=v(Ie=>{"use strict";h();y();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.rotateAuthKey=Ie.publicPackageTransaction=Ie.signAndSubmitTransaction=Ie.submitTransaction=Ie.simulateTransaction=Ie.signTransaction=Ie.getSigningMessage=Ie.buildRawTransaction=Ie.buildTransactionPayload=Ie.generateTransaction=void 0;var ar=tn(),bB=df(),Af=Mi(),pB=Qd(),as=_f(),Gn=Fu();async function Tf(n){let e=await db(n);return fb(n,e)}Ie.generateTransaction=Tf;async function db(n){let{aptosConfig:e,data:t}=n,r,i;return"bytecode"in t?i=await(0,as.generateTransactionPayload)(t):"multisigAddress"in t?(r={aptosConfig:e,multisigAddress:t.multisigAddress,function:t.function,functionArguments:t.functionArguments,typeArguments:t.typeArguments,abi:t.abi},i=await(0,as.generateTransactionPayload)(r)):(r={aptosConfig:e,function:t.function,functionArguments:t.functionArguments,typeArguments:t.typeArguments,abi:t.abi},i=await(0,as.generateTransactionPayload)(r)),i}Ie.buildTransactionPayload=db;async function fb(n,e){let{aptosConfig:t,sender:r,options:i}=n,s;if(wB(n)&&(s=Af.AccountAddress.ZERO.toString()),mB(n)){let{secondarySignerAddresses:o}=n;return(0,as.buildTransaction)({aptosConfig:t,sender:r,payload:e,options:i,secondarySignerAddresses:o,feePayerAddress:s})}return(0,as.buildTransaction)({aptosConfig:t,sender:r,payload:e,options:i,feePayerAddress:s})}Ie.buildRawTransaction=fb;function wB(n){return n.withFeePayer===!0}function mB(n){return"secondarySignerAddresses"in n}function _B(n){let{transaction:e}=n;return(0,Gn.generateSigningMessageForTransaction)(e)}Ie.getSigningMessage=_B;function hb(n){let{signer:e,transaction:t}=n;return e.signTransactionWithAuthenticator(t)}Ie.signTransaction=hb;async function AB(n){let{aptosConfig:e,transaction:t,signerPublicKey:r,secondarySignersPublicKeys:i,feePayerPublicKey:s,options:o}=n;return(0,as.generateSignedTransactionForSimulation)({transaction:t,signerPublicKey:r,secondarySignersPublicKeys:i,feePayerPublicKey:s,options:o})}Ie.simulateTransaction=AB;async function yb(n){return(0,as.generateSignedTransaction)({...n})}Ie.submitTransaction=yb;async function gb(n){let{aptosConfig:e,signer:t,transaction:r}=n,i=hb({signer:t,transaction:r});return yb({aptosConfig:e,transaction:r,senderAuthenticator:i})}Ie.signAndSubmitTransaction=gb;var TB={typeParameters:[],parameters:[Gn.TypeTagVector.u8(),new Gn.TypeTagVector(Gn.TypeTagVector.u8())]};async function BB(n){let{aptosConfig:e,account:t,metadataBytes:r,moduleBytecode:i,options:s}=n,o=i.map(a=>ar.MoveVector.U8(a));return Tf({aptosConfig:e,sender:Af.AccountAddress.from(t),data:{function:"0x1::code::publish_package_txn",functionArguments:[ar.MoveVector.U8(r),new ar.MoveVector(o)],abi:TB},options:s})}Ie.publicPackageTransaction=BB;var EB={typeParameters:[],parameters:[new Gn.TypeTagU8,Gn.TypeTagVector.u8(),new Gn.TypeTagU8,Gn.TypeTagVector.u8(),Gn.TypeTagVector.u8(),Gn.TypeTagVector.u8()]};async function SB(n){let{aptosConfig:e,fromAccount:t,toNewPrivateKey:r,sequenceNumber:i,authenticationKey:s}=n,o=bB.Account.fromPrivateKey({privateKey:r,legacy:!0}),c=new pB.RotationProofChallenge({sequenceNumber:BigInt(i),originator:t.accountAddress,currentAuthKey:Af.AccountAddress.from(s),newPublicKey:o.publicKey}).bcsToBytes(),l=t.sign(c),d=o.sign(c),u=await Tf({aptosConfig:e,sender:t.accountAddress,data:{function:"0x1::account::rotate_authentication_key",functionArguments:[new ar.U8(t.signingScheme),ar.MoveVector.U8(t.publicKey.toUint8Array()),new ar.U8(o.signingScheme),ar.MoveVector.U8(o.publicKey.toUint8Array()),ar.MoveVector.U8(l.toUint8Array()),ar.MoveVector.U8(d.toUint8Array())],abi:EB}});return gb({aptosConfig:e,signer:t,transaction:u})}Ie.rotateAuthKey=SB});var pb=v($u=>{"use strict";h();y();Object.defineProperty($u,"__esModule",{value:!0});$u.Build=void 0;var bb=cs(),Bf=class{constructor(e){this.config=e}async simple(e){return(0,bb.generateTransaction)({aptosConfig:this.config,...e})}async multiAgent(e){return(0,bb.generateTransaction)({aptosConfig:this.config,...e})}};$u.Build=Bf});var Ef=v(Ro=>{"use strict";h();y();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.ValidateFeePayerDataOnSimulation=Ro.ValidateFeePayerDataOnSubmission=void 0;function xB(n,e,t){let r=t.value;return t.value=async function(...i){let[s]=i;if(s.transaction.feePayerAddress&&!s.feePayerAuthenticator)throw new Error("You are submitting a Fee Payer transaction but missing the feePayerAuthenticator");return r.apply(this,i)},t}Ro.ValidateFeePayerDataOnSubmission=xB;function vB(n,e,t){let r=t.value;return t.value=async function(...i){let[s]=i;if(s.transaction.feePayerAddress&&!s.feePayerPublicKey)throw new Error("You are simulating a Fee Payer transaction but missing the feePayerPublicKey");return r.apply(this,i)},t}Ro.ValidateFeePayerDataOnSimulation=vB});var Ab=v(Co=>{"use strict";h();y();var mb=Co&&Co.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Co,"__esModule",{value:!0});Co.Simulate=void 0;var wb=cs(),_b=Ef(),Ha=class{constructor(e){this.config=e}async simple(e){return(0,wb.simulateTransaction)({aptosConfig:this.config,...e})}async multiAgent(e){return(0,wb.simulateTransaction)({aptosConfig:this.config,...e})}};mb([_b.ValidateFeePayerDataOnSimulation],Ha.prototype,"simple",null);mb([_b.ValidateFeePayerDataOnSimulation],Ha.prototype,"multiAgent",null);Co.Simulate=Ha});var Sb=v(Ho=>{"use strict";h();y();var Bb=Ho&&Ho.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Submit=void 0;var Tb=cs(),Eb=Ef(),Ka=class{constructor(e){this.config=e}async simple(e){return(0,Tb.submitTransaction)({aptosConfig:this.config,...e})}async multiAgent(e){return(0,Tb.submitTransaction)({aptosConfig:this.config,...e})}};Bb([Eb.ValidateFeePayerDataOnSubmission],Ka.prototype,"simple",null);Bb([Eb.ValidateFeePayerDataOnSubmission],Ka.prototype,"multiAgent",null);Ho.Submit=Ka});var xb=v(Gu=>{"use strict";h();y();Object.defineProperty(Gu,"__esModule",{value:!0});Gu.Transaction=void 0;var Ko=cs(),UB=pb(),IB=Ab(),zB=Sb(),Sf=class{constructor(e){this.config=e,this.build=new UB.Build(this.config),this.simulate=new IB.Simulate(this.config),this.submit=new zB.Submit(this.config)}getSigningMessage(e){return(0,Ko.getSigningMessage)(e)}async publishPackageTransaction(e){return(0,Ko.publicPackageTransaction)({aptosConfig:this.config,...e})}async rotateAuthKey(e){return(0,Ko.rotateAuthKey)({aptosConfig:this.config,...e})}sign(e){return(0,Ko.signTransaction)({...e})}signAsFeePayer(e){let{signer:t,transaction:r}=e;if(!r.feePayerAddress)throw new Error(`Transaction ${r} is not a Fee Payer transaction`);return r.feePayerAddress=t.accountAddress,(0,Ko.signTransaction)({signer:t,transaction:r})}async signAndSubmitTransaction(e){let{signer:t,transaction:r}=e;return(0,Ko.signAndSubmitTransaction)({aptosConfig:this.config,signer:t,transaction:r})}};Gu.Transaction=Sf});var vb=v(Wu=>{"use strict";h();y();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.transferFungibleAsset=void 0;var xf=Fu(),PB=cs(),OB={typeParameters:[{constraints:[]}],parameters:[(0,xf.parseTypeTag)("0x1::object::Object"),new xf.TypeTagAddress,new xf.TypeTagU64]};async function NB(n){let{aptosConfig:e,sender:t,fungibleAssetMetadataAddress:r,recipient:i,amount:s,options:o}=n;return(0,PB.generateTransaction)({aptosConfig:e,sender:t.accountAddress,data:{function:"0x1::primary_fungible_store::transfer",typeArguments:["0x1::fungible_asset::Metadata"],functionArguments:[r,i,s],abi:OB},options:o})}Wu.transferFungibleAsset=NB});var Ub=v(Xu=>{"use strict";h();y();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.FungibleAsset=void 0;var qB=vb(),vf=class{constructor(e){this.config=e}async transferFungibleAsset(e){return(0,qB.transferFungibleAsset)({aptosConfig:this.config,...e})}};Xu.FungibleAsset=vf});var Ib=v(cr=>{"use strict";h();y();var MB=cr&&cr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Uf=cr&&cr.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&MB(e,n,t)};Object.defineProperty(cr,"__esModule",{value:!0});Uf(Kg(),cr);Uf(xb(),cr);Uf(Ub(),cr)});var zb=v(ur=>{"use strict";h();y();var RB=ur&&ur.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),If=ur&&ur.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&RB(e,n,t)};Object.defineProperty(ur,"__esModule",{value:!0});If(Cu(),ur);If(pu(),ur);If(hf(),ur)});var Pb=v(kt=>{"use strict";h();y();var CB=kt&&kt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),us=kt&&kt.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&CB(e,n,t)};Object.defineProperty(kt,"__esModule",{value:!0});us(df(),kt);us(Ib(),kt);us(tn(),kt);us(Vt(),kt);us(Fu(),kt);us(Le(),kt);us(zb(),kt)});var qb=v(Wn=>{"use strict";h();y();var HB=Wn&&Wn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),KB=Wn&&Wn.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jB=Wn&&Wn.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&HB(e,n,t);return KB(e,n),e};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.AptosWallet=void 0;var Nt=Vb(),Ft=Kf(),k=Mb(),zf=jB(Ol()),st=Pb(),Zu=Cu(),LB=cs(),Ob=vr(),Nb=En(),Pf=class extends Nt.BaseWallet{async getDerivedPath(e){return`m/44'/637'/${e.index}'/0'/0'`}async getRandomPrivateKey(){try{return Promise.resolve("0x"+(0,Nt.ed25519_getRandomPrivateKey)(!1,"hex"))}catch{return Promise.reject(Nt.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await(0,Nt.ed25519_getDerivedPrivateKey)(e,!1,"hex");return Promise.resolve("0x"+t)}catch{return Promise.reject(Nt.GenPrivateKeyError)}}checkPrivateKey(e){if(!Ft.base.validateHexString(e))return!1;let t=Ft.base.fromHex(e.toLowerCase());return t.length==32||t.length==64}GetTransactionHash(e){let t=Ft.base.fromHex(e),r=Ft.base.sha3_256(S.Buffer.from("APTOS::Transaction")),i=S.Buffer.concat([S.Buffer.from(r),S.Buffer.of(0),S.Buffer.from(t)]),s=Ft.base.sha3_256(i);return Ft.base.toHex(s,!0)}getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(Nt.NewAddressError);let t=k.AptosAccount.fromPrivateKey(k.HexString.ensure(e.privateKey)),r=t.address().hex();e.addressType&&e.addressType==="short"&&(r=t.address().toShortString());let i={address:r||"",publicKey:t.pubKey().hex()};return Promise.resolve(i)}catch{return Promise.reject(Nt.NewAddressError)}}validPrivateKey(e){let r={isValid:this.checkPrivateKey(e.privateKey),privateKey:e.privateKey};return Promise.resolve(r)}signTransaction(e){try{let t=k.AptosAccount.fromPrivateKey(k.HexString.ensure(e.privateKey)),r=e.data,i=t.address();r.base.sender&&(i=k.HexString.ensure(r.base.sender));let s=k.HexString.ensure(e.privateKey).toString(),o=new st.Ed25519PrivateKey(s.slice(2,66)),a=st.Account.fromPrivateKey({privateKey:o}),c=a.accountAddress,l=r.type,d;switch(l){case"transfer":{let u=r.base,g=r.data,p=(0,k.transferPayload)(g.recipientAddress,BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"tokenTransfer":{let u=r.base,g=r.data,p=(0,k.transferCoin)(g.tyArg,g.recipientAddress,BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"tokenMint":{let u=r.base,g=r.data,p=(0,k.mintCoin)(g.tyArg,g.recipientAddress,BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"tokenBurn":{let u=r.base,g=r.data,p=(0,k.burnCoin)(g.tyArg,BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"tokenRegister":{let u=r.base,g=r.data,p=(0,k.registerCoin)(g.tyArg),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"dapp":{let u=r.base,g=r.data;if(g.type==2){let p=new Nb.Deserializer(Ft.base.fromHex(g.data)),m=Ob.TransactionPayload.deserialize(p),f=(0,k.createRawTransaction)(i,m,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,f)}else{let p=(0,k.createRawTransactionByABI)(i,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs),g.data,g.abi);d=(0,k.generateBCSTransaction)(t,p)}break}case"simulate":{let u=r.base,g=r.data;if(g.type==2){let p=new Nb.Deserializer(Ft.base.fromHex(g.data)),m=Ob.TransactionPayload.deserialize(p),f=(0,k.createRawTransaction)(i,m,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSSimulateTransaction)(t,f)}else{let p=(0,k.createRawTransactionByABI)(i,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs),g.data,g.abi);d=(0,k.generateBCSSimulateTransaction)(t,p)}break}case"offerNftObject":{let u=r.base,g=r.data,p=(0,k.offerNFTTokenPayloadObject)(k.HexString.ensure(g.nftObject),k.HexString.ensure(g.receiver),BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"offerNft":{let u=r.base,g=r.data,p=(0,k.offerNFTTokenPayload)(k.HexString.ensure(g.receiver),k.HexString.ensure(g.creator),g.collectionName,g.tokenName,BigInt(g.version),BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"claimNft":{let u=r.base,g=r.data,p=(0,k.claimNFTTokenPayload)(k.HexString.ensure(g.sender),k.HexString.ensure(g.creator),g.collectionName,g.tokenName,BigInt(g.version)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSTransaction)(t,m);break}case"offerNft_simulate":{let u=r.base,g=r.data,p=(0,k.offerNFTTokenPayload)(k.HexString.ensure(g.receiver),k.HexString.ensure(g.creator),g.collectionName,g.tokenName,BigInt(g.version),BigInt(g.amount)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSSimulateTransaction)(t,m);break}case"claimNft_simulate":{let u=r.base,g=r.data,p=(0,k.claimNFTTokenPayload)(k.HexString.ensure(g.sender),k.HexString.ensure(g.creator),g.collectionName,g.tokenName,BigInt(g.version)),m=(0,k.createRawTransaction)(i,p,BigInt(u.sequenceNumber),u.chainId,BigInt(u.maxGasAmount),BigInt(u.gasUnitPrice),BigInt(u.expirationTimestampSecs));d=(0,k.generateBCSSimulateTransaction)(t,m);break}case"simple_transaction":{let u=r.base,g=r.data,p=u.chainId==1?Zu.Network.MAINNET:Zu.Network.TESTNET,m='{"abi":{"address":"0x1","name":"aptos_account","friends":["0x1::genesis","0x1::resource_account"],"exposed_functions":[{"name":"assert_account_exists","visibility":"public","is_entry":false,"is_view":false,"generic_type_params":[],"params":["address"],"return":[]},{"name":"assert_account_is_registered_for_apt","visibility":"public","is_entry":false,"is_view":false,"generic_type_params":[],"params":["address"],"return":[]},{"name":"batch_transfer","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[],"params":["&signer","vector<address>","vector<u64>"],"return":[]},{"name":"batch_transfer_coins","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[{"constraints":[]}],"params":["&signer","vector<address>","vector<u64>"],"return":[]},{"name":"can_receive_direct_coin_transfers","visibility":"public","is_entry":false,"is_view":true,"generic_type_params":[],"params":["address"],"return":["bool"]},{"name":"create_account","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[],"params":["address"],"return":[]},{"name":"deposit_coins","visibility":"public","is_entry":false,"is_view":false,"generic_type_params":[{"constraints":[]}],"params":["address","0x1::coin::Coin<T0>"],"return":[]},{"name":"set_allow_direct_coin_transfers","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[],"params":["&signer","bool"],"return":[]},{"name":"transfer","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[],"params":["&signer","address","u64"],"return":[]},{"name":"transfer_coins","visibility":"public","is_entry":true,"is_view":false,"generic_type_params":[{"constraints":[]}],"params":["&signer","address","u64"],"return":[]}],"structs":[{"name":"DirectCoinTransferConfigUpdatedEvent","is_native":false,"abilities":["drop","store"],"generic_type_params":[],"fields":[{"name":"new_allow_direct_transfers","type":"bool"}]},{"name":"DirectTransferConfig","is_native":false,"abilities":["key"],"generic_type_params":[],"fields":[{"name":"allow_arbitrary_coin_transfers","type":"bool"},{"name":"update_coin_transfer_events","type":"0x1::event::EventHandle<0x1::aptos_account::DirectCoinTransferConfigUpdatedEvent>"}]}]}}',f=g.moveModule==null?m:g.moveModule,b=new st.AptosConfig({network:p,moveModule:f}),T=new st.Transaction(b);if(g.signAsFeePayer){let x=g.rawTransaction,U=new st.Deserializer(Ft.base.fromHex(x)),E=st.RawTransaction.deserialize(U),z=new st.SimpleTransaction(E,st.AccountAddress.ZERO),P=T.signAsFeePayer({signer:a,transaction:z}),F={rawTransaction:z.rawTransaction.bcsToHex().toString(),sponsorSignature:P.bcsToHex().toString()};return Promise.resolve(F)}let w=g.functionArguments===void 0?[g.recipientAddress,g.amount]:g.functionArguments;return T.build.simple({sender:c,withFeePayer:g.withFeePayer,data:{function:g.function,typeArguments:g.tyArg,functionArguments:w},options:{maxGasAmount:Number(u.maxGasAmount),gasUnitPrice:Number(u.gasUnitPrice),expireTimestamp:Number(u.expirationTimestampSecs),chainId:Number(u.chainId),accountSequenceNumber:Number(u.sequenceNumber)}}).then(x=>{let U=T.sign({signer:a,transaction:x});return{rawTransaction:x.rawTransaction.bcsToHex().toString(),senderSignature:U.bcsToHex().toString()}})}case"fungible_asset_transfer":{let u=r.base,g=r.data,p=new st.AptosConfig({network:Zu.Network.MAINNET}),m=new st.FungibleAsset(p),f=g.fungibleAssetMetadataAddress,b=BigInt(g.amount);return m.transferFungibleAsset({sender:a,fungibleAssetMetadataAddress:st.AccountAddress.from(f),recipient:g.recipientAddress,amount:b,options:{maxGasAmount:Number(u.maxGasAmount),gasUnitPrice:Number(u.gasUnitPrice),expireTimestamp:Number(u.expirationTimestampSecs),chainId:Number(u.chainId),accountSequenceNumber:Number(u.sequenceNumber)}}).then(w=>{let B=(0,LB.signTransaction)({signer:a,transaction:w}),x=(0,st.generateSignedTransaction)({transaction:w,senderAuthenticator:B});return Ft.base.toHex(x)})}case"simulate_fungible_asset_transfer":{let u=r.base,g=r.data,p=new st.AptosConfig({network:Zu.Network.MAINNET}),m=new st.FungibleAsset(p),f=g.fungibleAssetMetadataAddress,b=BigInt(g.amount);return m.transferFungibleAsset({sender:a,fungibleAssetMetadataAddress:st.AccountAddress.from(f),recipient:g.recipientAddress,amount:b,options:{maxGasAmount:Number(u.maxGasAmount),gasUnitPrice:Number(u.gasUnitPrice),expireTimestamp:Number(u.expirationTimestampSecs),chainId:Number(u.chainId),accountSequenceNumber:Number(u.sequenceNumber)}}).then(w=>{let B=(0,st.generateSignedTransactionForSimulation)({transaction:w,signerPublicKey:a.publicKey});return Ft.base.toHex(B)})}default:return Promise.reject(Nt.SignTxError)}return Promise.resolve(Ft.base.toHex(d))}catch{return Promise.reject(Nt.SignTxError)}}validAddress(e){let t;try{e.address.match(/^0x[0-9A-Fa-f]{62,64}$/)||e.address.match(/^[0-9A-Fa-f]{64}$/)?t=!0:t=!1}catch{t=!1}let r={isValid:t,address:e.address};return Promise.resolve(r)}async signMessage(e){try{let t=e.data,r=await zf.signMessage(t,e.privateKey);return r.startsWith("0x")&&(r=r.substring(2)),Promise.resolve(r)}catch{return Promise.reject(Nt.SignTxError)}}async signMessageByPayload(e){try{let t=e.data,r="APTOS",i,s,o,a=r;t?.address&&(i=new k.AptosAccount(Ft.base.fromHex(e.privateKey)).address().hex(),a=a.concat(`
address: `,i)),t?.application&&(s=t.dAppDomain==null?"":t.dAppDomain,a=a.concat(`
application: `,s)),t.chainId&&(o=t.chain_id==null?0:t.chain_id,a=a.concat(`
chainId: `,o.toString())),a=a.concat(`
message: `,t.message),a=a.concat(`
nonce: `,t.nonce);let c=await zf.signMessage(a,e.privateKey);c.startsWith("0x")&&(c=c.substring(2));let l={address:i,application:s,chainId:o,fullMessage:a,message:t.message,nonce:t.nonce,prefix:r,signature:c};return Promise.resolve(l)}catch{return Promise.reject(Nt.SignMsgError)}}async calcTxHash(e){try{return Promise.resolve(this.GetTransactionHash(e.data))}catch{return Promise.reject(Nt.CalcTxHashError)}}async validSignedTransaction(e){try{let t=e.data?e.data.skipCheckSign:void 0,r=zf.validSignedTransaction(e.tx,t||!1);return Promise.resolve((0,Nt.jsonStringifyUniform)(r))}catch{return Promise.reject(Nt.validSignedTransactionError)}}};Wn.AptosWallet=Pf});var Mb=v(wn=>{h();y();var DB=wn&&wn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ja=wn&&wn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DB(e,n,t)};Object.defineProperty(wn,"__esModule",{value:!0});ja(Ol(),wn);ja(Xn(),wn);ja(El(),wn);ja(zl(),wn);ja(qb(),wn)});export{Mb as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-TA3NODVO.js.map
