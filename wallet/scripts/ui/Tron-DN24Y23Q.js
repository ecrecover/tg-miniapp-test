import{a as at}from"./chunk-PSJFSVFM.js";import{a as st}from"./chunk-MYKMM3H4.js";import{b as it}from"./chunk-MJHT4R7T.js";import"./chunk-NTDPB2D3.js";import"./chunk-5N5OIY46.js";import"./chunk-Z223YH2S.js";import"./chunk-KZUQM6PE.js";import{a as et}from"./chunk-3G5IAADG.js";import"./chunk-7H2LDC2I.js";import{a as rt}from"./chunk-5WLVDQXN.js";import"./chunk-Q7EMQCH4.js";import"./chunk-TAIMVZA3.js";import"./chunk-XHGDRCKN.js";import"./chunk-MJY6W4GC.js";import"./chunk-5KKHZTOM.js";import{a as M}from"./chunk-EKXTRWYR.js";import{c as R}from"./chunk-OR3IMHNP.js";import"./chunk-G2LUKHAZ.js";import{a as h}from"./chunk-FC47KHHQ.js";import"./chunk-ERRJFVON.js";import"./chunk-AGNEMUCC.js";import{c as L,d as w,e as ot,g as S}from"./chunk-SFY37WOS.js";import"./chunk-7GRBMPLB.js";import"./chunk-H2MP374E.js";import{e as k}from"./chunk-JFCE4WMN.js";import"./chunk-2CQDB45Y.js";import{b as tt}from"./chunk-TCY2QN26.js";import"./chunk-TAMFXRQS.js";import"./chunk-SWNKITDG.js";import"./chunk-PCT6WF3F.js";import"./chunk-7G3IOU2S.js";import"./chunk-FSSAJWUE.js";import"./chunk-EYUJFPID.js";import"./chunk-QXSGLFJ4.js";import"./chunk-LTVFH3JK.js";import"./chunk-UX45LV4J.js";import"./chunk-S2L2SUZT.js";import"./chunk-WAOH7NV4.js";import{e as J}from"./chunk-Z7MVEL6Q.js";import"./chunk-EQQ4TY26.js";import"./chunk-BSJ5U7SB.js";import"./chunk-RQ4URFJV.js";import"./chunk-A7QDOMG2.js";import"./chunk-PCN4TJH3.js";import"./chunk-UV4CBWDM.js";import"./chunk-JZYFGUUR.js";import"./chunk-55MBPFME.js";import"./chunk-ITV6J4J2.js";import"./chunk-E4R5GU2A.js";import"./chunk-AIM6OMBW.js";import{b as z}from"./chunk-6JC2JFPK.js";import"./chunk-3OA7XW3I.js";import"./chunk-QAD7XKBR.js";import"./chunk-FSHQROIB.js";import"./chunk-RSZRDNEQ.js";import"./chunk-LWWOGE47.js";import"./chunk-PNKC4I7V.js";import"./chunk-OBDMMZ5P.js";import"./chunk-AWV3UGPG.js";import"./chunk-ZFY6KTVJ.js";import"./chunk-LQ6EG3M7.js";import"./chunk-EFXUUWZM.js";import"./chunk-SXT2HSEA.js";import"./chunk-X6MJ7FAJ.js";import"./chunk-4QGZMEGU.js";import"./chunk-JGVOOQUI.js";import{b as _,c as Q,q as P,r as Z}from"./chunk-OL5PZGTP.js";import"./chunk-T6BAWHSV.js";import"./chunk-NZFRZUU7.js";import"./chunk-GKPU7ZYD.js";import"./chunk-IY5XPXLD.js";import"./chunk-N6T7YZKN.js";import"./chunk-CE2I3GSK.js";import"./chunk-SPMBQ3GG.js";import"./chunk-W3BHXSAD.js";import"./chunk-KWEOQTFQ.js";import"./chunk-MYLTZKPJ.js";import"./chunk-RAK5MQVM.js";import"./chunk-ILYGYWTN.js";import"./chunk-HOK5U34D.js";import"./chunk-XPB5VA3I.js";import"./chunk-XSNWL3NI.js";import"./chunk-IOMWHGY3.js";import"./chunk-EDYYUNM2.js";import"./chunk-FOI3TQUA.js";import"./chunk-Y3W2FGGC.js";import"./chunk-6SKAHEOE.js";import"./chunk-QYGNKIL6.js";import"./chunk-WWF4GAYE.js";import"./chunk-YITM3H6Z.js";import"./chunk-IQFXZKFW.js";import"./chunk-7BFUGHAL.js";import"./chunk-JVN7YJ6W.js";import"./chunk-VSX7BSN7.js";import{a as K}from"./chunk-V4V6C6NY.js";import"./chunk-ZQ5A3KPQ.js";import{a as $}from"./chunk-BGUY7SH3.js";import"./chunk-MJYAUOKI.js";import"./chunk-LI3NFLG3.js";import"./chunk-FCCCJLF6.js";import"./chunk-4Z4GXCHB.js";import{y as yt}from"./chunk-FK3ETA6I.js";import{J as d,da as X}from"./chunk-QZDHFNHK.js";import"./chunk-6KPQELH2.js";import"./chunk-EJQOS3F4.js";import{k as x,o as At}from"./chunk-LHHZ5TAA.js";import"./chunk-PI6QLVMS.js";import"./chunk-QY4HIIR3.js";import"./chunk-XFWUEPSK.js";import"./chunk-MNNY2ODL.js";import{e as A}from"./chunk-VCAWL4NW.js";import"./chunk-XVIU24G2.js";import"./chunk-2LDYLNUY.js";import"./chunk-KCITCUTL.js";import"./chunk-YZ3HCB4K.js";import"./chunk-EZ7VUFME.js";import"./chunk-T2OWRX3Y.js";import{f as v,g as V,i as j}from"./chunk-C3FJ2D4V.js";import"./chunk-C5ZJZEPI.js";import"./chunk-LFHB4Z4C.js";import"./chunk-LGHM3MOC.js";import"./chunk-2FULUWWG.js";import"./chunk-SLEUZTBQ.js";import"./chunk-4X6ZAX3L.js";import{c as H}from"./chunk-4QSQKIBZ.js";import{b as q,c as Ct}from"./chunk-OXVQDEZW.js";import{j as U,m as Tt}from"./chunk-X3G52GGX.js";import"./chunk-WUKT6J7S.js";import"./chunk-FTJCOLFJ.js";import{Kb as kt,ea as O,m as F,pb as Y,za as gt}from"./chunk-QG673PNL.js";import"./chunk-ZUFARSFM.js";import{c as G}from"./chunk-6MTHEPGF.js";import{I as N,w as m}from"./chunk-ZQQ7HNWV.js";import"./chunk-Y62GSKHT.js";import"./chunk-ASNEIZWJ.js";import"./chunk-2BXFMFMK.js";import{Y as W}from"./chunk-ZOQTSYT4.js";import{a as T}from"./chunk-ADZWCU3Q.js";import"./chunk-AXQY4CD5.js";import"./chunk-ZPRPROG4.js";import"./chunk-FDI7TLXH.js";import"./chunk-L4HTIIR6.js";import"./chunk-733NI6T7.js";import"./chunk-5TB3ZTAO.js";import"./chunk-EYWGNJVY.js";import"./chunk-PIGJQYQ3.js";import"./chunk-C672KFBI.js";import"./chunk-YSXN7JDZ.js";import"./chunk-TBVIGR5T.js";import"./chunk-FHQVMQUK.js";import"./chunk-XNS2NFYY.js";import{f as u,m as a,o as n}from"./chunk-REC7XVZY.js";a();n();var D=u(T());a();n();var I=u(T());gt();a();n();var C=u(T());Tt();Ct();var wt=({message:o,chainId:t,method:i,originUrl:r})=>{let[c,p]=(0,C.useState)(!0),[g,l]=(0,C.useState)({});return(0,C.useEffect)(()=>{(async()=>{if(t){try{let{data:s}=await U(q.signMessageDataCheck,{data:"",source:2,chainId:t,raw:o,method:i,originUrl:r});l(s)}catch(s){console.log(s)}p(!1)}})()},[t]),{loading:c,signMessageCheckRet:g}},nt=wt;a();n();var e=u(T());N();kt();var St=o=>{let{signMessageCheckRet:t,walletAccount:i,buttonGroup:r,tipMessage:c,message:p,baseCoin:g}=o,{value:l=0}=t.addtion||{},s=Y(l,Q)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):l,f=M(i.walletId);return e.default.createElement(H.Container,null,e.default.createElement(K,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),e.default.createElement(w,null,e.default.createElement(L,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:t.tokenIcon||v},title:`${s} ${t.tokenSymbol||""}`,desc:t.tokenAddress}]}),e.default.createElement(L,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.contractIcon||V},title:t.contractName||j,desc:t.contractAddress||""}]})),e.default.createElement(w,null,e.default.createElement(ot,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{f({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),e.default.createElement(w,{bordered:!1},e.default.createElement(at,{coinId:g?.coinId}),e.default.createElement(rt,{data:p,copyable:{hideDesc:!0}})),e.default.createElement($,{placeholder:!0,offsetBottom:0,borderTop:!0},e.default.createElement(S,{...c}),e.default.createElement(k,{buttonGroup:r})))},mt=St;a();n();var ct=u(F());var pt=u(T()),lt=u(yt());N();At();var Mt=({unapproved:o,walletAccount:t,signMessageCheckRet:i})=>{let r=(0,lt.useDispatch)(),c=M(t?.walletId),p=(0,pt.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:o.origin,network:o.localType}),await r(P(o.id)),await x(r)},[c,r,o.id,o.origin,o.localType]),g={btnText:m("wallet_dapp_connection_btn_reject"),actionType:k.ACTION_TYPE.CANCEL,onClick:p},l=A(t.initialType),s=async()=>{try{if(!await tt({walletId:o.walletId,callback:async()=>{await r(P(o.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:o.origin,network:o.localType}),await r(Z(o.id)),await x(r)}catch(b){console.log(b)}},f={disabled:l,actionType:k.ACTION_TYPE.CONFIRM,onClick:s},E=R(),B=(0,ct.get)(i,"risk_black_list.0");return(i.risk===_.high||B)&&(f.type=W.TYPE.red,f.onClick=async()=>{try{await E({isDefraud:!0,address:B,similarType:X.EXACT}),await s()}catch{await p()}}),[g,f]},ft=Mt;a();n();var ut=u(F());N();var ht=({unapproved:o,signMessageCheckRet:t})=>{let i=h(o);if(A(i.initialType))return{type:G.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(t?.risk===_.middle)return{type:G.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:t.contractName,asset:t.tokenSymbol})};if(t?.risk===_.high){let r=(0,ut.get)(t,"risk_black_list.0");if(r)return{type:S.TIP_TYPE.DEFRAUD,address:r}}return null},dt=ht;var It=o=>{let{unapproved:t}=o,i=t?.params?.message||"",r=et(t),c=h(t),p=J(O)||{},{chainId:g}=p||{},{loading:l,signMessageCheckRet:s}=nt({message:i,chainId:g,originUrl:r.host,method:d.SIGN_MESSAGE}),f=dt({unapproved:t,signMessageCheckRet:s}),E=ft({unapproved:t,walletAccount:c,signMessageCheckRet:s});return l?I.default.createElement(z,null):[_.middle,_.high].includes(s?.risk)?I.default.createElement(mt,{signMessageCheckRet:s,walletAccount:c,baseCoin:p,message:i,tipMessage:f,buttonGroup:E}):I.default.createElement(st,{needCheckMpc:!0,message:i,unapproved:t,tipMessage:f})},_t=It;var Oo=({unapproved:o})=>{switch(o.method){case d.SIGN_TRANSACTION:case d.RPC_SIGN_TRANSACTION:return D.default.createElement(it,{unapproved:o});case d.SIGN_MESSAGE:case d.RPC_SIGN_MESSAGE:case d.SIGN_MESSAGE_V2:return D.default.createElement(_t,{unapproved:o});default:return""}};export{Oo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=Tron-DN24Y23Q.js.map
