import{a as P,f as S}from"./chunk-6GFPWI6N.js";import{a as j}from"./chunk-SWNKITDG.js";import"./chunk-Z7MVEL6Q.js";import"./chunk-EQQ4TY26.js";import"./chunk-BSJ5U7SB.js";import"./chunk-A7QDOMG2.js";import"./chunk-PCN4TJH3.js";import"./chunk-UV4CBWDM.js";import"./chunk-JZYFGUUR.js";import{a as v}from"./chunk-55MBPFME.js";import"./chunk-ITV6J4J2.js";import"./chunk-E4R5GU2A.js";import"./chunk-KWEOQTFQ.js";import"./chunk-MYLTZKPJ.js";import"./chunk-RAK5MQVM.js";import"./chunk-ILYGYWTN.js";import"./chunk-HOK5U34D.js";import"./chunk-XPB5VA3I.js";import"./chunk-XSNWL3NI.js";import"./chunk-IOMWHGY3.js";import"./chunk-EDYYUNM2.js";import"./chunk-FOI3TQUA.js";import"./chunk-6SKAHEOE.js";import"./chunk-QYGNKIL6.js";import"./chunk-WWF4GAYE.js";import"./chunk-YITM3H6Z.js";import"./chunk-IQFXZKFW.js";import"./chunk-7BFUGHAL.js";import"./chunk-VSX7BSN7.js";import{a as $}from"./chunk-V4V6C6NY.js";import"./chunk-ZQ5A3KPQ.js";import{a as C}from"./chunk-BGUY7SH3.js";import{w as g}from"./chunk-MJYAUOKI.js";import"./chunk-LI3NFLG3.js";import"./chunk-FCCCJLF6.js";import{ua as b,va as N}from"./chunk-4Z4GXCHB.js";import"./chunk-FK3ETA6I.js";import"./chunk-QZDHFNHK.js";import"./chunk-6KPQELH2.js";import{a as O}from"./chunk-EJQOS3F4.js";import"./chunk-LHHZ5TAA.js";import"./chunk-PI6QLVMS.js";import"./chunk-QY4HIIR3.js";import"./chunk-XFWUEPSK.js";import"./chunk-MNNY2ODL.js";import"./chunk-VCAWL4NW.js";import"./chunk-C3FJ2D4V.js";import"./chunk-C5ZJZEPI.js";import"./chunk-LGHM3MOC.js";import"./chunk-2FULUWWG.js";import"./chunk-SLEUZTBQ.js";import"./chunk-4X6ZAX3L.js";import{c as A}from"./chunk-4QSQKIBZ.js";import"./chunk-OXVQDEZW.js";import"./chunk-X3G52GGX.js";import"./chunk-WUKT6J7S.js";import"./chunk-FTJCOLFJ.js";import"./chunk-QG673PNL.js";import"./chunk-ZUFARSFM.js";import{C as m,p as F}from"./chunk-6MTHEPGF.js";import{I as T,w as t}from"./chunk-ZQQ7HNWV.js";import"./chunk-Y62GSKHT.js";import"./chunk-2BXFMFMK.js";import{Y as f}from"./chunk-ZOQTSYT4.js";import{a as E}from"./chunk-ADZWCU3Q.js";import"./chunk-FDI7TLXH.js";import"./chunk-L4HTIIR6.js";import"./chunk-733NI6T7.js";import"./chunk-EYWGNJVY.js";import"./chunk-TBVIGR5T.js";import"./chunk-FHQVMQUK.js";import"./chunk-XNS2NFYY.js";import{f as h,m as n,o as c}from"./chunk-REC7XVZY.js";n();c();var e=h(E());T();n();c();var l=h(E()),W=h(O());T();var U=()=>{let r=v(),s=m.useForm(),p=(0,W.useHistory)(),[x,y]=(0,l.useState)(!1),[a,i]=(0,l.useState)({account:r.get("account")||""}),u=Number(r.get("coinId")),{coin:d}=j(u,!1),k=async o=>{try{return await S(o)?Promise.resolve():(s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject())}catch{return s.setErrors({account:t("extension_wallet_create_errortip_error_name")}),Promise.reject()}},z=(0,l.useCallback)(async()=>{y(!0);try{let o={coinId:u,chainId:d?.chainId,...a};await k(o);let{ownerKey:_,activeKey:M}=await P(o);_&&M?s.setErrors({account:t("extension_wallet_create_errortip_used_username")}):p.push(`${N}?coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)}catch(o){console.log(o)}finally{y(!1)}},[d,a]),B=(0,l.useCallback)(o=>{i(o);let{account:_}=o;p.replace(`${b}?account=${_}&coinId=${u}&account=${a?.account}&from=${r.get("from")||""}`)},[]);return{form:s,values:a,loading:x,onSubmit:z,onValuesChange:B}},L=U;n();c();var V=(r="")=>/^[a-z]{1}[a-z1-5]{11}$/g.test(r);n();c();var w={"wax-create-account-form":"_wax-create-account-form_3yjsy_1",waxCreateAccountForm:"_wax-create-account-form_3yjsy_1","wax-create-account-rules":"_wax-create-account-rules_3yjsy_4",waxCreateAccountRules:"_wax-create-account-rules_3yjsy_4"};var Y=()=>{let{form:r,loading:s,values:p,onSubmit:x,onValuesChange:y}=L();return e.default.createElement(A.Container,{className:w["wax-create-account"]},e.default.createElement($,{closeable:!1,title:t("extension_wallet_header_title_waxaccount_opening")}),e.default.createElement(m,{form:r,initialValues:p,className:w["wax-create-account-form"],onValuesChange:y,onSubmit:x},e.default.createElement(m.Item,{name:"account",validateTrigger:"onChange",rules:[{validator:(a,i)=>i&&!V(i)?Promise.reject(t("extension_wallet_create_errortip_error_name")):Promise.resolve()}],label:t("extension_wallet_create_text_set_account_name")},e.default.createElement(F,{placeholder:t("extension_wallet_create_input_enter_account_name")})),e.default.createElement(m.Item,{shouldUpdate:!0},({getFieldValue:a,getFieldsError:i})=>{let u=i(),d=a("account");return e.default.createElement(C.FooterActions,null,e.default.createElement(f,{loading:s,htmlType:"submit",category:f.CATEGORY.fill,type:f.TYPE.highlight,size:f.SIZE.lg,onClick:x,disabled:!d||u?.length},t("wallet_extension_send_btn_next_step")))})),e.default.createElement(C,{offsetBottom:104,component:A.FlexBox,justify:"center"},e.default.createElement(g.Text,{component:"pre",type:g.TYPE.secondary,size:g.SIZE.xs,className:w["wax-create-account-rules"]},t("extension_wallet_create_input_naming_rules"))))},de=e.default.memo(Y);export{de as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=CreateAccount-BS7AYRWU.js.map
