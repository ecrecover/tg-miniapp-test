import{a as rt}from"./chunk-7QIS3KK2.js";import{a as tt}from"./chunk-YDZK7JHK.js";import{a as et}from"./chunk-CRPAHKLS.js";import{a as Q}from"./chunk-PCT6WF3F.js";import{q as R}from"./chunk-7G3IOU2S.js";import"./chunk-FSSAJWUE.js";import"./chunk-EYUJFPID.js";import"./chunk-QXSGLFJ4.js";import"./chunk-RQ4URFJV.js";import"./chunk-A7QDOMG2.js";import"./chunk-PCN4TJH3.js";import"./chunk-UV4CBWDM.js";import"./chunk-JZYFGUUR.js";import"./chunk-ITV6J4J2.js";import"./chunk-E4R5GU2A.js";import{a as M}from"./chunk-ZMHHB7AK.js";import{b as ot}from"./chunk-PSXFVNX7.js";import{a as K}from"./chunk-LM5IFABF.js";import{a as H}from"./chunk-X6MJ7FAJ.js";import"./chunk-JGVOOQUI.js";import"./chunk-IY5XPXLD.js";import"./chunk-N6T7YZKN.js";import"./chunk-CE2I3GSK.js";import"./chunk-SPMBQ3GG.js";import{a as V}from"./chunk-RAK5MQVM.js";import"./chunk-WWF4GAYE.js";import"./chunk-YITM3H6Z.js";import"./chunk-IQFXZKFW.js";import{d as X,e as $}from"./chunk-7BFUGHAL.js";import{a as J}from"./chunk-SXPHI5ON.js";import"./chunk-YWOLA2WT.js";import{k as q}from"./chunk-JVN7YJ6W.js";import"./chunk-VSX7BSN7.js";import{w as r}from"./chunk-MJYAUOKI.js";import"./chunk-LI3NFLG3.js";import{a as B,j as z}from"./chunk-FCCCJLF6.js";import{a as C,x as G,y as Y}from"./chunk-4Z4GXCHB.js";import{ib as D,y as ht}from"./chunk-FK3ETA6I.js";import"./chunk-QZDHFNHK.js";import{a as O}from"./chunk-6KPQELH2.js";import{a as Tt}from"./chunk-EJQOS3F4.js";import"./chunk-LHHZ5TAA.js";import"./chunk-PI6QLVMS.js";import"./chunk-QY4HIIR3.js";import"./chunk-XFWUEPSK.js";import"./chunk-MNNY2ODL.js";import"./chunk-VCAWL4NW.js";import"./chunk-C3FJ2D4V.js";import"./chunk-C5ZJZEPI.js";import"./chunk-LGHM3MOC.js";import{g as Z}from"./chunk-2FULUWWG.js";import"./chunk-SLEUZTBQ.js";import"./chunk-4X6ZAX3L.js";import{c as m}from"./chunk-4QSQKIBZ.js";import"./chunk-OXVQDEZW.js";import"./chunk-X3G52GGX.js";import"./chunk-WUKT6J7S.js";import"./chunk-FTJCOLFJ.js";import{Mb as W,Wb as gt,Zb as A,jc as yt}from"./chunk-QG673PNL.js";import"./chunk-ZUFARSFM.js";import{C as w,G as U,g as b,n as F,p as k}from"./chunk-6MTHEPGF.js";import{I as S,w as e,x as v}from"./chunk-ZQQ7HNWV.js";import"./chunk-Y62GSKHT.js";import"./chunk-2BXFMFMK.js";import{S as L,Y as f,c as wt}from"./chunk-ZOQTSYT4.js";import{a as N}from"./chunk-ADZWCU3Q.js";import"./chunk-FDI7TLXH.js";import"./chunk-L4HTIIR6.js";import"./chunk-733NI6T7.js";import"./chunk-EYWGNJVY.js";import"./chunk-TBVIGR5T.js";import"./chunk-FHQVMQUK.js";import"./chunk-XNS2NFYY.js";import{f as d,m as i,o as n}from"./chunk-REC7XVZY.js";i();n();var t=d(N()),lt=d(wt());S();i();n();var c=d(N()),g=d(ht()),it=d(Tt());S();i();n();var st=()=>H("passwordSecurity",{...M,location:window.location.href})?.data;yt();gt();i();n();var u=d(N());S();i();n();var o={main:"_main_jnjit_1",coverWrapper:"_coverWrapper_jnjit_7",title:"_title_jnjit_10",titleWrapper:"_titleWrapper_jnjit_15",subTitle:"_subTitle_jnjit_18",content:"_content_jnjit_22",loader:"_loader_jnjit_25",password:"_password_jnjit_30",error:"_error_jnjit_34",forgotPassword:"_forgotPassword_jnjit_37",input:"_input_jnjit_42",btn:"_btn_jnjit_48",centerImage:"_centerImage_jnjit_51",fontSize:"_fontSize_jnjit_58",updateMb32:"_updateMb32_jnjit_61",titleUpdate:"_titleUpdate_jnjit_64",textUpdate:"_textUpdate_jnjit_69"};var at=s=>{let l=Z({dark:"/cdn/assets/imgs/246/74D87A474619BCFE.png",light:"/cdn/assets/imgs/246/696DAB049D0A9095.png"});F.action({mobileWidth:"77.777777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,btnFull:!0,children:u.default.createElement("div",{className:o.updateMb32},u.default.createElement("div",{className:o.centerImage},u.default.createElement("img",{src:l,alt:"updatePassword"})),u.default.createElement("div",{className:o.titleUpdate},e("wallet_extension_password_popup_title_wallet_security_tip")),u.default.createElement("div",{className:o.textUpdate},e("wallet_extension_password_popup_text_wallet_security_tip"))),confirmText:e("wallet_extension_password_popup_btn_update_password"),cancelText:e("wallet_extension_password_popup_btn_maybe_later"),maskClosable:!1,onConfirm:a=>{window.localStorage.pss=1,s.push(Y),a.destroy()},cancelBtnProps:{category:"text",type:"primary"},onCancel:a=>{window.localStorage.pss=1,a.destroy()}})};var xt=s=>`https://${s}/help/how-to-solve-the-problem-of-encountering-password-errors-when-logging-in-to`,bt=()=>(0,g.useSelector)(D),nt=({form:s})=>{let l=(0,it.useHistory)(),a=(0,g.useDispatch)(),y=bt(),j=V(),[p,_]=(0,c.useState)(!1),[h,T]=(0,c.useState)(null),[{walletAsset:pt=0}]=R(),mt=st(),_t=(0,g.useSelector)(tt),dt=A()===W;z(()=>{ot({islogin:"no",isbydapp:dt?" yes":"no",dapp_url:_t,wallet_id:j})}),c.default.useLayoutEffect(()=>{y&&l.push(C)},[y]);let ut=K(),ct=Q()?.passwordNotice||xt(ut),ft=B(async P=>{let E=s.getFieldValue("password");if(E&&!p&&!h)try{let x=window.localStorage.pss;_(!0),await a(q(E)),mt&&E.length<et&&Number(pt)>100&&!x&&at(l),l.push(C)}catch({message:x}){x===X?T(v("wallet_set_password_errortip_password_wrong_see_notice",{notice:c.default.createElement(b,{size:b.SIZE.sm,weight:b.WEIGHT.muted,target:"_blank",href:ct,underline:!0},e("wallet_set_password_errortip_password_wrong_see_notice_icu"))})):x===$&&U.error(e("wallet_home_toast_version_error")),P&&P()}finally{_(!1)}},[s,p,h]);return{submitting:p,passwordError:h,setPasswordError:T,onSubmit:ft}};var It=()=>{let s=w.useForm(),{submitting:l,passwordError:a,setPasswordError:y,onSubmit:j}=nt({form:s}),p=(0,t.useRef)(null);return t.default.createElement(m.Container,{className:o.main},t.default.createElement(m.FlexBox,{align:m.ALIGN.center,className:o.coverWrapper},t.default.createElement(rt,null)),t.default.createElement(m.Space,{space:4,className:o.titleWrapper,direction:m.DIRECTION.vertical},t.default.createElement(r.Text,{strong:700,align:r.ALIGN.center,className:o.title},e("extension_home_main_title_portal")),t.default.createElement(r.Text,{size:r.SIZE.xs,align:r.ALIGN.center,type:r.TYPE.secondary,className:o.subTitle},e("extension_home_subtitle_wallet_trade_nft_defi"))),t.default.createElement(m.Box,{className:o.content},t.default.createElement(w,{form:s,onChange:()=>{y(null)},onSubmit:async()=>{await j(()=>{p.current&&setTimeout(()=>{p.current.focus()})})}},t.default.createElement(w.Item,{useChildError:!0,name:"password",className:o.password,extra:!!a&&t.default.createElement(r.Text,{size:r.SIZE.sm,className:o.error},a)},t.default.createElement(J,{elementName:"u",autoFocus:"autoFocus",inputClassName:o.input,className:(0,lt.default)({error:!!a}),size:k.SIZE.xl,autoComplete:"off",errorType:k.TIP_TYPE.always,disabled:l,placeholder:e("wallet_home_lock_wallet_placeholder_input_password"),onRef:_=>{p.current=_}})),t.default.createElement(w.Item,{shouldUpdate:!0,className:o.btn},({getFieldValue:_})=>{let T=!_("password")||!!a;return t.default.createElement(f,{block:!0,htmlType:"submit",disabled:T,category:f.CATEGORY.fill,type:f.TYPE.highlight,size:f.SIZE.xl},l&&t.default.createElement(L.Circle,{size:L.SIZE.sm,className:o.loader,loaderStyle:{width:"20px",height:"20px"}}),e("wallet_home_btn_unlock"))})),t.default.createElement(O,{to:G,className:o.forgotPassword},t.default.createElement(r.Text,{strong:!0,size:r.SIZE.sm,type:r.TYPE.secondary},e("wallet_footer_subtitle_forgot_password")))))},jo=It;export{jo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=Unlock-3CAQQVPQ.js.map
