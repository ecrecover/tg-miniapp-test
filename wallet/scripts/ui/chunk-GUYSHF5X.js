import{a as y,b as $}from"./chunk-TAMFXRQS.js";import{c as G}from"./chunk-BSJ5U7SB.js";import{a as j}from"./chunk-AWV3UGPG.js";import{d as K}from"./chunk-RAK5MQVM.js";import{fb as k,y as Y}from"./chunk-FK3ETA6I.js";import{n as p}from"./chunk-QZDHFNHK.js";import{Ta as M,hb as X,m as w,q as O,r as F,s as b,t as D,w as R,za as U}from"./chunk-QG673PNL.js";import{F as W}from"./chunk-6MTHEPGF.js";import{I as V,w as E}from"./chunk-ZQQ7HNWV.js";import{a as Q}from"./chunk-ADZWCU3Q.js";import{f as L,m as h,o as x}from"./chunk-REC7XVZY.js";h();x();var B=L(Q()),g=L(Y()),l=L(w());V();U();h();x();var N=L(w());X();U();function S(t,e){return!e||!t||!t.length?null:t.find(o=>(0,N.toLower)(o.address)===(0,N.toLower)(e))||null}function J(t,e,i){let r,o=S(t,i);return o&&o.networks.indexOf(e)!==-1&&(r=o.name),r}function q(t,e,i){let r,o=M({localType:e});if(o){let d=t.find(T=>{let A=(0,N.toLower)(T.account[o.chain]),u=(0,N.toLower)(i),f=!1;if(e===O||e===R||e===F||e===b||e===D){let a=T.accountsMap[e];if(a){let c=Object.values(a).map(m=>m.address);f=c.find(m=>(0,N.toLower)(m)===A)&&c.find(m=>(0,N.toLower)(m)===u),f=Boolean(f)}}return A===u||f});d&&(r=`${d.keyringName} - ${d.walletName}`)}return r}function v(t){let{baseCoinId:e,network:i,name:r}=t||{},o=G({coinId:e}),d=(0,g.useSelector)(y),T=j(),A=i||o?.localType;return(0,B.useMemo)(()=>{let u=d||[];r&&(u=u.filter(({name:a,address:c})=>a.indexOf(r)!==-1||c.indexOf(r)!==-1)),A&&(u=u.filter(({networks:a})=>a.indexOf(A)!==-1));let f=(0,l.keyBy)(T,"localType");return u.map(a=>({...a,networks:a.networks.map(c=>{let m=f[c];return{name:c,iconUrl:m?.image}})}))},[d,T,r,A])}function z(t){let e=(0,g.useSelector)(y);return(0,B.useCallback)((i,r)=>J(e,r??t,i),[e])}function H(t){let e=(0,g.useSelector)(k);return(0,B.useCallback)((i,r)=>q(e,r??t,i),[e])}function ee(t){let e=z(t),i=H(t);return(0,B.useCallback)((r,o)=>{let d=e(r,o);return d?{name:d,address:r,type:p.ADDRESS_BOOK}:(d=i(r,o),d?{name:d,address:r,type:p.WALLET_ACCOUNT}:null)},[e,i])}function te(t){return(0,g.useSelector)($)[t]||[]}function ge(t){let e=(0,g.useSelector)(y);return S(e,t)}function Te(t,e){let i=[],r=[],o=[],d=[],T=ee(t),A=z(t),u=H(t),f=te(t),a=v({network:t}),c=(0,g.useSelector)(k),m=K();return(0,B.useMemo)(()=>{f?.length&&(r=f.map(({type:n,name:s,address:I})=>{if(n===p.ADDRESS_BOOK)s=A(I);else if(n===p.WALLET_ACCOUNT)s=u(I);else if(n===p.DIRECT){let C=T(I);C&&(s=C.name)}return{type:n,address:I,name:s}}),r=r.filter(({address:n})=>(0,l.toLower)(n)!==(0,l.toLower)(e)),r?.length&&i.push({group:E("wallet_extension_send_dropdown_recent_address"),list:r}));let _;if(t===O)_=[],c.forEach(n=>{m(O,n.walletId)?.forEach((s,I)=>{(0,l.toLower)(s.address)!==(0,l.toLower)(e)&&_.push({address:s.address,group:n.keyringName,name:n.walletName,type:p.WALLET_ACCOUNT,addressType:s.addressType,hideName:I!==0,walletId:n.walletId})})});else{let n=c.filter(s=>{let I=!s.backupData.length,C=(0,l.toLower)(s.account[t]),P=(0,l.toLower)(e);return I&&C!==P&&!!C});n?.length&&(_=n.map(s=>({address:s.account[t],group:s.keyringName,name:s.walletName,type:p.WALLET_ACCOUNT,walletId:s.walletId})))}return d=Object.entries((0,l.groupBy)(_,"group")),d.forEach(([n,s])=>{i.push({group:n,list:s})}),a?.length&&(o=a.map(({address:n,name:s})=>({address:n,name:s,type:p.ADDRESS_BOOK})),o=o.filter(({address:n})=>(0,l.toLower)(n)!==(0,l.toLower)(e)),o?.length&&i.push({group:E("wallet_extension_send_dropdown_address_book"),list:o})),i},[e,f,a,c])}function Ne(t){let e=(0,g.useSelector)(y);return()=>{e&&e?.length>=200?W.error({title:E("wallet_extension_addressbook_toast_address_limit_reached")}):t&&t()}}export{v as a,ee as b,ge as c,Te as d,Ne as e};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-GUYSHF5X.js.map
