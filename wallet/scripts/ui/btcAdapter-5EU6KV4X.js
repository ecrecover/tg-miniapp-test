import{a as R,b as T,c as w}from"./chunk-G2NQ466R.js";import"./chunk-LKYWOOF5.js";import"./chunk-XTGUBST2.js";import"./chunk-7HJDVUH5.js";import{b as f}from"./chunk-5CHBWRLU.js";import"./chunk-4X3PZECG.js";import"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import"./chunk-MAIAJ7GD.js";import"./chunk-4PGNX6E2.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import{a as u,u as y}from"./chunk-XCAARJ7Q.js";import"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{m as K}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import"./chunk-SOHTSUTI.js";import"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-V4F2JFTP.js";import"./chunk-6DDC4Y2S.js";import{a as M}from"./chunk-JG7TO24X.js";import"./chunk-YUXYCITH.js";import"./chunk-JM2ML6BR.js";import"./chunk-GBSH5BA3.js";import"./chunk-A77VZBWT.js";import"./chunk-IYL2DA3V.js";import"./chunk-MYDAWE3K.js";import"./chunk-3NG42BBY.js";import"./chunk-QYTYSNLW.js";import"./chunk-QMAXXJCA.js";import"./chunk-HFBVRVPB.js";import"./chunk-SF2LTPAC.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as n,m as l,o as h}from"./chunk-EQYVU4XP.js";l();h();var W=n(R()),E=n(M()),a=n(K());var b=W.default.HardwareWebSdk,s=class extends w{async signTransaction(o,e){if(!(0,a.isUndefined)(e.memo)&&!(0,a.isUndefined)(e.memoPos))throw Error(y);return new Promise((g,t)=>{(async()=>{let{address:i}=e,{onekeyInfo:c}=o,d;try{d=await this.initOneKey({onekeyInfo:c,onUiCancel(){t(new Error(u))}})}catch(r){return t(this.handleErrors(r))}let k=f(i,o?.accountsMap||o?.addressType),{path:m}=k,S=e.inputs.map(r=>({...r,address:i,nonWitnessUtxo:r.rawTransaction,derivationPath:m})),B=(0,E.oneKeyBuildBtcTx)({...e,inputs:S,derivationPath:m}),{success:H,payload:p}=await b.btcSignTransaction(c?.connectId,d,B);if(T.closeModal(),H){let{serializedTx:r}=p;return g(r)}return t(this.handleErrors(p))})()})}},z=new s;export{z as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=btcAdapter-5EU6KV4X.js.map
