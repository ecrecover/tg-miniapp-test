import{c as R}from"./chunk-MTMUCMTY.js";import{c as L}from"./chunk-IINHHLHP.js";import{C as j,Cb as T,db as v,jb as B,lb as M,ob as O,z as x}from"./chunk-HPXM6RSK.js";import{M as N,o as C,q as b,t as S,tc as W,wc as k,za as H}from"./chunk-X7YMANPZ.js";import{m as f,o as p}from"./chunk-EQYVU4XP.js";f();p();f();p();var D=(c,s,r={enableEmptyAccount:!1})=>{let{account:o={}}=s,t=r.enableEmptyAccount?e=>typeof e=="string":Boolean;return c.filter(({localType:e})=>t(o[e]))};H();f();p();var G=(c,s={})=>{let{accounts:r={},lastApproved:o}=s[c]?.eth_accounts||{},t=null;return Object.keys(r).forEach(e=>{r[e]===o&&(t=e)}),t};function ct(c,s={enableEmptyAccount:!1}){let r=T(c),o=M(c);return D(r,o,s)}var rt=x(O,T,(c,s)=>{let{accountMap:r}=c,o={},t={},e=s.reduce((i,a)=>{let{localType:n,chainName:I,image:d,chainId:u,symbol:l,isHotNetwork:E,hotNetworkRank:y}=a;return n===b||n===S?(o[n]={chainName:I,chainId:u,image:d,symbol:l,isHotNetwork:E,hotNetworkRank:y,localType:n},i):n===N?(t.chainName=I,t.chainId=u,t.image=d,t.symbol=l,t.isHotNetwork=E,t.hotNetworkRank=y,t.localType=n,i):(r[n]&&i.push({address:r[n],chainName:I,chainId:u,image:d,symbol:l,isHotNetwork:E,hotNetworkRank:y,localType:n}),i)},[]),{accountsMap:A,segwitAddressType:m}=c,[,g]=L(e);[S,b].forEach(i=>{let a=A[i],n=o[i];if(a){let I=m[i]===W.SEGWIT_NESTED?W.SEGWIT_NESTED_49:W.SEGWIT_NESTED,d=k[i].reduce((u,l)=>(I!==l&&a[l]&&u.unshift({...n,address:a[l].address?a[l].address:n.address,addressType:l}),u),[]);d.reverse(),g.unshift({...d[0],moreAddress:d.slice(1)}),e=[...d,...e]}});let h=A[N];return h&&(e=[...k[N].reduce((a,n)=>(h[n]&&a.unshift({...t,address:h[n].address,addressType:n}),a),[]),...e]),{addresses:e,hotAddresses:g}}),st=(c,s,r)=>{let o=B(c),t=R(c),e=v(c),A=c.metamask.permissionsHistory;if(t[s]?.includes(e)&&o[e].account[C]===r)return o[e]||{};let m=G(s,A);if(t[s]?.includes(m)&&o[m].account[C]===r)return o[m];let g=t[s]?.find(w=>o[w]?.account[C]===r);return g?o[g]:{}};export{G as a,ct as b,rt as c,st as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=chunk-WY46TT4P.js.map
