import{a as Xe,b as xe}from"./chunk-TUEJVTLY.js";import{a as Je}from"./chunk-AD5PQ5FU.js";import{b as ae}from"./chunk-Z5ROTYBJ.js";import{a as Qe}from"./chunk-H3SRG5PM.js";import"./chunk-XZRYRRSY.js";import"./chunk-SCZBCO2U.js";import{a as de}from"./chunk-XWZOV7IH.js";import"./chunk-H3UB6HJY.js";import"./chunk-7XFZKU6W.js";import"./chunk-IHPHPUUG.js";import"./chunk-ZEWK7OGU.js";import"./chunk-QVA4WXOQ.js";import"./chunk-EX22SDGB.js";import{a as $e,c as me}from"./chunk-7R67VE77.js";import{a as Ke}from"./chunk-NHGZUGLZ.js";import"./chunk-G5LEAVCY.js";import"./chunk-ACHWU2H6.js";import"./chunk-ZPFBKNRM.js";import{h as qe,i as se}from"./chunk-7DP5LYUM.js";import"./chunk-TBBE7OKY.js";import"./chunk-7HJDVUH5.js";import{a as fe}from"./chunk-5TLQ2D7N.js";import"./chunk-LBJYBJBE.js";import"./chunk-E2XQ2FKN.js";import"./chunk-2GMLPDYZ.js";import"./chunk-WNQ6F6VV.js";import"./chunk-3YH3AGVS.js";import{b as Ge}from"./chunk-WY46TT4P.js";import{b as He,d as ie,f as Ue,j as M}from"./chunk-MTMUCMTY.js";import"./chunk-IINHHLHP.js";import"./chunk-DY2YURLY.js";import"./chunk-KXZSXP3G.js";import"./chunk-6HXVFU7V.js";import"./chunk-D5FMQLJG.js";import"./chunk-6FR2UIE7.js";import"./chunk-5GMHHIH5.js";import"./chunk-7Y44NCE5.js";import"./chunk-BKPOG6ZD.js";import"./chunk-OZMVWMFO.js";import"./chunk-KTO7CPX7.js";import"./chunk-P3XTPXPO.js";import"./chunk-FQWGOLDH.js";import"./chunk-QEPBNPHF.js";import"./chunk-3JLS3TGD.js";import"./chunk-KDP5Z4RF.js";import"./chunk-W234FNSM.js";import{r as Ye}from"./chunk-DDO6HXRN.js";import"./chunk-CLWWTOKP.js";import{a as je}from"./chunk-KZ2PCELG.js";import{b as S}from"./chunk-C7ZG4INB.js";import{a as We}from"./chunk-J5ANWCEO.js";import{u as Me,w as r}from"./chunk-VMO2INN3.js";import"./chunk-J4TF3RT7.js";import"./chunk-6FOZGMAL.js";import"./chunk-2MV3WEYP.js";import{db as ze,n as Ee,p as De,y as F}from"./chunk-HPXM6RSK.js";import"./chunk-IUIJ46C3.js";import"./chunk-KZ3ZU675.js";import"./chunk-NJ5CWPUY.js";import{l as Ze,p as ho}from"./chunk-UMJMJOW4.js";import"./chunk-YTJBYVBO.js";import"./chunk-QO3243S4.js";import"./chunk-O5JCC6KG.js";import{d as O,f as Pe}from"./chunk-MAIAJ7GD.js";import"./chunk-4PGNX6E2.js";import"./chunk-RT4Y2U5N.js";import"./chunk-2VHH444P.js";import"./chunk-RIMU4JTV.js";import{b as ue,d as Oe,j as P,k as Fe}from"./chunk-MGLVPWSV.js";import{A as ve,D as Be,f as I,i as C,l as A,r as be,u as Le}from"./chunk-TXKWPME2.js";import"./chunk-4D3M2I6W.js";import"./chunk-AMVK42SC.js";import"./chunk-D6RIE45O.js";import"./chunk-XCAARJ7Q.js";import{c}from"./chunk-JXCCIV3J.js";import"./chunk-AOA7NX2Y.js";import"./chunk-HXZH2DHB.js";import"./chunk-MZG4RHXJ.js";import"./chunk-VTST2UXT.js";import{Ea as Ae,Hc as Ve,ba as Ce,hb as To,o as Y,p as Se,q as b,u as W,z as j,za as q}from"./chunk-X7YMANPZ.js";import"./chunk-IRITFTWC.js";import{A as ne,D as Ne,F as ke,d as B}from"./chunk-SOHTSUTI.js";import{I as k,w as n}from"./chunk-RPZQDAIQ.js";import"./chunk-LDRI4AYU.js";import"./chunk-E24EBHFY.js";import{M as Ie,Y as G}from"./chunk-V4F2JFTP.js";import{a as w}from"./chunk-6DDC4Y2S.js";import"./chunk-KJOC4LFM.js";import"./chunk-6FDO4Y56.js";import"./chunk-NNZ5SU5W.js";import"./chunk-YUXYCITH.js";import"./chunk-TEKDZ77C.js";import"./chunk-NC54RUAI.js";import"./chunk-YR74Q3QD.js";import{f as x,m as e,o}from"./chunk-EQYVU4XP.js";e();o();e();o();var d=x(w()),v=x(F());k();Pe();e();o();var Te=x(w());k();e();o();var V=x(w());e();o();var $={main:"_main_1coks_1",logo:"_logo_1coks_6",content:"_content_1coks_10",network:"_network_1coks_17",icon:"_icon_1coks_22"};function ce({icon:t,customIcon:i,name:s,content:a=null,disconnect:_,showDisconnect:m=!0,className:u=""}){return V.default.createElement("div",{className:`${$.main} ${u}`},i||V.default.createElement(S,{src:t,text:s,size:S.SIZE.lg,className:$.logo}),V.default.createElement("div",{className:$.content},V.default.createElement(r.Text,{strong:700,ellipsis:!0},s),a),m&&V.default.createElement(S.IconButton,{icon:"okds-unlink",className:$.icon,onClick:_}))}e();o();var Re={main:"_main_ntvor_1"};var yo=({connectedDomains:t,onDisconnect:i,domainHostCount:s})=>{let a=m=>i(m.origin),_=m=>m.extensionId?n("wallet_dapp_conncetion_subtitle_external_extension"):s[m.host]>1?m.origin:De(m.origin);return Te.default.createElement("main",{className:Re.main},t.map(m=>Te.default.createElement(ce,{key:m.origin,icon:m.icon,name:_(m),disconnect:()=>a(m)})))},eo=yo;e();o();ho();e();o();var oo=x(w());Pe();var to=x(F()),le=({origin:t})=>{let i=(0,to.useSelector)(({metamask:a})=>a.silence||{});return{removeSilencePermission:(0,oo.useCallback)(async()=>{await O().removeSilencePermission(t)},[t]),silencePermissions:i[t]||[]}};e();o();var h=x(w()),ye=x(F());k();e();o();var J=x(w());k();e();o();var K={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var ro=({origin:t})=>{let{removeSilencePermission:i,silencePermissions:s}=le({origin:t});if(s.findIndex(m=>m.expireTime>Date.now())===-1)return null;let _=async()=>{await i()};return J.default.createElement(c.Box,{className:K.wrapper},J.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:K.silence},J.default.createElement(r.Text,{className:K.text,type:r.TYPE.secondary,size:r.SIZE.xs},n("wallet_extension_connect_text_silent_mode_enabled")),J.default.createElement(r.Text,{strong:500,className:K.cancel,size:r.SIZE.xs,onClick:_},n("wallet_extension_connect_btn_cancel"))))};e();o();var l=x(w()),co=x(F());k();q();e();o();var g=x(w()),io=x(F());k();e();o();var L={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var pe=x(w());k();q();var no=({providerType:t})=>{let[i,s]=(0,pe.useState)({}),a=$e(),_=Qe(t),{list:m}=Xe(),u=f=>a.filter(y=>y.factionType===f).find(y=>y.localType===_?.localType)||{};return(0,pe.useEffect)(()=>{switch(t){case I:{let f=m.find(y=>_.type===Se?y.uniqueId===_?.uniqueId:y.localType===_?.type)||{};s({...f,title:n("wallet_extension_sonic_header_evm_network")});break}case C:{let f=u(4);s({...f,icon:f.imageUrl,title:n("wallet_extension_sonic_desc_solana_comaptible")});break}case A:{let f=u(5);s({...f,icon:f.imageUrl,title:n("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[t,_,a]),i};var T=({providerType:t,isAllchain:i=!1})=>{let s=no({providerType:t}),{title:a,icon:_,chainName:m}=s,[u,f]=(0,g.useState)(!1),y=(0,io.useSelector)(M);return g.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:L.wrapper},g.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:L.title},a),i?g.default.createElement(r.Text,{type:r.SIZE.xs},n("wallet_extension_sonic_desc_all_networks")):g.default.createElement(g.default.Fragment,null,g.default.createElement(B,{width:16,height:16,alt:"chain",src:_||P,errorImg:P,pictureClassName:L.chainIcon}),g.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:L.switchNetwork,onClick:()=>f(!0)},g.default.createElement(r.Text,{size:r.SIZE.xs},m),g.default.createElement(S,{className:`okx-wallet-plugin-select-unfold ${L.arrow}`,size:S.SIZE.xxs}))),g.default.createElement(xe,{visible:u,providerType:t,onClose:()=>f(!1),origin:y?.origin},g.default.createElement(xe.Header,{title:n("wallet_extension_title_switch_network"),subTitle:t===I?n("wallet_extension_evm_desc"):n("wallet_extension_aptos_toast_manually_switch_network",{network:m})})))},go=({chainName:t})=>g.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:L.tip},n("wallet_extension_sonic_toast_manually_switch_network",{network:t}));T.Tip=go;e();o();var Q=x(w());k();q();e();o();e();o();To();function so(){let t=Ae;return{address:Ke(t)||"",localType:t}}k();q();var E=x(w());e();o();var he={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var mo=({walletId:t})=>{let{address:i}=so(),[s,a]=E.default.useState(!1);return E.default.createElement(E.default.Fragment,null,E.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:he.wrapper,onClick:()=>{a(!0)}},E.default.createElement(r.Text,{size:r.SIZE.xs},Ee(i)),E.default.createElement(S,{className:`okx-wallet-plugin-select-unfold ${he.arrow}`,size:S.SIZE.xxs})),E.default.createElement(de,{visible:s,onClose:()=>a(!1),coinId:Ce,walletId:t},E.default.createElement(de.Header,{title:n("extension_defi_top_header_title_select_address_type"),subTitle:n("extension_defi_popup_desc_new_address_default")})))};e();o();var _e={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var z=()=>{let t=qe(),i=me({localType:b});return Q.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:_e.lineItem},Q.default.createElement(r.Text,{size:r.SIZE.xs,type:r.TYPE.secondary,className:_e.networkTitle},n("wallet_extension_sonic_header_btc_address")),Q.default.createElement(B,{width:16,height:16,alt:"chain",src:i?.imageUrl||P,errorImg:P,pictureClassName:_e.chainIcon}),Q.default.createElement(mo,{walletId:t}))};e();o();var H=x(w());k();e();o();var X={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var R=({showImage:t=!0,info:i})=>H.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:X.lineItem},H.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:X.title},n("wallet_extension_card_dropdown_available_network",{network:""})),t&&H.default.createElement(B,{width:16,height:16,alt:"chain",src:i.image||P,errorImg:P,pictureClassName:X.chainIcon}),H.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:X.switchNetwork},H.default.createElement(r.Text,{size:r.SIZE.xs},i.chainName||"")));e();o();var ao={headerTip:"_headerTip_tbl1j_1"};var lo=({isAllchain:t,isCurrentDappConnect:i})=>{let s=se(),a=(0,co.useSelector)(M),{provider:_}=ae({dappUrl:a?.origin}),m=Fe[_],u=me({localType:m}),f=()=>l.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:ao.headerTip},n("wallet_extension_sonic_desc_switch_network_btc"));if(!i)return l.default.createElement(l.default.Fragment,null,f(),s?.account[Y]&&l.default.createElement(T,{providerType:I}),s?.account[W]&&l.default.createElement(T,{providerType:C}),s?.account[j]&&l.default.createElement(T,{providerType:A}),s?.account[b]&&l.default.createElement(z,null));if(t)return l.default.createElement(l.default.Fragment,null,f(),s?.account[Y]&&l.default.createElement(T,{providerType:I,isAllchain:t}),s?.account[W]&&l.default.createElement(T,{providerType:C}),s?.account[j]&&l.default.createElement(T,{providerType:A}),s?.account[b]&&l.default.createElement(z,null));switch(_){case I:case ue["okx6963-provider"]:case ue["ethereum-provider"]:return l.default.createElement(T,{providerType:I});case C:case Le:return l.default.createElement(l.default.Fragment,null,l.default.createElement(T.Tip,{chainName:u?.chainName}),l.default.createElement(T,{providerType:C}));case A:case ve:return l.default.createElement(l.default.Fragment,null,l.default.createElement(T.Tip,{chainName:u?.chainName}),l.default.createElement(T,{providerType:A}));case Be:return l.default.createElement(z,null);case be:return l.default.createElement(R,{info:{chainName:n("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return l.default.createElement(R,{info:{image:u?.imageUrl,chainName:u?.chainName}})}};e();o();var N=x(w()),po=x(F());q();var _o=({isAllchain:t,isCurrentDappConnect:i})=>{let s=(0,po.useSelector)(Ge),a=s?.length?s[0]:{};switch(a?.localType){case Y:return N.default.createElement(T,{providerType:I,isAllchain:i?t:!1});case b:return N.default.createElement(z,null);case W:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:C}));case j:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:A}));default:return N.default.createElement(R,{info:{image:a?.image,chainName:a?.chainName}})}};e();o();var ee={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var uo=({activeTab:t,removeAccount:i,domain:s})=>{let a=(0,ye.useSelector)(ie),_=se(),{method:m,provider:u}=ae({dappUrl:t?.origin}),f=(0,h.useMemo)(()=>_?.keyringIdentityType===Ve.PRIVATE_KEY,[_]),y=(0,h.useMemo)(()=>Boolean((a||[]).find(te=>te.origin===t?.origin)),[a,t]),oe=(0,ye.useSelector)(He),U=(0,h.useMemo)(()=>oe[t?.origin]?.isOkx,[oe,t]),Z=(0,h.useMemo)(()=>U||u===I&&(m===fe.requestWallets||m===fe.walletRequestWallets),[m,U,u]);return h.default.createElement(c.Box,{className:ee.main},h.default.createElement(c.FlexBox,{align:c.ALIGN.center},h.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs},n("wallet_extension_header_subtitle_current_dapp")),h.default.createElement(ne,{title:n("wallet_extension_toast_tooltip_adjust_retry"),trigger:ne.TRIGGER_TYPES.hover,placement:ne.DIRECTION.bottom,className:ee.tooltip},h.default.createElement(Ie,{className:`okds-question-mark-circle-fill ${ee.tipIcon}`}))),h.default.createElement(ce,{className:ee.connectedItem,customIcon:h.default.createElement(Ne,{alt:"connected",src:t?.icon||"/static/images/default-img.svg",errorImg:Oe,className:"connect-site-page__origin-icon"}),name:s,disconnect:()=>i(t?.origin),showDisconnect:y}),f?h.default.createElement(_o,{isAllchain:Z,isCurrentDappConnect:y}):h.default.createElement(lo,{isAllchain:Z,isCurrentDappConnect:y}),h.default.createElement(ro,{origin:t?.origin}))};e();o();var fo={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var wo=()=>{let t=(0,v.useSelector)(Ue),i=(0,v.useSelector)(ie),s=(0,v.useSelector)(ze),a=(0,v.useDispatch)(),[_,m]=(0,d.useState)(!1),u=(0,v.useSelector)(M),{removeSilencePermission:f,silencePermissions:y}=le({origin:u?.origin}),oe=u?.origin&&u?.origin.replace(/^https?:\/\//iu,""),{setDisconnectUpgrade:U,isNeedShowDisconnectUpgrade:Z}=Je(),te=(0,d.useCallback)(()=>{Z&&(ke.success({title:n("wallet_extension_card_subtitle_disconnect_update")}),U())},[Z,U]),ge=async D=>{O().clearCookie(D),await O().removePermittedAllAccount(D),te(),y.length>0&&f(D),await Ze(a)},xo=()=>{m(!0);try{Promise.all(i.map(re=>(y.length>0&&f(re.origin),O().clearCookie(re.origin)))).catch(()=>{});let D=i.map(async re=>a(Ye(re.origin,s)));Promise.all(D).then(()=>{m(!1),te()}).catch(()=>{m(!1)})}catch{m(!1)}},we=(0,d.useMemo)(()=>(i||[]).filter(D=>D.origin!==u?.origin),[i,u]);return d.default.createElement("div",{className:"connect-site-page__wrapper"},d.default.createElement(je,{title:n("wallet_home_dapp_connection_btn_connect"),closeable:!1}),d.default.createElement(uo,{activeTab:u,removeAccount:ge,domain:oe}),we.length>0&&d.default.createElement(d.default.Fragment,null,d.default.createElement(Me,null),d.default.createElement(c.Box,null,d.default.createElement(c.FlexBox,{align:c.ALIGN.center},d.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:fo.connectedText},n("wallet_extension_header_subtitle_connected_dapp"))),d.default.createElement(eo,{domainHostCount:t,connectedDomains:we,onDisconnect:ge}))),i.length?d.default.createElement(We.FooterActions,null,d.default.createElement(G,{block:!0,category:G.CATEGORY.fill,type:G.TYPE.highlight,size:G.SIZE.lg,onClick:xo,loading:_},n("wallet_extension_withdraw_btn_disconnected"))):null)},Io=(0,d.memo)(wo);export{Io as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "prepub";

//# sourceMappingURL=DAppNetworkManage-XJ552RX2.js.map
